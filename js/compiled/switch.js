if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.PIXI = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
// run the polyfills
require('./polyfill');

var core = module.exports = require('./core');

// add core plugins.
core.extras         = require('./extras');
core.filters        = require('./filters');
core.interaction    = require('./interaction');
core.loaders        = require('./loaders');
core.mesh           = require('./mesh');

// export a premade loader instance
/**
 * A premade instance of the loader that can be used to loader resources.
 *
 * @name loader
 * @memberof PIXI
 * @property {PIXI.loaders.Loader}
 */
core.loader = new core.loaders.Loader();

// mixin the deprecation features.
Object.assign(core, require('./deprecation'));

// Always export pixi globally.
global.PIXI = core;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./core":29,"./deprecation":78,"./extras":85,"./filters":102,"./interaction":117,"./loaders":120,"./mesh":126,"./polyfill":130}],2:[function(require,module,exports){
(function (process){
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
/*jshint onevar: false, indent:4 */
/*global setImmediate: false, setTimeout: false, console: false */
(function () {

    var async = {};

    // global on the server, window in the browser
    var root, previous_async;

    root = this;
    if (root != null) {
      previous_async = root.async;
    }

    async.noConflict = function () {
        root.async = previous_async;
        return async;
    };

    function only_once(fn) {
        var called = false;
        return function() {
            if (called) throw new Error("Callback was already called.");
            called = true;
            fn.apply(root, arguments);
        }
    }

    //// cross-browser compatiblity functions ////

    var _toString = Object.prototype.toString;

    var _isArray = Array.isArray || function (obj) {
        return _toString.call(obj) === '[object Array]';
    };

    var _each = function (arr, iterator) {
        if (arr.forEach) {
            return arr.forEach(iterator);
        }
        for (var i = 0; i < arr.length; i += 1) {
            iterator(arr[i], i, arr);
        }
    };

    var _map = function (arr, iterator) {
        if (arr.map) {
            return arr.map(iterator);
        }
        var results = [];
        _each(arr, function (x, i, a) {
            results.push(iterator(x, i, a));
        });
        return results;
    };

    var _reduce = function (arr, iterator, memo) {
        if (arr.reduce) {
            return arr.reduce(iterator, memo);
        }
        _each(arr, function (x, i, a) {
            memo = iterator(memo, x, i, a);
        });
        return memo;
    };

    var _keys = function (obj) {
        if (Object.keys) {
            return Object.keys(obj);
        }
        var keys = [];
        for (var k in obj) {
            if (obj.hasOwnProperty(k)) {
                keys.push(k);
            }
        }
        return keys;
    };

    //// exported async module functions ////

    //// nextTick implementation with browser-compatible fallback ////
    if (typeof process === 'undefined' || !(process.nextTick)) {
        if (typeof setImmediate === 'function') {
            async.nextTick = function (fn) {
                // not a direct alias for IE10 compatibility
                setImmediate(fn);
            };
            async.setImmediate = async.nextTick;
        }
        else {
            async.nextTick = function (fn) {
                setTimeout(fn, 0);
            };
            async.setImmediate = async.nextTick;
        }
    }
    else {
        async.nextTick = process.nextTick;
        if (typeof setImmediate !== 'undefined') {
            async.setImmediate = function (fn) {
              // not a direct alias for IE10 compatibility
              setImmediate(fn);
            };
        }
        else {
            async.setImmediate = async.nextTick;
        }
    }

    async.each = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        _each(arr, function (x) {
            iterator(x, only_once(done) );
        });
        function done(err) {
          if (err) {
              callback(err);
              callback = function () {};
          }
          else {
              completed += 1;
              if (completed >= arr.length) {
                  callback();
              }
          }
        }
    };
    async.forEach = async.each;

    async.eachSeries = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        var iterate = function () {
            iterator(arr[completed], function (err) {
                if (err) {
                    callback(err);
                    callback = function () {};
                }
                else {
                    completed += 1;
                    if (completed >= arr.length) {
                        callback();
                    }
                    else {
                        iterate();
                    }
                }
            });
        };
        iterate();
    };
    async.forEachSeries = async.eachSeries;

    async.eachLimit = function (arr, limit, iterator, callback) {
        var fn = _eachLimit(limit);
        fn.apply(null, [arr, iterator, callback]);
    };
    async.forEachLimit = async.eachLimit;

    var _eachLimit = function (limit) {

        return function (arr, iterator, callback) {
            callback = callback || function () {};
            if (!arr.length || limit <= 0) {
                return callback();
            }
            var completed = 0;
            var started = 0;
            var running = 0;

            (function replenish () {
                if (completed >= arr.length) {
                    return callback();
                }

                while (running < limit && started < arr.length) {
                    started += 1;
                    running += 1;
                    iterator(arr[started - 1], function (err) {
                        if (err) {
                            callback(err);
                            callback = function () {};
                        }
                        else {
                            completed += 1;
                            running -= 1;
                            if (completed >= arr.length) {
                                callback();
                            }
                            else {
                                replenish();
                            }
                        }
                    });
                }
            })();
        };
    };


    var doParallel = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.each].concat(args));
        };
    };
    var doParallelLimit = function(limit, fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [_eachLimit(limit)].concat(args));
        };
    };
    var doSeries = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.eachSeries].concat(args));
        };
    };


    var _asyncMap = function (eachfn, arr, iterator, callback) {
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        if (!callback) {
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err) {
                    callback(err);
                });
            });
        } else {
            var results = [];
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err, v) {
                    results[x.index] = v;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };
    async.map = doParallel(_asyncMap);
    async.mapSeries = doSeries(_asyncMap);
    async.mapLimit = function (arr, limit, iterator, callback) {
        return _mapLimit(limit)(arr, iterator, callback);
    };

    var _mapLimit = function(limit) {
        return doParallelLimit(limit, _asyncMap);
    };

    // reduce only has a series version, as doing reduce in parallel won't
    // work in many situations.
    async.reduce = function (arr, memo, iterator, callback) {
        async.eachSeries(arr, function (x, callback) {
            iterator(memo, x, function (err, v) {
                memo = v;
                callback(err);
            });
        }, function (err) {
            callback(err, memo);
        });
    };
    // inject alias
    async.inject = async.reduce;
    // foldl alias
    async.foldl = async.reduce;

    async.reduceRight = function (arr, memo, iterator, callback) {
        var reversed = _map(arr, function (x) {
            return x;
        }).reverse();
        async.reduce(reversed, memo, iterator, callback);
    };
    // foldr alias
    async.foldr = async.reduceRight;

    var _filter = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.filter = doParallel(_filter);
    async.filterSeries = doSeries(_filter);
    // select alias
    async.select = async.filter;
    async.selectSeries = async.filterSeries;

    var _reject = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (!v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.reject = doParallel(_reject);
    async.rejectSeries = doSeries(_reject);

    var _detect = function (eachfn, arr, iterator, main_callback) {
        eachfn(arr, function (x, callback) {
            iterator(x, function (result) {
                if (result) {
                    main_callback(x);
                    main_callback = function () {};
                }
                else {
                    callback();
                }
            });
        }, function (err) {
            main_callback();
        });
    };
    async.detect = doParallel(_detect);
    async.detectSeries = doSeries(_detect);

    async.some = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (v) {
                    main_callback(true);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(false);
        });
    };
    // any alias
    async.any = async.some;

    async.every = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (!v) {
                    main_callback(false);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(true);
        });
    };
    // all alias
    async.all = async.every;

    async.sortBy = function (arr, iterator, callback) {
        async.map(arr, function (x, callback) {
            iterator(x, function (err, criteria) {
                if (err) {
                    callback(err);
                }
                else {
                    callback(null, {value: x, criteria: criteria});
                }
            });
        }, function (err, results) {
            if (err) {
                return callback(err);
            }
            else {
                var fn = function (left, right) {
                    var a = left.criteria, b = right.criteria;
                    return a < b ? -1 : a > b ? 1 : 0;
                };
                callback(null, _map(results.sort(fn), function (x) {
                    return x.value;
                }));
            }
        });
    };

    async.auto = function (tasks, callback) {
        callback = callback || function () {};
        var keys = _keys(tasks);
        var remainingTasks = keys.length
        if (!remainingTasks) {
            return callback();
        }

        var results = {};

        var listeners = [];
        var addListener = function (fn) {
            listeners.unshift(fn);
        };
        var removeListener = function (fn) {
            for (var i = 0; i < listeners.length; i += 1) {
                if (listeners[i] === fn) {
                    listeners.splice(i, 1);
                    return;
                }
            }
        };
        var taskComplete = function () {
            remainingTasks--
            _each(listeners.slice(0), function (fn) {
                fn();
            });
        };

        addListener(function () {
            if (!remainingTasks) {
                var theCallback = callback;
                // prevent final callback from calling itself if it errors
                callback = function () {};

                theCallback(null, results);
            }
        });

        _each(keys, function (k) {
            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];
            var taskCallback = function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length <= 1) {
                    args = args[0];
                }
                if (err) {
                    var safeResults = {};
                    _each(_keys(results), function(rkey) {
                        safeResults[rkey] = results[rkey];
                    });
                    safeResults[k] = args;
                    callback(err, safeResults);
                    // stop subsequent errors hitting callback multiple times
                    callback = function () {};
                }
                else {
                    results[k] = args;
                    async.setImmediate(taskComplete);
                }
            };
            var requires = task.slice(0, Math.abs(task.length - 1)) || [];
            var ready = function () {
                return _reduce(requires, function (a, x) {
                    return (a && results.hasOwnProperty(x));
                }, true) && !results.hasOwnProperty(k);
            };
            if (ready()) {
                task[task.length - 1](taskCallback, results);
            }
            else {
                var listener = function () {
                    if (ready()) {
                        removeListener(listener);
                        task[task.length - 1](taskCallback, results);
                    }
                };
                addListener(listener);
            }
        });
    };

    async.retry = function(times, task, callback) {
        var DEFAULT_TIMES = 5;
        var attempts = [];
        // Use defaults if times not passed
        if (typeof times === 'function') {
            callback = task;
            task = times;
            times = DEFAULT_TIMES;
        }
        // Make sure times is a number
        times = parseInt(times, 10) || DEFAULT_TIMES;
        var wrappedTask = function(wrappedCallback, wrappedResults) {
            var retryAttempt = function(task, finalAttempt) {
                return function(seriesCallback) {
                    task(function(err, result){
                        seriesCallback(!err || finalAttempt, {err: err, result: result});
                    }, wrappedResults);
                };
            };
            while (times) {
                attempts.push(retryAttempt(task, !(times-=1)));
            }
            async.series(attempts, function(done, data){
                data = data[data.length - 1];
                (wrappedCallback || callback)(data.err, data.result);
            });
        }
        // If a callback is passed, run this as a controll flow
        return callback ? wrappedTask() : wrappedTask
    };

    async.waterfall = function (tasks, callback) {
        callback = callback || function () {};
        if (!_isArray(tasks)) {
          var err = new Error('First argument to waterfall must be an array of functions');
          return callback(err);
        }
        if (!tasks.length) {
            return callback();
        }
        var wrapIterator = function (iterator) {
            return function (err) {
                if (err) {
                    callback.apply(null, arguments);
                    callback = function () {};
                }
                else {
                    var args = Array.prototype.slice.call(arguments, 1);
                    var next = iterator.next();
                    if (next) {
                        args.push(wrapIterator(next));
                    }
                    else {
                        args.push(callback);
                    }
                    async.setImmediate(function () {
                        iterator.apply(null, args);
                    });
                }
            };
        };
        wrapIterator(async.iterator(tasks))();
    };

    var _parallel = function(eachfn, tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            eachfn.map(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            eachfn.each(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.parallel = function (tasks, callback) {
        _parallel({ map: async.map, each: async.each }, tasks, callback);
    };

    async.parallelLimit = function(tasks, limit, callback) {
        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);
    };

    async.series = function (tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            async.mapSeries(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            async.eachSeries(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.iterator = function (tasks) {
        var makeCallback = function (index) {
            var fn = function () {
                if (tasks.length) {
                    tasks[index].apply(null, arguments);
                }
                return fn.next();
            };
            fn.next = function () {
                return (index < tasks.length - 1) ? makeCallback(index + 1): null;
            };
            return fn;
        };
        return makeCallback(0);
    };

    async.apply = function (fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        return function () {
            return fn.apply(
                null, args.concat(Array.prototype.slice.call(arguments))
            );
        };
    };

    var _concat = function (eachfn, arr, fn, callback) {
        var r = [];
        eachfn(arr, function (x, cb) {
            fn(x, function (err, y) {
                r = r.concat(y || []);
                cb(err);
            });
        }, function (err) {
            callback(err, r);
        });
    };
    async.concat = doParallel(_concat);
    async.concatSeries = doSeries(_concat);

    async.whilst = function (test, iterator, callback) {
        if (test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.whilst(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doWhilst = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (test.apply(null, args)) {
                async.doWhilst(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.until = function (test, iterator, callback) {
        if (!test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.until(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doUntil = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (!test.apply(null, args)) {
                async.doUntil(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.queue = function (worker, concurrency) {
        if (concurrency === undefined) {
            concurrency = 1;
        }
        function _insert(q, data, pos, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  callback: typeof callback === 'function' ? callback : null
              };

              if (pos) {
                q.tasks.unshift(item);
              } else {
                q.tasks.push(item);
              }

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }

        var workers = 0;
        var q = {
            tasks: [],
            concurrency: concurrency,
            saturated: null,
            empty: null,
            drain: null,
            started: false,
            paused: false,
            push: function (data, callback) {
              _insert(q, data, false, callback);
            },
            kill: function () {
              q.drain = null;
              q.tasks = [];
            },
            unshift: function (data, callback) {
              _insert(q, data, true, callback);
            },
            process: function () {
                if (!q.paused && workers < q.concurrency && q.tasks.length) {
                    var task = q.tasks.shift();
                    if (q.empty && q.tasks.length === 0) {
                        q.empty();
                    }
                    workers += 1;
                    var next = function () {
                        workers -= 1;
                        if (task.callback) {
                            task.callback.apply(task, arguments);
                        }
                        if (q.drain && q.tasks.length + workers === 0) {
                            q.drain();
                        }
                        q.process();
                    };
                    var cb = only_once(next);
                    worker(task.data, cb);
                }
            },
            length: function () {
                return q.tasks.length;
            },
            running: function () {
                return workers;
            },
            idle: function() {
                return q.tasks.length + workers === 0;
            },
            pause: function () {
                if (q.paused === true) { return; }
                q.paused = true;
                q.process();
            },
            resume: function () {
                if (q.paused === false) { return; }
                q.paused = false;
                q.process();
            }
        };
        return q;
    };
    
    async.priorityQueue = function (worker, concurrency) {
        
        function _compareTasks(a, b){
          return a.priority - b.priority;
        };
        
        function _binarySearch(sequence, item, compare) {
          var beg = -1,
              end = sequence.length - 1;
          while (beg < end) {
            var mid = beg + ((end - beg + 1) >>> 1);
            if (compare(item, sequence[mid]) >= 0) {
              beg = mid;
            } else {
              end = mid - 1;
            }
          }
          return beg;
        }
        
        function _insert(q, data, priority, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  priority: priority,
                  callback: typeof callback === 'function' ? callback : null
              };
              
              q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }
        
        // Start with a normal queue
        var q = async.queue(worker, concurrency);
        
        // Override push to accept second parameter representing priority
        q.push = function (data, priority, callback) {
          _insert(q, data, priority, callback);
        };
        
        // Remove unshift function
        delete q.unshift;

        return q;
    };

    async.cargo = function (worker, payload) {
        var working     = false,
            tasks       = [];

        var cargo = {
            tasks: tasks,
            payload: payload,
            saturated: null,
            empty: null,
            drain: null,
            drained: true,
            push: function (data, callback) {
                if (!_isArray(data)) {
                    data = [data];
                }
                _each(data, function(task) {
                    tasks.push({
                        data: task,
                        callback: typeof callback === 'function' ? callback : null
                    });
                    cargo.drained = false;
                    if (cargo.saturated && tasks.length === payload) {
                        cargo.saturated();
                    }
                });
                async.setImmediate(cargo.process);
            },
            process: function process() {
                if (working) return;
                if (tasks.length === 0) {
                    if(cargo.drain && !cargo.drained) cargo.drain();
                    cargo.drained = true;
                    return;
                }

                var ts = typeof payload === 'number'
                            ? tasks.splice(0, payload)
                            : tasks.splice(0, tasks.length);

                var ds = _map(ts, function (task) {
                    return task.data;
                });

                if(cargo.empty) cargo.empty();
                working = true;
                worker(ds, function () {
                    working = false;

                    var args = arguments;
                    _each(ts, function (data) {
                        if (data.callback) {
                            data.callback.apply(null, args);
                        }
                    });

                    process();
                });
            },
            length: function () {
                return tasks.length;
            },
            running: function () {
                return working;
            }
        };
        return cargo;
    };

    var _console_fn = function (name) {
        return function (fn) {
            var args = Array.prototype.slice.call(arguments, 1);
            fn.apply(null, args.concat([function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (typeof console !== 'undefined') {
                    if (err) {
                        if (console.error) {
                            console.error(err);
                        }
                    }
                    else if (console[name]) {
                        _each(args, function (x) {
                            console[name](x);
                        });
                    }
                }
            }]));
        };
    };
    async.log = _console_fn('log');
    async.dir = _console_fn('dir');
    /*async.info = _console_fn('info');
    async.warn = _console_fn('warn');
    async.error = _console_fn('error');*/

    async.memoize = function (fn, hasher) {
        var memo = {};
        var queues = {};
        hasher = hasher || function (x) {
            return x;
        };
        var memoized = function () {
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            var key = hasher.apply(null, args);
            if (key in memo) {
                async.nextTick(function () {
                    callback.apply(null, memo[key]);
                });
            }
            else if (key in queues) {
                queues[key].push(callback);
            }
            else {
                queues[key] = [callback];
                fn.apply(null, args.concat([function () {
                    memo[key] = arguments;
                    var q = queues[key];
                    delete queues[key];
                    for (var i = 0, l = q.length; i < l; i++) {
                      q[i].apply(null, arguments);
                    }
                }]));
            }
        };
        memoized.memo = memo;
        memoized.unmemoized = fn;
        return memoized;
    };

    async.unmemoize = function (fn) {
      return function () {
        return (fn.unmemoized || fn).apply(null, arguments);
      };
    };

    async.times = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.map(counter, iterator, callback);
    };

    async.timesSeries = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.mapSeries(counter, iterator, callback);
    };

    async.seq = function (/* functions... */) {
        var fns = arguments;
        return function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([function () {
                    var err = arguments[0];
                    var nextargs = Array.prototype.slice.call(arguments, 1);
                    cb(err, nextargs);
                }]))
            },
            function (err, results) {
                callback.apply(that, [err].concat(results));
            });
        };
    };

    async.compose = function (/* functions... */) {
      return async.seq.apply(null, Array.prototype.reverse.call(arguments));
    };

    var _applyEach = function (eachfn, fns /*args...*/) {
        var go = function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            return eachfn(fns, function (fn, cb) {
                fn.apply(that, args.concat([cb]));
            },
            callback);
        };
        if (arguments.length > 2) {
            var args = Array.prototype.slice.call(arguments, 2);
            return go.apply(this, args);
        }
        else {
            return go;
        }
    };
    async.applyEach = doParallel(_applyEach);
    async.applyEachSeries = doSeries(_applyEach);

    async.forever = function (fn, callback) {
        function next(err) {
            if (err) {
                if (callback) {
                    return callback(err);
                }
                throw err;
            }
            fn(next);
        }
        next();
    };

    // Node.js
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = async;
    }
    // AMD / RequireJS
    else if (typeof define !== 'undefined' && define.amd) {
        define([], function () {
            return async;
        });
    }
    // included directly via <script> tag
    else {
        root.async = async;
    }

}());

}).call(this,require('_process'))

},{"_process":4}],3:[function(require,module,exports){
(function (process){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// Split a filename into [root, dir, basename, ext], unix version
// 'root' is just a slash, or nothing.
var splitPathRe =
    /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function(path) {
  var result = splitPath(path),
      root = result[0],
      dir = result[1];

  if (!root && !dir) {
    // No dirname whatsoever
    return '.';
  }

  if (dir) {
    // It has a dirname, strip trailing slash
    dir = dir.substr(0, dir.length - 1);
  }

  return root + dir;
};


exports.basename = function(path, ext) {
  var f = splitPath(path)[2];
  // TODO: make this comparison case-insensitive on windows?
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};


exports.extname = function(path) {
  return splitPath(path)[3];
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":4}],4:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;

function drainQueue() {
    if (draining) {
        return;
    }
    draining = true;
    var currentQueue;
    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        var i = -1;
        while (++i < len) {
            currentQueue[i]();
        }
        len = queue.length;
    }
    draining = false;
}
process.nextTick = function (fun) {
    queue.push(fun);
    if (!draining) {
        setTimeout(drainQueue, 0);
    }
};

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],5:[function(require,module,exports){
(function (global){
/*! http://mths.be/punycode v1.2.4 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports = typeof exports == 'object' && exports;
	var freeModule = typeof module == 'object' && module &&
		module.exports == freeExports && module;
	var freeGlobal = typeof global == 'object' && global;
	if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^ -~]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /\x2E|\u3002|\uFF0E|\uFF61/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		while (length--) {
			array[length] = fn(array[length]);
		}
		return array;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings.
	 * @private
	 * @param {String} domain The domain name.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		return map(string.split(regexSeparators), fn).join('.');
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <http://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * http://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols to a Punycode string of ASCII-only
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name to Unicode. Only the
	 * Punycoded parts of the domain name will be converted, i.e. it doesn't
	 * matter if you call it on a string that has already been converted to
	 * Unicode.
	 * @memberOf punycode
	 * @param {String} domain The Punycode domain name to convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(domain) {
		return mapDomain(domain, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name to Punycode. Only the
	 * non-ASCII parts of the domain name will be converted, i.e. it doesn't
	 * matter if you call it with a domain that's already in ASCII.
	 * @memberOf punycode
	 * @param {String} domain The domain name to convert, as a Unicode string.
	 * @returns {String} The Punycode representation of the given domain name.
	 */
	function toASCII(domain) {
		return mapDomain(domain, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.2.4',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <http://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		typeof define == 'function' &&
		typeof define.amd == 'object' &&
		define.amd
	) {
		define('punycode', function() {
			return punycode;
		});
	} else if (freeExports && !freeExports.nodeType) {
		if (freeModule) { // in Node.js or RingoJS v0.8.0+
			freeModule.exports = punycode;
		} else { // in Narwhal or RingoJS v0.7.0-
			for (key in punycode) {
				punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
			}
		}
	} else { // in Rhino or a web browser
		root.punycode = punycode;
	}

}(this));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

'use strict';

// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

},{}],7:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

'use strict';

var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};

},{}],8:[function(require,module,exports){
'use strict';

exports.decode = exports.parse = require('./decode');
exports.encode = exports.stringify = require('./encode');

},{"./decode":6,"./encode":7}],9:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var punycode = require('punycode');

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = require('querystring');

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a puny coded representation of "domain".
      // It only converts the part of the domain name that
      // has non ASCII characters. I.e. it dosent matter if
      // you call it with a domain that already is in ASCII.
      var domainArray = this.hostname.split('.');
      var newOut = [];
      for (var i = 0; i < domainArray.length; ++i) {
        var s = domainArray[i];
        newOut.push(s.match(/[^A-Za-z0-9_-]/) ?
            'xn--' + punycode.encode(s) : s);
      }
      this.hostname = newOut.join('.');
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  Object.keys(this).forEach(function(k) {
    result[k] = this[k];
  }, this);

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    Object.keys(relative).forEach(function(k) {
      if (k !== 'protocol')
        result[k] = relative[k];
    });

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      Object.keys(relative).forEach(function(k) {
        result[k] = relative[k];
      });
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especialy happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!isNull(result.pathname) || !isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host) && (last === '.' || last === '..') ||
      last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last == '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especialy happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!isNull(result.pathname) || !isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};

function isString(arg) {
  return typeof arg === "string";
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isNull(arg) {
  return arg === null;
}
function isNullOrUndefined(arg) {
  return  arg == null;
}

},{"punycode":5,"querystring":8}],10:[function(require,module,exports){
'use strict';

module.exports = earcut;

function earcut(data, holeIndices, dim) {

    dim = dim || 2;

    var hasHoles = holeIndices && holeIndices.length,
        outerLen = hasHoles ? holeIndices[0] * dim : data.length,
        outerNode = filterPoints(data, linkedList(data, 0, outerLen, dim, true)),
        triangles = [];

    if (!outerNode) return triangles;

    var minX, minY, maxX, maxY, x, y, size;

    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);

    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox
    if (data.length > 80 * dim) {
        minX = maxX = data[0];
        minY = maxY = data[1];

        for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX) minX = x;
            if (y < minY) minY = y;
            if (x > maxX) maxX = x;
            if (y > maxY) maxY = y;
        }

        // minX, minY and size are later used to transform coords into integers for z-order calculation
        size = Math.max(maxX - minX, maxY - minY);
    }

    earcutLinked(data, outerNode, triangles, dim, minX, minY, size);

    return triangles;
}

// create a circular doubly linked list from polygon points in the specified winding order
function linkedList(data, start, end, dim, clockwise) {
    var sum = 0,
        i, j, last;

    // calculate original winding order of a polygon ring
    for (i = start, j = end - dim; i < end; i += dim) {
        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
        j = i;
    }

    // link points into circular doubly-linked list in the specified winding order
    if (clockwise === (sum > 0)) {
        for (i = start; i < end; i += dim) last = insertNode(i, last);
    } else {
        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, last);
    }

    return last;
}

// eliminate colinear or duplicate points
function filterPoints(data, start, end) {
    if (!end) end = start;

    var node = start,
        again;
    do {
        again = false;

        if (equals(data, node.i, node.next.i) || orient(data, node.prev.i, node.i, node.next.i) === 0) {

            // remove node
            node.prev.next = node.next;
            node.next.prev = node.prev;

            if (node.prevZ) node.prevZ.nextZ = node.nextZ;
            if (node.nextZ) node.nextZ.prevZ = node.prevZ;

            node = end = node.prev;

            if (node === node.next) return null;
            again = true;

        } else {
            node = node.next;
        }
    } while (again || node !== end);

    return end;
}

// main ear slicing loop which triangulates a polygon (given as a linked list)
function earcutLinked(data, ear, triangles, dim, minX, minY, size, pass) {
    if (!ear) return;

    // interlink polygon nodes in z-order
    if (!pass && minX !== undefined) indexCurve(data, ear, minX, minY, size);

    var stop = ear,
        prev, next;

    // iterate through ears, slicing them one by one
    while (ear.prev !== ear.next) {
        prev = ear.prev;
        next = ear.next;

        if (isEar(data, ear, minX, minY, size)) {
            // cut off the triangle
            triangles.push(prev.i / dim);
            triangles.push(ear.i / dim);
            triangles.push(next.i / dim);

            // remove ear node
            next.prev = prev;
            prev.next = next;

            if (ear.prevZ) ear.prevZ.nextZ = ear.nextZ;
            if (ear.nextZ) ear.nextZ.prevZ = ear.prevZ;

            // skipping the next vertice leads to less sliver triangles
            ear = next.next;
            stop = next.next;

            continue;
        }

        ear = next;

        // if we looped through the whole remaining polygon and can't find any more ears
        if (ear === stop) {
            // try filtering points and slicing again
            if (!pass) {
                earcutLinked(data, filterPoints(data, ear), triangles, dim, minX, minY, size, 1);

            // if this didn't work, try curing all small self-intersections locally
            } else if (pass === 1) {
                ear = cureLocalIntersections(data, ear, triangles, dim);
                earcutLinked(data, ear, triangles, dim, minX, minY, size, 2);

            // as a last resort, try splitting the remaining polygon into two
            } else if (pass === 2) {
                splitEarcut(data, ear, triangles, dim, minX, minY, size);
            }

            break;
        }
    }
}

// check whether a polygon node forms a valid ear with adjacent nodes
function isEar(data, ear, minX, minY, size) {

    var a = ear.prev.i,
        b = ear.i,
        c = ear.next.i,

        ax = data[a], ay = data[a + 1],
        bx = data[b], by = data[b + 1],
        cx = data[c], cy = data[c + 1],

        abd = ax * by - ay * bx,
        acd = ax * cy - ay * cx,
        cbd = cx * by - cy * bx,
        A = abd - acd - cbd;

    if (A <= 0) return false; // reflex, can't be an ear

    // now make sure we don't have other points inside the potential ear;
    // the code below is a bit verbose and repetitive but this is done for performance

    var cay = cy - ay,
        acx = ax - cx,
        aby = ay - by,
        bax = bx - ax,
        i, px, py, s, t, k, node;

    // if we use z-order curve hashing, iterate through the curve
    if (minX !== undefined) {

        // triangle bbox; min & max are calculated like this for speed
        var minTX = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),
            minTY = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),
            maxTX = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),
            maxTY = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy),

            // z-order range for the current triangle bbox;
            minZ = zOrder(minTX, minTY, minX, minY, size),
            maxZ = zOrder(maxTX, maxTY, minX, minY, size);

        // first look for points inside the triangle in increasing z-order
        node = ear.nextZ;

        while (node && node.z <= maxZ) {
            i = node.i;
            node = node.nextZ;
            if (i === a || i === c) continue;

            px = data[i];
            py = data[i + 1];

            s = cay * px + acx * py - acd;
            if (s >= 0) {
                t = aby * px + bax * py + abd;
                if (t >= 0) {
                    k = A - s - t;
                    if ((k >= 0) && ((s && t) || (s && k) || (t && k))) return false;
                }
            }
        }

        // then look for points in decreasing z-order
        node = ear.prevZ;

        while (node && node.z >= minZ) {
            i = node.i;
            node = node.prevZ;
            if (i === a || i === c) continue;

            px = data[i];
            py = data[i + 1];

            s = cay * px + acx * py - acd;
            if (s >= 0) {
                t = aby * px + bax * py + abd;
                if (t >= 0) {
                    k = A - s - t;
                    if ((k >= 0) && ((s && t) || (s && k) || (t && k))) return false;
                }
            }
        }

    // if we don't use z-order curve hash, simply iterate through all other points
    } else {
        node = ear.next.next;

        while (node !== ear.prev) {
            i = node.i;
            node = node.next;

            px = data[i];
            py = data[i + 1];

            s = cay * px + acx * py - acd;
            if (s >= 0) {
                t = aby * px + bax * py + abd;
                if (t >= 0) {
                    k = A - s - t;
                    if ((k >= 0) && ((s && t) || (s && k) || (t && k))) return false;
                }
            }
        }
    }

    return true;
}

// go through all polygon nodes and cure small local self-intersections
function cureLocalIntersections(data, start, triangles, dim) {
    var node = start;
    do {
        var a = node.prev,
            b = node.next.next;

        // a self-intersection where edge (v[i-1],v[i]) intersects (v[i+1],v[i+2])
        if (a.i !== b.i && intersects(data, a.i, node.i, node.next.i, b.i) &&
                locallyInside(data, a, b) && locallyInside(data, b, a)) {

            triangles.push(a.i / dim);
            triangles.push(node.i / dim);
            triangles.push(b.i / dim);

            // remove two nodes involved
            a.next = b;
            b.prev = a;

            var az = node.prevZ,
                bz = node.nextZ && node.nextZ.nextZ;

            if (az) az.nextZ = bz;
            if (bz) bz.prevZ = az;

            node = start = b;
        }
        node = node.next;
    } while (node !== start);

    return node;
}

// try splitting polygon into two and triangulate them independently
function splitEarcut(data, start, triangles, dim, minX, minY, size) {
    // look for a valid diagonal that divides the polygon into two
    var a = start;
    do {
        var b = a.next.next;
        while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(data, a, b)) {
                // split the polygon in two by the diagonal
                var c = splitPolygon(a, b);

                // filter colinear points around the cuts
                a = filterPoints(data, a, a.next);
                c = filterPoints(data, c, c.next);

                // run earcut on each half
                earcutLinked(data, a, triangles, dim, minX, minY, size);
                earcutLinked(data, c, triangles, dim, minX, minY, size);
                return;
            }
            b = b.next;
        }
        a = a.next;
    } while (a !== start);
}

// link every hole into the outer loop, producing a single-ring polygon without holes
function eliminateHoles(data, holeIndices, outerNode, dim) {
    var queue = [],
        i, len, start, end, list;

    for (i = 0, len = holeIndices.length; i < len; i++) {
        start = holeIndices[i] * dim;
        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
        list = filterPoints(data, linkedList(data, start, end, dim, false));
        if (list) queue.push(getLeftmost(data, list));
    }

    queue.sort(function (a, b) {
        return data[a.i] - data[b.i];
    });

    // process holes from left to right
    for (i = 0; i < queue.length; i++) {
        eliminateHole(data, queue[i], outerNode);
        outerNode = filterPoints(data, outerNode, outerNode.next);
    }

    return outerNode;
}

// find a bridge between vertices that connects hole with an outer ring and and link it
function eliminateHole(data, holeNode, outerNode) {
    outerNode = findHoleBridge(data, holeNode, outerNode);
    if (outerNode) {
        var b = splitPolygon(outerNode, holeNode);
        filterPoints(data, b, b.next);
    }
}

// David Eberly's algorithm for finding a bridge between hole and outer polygon
function findHoleBridge(data, holeNode, outerNode) {
    var node = outerNode,
        i = holeNode.i,
        px = data[i],
        py = data[i + 1],
        qMax = -Infinity,
        mNode, a, b;

    // find a segment intersected by a ray from the hole's leftmost point to the left;
    // segment's endpoint with lesser x will be potential connection point
    do {
        a = node.i;
        b = node.next.i;

        if (py <= data[a + 1] && py >= data[b + 1]) {
            var qx = data[a] + (py - data[a + 1]) * (data[b] - data[a]) / (data[b + 1] - data[a + 1]);
            if (qx <= px && qx > qMax) {
                qMax = qx;
                mNode = data[a] < data[b] ? node : node.next;
            }
        }
        node = node.next;
    } while (node !== outerNode);

    if (!mNode) return null;

    // look for points strictly inside the triangle of hole point, segment intersection and endpoint;
    // if there are no points found, we have a valid connection;
    // otherwise choose the point of the minimum angle with the ray as connection point

    var bx = data[mNode.i],
        by = data[mNode.i + 1],
        pbd = px * by - py * bx,
        pcd = px * py - py * qMax,
        cpy = py - py,
        pcx = px - qMax,
        pby = py - by,
        bpx = bx - px,
        A = pbd - pcd - (qMax * by - py * bx),
        sign = A <= 0 ? -1 : 1,
        stop = mNode,
        tanMin = Infinity,
        mx, my, amx, s, t, tan;

    node = mNode.next;

    while (node !== stop) {

        mx = data[node.i];
        my = data[node.i + 1];
        amx = px - mx;

        if (amx >= 0 && mx >= bx) {
            s = (cpy * mx + pcx * my - pcd) * sign;
            if (s >= 0) {
                t = (pby * mx + bpx * my + pbd) * sign;

                if (t >= 0 && A * sign - s - t >= 0) {
                    tan = Math.abs(py - my) / amx; // tangential
                    if (tan < tanMin && locallyInside(data, node, holeNode)) {
                        mNode = node;
                        tanMin = tan;
                    }
                }
            }
        }

        node = node.next;
    }

    return mNode;
}

// interlink polygon nodes in z-order
function indexCurve(data, start, minX, minY, size) {
    var node = start;

    do {
        if (node.z === null) node.z = zOrder(data[node.i], data[node.i + 1], minX, minY, size);
        node.prevZ = node.prev;
        node.nextZ = node.next;
        node = node.next;
    } while (node !== start);

    node.prevZ.nextZ = null;
    node.prevZ = null;

    sortLinked(node);
}

// Simon Tatham's linked list merge sort algorithm
// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html
function sortLinked(list) {
    var i, p, q, e, tail, numMerges, pSize, qSize,
        inSize = 1;

    do {
        p = list;
        list = null;
        tail = null;
        numMerges = 0;

        while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
                pSize++;
                q = q.nextZ;
                if (!q) break;
            }

            qSize = inSize;

            while (pSize > 0 || (qSize > 0 && q)) {

                if (pSize === 0) {
                    e = q;
                    q = q.nextZ;
                    qSize--;
                } else if (qSize === 0 || !q) {
                    e = p;
                    p = p.nextZ;
                    pSize--;
                } else if (p.z <= q.z) {
                    e = p;
                    p = p.nextZ;
                    pSize--;
                } else {
                    e = q;
                    q = q.nextZ;
                    qSize--;
                }

                if (tail) tail.nextZ = e;
                else list = e;

                e.prevZ = tail;
                tail = e;
            }

            p = q;
        }

        tail.nextZ = null;
        inSize *= 2;

    } while (numMerges > 1);

    return list;
}

// z-order of a point given coords and size of the data bounding box
function zOrder(x, y, minX, minY, size) {
    // coords are transformed into (0..1000) integer range
    x = 1000 * (x - minX) / size;
    x = (x | (x << 8)) & 0x00FF00FF;
    x = (x | (x << 4)) & 0x0F0F0F0F;
    x = (x | (x << 2)) & 0x33333333;
    x = (x | (x << 1)) & 0x55555555;

    y = 1000 * (y - minY) / size;
    y = (y | (y << 8)) & 0x00FF00FF;
    y = (y | (y << 4)) & 0x0F0F0F0F;
    y = (y | (y << 2)) & 0x33333333;
    y = (y | (y << 1)) & 0x55555555;

    return x | (y << 1);
}

// find the leftmost node of a polygon ring
function getLeftmost(data, start) {
    var node = start,
        leftmost = start;
    do {
        if (data[node.i] < data[leftmost.i]) leftmost = node;
        node = node.next;
    } while (node !== start);

    return leftmost;
}

// check if a diagonal between two polygon nodes is valid (lies in polygon interior)
function isValidDiagonal(data, a, b) {
    return !intersectsPolygon(data, a, a.i, b.i) &&
           locallyInside(data, a, b) && locallyInside(data, b, a) &&
           middleInside(data, a, a.i, b.i);
}

// winding order of triangle formed by 3 given points
function orient(data, p, q, r) {
    var o = (data[q + 1] - data[p + 1]) * (data[r] - data[q]) - (data[q] - data[p]) * (data[r + 1] - data[q + 1]);
    return o > 0 ? 1 :
           o < 0 ? -1 : 0;
}

// check if two points are equal
function equals(data, p1, p2) {
    return data[p1] === data[p2] && data[p1 + 1] === data[p2 + 1];
}

// check if two segments intersect
function intersects(data, p1, q1, p2, q2) {
    return orient(data, p1, q1, p2) !== orient(data, p1, q1, q2) &&
           orient(data, p2, q2, p1) !== orient(data, p2, q2, q1);
}

// check if a polygon diagonal intersects any polygon segments
function intersectsPolygon(data, start, a, b) {
    var node = start;
    do {
        var p1 = node.i,
            p2 = node.next.i;

        if (p1 !== a && p2 !== a && p1 !== b && p2 !== b && intersects(data, p1, p2, a, b)) return true;

        node = node.next;
    } while (node !== start);

    return false;
}

// check if a polygon diagonal is locally inside the polygon
function locallyInside(data, a, b) {
    return orient(data, a.prev.i, a.i, a.next.i) === -1 ?
        orient(data, a.i, b.i, a.next.i) !== -1 && orient(data, a.i, a.prev.i, b.i) !== -1 :
        orient(data, a.i, b.i, a.prev.i) === -1 || orient(data, a.i, a.next.i, b.i) === -1;
}

// check if the middle point of a polygon diagonal is inside the polygon
function middleInside(data, start, a, b) {
    var node = start,
        inside = false,
        px = (data[a] + data[b]) / 2,
        py = (data[a + 1] + data[b + 1]) / 2;
    do {
        var p1 = node.i,
            p2 = node.next.i;

        if (((data[p1 + 1] > py) !== (data[p2 + 1] > py)) &&
            (px < (data[p2] - data[p1]) * (py - data[p1 + 1]) / (data[p2 + 1] - data[p1 + 1]) + data[p1]))
                inside = !inside;

        node = node.next;
    } while (node !== start);

    return inside;
}

// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;
// if one belongs to the outer ring and another to a hole, it merges it into a single ring
function splitPolygon(a, b) {
    var a2 = new Node(a.i),
        b2 = new Node(b.i),
        an = a.next,
        bp = b.prev;

    a.next = b;
    b.prev = a;

    a2.next = an;
    an.prev = a2;

    b2.next = a2;
    a2.prev = b2;

    bp.next = b2;
    b2.prev = bp;

    return b2;
}

// create a node and optionally link it with previous one (in a circular doubly linked list)
function insertNode(i, last) {
    var node = new Node(i);

    if (!last) {
        node.prev = node;
        node.next = node;

    } else {
        node.next = last.next;
        node.prev = last;
        last.next.prev = node;
        last.next = node;
    }
    return node;
}

function Node(i) {
    // vertex coordinates
    this.i = i;

    // previous and next vertice nodes in a polygon ring
    this.prev = null;
    this.next = null;

    // z-order curve value
    this.z = null;

    // previous and next nodes in z-order
    this.prevZ = null;
    this.nextZ = null;
}

},{}],11:[function(require,module,exports){
'use strict';

//
// We store our EE objects in a plain object whose properties are event names.
// If `Object.create(null)` is not supported we prefix the event names with a
// `~` to make sure that the built-in object properties are not overridden or
// used as an attack vector.
// We also assume that `Object.create(null)` is available when the event name
// is an ES6 Symbol.
//
var prefix = typeof Object.create !== 'function' ? '~' : false;

/**
 * Representation of a single EventEmitter function.
 *
 * @param {Function} fn Event handler to be called.
 * @param {Mixed} context Context for function execution.
 * @param {Boolean} once Only emit once
 * @api private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Minimal EventEmitter interface that is molded against the Node.js
 * EventEmitter interface.
 *
 * @constructor
 * @api public
 */
function EventEmitter() { /* Nothing to set */ }

/**
 * Holds the assigned EventEmitters by name.
 *
 * @type {Object}
 * @private
 */
EventEmitter.prototype._events = undefined;

/**
 * Return a list of assigned event listeners.
 *
 * @param {String} event The events that should be listed.
 * @param {Boolean} exists We only need to know if there are listeners.
 * @returns {Array|Boolean}
 * @api public
 */
EventEmitter.prototype.listeners = function listeners(event, exists) {
  var evt = prefix ? prefix + event : event
    , available = this._events && this._events[evt];

  if (exists) return !!available;
  if (!available) return [];
  if (this._events[evt].fn) return [this._events[evt].fn];

  for (var i = 0, l = this._events[evt].length, ee = new Array(l); i < l; i++) {
    ee[i] = this._events[evt][i].fn;
  }

  return ee;
};

/**
 * Emit an event to all registered event listeners.
 *
 * @param {String} event The name of the event.
 * @returns {Boolean} Indication if we've emitted an event.
 * @api public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if ('function' === typeof listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Register a new EventListener for the given event.
 *
 * @param {String} event Name of the event.
 * @param {Functon} fn Callback function.
 * @param {Mixed} context The context of the function.
 * @api public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  var listener = new EE(fn, context || this)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Add an EventListener that's only called once.
 *
 * @param {String} event Name of the event.
 * @param {Function} fn Callback function.
 * @param {Mixed} context The context of the function.
 * @api public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  var listener = new EE(fn, context || this, true)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Remove event listeners.
 *
 * @param {String} event The event we want to remove.
 * @param {Function} fn The listener that we need to find.
 * @param {Mixed} context Only remove listeners matching this context.
 * @param {Boolean} once Only remove once listeners.
 * @api public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return this;

  var listeners = this._events[evt]
    , events = [];

  if (fn) {
    if (listeners.fn) {
      if (
           listeners.fn !== fn
        || (once && !listeners.once)
        || (context && listeners.context !== context)
      ) {
        events.push(listeners);
      }
    } else {
      for (var i = 0, length = listeners.length; i < length; i++) {
        if (
             listeners[i].fn !== fn
          || (once && !listeners[i].once)
          || (context && listeners[i].context !== context)
        ) {
          events.push(listeners[i]);
        }
      }
    }
  }

  //
  // Reset the array, or remove it completely if we have no more listeners.
  //
  if (events.length) {
    this._events[evt] = events.length === 1 ? events[0] : events;
  } else {
    delete this._events[evt];
  }

  return this;
};

/**
 * Remove all listeners or only the listeners for the specified event.
 *
 * @param {String} event The event want to remove all listeners for.
 * @api public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  if (!this._events) return this;

  if (event) delete this._events[prefix ? prefix + event : event];
  else this._events = prefix ? {} : Object.create(null);

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// This function doesn't apply anymore.
//
EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
  return this;
};

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Expose the module.
//
module.exports = EventEmitter;

},{}],12:[function(require,module,exports){
'use strict';

function ToObject(val) {
	if (val == null) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

module.exports = Object.assign || function (target, source) {
	var from;
	var keys;
	var to = ToObject(target);

	for (var s = 1; s < arguments.length; s++) {
		from = arguments[s];
		keys = Object.keys(Object(from));

		for (var i = 0; i < keys.length; i++) {
			to[keys[i]] = from[keys[i]];
		}
	}

	return to;
};

},{}],13:[function(require,module,exports){
(function (process){
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
/*jshint onevar: false, indent:4 */
/*global setImmediate: false, setTimeout: false, console: false */
(function () {

    var async = {};

    // global on the server, window in the browser
    var root, previous_async;

    root = this;
    if (root != null) {
      previous_async = root.async;
    }

    async.noConflict = function () {
        root.async = previous_async;
        return async;
    };

    function only_once(fn) {
        var called = false;
        return function() {
            if (called) throw new Error("Callback was already called.");
            called = true;
            fn.apply(root, arguments);
        }
    }

    //// cross-browser compatiblity functions ////

    var _toString = Object.prototype.toString;

    var _isArray = Array.isArray || function (obj) {
        return _toString.call(obj) === '[object Array]';
    };

    var _each = function (arr, iterator) {
        if (arr.forEach) {
            return arr.forEach(iterator);
        }
        for (var i = 0; i < arr.length; i += 1) {
            iterator(arr[i], i, arr);
        }
    };

    var _map = function (arr, iterator) {
        if (arr.map) {
            return arr.map(iterator);
        }
        var results = [];
        _each(arr, function (x, i, a) {
            results.push(iterator(x, i, a));
        });
        return results;
    };

    var _reduce = function (arr, iterator, memo) {
        if (arr.reduce) {
            return arr.reduce(iterator, memo);
        }
        _each(arr, function (x, i, a) {
            memo = iterator(memo, x, i, a);
        });
        return memo;
    };

    var _keys = function (obj) {
        if (Object.keys) {
            return Object.keys(obj);
        }
        var keys = [];
        for (var k in obj) {
            if (obj.hasOwnProperty(k)) {
                keys.push(k);
            }
        }
        return keys;
    };

    //// exported async module functions ////

    //// nextTick implementation with browser-compatible fallback ////
    if (typeof process === 'undefined' || !(process.nextTick)) {
        if (typeof setImmediate === 'function') {
            async.nextTick = function (fn) {
                // not a direct alias for IE10 compatibility
                setImmediate(fn);
            };
            async.setImmediate = async.nextTick;
        }
        else {
            async.nextTick = function (fn) {
                setTimeout(fn, 0);
            };
            async.setImmediate = async.nextTick;
        }
    }
    else {
        async.nextTick = process.nextTick;
        if (typeof setImmediate !== 'undefined') {
            async.setImmediate = function (fn) {
              // not a direct alias for IE10 compatibility
              setImmediate(fn);
            };
        }
        else {
            async.setImmediate = async.nextTick;
        }
    }

    async.each = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        _each(arr, function (x) {
            iterator(x, only_once(done) );
        });
        function done(err) {
          if (err) {
              callback(err);
              callback = function () {};
          }
          else {
              completed += 1;
              if (completed >= arr.length) {
                  callback();
              }
          }
        }
    };
    async.forEach = async.each;

    async.eachSeries = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        var iterate = function () {
            iterator(arr[completed], function (err) {
                if (err) {
                    callback(err);
                    callback = function () {};
                }
                else {
                    completed += 1;
                    if (completed >= arr.length) {
                        callback();
                    }
                    else {
                        iterate();
                    }
                }
            });
        };
        iterate();
    };
    async.forEachSeries = async.eachSeries;

    async.eachLimit = function (arr, limit, iterator, callback) {
        var fn = _eachLimit(limit);
        fn.apply(null, [arr, iterator, callback]);
    };
    async.forEachLimit = async.eachLimit;

    var _eachLimit = function (limit) {

        return function (arr, iterator, callback) {
            callback = callback || function () {};
            if (!arr.length || limit <= 0) {
                return callback();
            }
            var completed = 0;
            var started = 0;
            var running = 0;

            (function replenish () {
                if (completed >= arr.length) {
                    return callback();
                }

                while (running < limit && started < arr.length) {
                    started += 1;
                    running += 1;
                    iterator(arr[started - 1], function (err) {
                        if (err) {
                            callback(err);
                            callback = function () {};
                        }
                        else {
                            completed += 1;
                            running -= 1;
                            if (completed >= arr.length) {
                                callback();
                            }
                            else {
                                replenish();
                            }
                        }
                    });
                }
            })();
        };
    };


    var doParallel = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.each].concat(args));
        };
    };
    var doParallelLimit = function(limit, fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [_eachLimit(limit)].concat(args));
        };
    };
    var doSeries = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.eachSeries].concat(args));
        };
    };


    var _asyncMap = function (eachfn, arr, iterator, callback) {
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        if (!callback) {
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err) {
                    callback(err);
                });
            });
        } else {
            var results = [];
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err, v) {
                    results[x.index] = v;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };
    async.map = doParallel(_asyncMap);
    async.mapSeries = doSeries(_asyncMap);
    async.mapLimit = function (arr, limit, iterator, callback) {
        return _mapLimit(limit)(arr, iterator, callback);
    };

    var _mapLimit = function(limit) {
        return doParallelLimit(limit, _asyncMap);
    };

    // reduce only has a series version, as doing reduce in parallel won't
    // work in many situations.
    async.reduce = function (arr, memo, iterator, callback) {
        async.eachSeries(arr, function (x, callback) {
            iterator(memo, x, function (err, v) {
                memo = v;
                callback(err);
            });
        }, function (err) {
            callback(err, memo);
        });
    };
    // inject alias
    async.inject = async.reduce;
    // foldl alias
    async.foldl = async.reduce;

    async.reduceRight = function (arr, memo, iterator, callback) {
        var reversed = _map(arr, function (x) {
            return x;
        }).reverse();
        async.reduce(reversed, memo, iterator, callback);
    };
    // foldr alias
    async.foldr = async.reduceRight;

    var _filter = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.filter = doParallel(_filter);
    async.filterSeries = doSeries(_filter);
    // select alias
    async.select = async.filter;
    async.selectSeries = async.filterSeries;

    var _reject = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (!v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.reject = doParallel(_reject);
    async.rejectSeries = doSeries(_reject);

    var _detect = function (eachfn, arr, iterator, main_callback) {
        eachfn(arr, function (x, callback) {
            iterator(x, function (result) {
                if (result) {
                    main_callback(x);
                    main_callback = function () {};
                }
                else {
                    callback();
                }
            });
        }, function (err) {
            main_callback();
        });
    };
    async.detect = doParallel(_detect);
    async.detectSeries = doSeries(_detect);

    async.some = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (v) {
                    main_callback(true);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(false);
        });
    };
    // any alias
    async.any = async.some;

    async.every = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (!v) {
                    main_callback(false);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(true);
        });
    };
    // all alias
    async.all = async.every;

    async.sortBy = function (arr, iterator, callback) {
        async.map(arr, function (x, callback) {
            iterator(x, function (err, criteria) {
                if (err) {
                    callback(err);
                }
                else {
                    callback(null, {value: x, criteria: criteria});
                }
            });
        }, function (err, results) {
            if (err) {
                return callback(err);
            }
            else {
                var fn = function (left, right) {
                    var a = left.criteria, b = right.criteria;
                    return a < b ? -1 : a > b ? 1 : 0;
                };
                callback(null, _map(results.sort(fn), function (x) {
                    return x.value;
                }));
            }
        });
    };

    async.auto = function (tasks, callback) {
        callback = callback || function () {};
        var keys = _keys(tasks);
        var remainingTasks = keys.length
        if (!remainingTasks) {
            return callback();
        }

        var results = {};

        var listeners = [];
        var addListener = function (fn) {
            listeners.unshift(fn);
        };
        var removeListener = function (fn) {
            for (var i = 0; i < listeners.length; i += 1) {
                if (listeners[i] === fn) {
                    listeners.splice(i, 1);
                    return;
                }
            }
        };
        var taskComplete = function () {
            remainingTasks--
            _each(listeners.slice(0), function (fn) {
                fn();
            });
        };

        addListener(function () {
            if (!remainingTasks) {
                var theCallback = callback;
                // prevent final callback from calling itself if it errors
                callback = function () {};

                theCallback(null, results);
            }
        });

        _each(keys, function (k) {
            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];
            var taskCallback = function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length <= 1) {
                    args = args[0];
                }
                if (err) {
                    var safeResults = {};
                    _each(_keys(results), function(rkey) {
                        safeResults[rkey] = results[rkey];
                    });
                    safeResults[k] = args;
                    callback(err, safeResults);
                    // stop subsequent errors hitting callback multiple times
                    callback = function () {};
                }
                else {
                    results[k] = args;
                    async.setImmediate(taskComplete);
                }
            };
            var requires = task.slice(0, Math.abs(task.length - 1)) || [];
            var ready = function () {
                return _reduce(requires, function (a, x) {
                    return (a && results.hasOwnProperty(x));
                }, true) && !results.hasOwnProperty(k);
            };
            if (ready()) {
                task[task.length - 1](taskCallback, results);
            }
            else {
                var listener = function () {
                    if (ready()) {
                        removeListener(listener);
                        task[task.length - 1](taskCallback, results);
                    }
                };
                addListener(listener);
            }
        });
    };

    async.retry = function(times, task, callback) {
        var DEFAULT_TIMES = 5;
        var attempts = [];
        // Use defaults if times not passed
        if (typeof times === 'function') {
            callback = task;
            task = times;
            times = DEFAULT_TIMES;
        }
        // Make sure times is a number
        times = parseInt(times, 10) || DEFAULT_TIMES;
        var wrappedTask = function(wrappedCallback, wrappedResults) {
            var retryAttempt = function(task, finalAttempt) {
                return function(seriesCallback) {
                    task(function(err, result){
                        seriesCallback(!err || finalAttempt, {err: err, result: result});
                    }, wrappedResults);
                };
            };
            while (times) {
                attempts.push(retryAttempt(task, !(times-=1)));
            }
            async.series(attempts, function(done, data){
                data = data[data.length - 1];
                (wrappedCallback || callback)(data.err, data.result);
            });
        }
        // If a callback is passed, run this as a controll flow
        return callback ? wrappedTask() : wrappedTask
    };

    async.waterfall = function (tasks, callback) {
        callback = callback || function () {};
        if (!_isArray(tasks)) {
          var err = new Error('First argument to waterfall must be an array of functions');
          return callback(err);
        }
        if (!tasks.length) {
            return callback();
        }
        var wrapIterator = function (iterator) {
            return function (err) {
                if (err) {
                    callback.apply(null, arguments);
                    callback = function () {};
                }
                else {
                    var args = Array.prototype.slice.call(arguments, 1);
                    var next = iterator.next();
                    if (next) {
                        args.push(wrapIterator(next));
                    }
                    else {
                        args.push(callback);
                    }
                    async.setImmediate(function () {
                        iterator.apply(null, args);
                    });
                }
            };
        };
        wrapIterator(async.iterator(tasks))();
    };

    var _parallel = function(eachfn, tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            eachfn.map(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            eachfn.each(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.parallel = function (tasks, callback) {
        _parallel({ map: async.map, each: async.each }, tasks, callback);
    };

    async.parallelLimit = function(tasks, limit, callback) {
        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);
    };

    async.series = function (tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            async.mapSeries(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            async.eachSeries(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.iterator = function (tasks) {
        var makeCallback = function (index) {
            var fn = function () {
                if (tasks.length) {
                    tasks[index].apply(null, arguments);
                }
                return fn.next();
            };
            fn.next = function () {
                return (index < tasks.length - 1) ? makeCallback(index + 1): null;
            };
            return fn;
        };
        return makeCallback(0);
    };

    async.apply = function (fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        return function () {
            return fn.apply(
                null, args.concat(Array.prototype.slice.call(arguments))
            );
        };
    };

    var _concat = function (eachfn, arr, fn, callback) {
        var r = [];
        eachfn(arr, function (x, cb) {
            fn(x, function (err, y) {
                r = r.concat(y || []);
                cb(err);
            });
        }, function (err) {
            callback(err, r);
        });
    };
    async.concat = doParallel(_concat);
    async.concatSeries = doSeries(_concat);

    async.whilst = function (test, iterator, callback) {
        if (test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.whilst(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doWhilst = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (test.apply(null, args)) {
                async.doWhilst(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.until = function (test, iterator, callback) {
        if (!test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.until(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doUntil = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (!test.apply(null, args)) {
                async.doUntil(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.queue = function (worker, concurrency) {
        if (concurrency === undefined) {
            concurrency = 1;
        }
        function _insert(q, data, pos, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  callback: typeof callback === 'function' ? callback : null
              };

              if (pos) {
                q.tasks.unshift(item);
              } else {
                q.tasks.push(item);
              }

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }

        var workers = 0;
        var q = {
            tasks: [],
            concurrency: concurrency,
            saturated: null,
            empty: null,
            drain: null,
            started: false,
            paused: false,
            push: function (data, callback) {
              _insert(q, data, false, callback);
            },
            kill: function () {
              q.drain = null;
              q.tasks = [];
            },
            unshift: function (data, callback) {
              _insert(q, data, true, callback);
            },
            process: function () {
                if (!q.paused && workers < q.concurrency && q.tasks.length) {
                    var task = q.tasks.shift();
                    if (q.empty && q.tasks.length === 0) {
                        q.empty();
                    }
                    workers += 1;
                    var next = function () {
                        workers -= 1;
                        if (task.callback) {
                            task.callback.apply(task, arguments);
                        }
                        if (q.drain && q.tasks.length + workers === 0) {
                            q.drain();
                        }
                        q.process();
                    };
                    var cb = only_once(next);
                    worker(task.data, cb);
                }
            },
            length: function () {
                return q.tasks.length;
            },
            running: function () {
                return workers;
            },
            idle: function() {
                return q.tasks.length + workers === 0;
            },
            pause: function () {
                if (q.paused === true) { return; }
                q.paused = true;
                q.process();
            },
            resume: function () {
                if (q.paused === false) { return; }
                q.paused = false;
                q.process();
            }
        };
        return q;
    };
    
    async.priorityQueue = function (worker, concurrency) {
        
        function _compareTasks(a, b){
          return a.priority - b.priority;
        };
        
        function _binarySearch(sequence, item, compare) {
          var beg = -1,
              end = sequence.length - 1;
          while (beg < end) {
            var mid = beg + ((end - beg + 1) >>> 1);
            if (compare(item, sequence[mid]) >= 0) {
              beg = mid;
            } else {
              end = mid - 1;
            }
          }
          return beg;
        }
        
        function _insert(q, data, priority, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  priority: priority,
                  callback: typeof callback === 'function' ? callback : null
              };
              
              q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }
        
        // Start with a normal queue
        var q = async.queue(worker, concurrency);
        
        // Override push to accept second parameter representing priority
        q.push = function (data, priority, callback) {
          _insert(q, data, priority, callback);
        };
        
        // Remove unshift function
        delete q.unshift;

        return q;
    };

    async.cargo = function (worker, payload) {
        var working     = false,
            tasks       = [];

        var cargo = {
            tasks: tasks,
            payload: payload,
            saturated: null,
            empty: null,
            drain: null,
            drained: true,
            push: function (data, callback) {
                if (!_isArray(data)) {
                    data = [data];
                }
                _each(data, function(task) {
                    tasks.push({
                        data: task,
                        callback: typeof callback === 'function' ? callback : null
                    });
                    cargo.drained = false;
                    if (cargo.saturated && tasks.length === payload) {
                        cargo.saturated();
                    }
                });
                async.setImmediate(cargo.process);
            },
            process: function process() {
                if (working) return;
                if (tasks.length === 0) {
                    if(cargo.drain && !cargo.drained) cargo.drain();
                    cargo.drained = true;
                    return;
                }

                var ts = typeof payload === 'number'
                            ? tasks.splice(0, payload)
                            : tasks.splice(0, tasks.length);

                var ds = _map(ts, function (task) {
                    return task.data;
                });

                if(cargo.empty) cargo.empty();
                working = true;
                worker(ds, function () {
                    working = false;

                    var args = arguments;
                    _each(ts, function (data) {
                        if (data.callback) {
                            data.callback.apply(null, args);
                        }
                    });

                    process();
                });
            },
            length: function () {
                return tasks.length;
            },
            running: function () {
                return working;
            }
        };
        return cargo;
    };

    var _console_fn = function (name) {
        return function (fn) {
            var args = Array.prototype.slice.call(arguments, 1);
            fn.apply(null, args.concat([function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (typeof console !== 'undefined') {
                    if (err) {
                        if (console.error) {
                            console.error(err);
                        }
                    }
                    else if (console[name]) {
                        _each(args, function (x) {
                            console[name](x);
                        });
                    }
                }
            }]));
        };
    };
    async.log = _console_fn('log');
    async.dir = _console_fn('dir');
    /*async.info = _console_fn('info');
    async.warn = _console_fn('warn');
    async.error = _console_fn('error');*/

    async.memoize = function (fn, hasher) {
        var memo = {};
        var queues = {};
        hasher = hasher || function (x) {
            return x;
        };
        var memoized = function () {
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            var key = hasher.apply(null, args);
            if (key in memo) {
                async.nextTick(function () {
                    callback.apply(null, memo[key]);
                });
            }
            else if (key in queues) {
                queues[key].push(callback);
            }
            else {
                queues[key] = [callback];
                fn.apply(null, args.concat([function () {
                    memo[key] = arguments;
                    var q = queues[key];
                    delete queues[key];
                    for (var i = 0, l = q.length; i < l; i++) {
                      q[i].apply(null, arguments);
                    }
                }]));
            }
        };
        memoized.memo = memo;
        memoized.unmemoized = fn;
        return memoized;
    };

    async.unmemoize = function (fn) {
      return function () {
        return (fn.unmemoized || fn).apply(null, arguments);
      };
    };

    async.times = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.map(counter, iterator, callback);
    };

    async.timesSeries = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.mapSeries(counter, iterator, callback);
    };

    async.seq = function (/* functions... */) {
        var fns = arguments;
        return function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([function () {
                    var err = arguments[0];
                    var nextargs = Array.prototype.slice.call(arguments, 1);
                    cb(err, nextargs);
                }]))
            },
            function (err, results) {
                callback.apply(that, [err].concat(results));
            });
        };
    };

    async.compose = function (/* functions... */) {
      return async.seq.apply(null, Array.prototype.reverse.call(arguments));
    };

    var _applyEach = function (eachfn, fns /*args...*/) {
        var go = function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            return eachfn(fns, function (fn, cb) {
                fn.apply(that, args.concat([cb]));
            },
            callback);
        };
        if (arguments.length > 2) {
            var args = Array.prototype.slice.call(arguments, 2);
            return go.apply(this, args);
        }
        else {
            return go;
        }
    };
    async.applyEach = doParallel(_applyEach);
    async.applyEachSeries = doSeries(_applyEach);

    async.forever = function (fn, callback) {
        function next(err) {
            if (err) {
                if (callback) {
                    return callback(err);
                }
                throw err;
            }
            fn(next);
        }
        next();
    };

    // Node.js
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = async;
    }
    // AMD / RequireJS
    else if (typeof define !== 'undefined' && define.amd) {
        define([], function () {
            return async;
        });
    }
    // included directly via <script> tag
    else {
        root.async = async;
    }

}());

}).call(this,require('_process'))

},{"_process":4}],14:[function(require,module,exports){
arguments[4][11][0].apply(exports,arguments)
},{"dup":11}],15:[function(require,module,exports){
var async       = require('async'),
    urlParser   = require('url'),
    Resource    = require('./Resource'),
    EventEmitter = require('eventemitter3');

/**
 * Manages the state and loading of multiple resources to load.
 *
 * @class
 * @param [baseUrl=''] {string} The base url for all resources loaded by this loader.
 * @param [concurrency=10] {number} The number of resources to load concurrently.
 */
function Loader(baseUrl, concurrency) {
    EventEmitter.call(this);

    concurrency = concurrency || 10;

    /**
     * The base url for all resources loaded by this loader.
     *
     * @member {string}
     */
    this.baseUrl = baseUrl || '';

    /**
     * The progress percent of the loader going through the queue.
     *
     * @member {number}
     */
    this.progress = 0;

    /**
     * Loading state of the loader, true if it is currently loading resources.
     *
     * @member {boolean}
     */
    this.loading = false;

    /**
     * The percentage of total progress that a single resource represents.
     *
     * @member {number}
     */
    this._progressChunk = 0;

    /**
     * The middleware to run before loading each resource.
     *
     * @member {function[]}
     */
    this._beforeMiddleware = [];

    /**
     * The middleware to run after loading each resource.
     *
     * @member {function[]}
     */
    this._afterMiddleware = [];

    /**
     * The `_loadResource` function bound with this object context.
     *
     * @private
     * @member {function}
     */
    this._boundLoadResource = this._loadResource.bind(this);

    /**
     * The `_onLoad` function bound with this object context.
     *
     * @private
     * @member {function}
     */
    this._boundOnLoad = this._onLoad.bind(this);

    /**
     * The resource buffer that fills until `load` is called to start loading resources.
     *
     * @private
     * @member {Resource[]}
     */
    this._buffer = [];

    /**
     * Used to track load completion.
     *
     * @private
     * @member {number}
     */
    this._numToLoad = 0;

    /**
     * The resources waiting to be loaded.
     *
     * @private
     * @member {Resource[]}
     */
    this._queue = async.queue(this._boundLoadResource, concurrency);

    /**
     * All the resources for this loader keyed by name.
     *
     * @member {object<string, Resource>}
     */
    this.resources = {};

    /**
     * Emitted once per loaded or errored resource.
     *
     * @event progress
     * @memberof Loader#
     */

    /**
     * Emitted once per errored resource.
     *
     * @event error
     * @memberof Loader#
     */

    /**
     * Emitted once per loaded resource.
     *
     * @event load
     * @memberof Loader#
     */

    /**
     * Emitted when the loader begins to process the queue.
     *
     * @event start
     * @memberof Loader#
     */

    /**
     * Emitted when the queued resources all load.
     *
     * @event complete
     * @memberof Loader#
     */
}

Loader.prototype = Object.create(EventEmitter.prototype);
Loader.prototype.constructor = Loader;
module.exports = Loader;

/**
 * Adds a resource (or multiple resources) to the loader queue.
 *
 * This function can take a wide variety of different parameters. The only thing that is always
 * required the url to load. All the following will work:
 *
 * ```js
 * loader
 *     // normal param syntax
 *     .add('key', 'http://...', function () {})
 *     .add('http://...', function () {})
 *     .add('http://...')
 *
 *     // object syntax
 *     .add({
 *         name: 'key2',
 *         url: 'http://...'
 *     }, function () {})
 *     .add({
 *         url: 'http://...'
 *     }, function () {})
 *     .add({
 *         name: 'key3',
 *         url: 'http://...'
 *         onComplete: function () {}
 *     })
 *     .add({
 *         url: 'https://...',
 *         onComplete: function () {},
 *         crossOrigin: true
 *     })
 *
 *     // you can also pass an array of objects or urls or both
 *     .add([
 *         { name: 'key4', url: 'http://...', onComplete: function () {} },
 *         { url: 'http://...', onComplete: function () {} },
 *         'http://...'
 *     ]);
 * ```
 *
 * @alias enqueue
 * @param [name] {string} The name of the resource to load, if not passed the url is used.
 * @param url {string} The url for this resource, relative to the baseUrl of this loader.
 * @param [options] {object} The options for the load.
 * @param [options.crossOrigin] {boolean} Is this request cross-origin? Default is to determine automatically.
 * @param [options.loadType=Resource.LOAD_TYPE.XHR] {Resource.XHR_LOAD_TYPE} How should this resource be loaded?
 * @param [options.xhrType=Resource.XHR_RESPONSE_TYPE.DEFAULT] {Resource.XHR_RESPONSE_TYPE} How should the data being
 *      loaded be interpreted when using XHR?
 * @param [callback] {function} Function to call when this specific resource completes loading.
 * @return {Loader}
 */
Loader.prototype.add = Loader.prototype.enqueue = function (name, url, options, cb) {
    // special case of an array of objects or urls
    if (Array.isArray(name)) {
        for (var i = 0; i < name.length; ++i) {
            this.add(name[i]);
        }

        return this;
    }

    // if an object is passed instead of params
    if (typeof name === 'object') {
        cb = url || name.callback || name.onComplete;
        options = name;
        url = name.url;
        name = name.name || name.key || name.url;
    }

    // case where no name is passed shift all args over by one.
    if (typeof url !== 'string') {
        cb = options;
        options = url;
        url = name;
    }

    // now that we shifted make sure we have a proper url.
    if (typeof url !== 'string') {
        throw new Error('No url passed to add resource to loader.');
    }

    // options are optional so people might pass a function and no options
    if (typeof options === 'function') {
        cb = options;
        options = null;
    }

    // check if resource already exists.
    if (this.resources[name]) {
        throw new Error('Resource with name "' + name + '" already exists.');
    }

    // add base url if this isn't an absolute url
    url = this._handleBaseUrl(url);

    // create the store the resource
    this.resources[name] = new Resource(name, url, options);

    if (typeof cb === 'function') {
        this.resources[name].once('afterMiddleware', cb);
    }

    this._numToLoad++;

    // if already loading add it to the worker queue
    if (this._queue.started) {
        this._queue.push(this.resources[name]);
        this._progressChunk = (100 - this.progress) / (this._queue.length() + this._queue.running());
    }
    // otherwise buffer it to be added to the queue later
    else {
        this._buffer.push(this.resources[name]);
        this._progressChunk = 100 / this._buffer.length;
    }

    return this;
};

Loader.prototype._handleBaseUrl = function (url) {
    var parsedUrl = urlParser.parse(url);

    // absolute url, just use it as is.
    if (parsedUrl.protocol || parsedUrl.pathname.indexOf('//') === 0) {
        return url;
    }

    // if baseUrl doesn't end in slash and url doesn't start with slash, then add a slash inbetween
    if (
        this.baseUrl.length &&
        this.baseUrl.lastIndexOf('/') !== this.baseUrl.length - 1 &&
        url.lastIndexOf('/') !== url.length - 1
    ) {
        return this.baseUrl + '/' + url;
    }
    else {
        return this.baseUrl + url;
    }
};


/**
 * Sets up a middleware function that will run *before* the
 * resource is loaded.
 *
 * @alias pre
 * @param middleware {function} The middleware function to register.
 * @return {Loader}
 */
Loader.prototype.before = Loader.prototype.pre = function (fn) {
    this._beforeMiddleware.push(fn);

    return this;
};

/**
 * Sets up a middleware function that will run *after* the
 * resource is loaded.
 *
 * @alias use
 * @param middleware {function} The middleware function to register.
 * @return {Loader}
 */
Loader.prototype.after = Loader.prototype.use = function (fn) {
    this._afterMiddleware.push(fn);

    return this;
};

/**
 * Resets the queue of the loader to prepare for a new load.
 *
 * @return {Loader}
 */
Loader.prototype.reset = function () {
    // this.baseUrl = baseUrl || '';

    this.progress = 0;

    this.loading = false;

    this._progressChunk = 0;

    // this._beforeMiddleware.length = 0;
    // this._afterMiddleware.length = 0;

    this._buffer.length = 0;

    this._numToLoad = 0;

    this._queue.kill();
    this._queue.started = false;

    this.resources = {};
};

/**
 * Starts loading the queued resources.
 *
 * @fires start
 * @param [callback] {function} Optional callback that will be bound to the `complete` event.
 * @return {Loader}
 */
Loader.prototype.load = function (cb) {
    // register complete callback if they pass one
    if (typeof cb === 'function') {
        this.once('complete', cb);
    }

    // if the queue has already started we are done here
    if (this._queue.started) {
        return this;
    }

    // notify of start
    this.emit('start', this);

    // start the internal queue
    for (var i = 0; i < this._buffer.length; ++i) {
        this._queue.push(this._buffer[i]);
    }

    // empty the buffer
    this._buffer.length = 0;

    return this;
};

/**
 * Loads a single resource.
 *
 * @fires progress
 * @private
 */
Loader.prototype._loadResource = function (resource, dequeue) {
    var self = this;

    resource._dequeue = dequeue;

    this._runMiddleware(resource, this._beforeMiddleware, function () {
        // resource.on('progress', self.emit.bind(self, 'progress'));

        resource.load(self._boundOnLoad);
    });
};

/**
 * Called once each resource has loaded.
 *
 * @fires complete
 * @private
 */
Loader.prototype._onComplete = function () {
    this.emit('complete', this, this.resources);
};

/**
 * Called each time a resources is loaded.
 *
 * @fires progress
 * @fires error
 * @fires load
 * @private
 */
Loader.prototype._onLoad = function (resource) {
    this.progress += this._progressChunk;

    this.emit('progress', this, resource);

    if (resource.error) {
        this.emit('error', resource.error, this, resource);
    }
    else {
        this.emit('load', this, resource);
    }

    // run middleware, this *must* happen before dequeue so sub-assets get added properly
    this._runMiddleware(resource, this._afterMiddleware, function () {
        resource.emit('afterMiddleware', resource);

        this._numToLoad--;

        // do completion check
        if (this._numToLoad === 0) {
            this._onComplete();
        }
    });

    // remove this resource from the async queue
    resource._dequeue();
};

/**
 * Run middleware functions on a resource.
 *
 * @private
 */
Loader.prototype._runMiddleware = function (resource, fns, cb) {
    var self = this;

    async.eachSeries(fns, function (fn, next) {
        fn.call(self, resource, next);
    }, cb.bind(this, resource));
};

Loader.LOAD_TYPE = Resource.LOAD_TYPE;
Loader.XHR_READY_STATE = Resource.XHR_READY_STATE;
Loader.XHR_RESPONSE_TYPE = Resource.XHR_RESPONSE_TYPE;

},{"./Resource":16,"async":13,"eventemitter3":14,"url":9}],16:[function(require,module,exports){
var EventEmitter = require('eventemitter3'),
    _url = require('url'),
    // tests is CORS is supported in XHR, if not we need to use XDR
    useXdr = !!(window.XDomainRequest && !('withCredentials' in (new XMLHttpRequest()))),
    tempAnchor = null;

/**
 * Manages the state and loading of a single resource represented by
 * a single URL.
 *
 * @class
 * @param name {string} The name of the resource to load.
 * @param url {string|string[]} The url for this resource, for audio/video loads you can pass an array of sources.
 * @param [options] {object} The options for the load.
 * @param [options.crossOrigin] {boolean} Is this request cross-origin? Default is to determine automatically.
 * @param [options.loadType=Resource.LOAD_TYPE.XHR] {Resource.LOAD_TYPE} How should this resource be loaded?
 * @param [options.xhrType=Resource.XHR_RESPONSE_TYPE.DEFAULT] {Resource.XHR_RESPONSE_TYPE} How should the data being
 *      loaded be interpreted when using XHR?
 */
function Resource(name, url, options) {
    EventEmitter.call(this);

    options = options || {};

    if (typeof name !== 'string' || typeof url !== 'string') {
        throw new Error('Both name and url are required for constructing a resource.');
    }

    /**
     * The name of this resource.
     *
     * @member {string}
     * @readonly
     */
    this.name = name;

    /**
     * The url used to load this resource.
     *
     * @member {string}
     * @readonly
     */
    this.url = url;

    /**
     * Stores whether or not this url is a data url.
     *
     * @member {boolean}
     * @readonly
     */
    this.isDataUrl = this.url.indexOf('data:') === 0;

    /**
     * The data that was loaded by the resource.
     *
     * @member {any}
     */
    this.data = null;

    /**
     * Is this request cross-origin? If unset, determined automatically.
     *
     * @member {string}
     */
    this.crossOrigin = options.crossOrigin === true ? 'anonymous' : null;

    /**
     * The method of loading to use for this resource.
     *
     * @member {Resource.LOAD_TYPE}
     */
    this.loadType = options.loadType || this._determineLoadType();

    /**
     * The type used to load the resource via XHR. If unset, determined automatically.
     *
     * @member {string}
     */
    this.xhrType = options.xhrType;

    /**
     * The error that occurred while loading (if any).
     *
     * @member {Error}
     * @readonly
     */
    this.error = null;

    /**
     * The XHR object that was used to load this resource. This is only set
     * when `loadType` is `Resource.LOAD_TYPE.XHR`.
     *
     * @member {XMLHttpRequest}
     */
    this.xhr = null;

    /**
     * Describes if this resource was loaded as json. Only valid after the resource
     * has completely loaded.
     *
     * @member {boolean}
     */
    this.isJson = false;

    /**
     * Describes if this resource was loaded as xml. Only valid after the resource
     * has completely loaded.
     *
     * @member {boolean}
     */
    this.isXml = false;

    /**
     * Describes if this resource was loaded as an image tag. Only valid after the resource
     * has completely loaded.
     *
     * @member {boolean}
     */
    this.isImage = false;

    /**
     * Describes if this resource was loaded as an audio tag. Only valid after the resource
     * has completely loaded.
     *
     * @member {boolean}
     */
    this.isAudio = false;

    /**
     * Describes if this resource was loaded as a video tag. Only valid after the resource
     * has completely loaded.
     *
     * @member {boolean}
     */
    this.isVideo = false;

    /**
     * The `dequeue` method that will be used a storage place for the async queue dequeue method
     * used privately by the loader.
     *
     * @member {function}
     * @private
     */
    this._dequeue = null;

    /**
     * The `complete` function bound to this resource's context.
     *
     * @member {function}
     * @private
     */
    this._boundComplete = this.complete.bind(this);

    /**
     * The `_onError` function bound to this resource's context.
     *
     * @member {function}
     * @private
     */
    this._boundOnError = this._onError.bind(this);

    /**
     * The `_onProgress` function bound to this resource's context.
     *
     * @member {function}
     * @private
     */
    this._boundOnProgress = this._onProgress.bind(this);

    // xhr callbacks
    this._boundXhrOnError = this._xhrOnError.bind(this);
    this._boundXhrOnAbort = this._xhrOnAbort.bind(this);
    this._boundXhrOnLoad = this._xhrOnLoad.bind(this);
    this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this);

    /**
     * Emitted when the resource beings to load.
     *
     * @event start
     * @memberof Resource#
     */

    /**
     * Emitted each time progress of this resource load updates.
     * Not all resources types and loader systems can support this event
     * so sometimes it may not be available. If the resource
     * is being loaded on a modern browser, using XHR, and the remote server
     * properly sets Content-Length headers, then this will be available.
     *
     * @event progress
     * @memberof Resource#
     */

    /**
     * Emitted once this resource has loaded, if there was an error it will
     * be in the `error` property.
     *
     * @event complete
     * @memberof Resource#
     */
}

Resource.prototype = Object.create(EventEmitter.prototype);
Resource.prototype.constructor = Resource;
module.exports = Resource;

/**
 * Marks the resource as complete.
 *
 * @fires complete
 */
Resource.prototype.complete = function () {
    // TODO: Clean this up in a wrapper or something...gross....
    if (this.data && this.data.removeEventListener) {
        this.data.removeEventListener('error', this._boundOnError);
        this.data.removeEventListener('load', this._boundComplete);
        this.data.removeEventListener('progress', this._boundOnProgress);
        this.data.removeEventListener('canplaythrough', this._boundComplete);
    }

    if (this.xhr) {
        if (this.xhr.removeEventListener) {
            this.xhr.removeEventListener('error', this._boundXhrOnError);
            this.xhr.removeEventListener('abort', this._boundXhrOnAbort);
            this.xhr.removeEventListener('progress', this._boundOnProgress);
            this.xhr.removeEventListener('load', this._boundXhrOnLoad);
        }
        else {
            this.xhr.onerror = null;
            this.xhr.ontimeout = null;
            this.xhr.onprogress = null;
            this.xhr.onload = null;
        }
    }

    this.emit('complete', this);
};

/**
 * Kicks off loading of this resource.
 *
 * @fires start
 * @param [callback] {function} Optional callback to call once the resource is loaded.
 */
Resource.prototype.load = function (cb) {
    this.emit('start', this);

    // if a callback is set, listen for complete event
    if (cb) {
        this.once('complete', cb);
    }

    // if unset, determine the value
    if (typeof this.crossOrigin !== 'string') {
        this.crossOrigin = this._determineCrossOrigin(this.url);
    }

    switch(this.loadType) {
        case Resource.LOAD_TYPE.IMAGE:
            this._loadImage();
            break;

        case Resource.LOAD_TYPE.AUDIO:
            this._loadElement('audio');
            break;

        case Resource.LOAD_TYPE.VIDEO:
            this._loadElement('video');
            break;

        case Resource.LOAD_TYPE.XHR:
            /* falls through */
        default:
            if (useXdr && this.crossOrigin) {
                this._loadXdr();
            }
            else {
                this._loadXhr();
            }
            break;
    }
};

/**
 * Loads this resources using an Image object.
 *
 * @private
 */
Resource.prototype._loadImage = function () {
    this.data = new Image();

    if (this.crossOrigin) {
        this.data.crossOrigin = this.crossOrigin;
    }

    this.data.src = this.url;

    this.isImage = true;

    this.data.addEventListener('error', this._boundOnError, false);
    this.data.addEventListener('load', this._boundComplete, false);
    this.data.addEventListener('progress', this._boundOnProgress, false);
};

/**
 * Loads this resources using an HTMLAudioElement or HTMLVideoElement.
 *
 * @private
 */
Resource.prototype._loadElement = function (type) {
    this.data = document.createElement(type);

    if (Array.isArray(this.url)) {
        for (var i = 0; i < this.url.length; ++i) {
            this.data.appendChild(this._createSource(type, this.url[i]));
        }
    }
    else {
        this.data.appendChild(this._createSource(type, this.url));
    }

    this['is' + type[0].toUpperCase() + type.substring(1)] = true;

    this.data.addEventListener('error', this._boundOnError, false);
    this.data.addEventListener('load', this._boundComplete, false);
    this.data.addEventListener('progress', this._boundOnProgress, false);
    this.data.addEventListener('canplaythrough', this._boundComplete, false);

    this.data.load();
};

/**
 * Loads this resources using an XMLHttpRequest.
 *
 * @private
 */
Resource.prototype._loadXhr = function () {
    // if unset, determine the value
    if (typeof this.xhrType !== 'string') {
        this.xhrType = this._determineXhrType();
    }

    var xhr = this.xhr = new XMLHttpRequest();

    // set the request type and url
    xhr.open('GET', this.url, true);

    // load json as text and parse it ourselves. We do this because some browsers
    // *cough* safari *cough* can't deal with it.
    if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON || this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
        xhr.responseType = Resource.XHR_RESPONSE_TYPE.TEXT;
    }
    else {
        xhr.responseType = this.xhrType;
    }

    xhr.addEventListener('error', this._boundXhrOnError, false);
    xhr.addEventListener('abort', this._boundXhrOnAbort, false);
    xhr.addEventListener('progress', this._boundOnProgress, false);
    xhr.addEventListener('load', this._boundXhrOnLoad, false);

    xhr.send();
};

/**
 * Loads this resources using an XDomainRequest. This is here because we need to support IE9 (gross).
 *
 * @private
 */
Resource.prototype._loadXdr = function () {
    // if unset, determine the value
    if (typeof this.xhrType !== 'string') {
        this.xhrType = this._determineXhrType();
    }

    var xdr = this.xhr = new XDomainRequest();

    // XDomainRequest has a few quirks. Occasionally it will abort requests
    // A way to avoid this is to make sure ALL callbacks are set even if not used
    // More info here: http://stackoverflow.com/questions/15786966/xdomainrequest-aborts-post-on-ie-9
    xdr.timeout = 5000;

    xdr.onerror = this._boundXhrOnError;
    xdr.ontimeout = this._boundXdrOnTimeout;
    xdr.onprogress = this._boundOnProgress;
    xdr.onload = this._boundXhrOnLoad;

    xdr.open('GET', this.url, true);

    //  Note: The xdr.send() call is wrapped in a timeout to prevent an issue with the interface where some requests are lost
    //  if multiple XDomainRequests are being sent at the same time.
    // Some info here: https://github.com/photonstorm/phaser/issues/1248
    setTimeout(function () {
        xdr.send();
    }, 0);
};

/**
 * Creates a source used in loading via an element.
 *
 * @param type {string} The element type (video or audio).
 * @param url {string} The source URL to load from.
 * @param [mime] {string} The mime type of the video
 * @private
 */
Resource.prototype._createSource = function (type, url, mime) {
    if (!mime) {
        mime = type + '/' + url.substr(url.lastIndexOf('.') + 1);
    }

    var source = document.createElement('source');

    source.src = url;
    source.type = mime;

    return source;
};

/**
 * Called if a load errors out.
 *
 * @param event {Event} The error event from the element that emits it.
 * @private
 */
Resource.prototype._onError = function (event) {
    this.error = new Error('Failed to load element using ' + event.target.nodeName);
    this.complete();
};

/**
 * Called if a load progress event fires for xhr/xdr.
 *
 * @fires progress
 * @param event {XMLHttpRequestProgressEvent|Event}
 * @private
 */
Resource.prototype._onProgress =  function (event) {
    if (event && event.lengthComputable) {
        this.emit('progress', this, event.loaded / event.total);
    }
};

/**
 * Called if an error event fires for xhr/xdr.
 *
 * @param event {XMLHttpRequestErrorEvent|Event}
 * @private
 */
Resource.prototype._xhrOnError = function () {
    this.error = new Error(
        reqType(this.xhr) + ' Request failed. ' +
        'Status: ' + this.xhr.status + ', text: "' + this.xhr.statusText + '"'
    );

    this.complete();
};

/**
 * Called if an abort event fires for xhr.
 *
 * @param event {XMLHttpRequestAbortEvent}
 * @private
 */
Resource.prototype._xhrOnAbort = function () {
    this.error = new Error(reqType(this.xhr) + ' Request was aborted by the user.');
    this.complete();
};

/**
 * Called if a timeout event fires for xdr.
 *
 * @param event {Event}
 * @private
 */
Resource.prototype._xdrOnTimeout = function () {
    this.error = new Error(reqType(this.xhr) + ' Request timed out.');
    this.complete();
};

/**
 * Called when data successfully loads from an xhr/xdr request.
 *
 * @param event {XMLHttpRequestLoadEvent|Event}
 * @private
 */
Resource.prototype._xhrOnLoad = function () {
    var xhr = this.xhr,
        status = xhr.status !== undefined ? xhr.status : 200; //XDR has no `.status`, assume 200.

    // status can be 0 when using the file:// protocol, also check if a response was found
    if (status === 200 || status === 204 || (status === 0 && xhr.responseText.length > 0)) {
        // if text, just return it
        if (this.xhrType === Resource.XHR_RESPONSE_TYPE.TEXT) {
            this.data = xhr.responseText;
        }
        // if json, parse into json object
        else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON) {
            try {
                this.data = JSON.parse(xhr.responseText);
                this.isJson = true;
            } catch(e) {
                this.error = new Error('Error trying to parse loaded json:', e);
            }
        }
        // if xml, parse into an xml document or div element
        else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) {
            try {
                if (window.DOMParser) {
                    var domparser = new DOMParser();
                    this.data = domparser.parseFromString(xhr.responseText, 'text/xml');
                }
                else {
                    var div = document.createElement('div');
                    div.innerHTML = xhr.responseText;
                    this.data = div;
                }
                this.isXml = true;
            } catch (e) {
                this.error = new Error('Error trying to parse loaded xml:', e);
            }
        }
        // other types just return the response
        else {
            this.data = xhr.response || xhr.responseText;
        }
    }
    else {
        this.error = new Error('[' + xhr.status + ']' + xhr.statusText + ':' + xhr.responseURL);
    }

    this.complete();
};

function reqType(xhr) {
    return xhr.toString().replace('object ', '');
}

/**
 * Sets the `crossOrigin` property for this resource based on if the url
 * for this resource is cross-origin. If crossOrigin was manually set, this
 * function does nothing.
 *
 * @private
 * @param url {string} The url to test.
 * @param [location=window.location] {object} The location object to test against.
 * @return {string} The crossOrigin value to use (or empty string for none).
 */
Resource.prototype._determineCrossOrigin = function (url, loc) {
    // data: and javascript: urls are considered same-origin
    if (url.indexOf('data:') === 0) {
        return '';
    }

    // default is window.location
    loc = loc || window.location;

    if (!tempAnchor) {
        tempAnchor = document.createElement('a');
    }

    // let the browser determine the full href for the url of this resource and then
    // parse with the node url lib, we can't use the properties of the anchor element
    // because they don't work in IE9 :(
    tempAnchor.href = url;
    url = _url.parse(tempAnchor.href);

    var samePort = (!url.port && loc.port === '') || (url.port === loc.port);

    // if cross origin
    if (url.hostname !== loc.hostname || !samePort || url.protocol !== loc.protocol) {
        return 'anonymous';
    }

    return '';
};

/**
 * Determines the responseType of an XHR request based on the extension of the
 * resource being loaded.
 *
 * @private
 * @return {Resource.XHR_RESPONSE_TYPE} The responseType to use.
 */
Resource.prototype._determineXhrType = function () {
    return Resource._xhrTypeMap[this._getExtension()] || Resource.XHR_RESPONSE_TYPE.TEXT;
};

Resource.prototype._determineLoadType = function () {
    return Resource._loadTypeMap[this._getExtension()] || Resource.LOAD_TYPE.XHR;
};

Resource.prototype._getExtension = function () {
    var url = this.url,
        ext;

    if (this.isDataUrl) {
        var slashIndex = url.indexOf('/');
        ext = url.substring(slashIndex + 1, url.indexOf(';', slashIndex));
    }
    else {
        var queryStart = url.indexOf('?');
        if (queryStart !== -1) {
            url = url.substring(0, queryStart);
        }

        ext = url.substring(url.lastIndexOf('.') + 1);
    }

    return ext;
};

/**
 * Determines the mime type of an XHR request based on the responseType of
 * resource being loaded.
 *
 * @private
 * @return {string} The mime type to use.
 */
Resource.prototype._getMimeFromXhrType = function (type) {
    switch(type) {
        case Resource.XHR_RESPONSE_TYPE.BUFFER:
            return 'application/octet-binary';

        case Resource.XHR_RESPONSE_TYPE.BLOB:
            return 'application/blob';

        case Resource.XHR_RESPONSE_TYPE.DOCUMENT:
            return 'application/xml';

        case Resource.XHR_RESPONSE_TYPE.JSON:
            return 'application/json';

        case Resource.XHR_RESPONSE_TYPE.DEFAULT:
        case Resource.XHR_RESPONSE_TYPE.TEXT:
            /* falls through */
        default:
            return 'text/plain';

    }
};

/**
 * The types of loading a resource can use.
 *
 * @static
 * @constant
 * @property {object} LOAD_TYPE
 * @property {number} LOAD_TYPE.XHR - Uses XMLHttpRequest to load the resource.
 * @property {number} LOAD_TYPE.IMAGE - Uses an `Image` object to load the resource.
 * @property {number} LOAD_TYPE.AUDIO - Uses an `Audio` object to load the resource.
 * @property {number} LOAD_TYPE.VIDEO - Uses a `Video` object to load the resource.
 */
Resource.LOAD_TYPE = {
    XHR:    1,
    IMAGE:  2,
    AUDIO:  3,
    VIDEO:  4
};

/**
 * The XHR ready states, used internally.
 *
 * @static
 * @constant
 * @property {object} XHR_READY_STATE
 * @property {number} XHR_READY_STATE.UNSENT - open()has not been called yet.
 * @property {number} XHR_READY_STATE.OPENED - send()has not been called yet.
 * @property {number} XHR_READY_STATE.HEADERS_RECEIVED - send() has been called, and headers and status are available.
 * @property {number} XHR_READY_STATE.LOADING - Downloading; responseText holds partial data.
 * @property {number} XHR_READY_STATE.DONE - The operation is complete.
 */
Resource.XHR_READY_STATE = {
    UNSENT: 0,
    OPENED: 1,
    HEADERS_RECEIVED: 2,
    LOADING: 3,
    DONE: 4
};

/**
 * The XHR ready states, used internally.
 *
 * @static
 * @constant
 * @property {object} XHR_RESPONSE_TYPE
 * @property {string} XHR_RESPONSE_TYPE.DEFAULT - defaults to text
 * @property {string} XHR_RESPONSE_TYPE.BUFFER - ArrayBuffer
 * @property {string} XHR_RESPONSE_TYPE.BLOB - Blob
 * @property {string} XHR_RESPONSE_TYPE.DOCUMENT - Document
 * @property {string} XHR_RESPONSE_TYPE.JSON - Object
 * @property {string} XHR_RESPONSE_TYPE.TEXT - String
 */
Resource.XHR_RESPONSE_TYPE = {
    DEFAULT:    'text',
    BUFFER:     'arraybuffer',
    BLOB:       'blob',
    DOCUMENT:   'document',
    JSON:       'json',
    TEXT:       'text'
};

Resource._loadTypeMap = {
    'gif':      Resource.LOAD_TYPE.IMAGE,
    'png':      Resource.LOAD_TYPE.IMAGE,
    'bmp':      Resource.LOAD_TYPE.IMAGE,
    'jpg':      Resource.LOAD_TYPE.IMAGE,
    'jpeg':     Resource.LOAD_TYPE.IMAGE,
    'tif':      Resource.LOAD_TYPE.IMAGE,
    'tiff':     Resource.LOAD_TYPE.IMAGE,
    'webp':     Resource.LOAD_TYPE.IMAGE,
    'tga':      Resource.LOAD_TYPE.IMAGE
};

Resource._xhrTypeMap = {
    // xml
    'xhtml':    Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'html':     Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'htm':      Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'xml':      Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'tmx':      Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'tsx':      Resource.XHR_RESPONSE_TYPE.DOCUMENT,
    'svg':      Resource.XHR_RESPONSE_TYPE.DOCUMENT,

    // images
    'gif':      Resource.XHR_RESPONSE_TYPE.BLOB,
    'png':      Resource.XHR_RESPONSE_TYPE.BLOB,
    'bmp':      Resource.XHR_RESPONSE_TYPE.BLOB,
    'jpg':      Resource.XHR_RESPONSE_TYPE.BLOB,
    'jpeg':     Resource.XHR_RESPONSE_TYPE.BLOB,
    'tif':      Resource.XHR_RESPONSE_TYPE.BLOB,
    'tiff':     Resource.XHR_RESPONSE_TYPE.BLOB,
    'webp':     Resource.XHR_RESPONSE_TYPE.BLOB,
    'tga':      Resource.XHR_RESPONSE_TYPE.BLOB,

    // json
    'json':     Resource.XHR_RESPONSE_TYPE.JSON,

    // text
    'text':     Resource.XHR_RESPONSE_TYPE.TEXT,
    'txt':      Resource.XHR_RESPONSE_TYPE.TEXT
};

/**
 * Sets the load type to be used for a specific extension.
 *
 * @static
 * @param extname {string} The extension to set the type for, e.g. "png" or "fnt"
 * @param loadType {Resource.LOAD_TYPE} The load type to set it to.
 */
Resource.setExtensionLoadType = function (extname, loadType) {
    setExtMap(Resource._loadTypeMap, extname, loadType);
};

/**
 * Sets the load type to be used for a specific extension.
 *
 * @static
 * @param extname {string} The extension to set the type for, e.g. "png" or "fnt"
 * @param xhrType {Resource.XHR_RESPONSE_TYPE} The xhr type to set it to.
 */
Resource.setExtensionXhrType = function (extname, xhrType) {
    setExtMap(Resource._xhrTypeMap, extname, xhrType);
};

function setExtMap(map, extname, val) {
    if (extname && extname.indexOf('.') === 0) {
        extname = extname.substring(1);
    }

    if (!extname) {
        return;
    }

    map[extname] = val;
}

},{"eventemitter3":14,"url":9}],17:[function(require,module,exports){
module.exports = {

    // private property
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",

    encodeBinary: function (input) {
        var output = "";
        var bytebuffer;
        var encodedCharIndexes = new Array(4);
        var inx = 0;
        var jnx = 0;
        var paddingBytes = 0;

        while (inx < input.length) {
            // Fill byte buffer array
            bytebuffer = new Array(3);
            for (jnx = 0; jnx < bytebuffer.length; jnx++) {
                if (inx < input.length) {
                    // throw away high-order byte, as documented at:
                    // https://developer.mozilla.org/En/Using_XMLHttpRequest#Handling_binary_data
                    bytebuffer[jnx] = input.charCodeAt(inx++) & 0xff;
                }
                else {
                    bytebuffer[jnx] = 0;
                }
            }

            // Get each encoded character, 6 bits at a time
            // index 1: first 6 bits
            encodedCharIndexes[0] = bytebuffer[0] >> 2;
            // index 2: second 6 bits (2 least significant bits from input byte 1 + 4 most significant bits from byte 2)
            encodedCharIndexes[1] = ((bytebuffer[0] & 0x3) << 4) | (bytebuffer[1] >> 4);
            // index 3: third 6 bits (4 least significant bits from input byte 2 + 2 most significant bits from byte 3)
            encodedCharIndexes[2] = ((bytebuffer[1] & 0x0f) << 2) | (bytebuffer[2] >> 6);
            // index 3: forth 6 bits (6 least significant bits from input byte 3)
            encodedCharIndexes[3] = bytebuffer[2] & 0x3f;

            // Determine whether padding happened, and adjust accordingly
            paddingBytes = inx - (input.length - 1);
            switch (paddingBytes) {
                case 2:
                    // Set last 2 characters to padding char
                    encodedCharIndexes[3] = 64;
                    encodedCharIndexes[2] = 64;
                    break;

                case 1:
                    // Set last character to padding char
                    encodedCharIndexes[3] = 64;
                    break;

                default:
                    break; // No padding - proceed
            }

            // Now we will grab each appropriate character out of our keystring
            // based on our index array and append it to the output string
            for (jnx = 0; jnx < encodedCharIndexes.length; jnx++) {
                output += this._keyStr.charAt(encodedCharIndexes[jnx]);
            }
        }
        return output;
    }
};

},{}],18:[function(require,module,exports){
module.exports = require('./Loader');

module.exports.Resource = require('./Resource');

module.exports.middleware = {
    caching: {
        memory: require('./middlewares/caching/memory')
    },
    parsing: {
        blob: require('./middlewares/parsing/blob')
    }
};

},{"./Loader":15,"./Resource":16,"./middlewares/caching/memory":19,"./middlewares/parsing/blob":20}],19:[function(require,module,exports){
// a simple in-memory cache for resources
var cache = {};

module.exports = function () {
    return function (resource, next) {
        // if cached, then set data and complete the resource
        if (cache[resource.url]) {
            resource.data = cache[resource.url];
            resource.complete();
        }
        // if not cached, wait for complete and store it in the cache.
        else {
            resource.once('complete', function () {
               cache[this.url] = this.data;
            });

            next();
        }
    };
};

},{}],20:[function(require,module,exports){
var Resource = require('../../Resource'),
    b64 = require('../../b64');

window.URL = window.URL || window.webkitURL;

// a middleware for transforming XHR loaded Blobs into more useful objects

module.exports = function () {
    return function (resource, next) {
        if (!resource.data) {
            return next();
        }

        // if this was an XHR load of a blob
        if (resource.xhr && resource.xhrType === Resource.XHR_RESPONSE_TYPE.BLOB) {
            // if there is no blob support we probably got a binary string back
            if (!window.Blob || typeof resource.data === 'string') {
                var type = resource.xhr.getResponseHeader('content-type');

                // this is an image, convert the binary string into a data url
                if (type && type.indexOf('image') === 0) {
                    resource.data = new Image();
                    resource.data.src = 'data:' + type + ';base64,' + b64.encodeBinary(resource.xhr.responseText);

                    resource.isImage = true;

                    // wait until the image loads and then callback
                    resource.data.onload = function () {
                        resource.data.onload = null;

                        next();
                    };
                }
            }
            // if content type says this is an image, then we should transform the blob into an Image object
            else if (resource.data.type.indexOf('image') === 0) {
                var src = URL.createObjectURL(resource.data);

                resource.blob = resource.data;
                resource.data = new Image();
                resource.data.src = src;

                resource.isImage = true;

                // cleanup the no longer used blob after the image loads
                resource.data.onload = function () {
                    URL.revokeObjectURL(src);
                    resource.data.onload = null;

                    next();
                };
            }
        }
        else {
            next();
        }
    };
};

},{"../../Resource":16,"../../b64":17}],21:[function(require,module,exports){
module.exports={
  "name": "pixi.js",
  "version": "3.0.7",
  "description": "Pixi.js is a fast lightweight 2D library that works across all devices.",
  "author": "Mat Groves",
  "contributors": [
    "Chad Engler <chad@pantherdev.com>",
    "Richard Davey <rdavey@gmail.com>"
  ],
  "main": "./src/index.js",
  "homepage": "http://goodboydigital.com/",
  "bugs": "https://github.com/GoodBoyDigital/pixi.js/issues",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/GoodBoyDigital/pixi.js.git"
  },
  "scripts": {
    "start": "gulp && gulp watch",
    "test": "gulp && testem ci",
    "build": "gulp",
    "docs": "jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"
  },
  "files": [
    "bin/",
    "src/"
  ],
  "dependencies": {
    "async": "^0.9.0",
    "brfs": "^1.4.0",
    "earcut": "^2.0.1",
    "eventemitter3": "^1.1.0",
    "object-assign": "^2.0.0",
    "resource-loader": "^1.6.1"
  },
  "devDependencies": {
    "browserify": "^10.2.3",
    "chai": "^3.0.0",
    "del": "^1.2.0",
    "gulp": "^3.9.0",
    "gulp-cached": "^1.1.0",
    "gulp-concat": "^2.5.2",
    "gulp-debug": "^2.0.1",
    "gulp-jshint": "^1.11.0",
    "gulp-mirror": "^0.4.0",
    "gulp-plumber": "^1.0.1",
    "gulp-rename": "^1.2.2",
    "gulp-sourcemaps": "^1.5.2",
    "gulp-uglify": "^1.2.0",
    "gulp-util": "^3.0.5",
    "jaguarjs-jsdoc": "git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",
    "jsdoc": "^3.3.0",
    "jshint-summary": "^0.4.0",
    "minimist": "^1.1.1",
    "mocha": "^2.2.5",
    "require-dir": "^0.3.0",
    "run-sequence": "^1.1.0",
    "testem": "^0.8.3",
    "vinyl-buffer": "^1.0.0",
    "vinyl-source-stream": "^1.1.0",
    "watchify": "^3.2.1"
  },
  "browserify": {
    "transform": [
      "brfs"
    ]
  }
}

},{}],22:[function(require,module,exports){
/**
 * Constant values used in pixi
 *
 * @lends PIXI
 */
var CONST = {
    /**
     * String of the current PIXI version
     *
     * @static
     * @constant
     * @property {string} VERSION
     */
    VERSION: require('../../package.json').version,

    /**
     * @property {number} PI_2 - Two Pi
     * @constant
     * @static
     */
    PI_2: Math.PI * 2,

    /**
     * @property {number} RAD_TO_DEG - Constant conversion factor for converting radians to degrees
     * @constant
     * @static
     */
    RAD_TO_DEG: 180 / Math.PI,

    /**
     * @property {Number} DEG_TO_RAD - Constant conversion factor for converting degrees to radians
     * @constant
     * @static
     */
    DEG_TO_RAD: Math.PI / 180,

    /**
     * Target frames per millisecond.
     *
     * @static
     * @constant
     * @property {number} TARGET_FPMS=0.06
     */
    TARGET_FPMS: 0.06,

    /**
     * Constant to identify the Renderer Type.
     *
     * @static
     * @constant
     * @property {object} RENDERER_TYPE
     * @property {number} RENDERER_TYPE.UNKNOWN
     * @property {number} RENDERER_TYPE.WEBGL
     * @property {number} RENDERER_TYPE.CANVAS
     */
    RENDERER_TYPE: {
        UNKNOWN:    0,
        WEBGL:      1,
        CANVAS:     2
    },

    /**
     * Various blend modes supported by PIXI. IMPORTANT - The WebGL renderer only supports
     * the NORMAL, ADD, MULTIPLY and SCREEN blend modes. Anything else will silently act like
     * NORMAL.
     *
     * @static
     * @constant
     * @property {object} BLEND_MODES
     * @property {number} BLEND_MODES.NORMAL
     * @property {number} BLEND_MODES.ADD
     * @property {number} BLEND_MODES.MULTIPLY
     * @property {number} BLEND_MODES.SCREEN
     * @property {number} BLEND_MODES.OVERLAY
     * @property {number} BLEND_MODES.DARKEN
     * @property {number} BLEND_MODES.LIGHTEN
     * @property {number} BLEND_MODES.COLOR_DODGE
     * @property {number} BLEND_MODES.COLOR_BURN
     * @property {number} BLEND_MODES.HARD_LIGHT
     * @property {number} BLEND_MODES.SOFT_LIGHT
     * @property {number} BLEND_MODES.DIFFERENCE
     * @property {number} BLEND_MODES.EXCLUSION
     * @property {number} BLEND_MODES.HUE
     * @property {number} BLEND_MODES.SATURATION
     * @property {number} BLEND_MODES.COLOR
     * @property {number} BLEND_MODES.LUMINOSITY
     */
    BLEND_MODES: {
        NORMAL:         0,
        ADD:            1,
        MULTIPLY:       2,
        SCREEN:         3,
        OVERLAY:        4,
        DARKEN:         5,
        LIGHTEN:        6,
        COLOR_DODGE:    7,
        COLOR_BURN:     8,
        HARD_LIGHT:     9,
        SOFT_LIGHT:     10,
        DIFFERENCE:     11,
        EXCLUSION:      12,
        HUE:            13,
        SATURATION:     14,
        COLOR:          15,
        LUMINOSITY:     16
    },

    /**
     * Various webgl draw modes. These can be used to specify which GL drawMode to use
     * under certain situations and renderers.
     *
     * @static
     * @constant
     * @property {object} DRAW_MODES
     * @property {number} DRAW_MODES.POINTS
     * @property {number} DRAW_MODES.LINES
     * @property {number} DRAW_MODES.LINE_LOOP
     * @property {number} DRAW_MODES.LINE_STRIP
     * @property {number} DRAW_MODES.TRIANGLES
     * @property {number} DRAW_MODES.TRIANGLE_STRIP
     * @property {number} DRAW_MODES.TRIANGLE_FAN
     */
    DRAW_MODES: {
        POINTS:         0,
        LINES:          1,
        LINE_LOOP:      2,
        LINE_STRIP:     3,
        TRIANGLES:      4,
        TRIANGLE_STRIP: 5,
        TRIANGLE_FAN:   6
    },

    /**
     * The scale modes that are supported by pixi.
     *
     * The DEFAULT scale mode affects the default scaling mode of future operations.
     * It can be re-assigned to either LINEAR or NEAREST, depending upon suitability.
     *
     * @static
     * @constant
     * @property {object} SCALE_MODES
     * @property {number} SCALE_MODES.DEFAULT=LINEAR
     * @property {number} SCALE_MODES.LINEAR Smooth scaling
     * @property {number} SCALE_MODES.NEAREST Pixelating scaling
     */
    SCALE_MODES: {
        DEFAULT:    0,
        LINEAR:     0,
        NEAREST:    1
    },

    /**
     * The prefix that denotes a URL is for a retina asset
     *
     * @static
     * @constant
     * @property {string} RETINA_PREFIX
     */
    //example: '@2x',
    RETINA_PREFIX: /@(.+)x/,

    RESOLUTION:1,

    FILTER_RESOLUTION:1,

    /**
     * The default render options if none are supplied to {@link PIXI.WebGLRenderer}
     * or {@link PIXI.CanvasRenderer}.
     *
     * @static
     * @constant
     * @property {object} DEFAULT_RENDER_OPTIONS
     * @property {HTMLCanvasElement} DEFAULT_RENDER_OPTIONS.view=null
     * @property {boolean} DEFAULT_RENDER_OPTIONS.transparent=false
     * @property {boolean} DEFAULT_RENDER_OPTIONS.antialias=false
     * @property {boolean} DEFAULT_RENDER_OPTIONS.forceFXAA=false
     * @property {boolean} DEFAULT_RENDER_OPTIONS.preserveDrawingBuffer=false
     * @property {number} DEFAULT_RENDER_OPTIONS.resolution=1
     * @property {number} DEFAULT_RENDER_OPTIONS.backgroundColor=0x000000
     * @property {boolean} DEFAULT_RENDER_OPTIONS.clearBeforeRender=true
     * @property {boolean} DEFAULT_RENDER_OPTIONS.autoResize=false
     */
    DEFAULT_RENDER_OPTIONS: {
        view: null,
        resolution: 1,
        antialias: false,
        forceFXAA: false,
        autoResize: false,
        transparent: false,
        backgroundColor: 0x000000,
        clearBeforeRender: true,
        preserveDrawingBuffer: false
    },

    /**
     * Constants that identify shapes, mainly to prevent `instanceof` calls.
     *
     * @static
     * @constant
     * @property {object} SHAPES
     * @property {object} SHAPES.POLY=0
     * @property {object} SHAPES.RECT=1
     * @property {object} SHAPES.CIRC=2
     * @property {object} SHAPES.ELIP=3
     * @property {object} SHAPES.RREC=4
     */
    SHAPES: {
        POLY: 0,
        RECT: 1,
        CIRC: 2,
        ELIP: 3,
        RREC: 4
    },

    // TODO: maybe change to SPRITE.BATCH_SIZE: 2000
    // TODO: maybe add PARTICLE.BATCH_SIZE: 15000
    SPRITE_BATCH_SIZE: 2000 //nice balance between mobile and desktop machines
};

module.exports = CONST;

},{"../../package.json":21}],23:[function(require,module,exports){
var math = require('../math'),
    DisplayObject = require('./DisplayObject'),
    RenderTexture = require('../textures/RenderTexture'),
    _tempMatrix = new math.Matrix();

/**
 * A Container represents a collection of display objects.
 * It is the base class of all display objects that act as a container for other objects.
 *
 *```js
 * var container = new PIXI.Container();
 * container.addChild(sprite);
 * ```
 * @class
 * @extends PIXI.DisplayObject
 * @memberof PIXI
 */
function Container()
{
    DisplayObject.call(this);

    /**
     * The array of children of this container.
     *
     * @member {DisplayObject[]}
     * @readonly
     */
    this.children = [];
}

// constructor
Container.prototype = Object.create(DisplayObject.prototype);
Container.prototype.constructor = Container;
module.exports = Container;

Object.defineProperties(Container.prototype, {
    /**
     * The width of the Container, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof PIXI.Container#
     */
    width: {
        get: function ()
        {
            return this.scale.x * this.getLocalBounds().width;
        },
        set: function (value)
        {

            var width = this.getLocalBounds().width;

            if (width !== 0)
            {
                this.scale.x = value / width;
            }
            else
            {
                this.scale.x = 1;
            }


            this._width = value;
        }
    },

    /**
     * The height of the Container, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof PIXI.Container#
     */
    height: {
        get: function ()
        {
            return  this.scale.y * this.getLocalBounds().height;
        },
        set: function (value)
        {

            var height = this.getLocalBounds().height;

            if (height !== 0)
            {
                this.scale.y = value / height ;
            }
            else
            {
                this.scale.y = 1;
            }

            this._height = value;
        }
    }
});

/**
 * Adds a child to the container.
 *
 * @param child {DisplayObject} The DisplayObject to add to the container
 * @return {DisplayObject} The child that was added.
 */
Container.prototype.addChild = function (child)
{
    return this.addChildAt(child, this.children.length);
};

/**
 * Adds a child to the container at a specified index. If the index is out of bounds an error will be thrown
 *
 * @param child {DisplayObject} The child to add
 * @param index {Number} The index to place the child in
 * @return {DisplayObject} The child that was added.
 */
Container.prototype.addChildAt = function (child, index)
{
    // prevent adding self as child
    if (child === this)
    {
        return child;
    }

    if (index >= 0 && index <= this.children.length)
    {
        if (child.parent)
        {
            child.parent.removeChild(child);
        }

        child.parent = this;

        this.children.splice(index, 0, child);

        child.emit('added', this);

        return child;
    }
    else
    {
        throw new Error(child + 'addChildAt: The index '+ index +' supplied is out of bounds ' + this.children.length);
    }
};

/**
 * Swaps the position of 2 Display Objects within this container.
 *
 * @param child {DisplayObject}
 * @param child2 {DisplayObject}
 */
Container.prototype.swapChildren = function (child, child2)
{
    if (child === child2)
    {
        return;
    }

    var index1 = this.getChildIndex(child);
    var index2 = this.getChildIndex(child2);

    if (index1 < 0 || index2 < 0)
    {
        throw new Error('swapChildren: Both the supplied DisplayObjects must be children of the caller.');
    }

    this.children[index1] = child2;
    this.children[index2] = child;
};

/**
 * Returns the index position of a child DisplayObject instance
 *
 * @param child {DisplayObject} The DisplayObject instance to identify
 * @return {Number} The index position of the child display object to identify
 */
Container.prototype.getChildIndex = function (child)
{
    var index = this.children.indexOf(child);

    if (index === -1)
    {
        throw new Error('The supplied DisplayObject must be a child of the caller');
    }

    return index;
};

/**
 * Changes the position of an existing child in the display object container
 *
 * @param child {DisplayObject} The child DisplayObject instance for which you want to change the index number
 * @param index {Number} The resulting index number for the child display object
 */
Container.prototype.setChildIndex = function (child, index)
{
    if (index < 0 || index >= this.children.length)
    {
        throw new Error('The supplied index is out of bounds');
    }

    var currentIndex = this.getChildIndex(child);

    this.children.splice(currentIndex, 1); //remove from old position
    this.children.splice(index, 0, child); //add at new position
};

/**
 * Returns the child at the specified index
 *
 * @param index {Number} The index to get the child at
 * @return {DisplayObject} The child at the given index, if any.
 */
Container.prototype.getChildAt = function (index)
{
    if (index < 0 || index >= this.children.length)
    {
        throw new Error('getChildAt: Supplied index ' + index + ' does not exist in the child list, or the supplied DisplayObject is not a child of the caller');
    }

    return this.children[index];
};

/**
 * Removes a child from the container.
 *
 * @param child {DisplayObject} The DisplayObject to remove
 * @return {DisplayObject} The child that was removed.
 */
Container.prototype.removeChild = function (child)
{
    var index = this.children.indexOf(child);

    if (index === -1)
    {
        return;
    }

    return this.removeChildAt(index);
};

/**
 * Removes a child from the specified index position.
 *
 * @param index {Number} The index to get the child from
 * @return {DisplayObject} The child that was removed.
 */
Container.prototype.removeChildAt = function (index)
{
    var child = this.getChildAt(index);

    child.parent = null;
    this.children.splice(index, 1);

    child.emit('removed', this);

    return child;
};

/**
 * Removes all children from this container that are within the begin and end indexes.
 *
 * @param beginIndex {Number} The beginning position. Default value is 0.
 * @param endIndex {Number} The ending position. Default value is size of the container.
 */
Container.prototype.removeChildren = function (beginIndex, endIndex)
{
    var begin = beginIndex || 0;
    var end = typeof endIndex === 'number' ? endIndex : this.children.length;
    var range = end - begin;

    if (range > 0 && range <= end)
    {
        var removed = this.children.splice(begin, range);

        for (var i = 0; i < removed.length; ++i)
        {
            removed[i].parent = null;
        }

        return removed;
    }
    else if (range === 0 && this.children.length === 0)
    {
        return [];
    }
    else
    {
        throw new RangeError('removeChildren: numeric values are outside the acceptable range.');
    }
};

/**
 * Useful function that returns a texture of the display object that can then be used to create sprites
 * This can be quite useful if your displayObject is static / complicated and needs to be reused multiple times.
 *
 * @param renderer {CanvasRenderer|WebGLRenderer} The renderer used to generate the texture.
 * @param resolution {Number} The resolution of the texture being generated
 * @param scaleMode {Number} See {@link SCALE_MODES} for possible values
 * @return {Texture} a texture of the display object
 */
Container.prototype.generateTexture = function (renderer, resolution, scaleMode)
{
    var bounds = this.getLocalBounds();

    var renderTexture = new RenderTexture(renderer, bounds.width | 0, bounds.height | 0, scaleMode, resolution);

    _tempMatrix.tx = -bounds.x;
    _tempMatrix.ty = -bounds.y;

    renderTexture.render(this, _tempMatrix);

    return renderTexture;
};

/*
 * Updates the transform on all children of this container for rendering
 *
 * @private
 */
Container.prototype.updateTransform = function ()
{
    if (!this.visible)
    {
        return;
    }

    this.displayObjectUpdateTransform();

    for (var i = 0, j = this.children.length; i < j; ++i)
    {
        this.children[i].updateTransform();
    }
};

// performance increase to avoid using call.. (10x faster)
Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;

/**
 * Retrieves the bounds of the Container as a rectangle. The bounds calculation takes all visible children into consideration.
 *
 * @return {Rectangle} The rectangular bounding area
 */
Container.prototype.getBounds = function ()
{
    if(!this._currentBounds)
    {

        if (this.children.length === 0)
        {
            return math.Rectangle.EMPTY;
        }

        // TODO the bounds have already been calculated this render session so return what we have

        var minX = Infinity;
        var minY = Infinity;

        var maxX = -Infinity;
        var maxY = -Infinity;

        var childBounds;
        var childMaxX;
        var childMaxY;

        var childVisible = false;

        for (var i = 0, j = this.children.length; i < j; ++i)
        {
            var child = this.children[i];

            if (!child.visible)
            {
                continue;
            }

            childVisible = true;

            childBounds = this.children[i].getBounds();

            minX = minX < childBounds.x ? minX : childBounds.x;
            minY = minY < childBounds.y ? minY : childBounds.y;

            childMaxX = childBounds.width + childBounds.x;
            childMaxY = childBounds.height + childBounds.y;

            maxX = maxX > childMaxX ? maxX : childMaxX;
            maxY = maxY > childMaxY ? maxY : childMaxY;
        }

        if (!childVisible)
        {
            return math.Rectangle.EMPTY;
        }

        var bounds = this._bounds;

        bounds.x = minX;
        bounds.y = minY;
        bounds.width = maxX - minX;
        bounds.height = maxY - minY;

        this._currentBounds = bounds;
    }

    return this._currentBounds;
};

Container.prototype.containerGetBounds = Container.prototype.getBounds;

/**
 * Retrieves the non-global local bounds of the Container as a rectangle.
 * The calculation takes all visible children into consideration.
 *
 * @return {Rectangle} The rectangular bounding area
 */
Container.prototype.getLocalBounds = function ()
{
    var matrixCache = this.worldTransform;

    this.worldTransform = math.Matrix.IDENTITY;

    for (var i = 0, j = this.children.length; i < j; ++i)
    {
        this.children[i].updateTransform();
    }

    this.worldTransform = matrixCache;

    this._currentBounds = null;

    return this.getBounds( math.Matrix.IDENTITY );
};

/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer} The renderer
 */
Container.prototype.renderWebGL = function (renderer)
{

    // if the object is not visible or the alpha is 0 then no need to render this element
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable)
    {
        return;
    }

    var i, j;

    // do a quick check to see if this element has a mask or a filter.
    if (this._mask || this._filters)
    {
        renderer.currentRenderer.flush();

        // push filter first as we need to ensure the stencil buffer is correct for any masking
        if (this._filters)
        {
            renderer.filterManager.pushFilter(this, this._filters);
        }

        if (this._mask)
        {
            renderer.maskManager.pushMask(this, this._mask);
        }

        renderer.currentRenderer.start();

        // add this object to the batch, only rendered if it has a texture.
        this._renderWebGL(renderer);

        // now loop through the children and make sure they get rendered
        for (i = 0, j = this.children.length; i < j; i++)
        {
            this.children[i].renderWebGL(renderer);
        }

        renderer.currentRenderer.flush();

        if (this._mask)
        {
            renderer.maskManager.popMask(this, this._mask);
        }

        if (this._filters)
        {
            renderer.filterManager.popFilter();

        }
        renderer.currentRenderer.start();
    }
    else
    {
        this._renderWebGL(renderer);

        // simple render children!
        for (i = 0, j = this.children.length; i < j; ++i)
        {
            this.children[i].renderWebGL(renderer);
        }
    }
};

/**
 * To be overridden by the subclass
 *
 * @param renderer {WebGLRenderer} The renderer
 * @private
 */
Container.prototype._renderWebGL = function (renderer) // jshint unused:false
{
    // this is where content itself gets rendered...
};

/**
 * To be overridden by the subclass
 *
 * @param renderer {CanvasRenderer} The renderer
 * @private
 */
Container.prototype._renderCanvas = function (renderer) // jshint unused:false
{
    // this is where content itself gets rendered...
};


/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer} The renderer
 */
Container.prototype.renderCanvas = function (renderer)
{
    // if not visible or the alpha is 0 then no need to render this
    if (!this.visible || this.alpha <= 0 || !this.renderable)
    {
        return;
    }

    if (this._mask)
    {
        renderer.maskManager.pushMask(this._mask, renderer);
    }

    this._renderCanvas(renderer);
    for (var i = 0, j = this.children.length; i < j; ++i)
    {
        this.children[i].renderCanvas(renderer);
    }

    if (this._mask)
    {
        renderer.maskManager.popMask(renderer);
    }
};

/**
 * Destroys the container
 * @param [destroyChildren=false] {boolean} if set to true, all the children will have their destroy method called as well
 */
Container.prototype.destroy = function (destroyChildren)
{
    DisplayObject.prototype.destroy.call(this);

    if (destroyChildren)
    {
        for (var i = 0, j = this.children.length; i < j; ++i)
        {
            this.children[i].destroy(destroyChildren);
        }
    }

    this.removeChildren();

    this.children = null;
};

},{"../math":32,"../textures/RenderTexture":70,"./DisplayObject":24}],24:[function(require,module,exports){
var math = require('../math'),
    RenderTexture = require('../textures/RenderTexture'),
    EventEmitter = require('eventemitter3'),
    CONST = require('../const'),
    _tempMatrix = new math.Matrix();

/**
 * The base class for all objects that are rendered on the screen.
 * This is an abstract class and should not be used on its own rather it should be extended.
 *
 * @class
 * @extends EventEmitter
 * @memberof PIXI
 */
function DisplayObject()
{
    EventEmitter.call(this);

    /**
     * The coordinate of the object relative to the local coordinates of the parent.
     *
     * @member {Point}
     */
    this.position = new math.Point();

    /**
     * The scale factor of the object.
     *
     * @member {Point}
     */
    this.scale = new math.Point(1, 1);

    /**
     * The pivot point of the displayObject that it rotates around
     *
     * @member {Point}
     */
    this.pivot = new math.Point(0, 0);

    /**
     * The rotation of the object in radians.
     *
     * @member {number}
     */
    this.rotation = 0;

    /**
     * The opacity of the object.
     *
     * @member {number}
     */
    this.alpha = 1;

    /**
     * The visibility of the object. If false the object will not be drawn, and
     * the updateTransform function will not be called.
     *
     * @member {boolean}
     */
    this.visible = true;

    /**
     * Can this object be rendered, if false the object will not be drawn but the updateTransform
     * methods will still be called.
     *
     * @member {boolean}
     */
    this.renderable = true;

    /**
     * The display object container that contains this display object.
     *
     * @member {Container}
     * @readOnly
     */
    this.parent = null;

    /**
     * The multiplied alpha of the displayObject
     *
     * @member {number}
     * @readOnly
     */
    this.worldAlpha = 1;

    /**
     * Current transform of the object based on world (parent) factors
     *
     * @member {Matrix}
     * @readOnly
     */
    this.worldTransform = new math.Matrix();

    /**
     * The area the filter is applied to. This is used as more of an optimisation
     * rather than figuring out the dimensions of the displayObject each frame you can set this rectangle
     *
     * @member {Rectangle}
     */
    this.filterArea = null;

    /**
     * cached sin rotation
     *
     * @member {number}
     * @private
     */
    this._sr = 0;

    /**
     * cached cos rotation
     *
     * @member {number}
     * @private
     */
    this._cr = 1;

    /**
     * The original, cached bounds of the object
     *
     * @member {Rectangle}
     * @private
     */
    this._bounds = new math.Rectangle(0, 0, 1, 1);

    /**
     * The most up-to-date bounds of the object
     *
     * @member {Rectangle}
     * @private
     */
    this._currentBounds = null;

    /**
     * The original, cached mask of the object
     *
     * @member {Rectangle}
     * @private
     */
    this._mask = null;

    //TODO rename to _isMask
   // this.isMask = false;

    /**
     * Cached internal flag.
     *
     * @member {boolean}
     * @private
     */
    this._cacheAsBitmap = false;
    this._cachedObject = null;
}

// constructor
DisplayObject.prototype = Object.create(EventEmitter.prototype);
DisplayObject.prototype.constructor = DisplayObject;
module.exports = DisplayObject;

Object.defineProperties(DisplayObject.prototype, {
    /**
     * The position of the displayObject on the x axis relative to the local coordinates of the parent.
     *
     * @member {number}
     * @memberof DisplayObject#
     */
    x: {
        get: function ()
        {
            return this.position.x;
        },
        set: function (value)
        {
            this.position.x = value;
        }
    },

    /**
     * The position of the displayObject on the y axis relative to the local coordinates of the parent.
     *
     * @member {number}
     * @memberof DisplayObject#
     */
    y: {
        get: function ()
        {
            return this.position.y;
        },
        set: function (value)
        {
            this.position.y = value;
        }
    },

    /**
     * Indicates if the sprite is globally visible.
     *
     * @member {boolean}
     * @memberof PIXI.DisplayObject#
     * @readonly
     */
    worldVisible: {
        get: function ()
        {
            var item = this;

            do {
                if (!item.visible)
                {
                    return false;
                }

                item = item.parent;
            } while (item);

            return true;
        }
    },

    /**
     * Sets a mask for the displayObject. A mask is an object that limits the visibility of an object to the shape of the mask applied to it.
     * In PIXI a regular mask must be a PIXI.Graphics object. This allows for much faster masking in canvas as it utilises shape clipping.
     * To remove a mask, set this property to null.
     *
     * @member {Graphics}
     * @memberof PIXI.DisplayObject#
     */
    mask: {
        get: function ()
        {
            return this._mask;
        },
        set: function (value)
        {
            if (this._mask)
            {
                this._mask.renderable = true;
            }

            this._mask = value;

            if (this._mask)
            {
                this._mask.renderable = false;
            }
        }
    },

    /**
     * Sets the filters for the displayObject.
     * * IMPORTANT: This is a webGL only feature and will be ignored by the canvas renderer.
     * To remove filters simply set this property to 'null'
     *
     * @member {Filter[]}
     * @memberof PIXI.DisplayObject#
     */
    filters: {
        get: function ()
        {
            return this._filters && this._filters.slice();
        },
        set: function (value)
        {
            this._filters = value && value.slice();
        }
    }

});

/*
 * Updates the object transform for rendering
 *
 * TODO - Optimization pass!
 */
DisplayObject.prototype.updateTransform = function ()
{

    // create some matrix refs for easy access
    var pt = this.parent.worldTransform;
    var wt = this.worldTransform;

    // temporary matrix variables
    var a, b, c, d, tx, ty;

    // so if rotation is between 0 then we can simplify the multiplication process...
    if (this.rotation % CONST.PI_2)
    {
        // check to see if the rotation is the same as the previous render. This means we only need to use sin and cos when rotation actually changes
        if (this.rotation !== this.rotationCache)
        {
            this.rotationCache = this.rotation;
            this._sr = Math.sin(this.rotation);
            this._cr = Math.cos(this.rotation);
        }

        // get the matrix values of the displayobject based on its transform properties..
        a  =  this._cr * this.scale.x;
        b  =  this._sr * this.scale.x;
        c  = -this._sr * this.scale.y;
        d  =  this._cr * this.scale.y;
        tx =  this.position.x;
        ty =  this.position.y;

        // check for pivot.. not often used so geared towards that fact!
        if (this.pivot.x || this.pivot.y)
        {
            tx -= this.pivot.x * a + this.pivot.y * c;
            ty -= this.pivot.x * b + this.pivot.y * d;
        }

        // concat the parent matrix with the objects transform.
        wt.a  = a  * pt.a + b  * pt.c;
        wt.b  = a  * pt.b + b  * pt.d;
        wt.c  = c  * pt.a + d  * pt.c;
        wt.d  = c  * pt.b + d  * pt.d;
        wt.tx = tx * pt.a + ty * pt.c + pt.tx;
        wt.ty = tx * pt.b + ty * pt.d + pt.ty;
    }
    else
    {
        // lets do the fast version as we know there is no rotation..
        a  = this.scale.x;
        d  = this.scale.y;

        tx = this.position.x - this.pivot.x * a;
        ty = this.position.y - this.pivot.y * d;

        wt.a  = a  * pt.a;
        wt.b  = a  * pt.b;
        wt.c  = d  * pt.c;
        wt.d  = d  * pt.d;
        wt.tx = tx * pt.a + ty * pt.c + pt.tx;
        wt.ty = tx * pt.b + ty * pt.d + pt.ty;
    }

    // multiply the alphas..
    this.worldAlpha = this.alpha * this.parent.worldAlpha;

    // reset the bounds each time this is called!
    this._currentBounds = null;
};

// performance increase to avoid using call.. (10x faster)
DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;

/**
 *
 *
 * Retrieves the bounds of the displayObject as a rectangle object
 *
 * @param matrix {Matrix}
 * @return {Rectangle} the rectangular bounding area
 */
DisplayObject.prototype.getBounds = function (matrix) // jshint unused:false
{
    return math.Rectangle.EMPTY;
};

/**
 * Retrieves the local bounds of the displayObject as a rectangle object
 *
 * @return {Rectangle} the rectangular bounding area
 */
DisplayObject.prototype.getLocalBounds = function ()
{
    return this.getBounds(math.Matrix.IDENTITY);
};

/**
 * Calculates the global position of the display object
 *
 * @param position {Point} The world origin to calculate from
 * @return {Point} A point object representing the position of this object
 */
DisplayObject.prototype.toGlobal = function (position)
{
    // don't need to update the lot
    this.displayObjectUpdateTransform();
    return this.worldTransform.apply(position);
};

/**
 * Calculates the local position of the display object relative to another point
 *
 * @param position {Point} The world origin to calculate from
 * @param [from] {DisplayObject} The DisplayObject to calculate the global position from
 * @return {Point} A point object representing the position of this object
 */
DisplayObject.prototype.toLocal = function (position, from)
{
    if (from)
    {
        position = from.toGlobal(position);
    }

    // don't need to update the lot
    this.displayObjectUpdateTransform();
    return this.worldTransform.applyInverse(position);
};

/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer} The renderer
 * @private
 */
DisplayObject.prototype.renderWebGL = function (renderer) // jshint unused:false
{
    // OVERWRITE;
};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer} The renderer
 * @private
 */
DisplayObject.prototype.renderCanvas = function (renderer) // jshint unused:false
{
    // OVERWRITE;
};
/**
 * Useful function that returns a texture of the display object that can then be used to create sprites
 * This can be quite useful if your displayObject is static / complicated and needs to be reused multiple times.
 *
 * @param renderer {CanvasRenderer|WebGLRenderer} The renderer used to generate the texture.
 * @param scaleMode {Number} See {@link SCALE_MODES} for possible values
 * @param resolution {Number} The resolution of the texture being generated
 * @return {Texture} a texture of the display object
 */
DisplayObject.prototype.generateTexture = function (renderer, scaleMode, resolution)
{
    var bounds = this.getLocalBounds();

    var renderTexture = new RenderTexture(renderer, bounds.width | 0, bounds.height | 0, scaleMode, resolution);

    _tempMatrix.tx = -bounds.x;
    _tempMatrix.ty = -bounds.y;

    renderTexture.render(this, _tempMatrix);

    return renderTexture;
};

/**
 * Base destroy method for generic display objects
 *
 */
DisplayObject.prototype.destroy = function ()
{

    this.position = null;
    this.scale = null;
    this.pivot = null;

    this.parent = null;

    this._bounds = null;
    this._currentBounds = null;
    this._mask = null;

    this.worldTransform = null;
    this.filterArea = null;
};

},{"../const":22,"../math":32,"../textures/RenderTexture":70,"eventemitter3":11}],25:[function(require,module,exports){
var Container = require('../display/Container'),
    Texture = require('../textures/Texture'),
    CanvasBuffer = require('../renderers/canvas/utils/CanvasBuffer'),
    CanvasGraphics = require('../renderers/canvas/utils/CanvasGraphics'),
    GraphicsData = require('./GraphicsData'),
    math = require('../math'),
    CONST = require('../const'),
    tempPoint = new math.Point();

/**
 * The Graphics class contains methods used to draw primitive shapes such as lines, circles and
 * rectangles to the display, and to color and fill them.
 *
 * @class
 * @extends PIXI.Container
 * @memberof PIXI
 */
function Graphics()
{
    Container.call(this);

    /**
     * The alpha value used when filling the Graphics object.
     *
     * @member {number}
     * @default 1
     */
    this.fillAlpha = 1;

    /**
     * The width (thickness) of any lines drawn.
     *
     * @member {number}
     * @default 0
     */
    this.lineWidth = 0;

    /**
     * The color of any lines drawn.
     *
     * @member {string}
     * @default 0
     */
    this.lineColor = 0;

    /**
     * Graphics data
     *
     * @member {GraphicsData[]}
     * @private
     */
    this.graphicsData = [];

    /**
     * The tint applied to the graphic shape. This is a hex value. Apply a value of 0xFFFFFF to reset the tint.
     *
     * @member {number}
     * @default 0xFFFFFF
     */
    this.tint = 0xFFFFFF;

    /**
     * The previous tint applied to the graphic shape. Used to compare to the current tint and check if theres change.
     *
     * @member {number}
     * @private
     * @default 0xFFFFFF
     */
    this._prevTint = 0xFFFFFF;

    /**
     * The blend mode to be applied to the graphic shape. Apply a value of blendModes.NORMAL to reset the blend mode.
     *
     * @member {number}
     * @default CONST.BLEND_MODES.NORMAL;
     */
    this.blendMode = CONST.BLEND_MODES.NORMAL;

    /**
     * Current path
     *
     * @member {GraphicsData}
     * @private
     */
    this.currentPath = null;

    /**
     * Array containing some WebGL-related properties used by the WebGL renderer.
     *
     * @member {object<number, object>}
     * @private
     */
    // TODO - _webgl should use a prototype object, not a random undocumented object...
    this._webGL = {};

    /**
     * Whether this shape is being used as a mask.
     *
     * @member {boolean}
     */
    this.isMask = false;

    /**
     * The bounds' padding used for bounds calculation.
     *
     * @member {number}
     */
    this.boundsPadding = 0;

    /**
     * A cache of the local bounds to prevent recalculation.
     *
     * @member {Rectangle}
     * @private
     */
    this._localBounds = new math.Rectangle(0,0,1,1);

    /**
     * Used to detect if the graphics object has changed. If this is set to true then the graphics
     * object will be recalculated.
     *
     * @member {boolean}
     * @private
     */
    this.dirty = true;

    /**
     * Used to detect if the WebGL graphics object has changed. If this is set to true then the
     * graphics object will be recalculated.
     *
     * @member {boolean}
     * @private
     */
    this.glDirty = false;

    this.boundsDirty = true;

    /**
     * Used to detect if the cached sprite object needs to be updated.
     *
     * @member {boolean}
     * @private
     */
    this.cachedSpriteDirty = false;
}

// constructor
Graphics.prototype = Object.create(Container.prototype);
Graphics.prototype.constructor = Graphics;
module.exports = Graphics;

Object.defineProperties(Graphics.prototype, {
    /**
     * When cacheAsBitmap is set to true the graphics object will be rendered as if it was a sprite.
     * This is useful if your graphics element does not change often, as it will speed up the rendering
     * of the object in exchange for taking up texture memory. It is also useful if you need the graphics
     * object to be anti-aliased, because it will be rendered using canvas. This is not recommended if
     * you are constantly redrawing the graphics element.
     *
     * @member {boolean}
     * @memberof Graphics#
     * @default false
     * @private
     */

});

/**
 * Creates a new Graphics object with the same values as this one.
 * Note that the only the properties of the object are cloned, not its transform (position,scale,etc)
 *
 * @return {Graphics}
 */
Graphics.prototype.clone = function ()
{
    var clone = new Graphics();

    clone.renderable    = this.renderable;
    clone.fillAlpha     = this.fillAlpha;
    clone.lineWidth     = this.lineWidth;
    clone.lineColor     = this.lineColor;
    clone.tint          = this.tint;
    clone.blendMode     = this.blendMode;
    clone.isMask        = this.isMask;
    clone.boundsPadding = this.boundsPadding;
    clone.dirty         = this.dirty;
    clone.glDirty       = this.glDirty;
    clone.cachedSpriteDirty = this.cachedSpriteDirty;

    // copy graphics data
    for (var i = 0; i < this.graphicsData.length; ++i)
    {
        clone.graphicsData.push(this.graphicsData[i].clone());
    }

    clone.currentPath = clone.graphicsData[clone.graphicsData.length - 1];

    clone.updateLocalBounds();

    return clone;
};

/**
 * Specifies the line style used for subsequent calls to Graphics methods such as the lineTo() method or the drawCircle() method.
 *
 * @param lineWidth {number} width of the line to draw, will update the objects stored style
 * @param color {number} color of the line to draw, will update the objects stored style
 * @param alpha {number} alpha of the line to draw, will update the objects stored style
 * @return {Graphics}
 */
Graphics.prototype.lineStyle = function (lineWidth, color, alpha)
{
    this.lineWidth = lineWidth || 0;
    this.lineColor = color || 0;
    this.lineAlpha = (alpha === undefined) ? 1 : alpha;

    if (this.currentPath)
    {
        if (this.currentPath.shape.points.length)
        {
            // halfway through a line? start a new one!
            this.drawShape( new math.Polygon( this.currentPath.shape.points.slice(-2) ));
        }
        else
        {
            // otherwise its empty so lets just set the line properties
            this.currentPath.lineWidth = this.lineWidth;
            this.currentPath.lineColor = this.lineColor;
            this.currentPath.lineAlpha = this.lineAlpha;
        }
    }

    return this;
};

/**
 * Moves the current drawing position to x, y.
 *
 * @param x {number} the X coordinate to move to
 * @param y {number} the Y coordinate to move to
 * @return {Graphics}
  */
Graphics.prototype.moveTo = function (x, y)
{
    this.drawShape(new math.Polygon([x,y]));

    return this;
};

/**
 * Draws a line using the current line style from the current drawing position to (x, y);
 * The current drawing position is then set to (x, y).
 *
 * @param x {number} the X coordinate to draw to
 * @param y {number} the Y coordinate to draw to
 * @return {Graphics}
 */
Graphics.prototype.lineTo = function (x, y)
{
    this.currentPath.shape.points.push(x, y);
    this.dirty = true;

    return this;
};

/**
 * Calculate the points for a quadratic bezier curve and then draws it.
 * Based on: https://stackoverflow.com/questions/785097/how-do-i-implement-a-bezier-curve-in-c
 *
 * @param cpX {number} Control point x
 * @param cpY {number} Control point y
 * @param toX {number} Destination point x
 * @param toY {number} Destination point y
 * @return {Graphics}
 */
Graphics.prototype.quadraticCurveTo = function (cpX, cpY, toX, toY)
{
    if (this.currentPath)
    {
        if (this.currentPath.shape.points.length === 0)
        {
            this.currentPath.shape.points = [0, 0];
        }
    }
    else
    {
        this.moveTo(0,0);
    }

    var xa,
        ya,
        n = 20,
        points = this.currentPath.shape.points;

    if (points.length === 0)
    {
        this.moveTo(0, 0);
    }

    var fromX = points[points.length-2];
    var fromY = points[points.length-1];

    var j = 0;
    for (var i = 1; i <= n; ++i)
    {
        j = i / n;

        xa = fromX + ( (cpX - fromX) * j );
        ya = fromY + ( (cpY - fromY) * j );

        points.push( xa + ( ((cpX + ( (toX - cpX) * j )) - xa) * j ),
                     ya + ( ((cpY + ( (toY - cpY) * j )) - ya) * j ) );
    }

    this.dirty = this.boundsDirty = true;

    return this;
};

/**
 * Calculate the points for a bezier curve and then draws it.
 *
 * @param cpX {number} Control point x
 * @param cpY {number} Control point y
 * @param cpX2 {number} Second Control point x
 * @param cpY2 {number} Second Control point y
 * @param toX {number} Destination point x
 * @param toY {number} Destination point y
 * @return {Graphics}
 */
Graphics.prototype.bezierCurveTo = function (cpX, cpY, cpX2, cpY2, toX, toY)
{
    if (this.currentPath)
    {
        if (this.currentPath.shape.points.length === 0)
        {
            this.currentPath.shape.points = [0, 0];
        }
    }
    else
    {
        this.moveTo(0,0);
    }

    var n = 20,
        dt,
        dt2,
        dt3,
        t2,
        t3,
        points = this.currentPath.shape.points;

    var fromX = points[points.length-2];
    var fromY = points[points.length-1];

    var j = 0;

    for (var i = 1; i <= n; ++i)
    {
        j = i / n;

        dt = (1 - j);
        dt2 = dt * dt;
        dt3 = dt2 * dt;

        t2 = j * j;
        t3 = t2 * j;

        points.push( dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX,
                     dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
    }

    this.dirty = this.boundsDirty = true;

    return this;
};

/**
 * The arcTo() method creates an arc/curve between two tangents on the canvas.
 *
 * "borrowed" from https://code.google.com/p/fxcanvas/ - thanks google!
 *
 * @param x1 {number} The x-coordinate of the beginning of the arc
 * @param y1 {number} The y-coordinate of the beginning of the arc
 * @param x2 {number} The x-coordinate of the end of the arc
 * @param y2 {number} The y-coordinate of the end of the arc
 * @param radius {number} The radius of the arc
 * @return {Graphics}
 */
Graphics.prototype.arcTo = function (x1, y1, x2, y2, radius)
{
    if (this.currentPath)
    {
        if (this.currentPath.shape.points.length === 0)
        {
            this.currentPath.shape.points.push(x1, y1);
        }
    }
    else
    {
        this.moveTo(x1, y1);
    }

    var points = this.currentPath.shape.points,
        fromX = points[points.length-2],
        fromY = points[points.length-1],
        a1 = fromY - y1,
        b1 = fromX - x1,
        a2 = y2   - y1,
        b2 = x2   - x1,
        mm = Math.abs(a1 * b2 - b1 * a2);

    if (mm < 1.0e-8 || radius === 0)
    {
        if (points[points.length-2] !== x1 || points[points.length-1] !== y1)
        {
            points.push(x1, y1);
        }
    }
    else
    {
        var dd = a1 * a1 + b1 * b1,
            cc = a2 * a2 + b2 * b2,
            tt = a1 * a2 + b1 * b2,
            k1 = radius * Math.sqrt(dd) / mm,
            k2 = radius * Math.sqrt(cc) / mm,
            j1 = k1 * tt / dd,
            j2 = k2 * tt / cc,
            cx = k1 * b2 + k2 * b1,
            cy = k1 * a2 + k2 * a1,
            px = b1 * (k2 + j1),
            py = a1 * (k2 + j1),
            qx = b2 * (k1 + j2),
            qy = a2 * (k1 + j2),
            startAngle = Math.atan2(py - cy, px - cx),
            endAngle   = Math.atan2(qy - cy, qx - cx);

        this.arc(cx + x1, cy + y1, radius, startAngle, endAngle, b1 * a2 > b2 * a1);
    }

    this.dirty = this.boundsDirty = true;

    return this;
};

/**
 * The arc method creates an arc/curve (used to create circles, or parts of circles).
 *
 * @param cx {number} The x-coordinate of the center of the circle
 * @param cy {number} The y-coordinate of the center of the circle
 * @param radius {number} The radius of the circle
 * @param startAngle {number} The starting angle, in radians (0 is at the 3 o'clock position of the arc's circle)
 * @param endAngle {number} The ending angle, in radians
 * @param anticlockwise {boolean} Optional. Specifies whether the drawing should be counterclockwise or clockwise. False is default, and indicates clockwise, while true indicates counter-clockwise.
 * @return {Graphics}
 */
Graphics.prototype.arc = function(cx, cy, radius, startAngle, endAngle, anticlockwise)
{
    anticlockwise = anticlockwise || false;

    if (startAngle === endAngle)
    {
        return this;
    }

    if( !anticlockwise && endAngle <= startAngle )
    {
        endAngle += Math.PI * 2;
    }
    else if( anticlockwise && startAngle <= endAngle )
    {
        startAngle += Math.PI * 2;
    }

    var sweep = anticlockwise ? (startAngle - endAngle) * -1 : (endAngle - startAngle);
    var segs =  Math.ceil(Math.abs(sweep) / (Math.PI * 2)) * 40;

    if(sweep === 0)
    {
        return this;
    }

    var startX = cx + Math.cos(startAngle) * radius;
    var startY = cy + Math.sin(startAngle) * radius;

    if (this.currentPath)
    {
        if (anticlockwise && this.filling)
        {
            this.currentPath.shape.points.push(cx, cy);
        }
        else
        {
            this.currentPath.shape.points.push(startX, startY);
        }
    }
    else
    {
        if (anticlockwise && this.filling)
        {

            this.moveTo(cx, cy);
        }
        else
        {
            this.moveTo(startX, startY);
        }
    }

    var points = this.currentPath.shape.points;

    var theta = sweep/(segs*2);
    var theta2 = theta*2;

    var cTheta = Math.cos(theta);
    var sTheta = Math.sin(theta);

    var segMinus = segs - 1;

    var remainder = ( segMinus % 1 ) / segMinus;

    for(var i=0; i<=segMinus; i++)
    {
        var real =  i + remainder * i;


        var angle = ((theta) + startAngle + (theta2 * real));

        var c = Math.cos(angle);
        var s = -Math.sin(angle);

        points.push(( (cTheta *  c) + (sTheta * s) ) * radius + cx,
                    ( (cTheta * -s) + (sTheta * c) ) * radius + cy);
    }

    this.dirty = this.boundsDirty = true;

    return this;
};

/**
 * Specifies a simple one-color fill that subsequent calls to other Graphics methods
 * (such as lineTo() or drawCircle()) use when drawing.
 *
 * @param color {number} the color of the fill
 * @param alpha {number} the alpha of the fill
 * @return {Graphics}
 */
Graphics.prototype.beginFill = function (color, alpha)
{
    this.filling = true;
    this.fillColor = color || 0;
    this.fillAlpha = (alpha === undefined) ? 1 : alpha;

    if (this.currentPath)
    {
        if (this.currentPath.shape.points.length <= 2)
        {
            this.currentPath.fill = this.filling;
            this.currentPath.fillColor = this.fillColor;
            this.currentPath.fillAlpha = this.fillAlpha;
        }
    }
    return this;
};

/**
 * Applies a fill to the lines and shapes that were added since the last call to the beginFill() method.
 *
 * @return {Graphics}
 */
Graphics.prototype.endFill = function ()
{
    this.filling = false;
    this.fillColor = null;
    this.fillAlpha = 1;

    return this;
};

/**
 *
 * @param x {number} The X coord of the top-left of the rectangle
 * @param y {number} The Y coord of the top-left of the rectangle
 * @param width {number} The width of the rectangle
 * @param height {number} The height of the rectangle
 * @return {Graphics}
 */
Graphics.prototype.drawRect = function ( x, y, width, height )
{
    this.drawShape(new math.Rectangle(x,y, width, height));

    return this;
};

/**
 *
 * @param x {number} The X coord of the top-left of the rectangle
 * @param y {number} The Y coord of the top-left of the rectangle
 * @param width {number} The width of the rectangle
 * @param height {number} The height of the rectangle
 * @param radius {number} Radius of the rectangle corners
 */
Graphics.prototype.drawRoundedRect = function ( x, y, width, height, radius )
{
    this.drawShape(new math.RoundedRectangle(x, y, width, height, radius));

    return this;
};

/**
 * Draws a circle.
 *
 * @param x {number} The X coordinate of the center of the circle
 * @param y {number} The Y coordinate of the center of the circle
 * @param radius {number} The radius of the circle
 * @return {Graphics}
 */
Graphics.prototype.drawCircle = function (x, y, radius)
{
    this.drawShape(new math.Circle(x,y, radius));

    return this;
};

/**
 * Draws an ellipse.
 *
 * @param x {number} The X coordinate of the center of the ellipse
 * @param y {number} The Y coordinate of the center of the ellipse
 * @param width {number} The half width of the ellipse
 * @param height {number} The half height of the ellipse
 * @return {Graphics}
 */
Graphics.prototype.drawEllipse = function (x, y, width, height)
{
    this.drawShape(new math.Ellipse(x, y, width, height));

    return this;
};

/**
 * Draws a polygon using the given path.
 *
 * @param path {Array} The path data used to construct the polygon.
 * @return {Graphics}
 */
Graphics.prototype.drawPolygon = function (path)
{
    // prevents an argument assignment deopt
    // see section 3.1: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments
    var points = path;

    if (!Array.isArray(points))
    {
        // prevents an argument leak deopt
        // see section 3.2: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments
        points = new Array(arguments.length);

        for (var i = 0; i < points.length; ++i)
        {
            points[i] = arguments[i];
        }
    }

    this.drawShape(new math.Polygon(points));

    return this;
};

/**
 * Clears the graphics that were drawn to this Graphics object, and resets fill and line style settings.
 *
 * @return {Graphics}
 */
Graphics.prototype.clear = function ()
{
    this.lineWidth = 0;
    this.filling = false;

    this.dirty = true;
    this.clearDirty = true;
    this.graphicsData = [];

    return this;
};

/**
 * Useful function that returns a texture of the graphics object that can then be used to create sprites
 * This can be quite useful if your geometry is complicated and needs to be reused multiple times.
 *
 * @param resolution {number} The resolution of the texture being generated
 * @param scaleMode {number} Should be one of the scaleMode consts
 * @return {Texture} a texture of the graphics object
 */
Graphics.prototype.generateTexture = function (renderer, resolution, scaleMode)
{

    resolution = resolution || 1;

    var bounds = this.getLocalBounds();

    var canvasBuffer = new CanvasBuffer(bounds.width * resolution, bounds.height * resolution);

    var texture = Texture.fromCanvas(canvasBuffer.canvas, scaleMode);
    texture.baseTexture.resolution = resolution;

    canvasBuffer.context.scale(resolution, resolution);

    canvasBuffer.context.translate(-bounds.x,-bounds.y);

    CanvasGraphics.renderGraphics(this, canvasBuffer.context);

    return texture;
};

/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer}
 * @private
 */
Graphics.prototype._renderWebGL = function (renderer)
{
    // if the sprite is not visible or the alpha is 0 then no need to render this element

    // this code may still be needed so leaving for now..
    //
    /*
    if (this._cacheAsBitmap)
    {
        if (this.dirty || this.cachedSpriteDirty)
        {
            this._generateCachedSprite();

            // we will also need to update the texture on the gpu too!
            this.updateCachedSpriteTexture();

            this.cachedSpriteDirty = false;
            this.dirty = false;
        }

        this._cachedSprite.worldAlpha = this.worldAlpha;

        Sprite.prototype.renderWebGL.call(this._cachedSprite, renderer);

        return;
    }

    */

    if (this.glDirty)
    {
        this.dirty = true;
        this.glDirty = false;
    }

    renderer.setObjectRenderer(renderer.plugins.graphics);
    renderer.plugins.graphics.render(this);

};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer}
 * @private
 */
Graphics.prototype._renderCanvas = function (renderer)
{
    if (this.isMask === true)
    {
        return;
    }

    // if the tint has changed, set the graphics object to dirty.
    if (this._prevTint !== this.tint) {
        this.dirty = true;
        this._prevTint = this.tint;
    }

    // this code may still be needed so leaving for now..
    //
    /*
    if (this._cacheAsBitmap)
    {
        if (this.dirty || this.cachedSpriteDirty)
        {
            this._generateCachedSprite();

            // we will also need to update the texture
            this.updateCachedSpriteTexture();

            this.cachedSpriteDirty = false;
            this.dirty = false;
        }

        this._cachedSprite.alpha = this.alpha;

        Sprite.prototype._renderCanvas.call(this._cachedSprite, renderer);

        return;
    }
    */
    var context = renderer.context;
    var transform = this.worldTransform;

    if (this.blendMode !== renderer.currentBlendMode)
    {
        renderer.currentBlendMode = this.blendMode;
        context.globalCompositeOperation = renderer.blendModes[renderer.currentBlendMode];
    }

    var resolution = renderer.resolution;
    context.setTransform(
        transform.a * resolution,
        transform.b * resolution,
        transform.c * resolution,
        transform.d * resolution,
        transform.tx * resolution,
        transform.ty * resolution
    );

    CanvasGraphics.renderGraphics(this, context);
};

/**
 * Retrieves the bounds of the graphic shape as a rectangle object
 *
 * @return {Rectangle} the rectangular bounding area
 */
Graphics.prototype.getBounds = function (matrix)
{
    if(!this._currentBounds)
    {

        // return an empty object if the item is a mask!
        if (!this.renderable)
        {
            return math.Rectangle.EMPTY;
        }

        if (this.boundsDirty)
        {
            this.updateLocalBounds();

            this.glDirty = true;
            this.cachedSpriteDirty = true;
            this.boundsDirty = false;
        }

        var bounds = this._localBounds;

        var w0 = bounds.x;
        var w1 = bounds.width + bounds.x;

        var h0 = bounds.y;
        var h1 = bounds.height + bounds.y;

        var worldTransform = matrix || this.worldTransform;

        var a = worldTransform.a;
        var b = worldTransform.b;
        var c = worldTransform.c;
        var d = worldTransform.d;
        var tx = worldTransform.tx;
        var ty = worldTransform.ty;

        var x1 = a * w1 + c * h1 + tx;
        var y1 = d * h1 + b * w1 + ty;

        var x2 = a * w0 + c * h1 + tx;
        var y2 = d * h1 + b * w0 + ty;

        var x3 = a * w0 + c * h0 + tx;
        var y3 = d * h0 + b * w0 + ty;

        var x4 =  a * w1 + c * h0 + tx;
        var y4 =  d * h0 + b * w1 + ty;

        var maxX = x1;
        var maxY = y1;

        var minX = x1;
        var minY = y1;

        minX = x2 < minX ? x2 : minX;
        minX = x3 < minX ? x3 : minX;
        minX = x4 < minX ? x4 : minX;

        minY = y2 < minY ? y2 : minY;
        minY = y3 < minY ? y3 : minY;
        minY = y4 < minY ? y4 : minY;

        maxX = x2 > maxX ? x2 : maxX;
        maxX = x3 > maxX ? x3 : maxX;
        maxX = x4 > maxX ? x4 : maxX;

        maxY = y2 > maxY ? y2 : maxY;
        maxY = y3 > maxY ? y3 : maxY;
        maxY = y4 > maxY ? y4 : maxY;

        this._bounds.x = minX;
        this._bounds.width = maxX - minX;

        this._bounds.y = minY;
        this._bounds.height = maxY - minY;

        this._currentBounds = this._bounds;
    }

    return this._currentBounds;
};

/**
* Tests if a point is inside this graphics object
*
* @param point {Point} the point to test
* @return {boolean} the result of the test
*/
Graphics.prototype.containsPoint = function( point )
{
    this.worldTransform.applyInverse(point,  tempPoint);

    var graphicsData = this.graphicsData;

    for (var i = 0; i < graphicsData.length; i++)
    {
        var data = graphicsData[i];

        if (!data.fill)
        {
            continue;
        }

        // only deal with fills..
        if (data.shape)
        {
            if ( data.shape.contains( tempPoint.x, tempPoint.y ) )
            {
                return true;
            }
        }
    }

    return false;
};

/**
 * Update the bounds of the object
 *
 */
Graphics.prototype.updateLocalBounds = function ()
{
    var minX = Infinity;
    var maxX = -Infinity;

    var minY = Infinity;
    var maxY = -Infinity;

    if (this.graphicsData.length)
    {
        var shape, points, x, y, w, h;

        for (var i = 0; i < this.graphicsData.length; i++)
        {
            var data = this.graphicsData[i];
            var type = data.type;
            var lineWidth = data.lineWidth;
            shape = data.shape;

            if (type === CONST.SHAPES.RECT || type === CONST.SHAPES.RREC)
            {
                x = shape.x - lineWidth/2;
                y = shape.y - lineWidth/2;
                w = shape.width + lineWidth;
                h = shape.height + lineWidth;

                minX = x < minX ? x : minX;
                maxX = x + w > maxX ? x + w : maxX;

                minY = y < minY ? y : minY;
                maxY = y + h > maxY ? y + h : maxY;
            }
            else if (type === CONST.SHAPES.CIRC)
            {
                x = shape.x;
                y = shape.y;
                w = shape.radius + lineWidth/2;
                h = shape.radius + lineWidth/2;

                minX = x - w < minX ? x - w : minX;
                maxX = x + w > maxX ? x + w : maxX;

                minY = y - h < minY ? y - h : minY;
                maxY = y + h > maxY ? y + h : maxY;
            }
            else if (type === CONST.SHAPES.ELIP)
            {
                x = shape.x;
                y = shape.y;
                w = shape.width + lineWidth/2;
                h = shape.height + lineWidth/2;

                minX = x - w < minX ? x - w : minX;
                maxX = x + w > maxX ? x + w : maxX;

                minY = y - h < minY ? y - h : minY;
                maxY = y + h > maxY ? y + h : maxY;
            }
            else
            {
                // POLY
                points = shape.points;

                for (var j = 0; j < points.length; j += 2)
                {
                    x = points[j];
                    y = points[j+1];

                    minX = x-lineWidth < minX ? x-lineWidth : minX;
                    maxX = x+lineWidth > maxX ? x+lineWidth : maxX;

                    minY = y-lineWidth < minY ? y-lineWidth : minY;
                    maxY = y+lineWidth > maxY ? y+lineWidth : maxY;
                }
            }
        }
    }
    else
    {
        minX = 0;
        maxX = 0;
        minY = 0;
        maxY = 0;
    }

    var padding = this.boundsPadding;

    this._localBounds.x = minX - padding;
    this._localBounds.width = (maxX - minX) + padding * 2;

    this._localBounds.y = minY - padding;
    this._localBounds.height = (maxY - minY) + padding * 2;
};

/**
 * Generates the cached sprite when the sprite has cacheAsBitmap = true
 *
 * @private
 */
/*
Graphics.prototype._generateCachedSprite = function ()
{
    var bounds = this.getLocalBounds();

    if (!this._cachedSprite)
    {
        var canvasBuffer = new CanvasBuffer(bounds.width, bounds.height);
        var texture = Texture.fromCanvas(canvasBuffer.canvas);

        this._cachedSprite = new Sprite(texture);
        this._cachedSprite.buffer = canvasBuffer;

        this._cachedSprite.worldTransform = this.worldTransform;
    }
    else
    {
        this._cachedSprite.buffer.resize(bounds.width, bounds.height);
    }

    // leverage the anchor to account for the offset of the element
    this._cachedSprite.anchor.x = -( bounds.x / bounds.width );
    this._cachedSprite.anchor.y = -( bounds.y / bounds.height );

    // this._cachedSprite.buffer.context.save();
    this._cachedSprite.buffer.context.translate(-bounds.x,-bounds.y);

    // make sure we set the alpha of the graphics to 1 for the render..
    this.worldAlpha = 1;

    // now render the graphic..
    CanvasGraphics.renderGraphics(this, this._cachedSprite.buffer.context);

    this._cachedSprite.alpha = this.alpha;
};
*/
/**
 * Updates texture size based on canvas size
 *
 * @private
 */
/*
Graphics.prototype.updateCachedSpriteTexture = function ()
{
    var cachedSprite = this._cachedSprite;
    var texture = cachedSprite.texture;
    var canvas = cachedSprite.buffer.canvas;

    texture.baseTexture.width = canvas.width;
    texture.baseTexture.height = canvas.height;
    texture.crop.width = texture.frame.width = canvas.width;
    texture.crop.height = texture.frame.height = canvas.height;

    cachedSprite._width = canvas.width;
    cachedSprite._height = canvas.height;

    // update the dirty base textures
    texture.baseTexture.dirty();
};*/

/**
 * Destroys a previous cached sprite.
 *
 */
/*
Graphics.prototype.destroyCachedSprite = function ()
{
    this._cachedSprite.texture.destroy(true);

    // let the gc collect the unused sprite
    // TODO could be object pooled!
    this._cachedSprite = null;
};*/

/**
 * Draws the given shape to this Graphics object. Can be any of Circle, Rectangle, Ellipse, Line or Polygon.
 *
 * @param shape {Circle|Rectangle|Ellipse|Line|Polygon} The shape object to draw.
 * @return {GraphicsData} The generated GraphicsData object.
 */
Graphics.prototype.drawShape = function (shape)
{
    if (this.currentPath)
    {
        // check current path!
        if (this.currentPath.shape.points.length <= 2)
        {
            this.graphicsData.pop();
        }
    }

    this.currentPath = null;

    var data = new GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, shape);

    this.graphicsData.push(data);

    if (data.type === CONST.SHAPES.POLY)
    {
        data.shape.closed = data.shape.closed || this.filling;
        this.currentPath = data;
    }

    this.dirty = this.boundsDirty = true;

    return data;
};

Graphics.prototype.destroy = function () {
    Container.prototype.destroy.apply(this, arguments);

    // destroy each of the GraphicsData objects
    for (var i = 0; i < this.graphicsData.length; ++i) {
        this.graphicsData[i].destroy();
    }

    // for each webgl data entry, destroy the WebGLGraphicsData
    for (var id in this._webgl) {
        for (var j = 0; j < this._webgl[id].data.length; ++j) {
            this._webgl[id].data[j].destroy();
        }
    }

    this.graphicsData = null;

    this.currentPath = null;
    this._webgl = null;
    this._localBounds = null;
};

},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/canvas/utils/CanvasGraphics":45,"../textures/Texture":71,"./GraphicsData":26}],26:[function(require,module,exports){
/**
 * A GraphicsData object.
 *
 * @class
 * @memberof PIXI
 * @param lineWidth {number} the width of the line to draw
 * @param lineColor {number} the color of the line to draw
 * @param lineAlpha {number} the alpha of the line to draw
 * @param fillColor {number} the color of the fill
 * @param fillAlpha {number} the alpha of the fill
 * @param fill      {boolean} whether or not the shape is filled with a colour
 * @param shape     {Circle|Rectangle|Ellipse|Line|Polygon} The shape object to draw.
 */
function GraphicsData(lineWidth, lineColor, lineAlpha, fillColor, fillAlpha, fill, shape)
{
    /*
     * @member {number} the width of the line to draw
     */
    this.lineWidth = lineWidth;

    /*
     * @member {number} the color of the line to draw
     */
    this.lineColor = lineColor;
    /*
     * @member {number} the alpha of the line to draw
     */
    this.lineAlpha = lineAlpha;
    /*
     * @member {number} cached tint of the line to draw
     */
    this._lineTint = lineColor;

    /*
     * @member {number} the color of the fill
     */
    this.fillColor = fillColor;

    /*
     * @member {number} the alpha of the fill
     */
    this.fillAlpha = fillAlpha;

    /*
     * @member {number} cached tint of the fill
     */
    this._fillTint = fillColor;

    /*
     * @member {boolean} whether or not the shape is filled with a colour
     */
    this.fill = fill;

    /*
     * @member {Circle|Rectangle|Ellipse|Line|Polygon} The shape object to draw.
     */
    this.shape = shape;

    /*
     * @member {number} The type of the shape, see the Const.Shapes file for all the existing types,
     */
    this.type = shape.type;
}

GraphicsData.prototype.constructor = GraphicsData;
module.exports = GraphicsData;

/**
 * Creates a new GraphicsData object with the same values as this one.
 *
 * @return {GraphicsData}
 */
GraphicsData.prototype.clone = function ()
{
    return new GraphicsData(
        this.lineWidth,
        this.lineColor,
        this.lineAlpha,
        this.fillColor,
        this.fillAlpha,
        this.fill,
        this.shape
    );
};

GraphicsData.prototype.destroy = function () {
    this.shape = null;
};

},{}],27:[function(require,module,exports){
var utils = require('../../utils'),
    math = require('../../math'),
    CONST = require('../../const'),
    ObjectRenderer = require('../../renderers/webgl/utils/ObjectRenderer'),
    WebGLRenderer = require('../../renderers/webgl/WebGLRenderer'),
    WebGLGraphicsData = require('./WebGLGraphicsData'),
    earcut = require('earcut');

/**
 * Renders the graphics object.
 *
 * @class
 * @private
 * @memberof PIXI
 * @extends PIXI.ObjectRenderer
 * @param renderer {WebGLRenderer} The renderer this object renderer works for.
 */
function GraphicsRenderer(renderer)
{
    ObjectRenderer.call(this, renderer);

    this.graphicsDataPool = [];

    this.primitiveShader = null;
    this.complexPrimitiveShader = null;

    /**
     * This is the maximum number of points a poly can contain before it is rendered as a complex polygon (using the stencil buffer)
     * @type {Number}
     */
    this.maximumSimplePolySize = 200;
}

GraphicsRenderer.prototype = Object.create(ObjectRenderer.prototype);
GraphicsRenderer.prototype.constructor = GraphicsRenderer;
module.exports = GraphicsRenderer;

WebGLRenderer.registerPlugin('graphics', GraphicsRenderer);

/**
 * Called when there is a WebGL context change
 *
 * @private
 *
 */
GraphicsRenderer.prototype.onContextChange = function()
{

};

/**
 * Destroys this renderer.
 *
 */
GraphicsRenderer.prototype.destroy = function () {
    ObjectRenderer.prototype.destroy.call(this);

    for (var i = 0; i < this.graphicsDataPool.length; ++i) {
        this.graphicsDataPool[i].destroy();
    }

    this.graphicsDataPool = null;
};

/**
 * Renders a graphics object.
 *
 * @param graphics {Graphics} The graphics object to render.
 */
GraphicsRenderer.prototype.render = function(graphics)
{
    var renderer = this.renderer;
    var gl = renderer.gl;

    var shader = renderer.shaderManager.plugins.primitiveShader,
        webGLData;

    if (graphics.dirty)
    {
        this.updateGraphics(graphics, gl);
    }

    var webGL = graphics._webGL[gl.id];

    // This  could be speeded up for sure!

    renderer.blendModeManager.setBlendMode( graphics.blendMode );

//    var matrix =  graphics.worldTransform.clone();
//    var matrix =  renderer.currentRenderTarget.projectionMatrix.clone();
//    matrix.append(graphics.worldTransform);

    for (var i = 0; i < webGL.data.length; i++)
    {
        if (webGL.data[i].mode === 1)
        {
            webGLData = webGL.data[i];

            renderer.stencilManager.pushStencil(graphics, webGLData, renderer);

            gl.uniform1f(renderer.shaderManager.complexPrimitiveShader.uniforms.alpha._location, graphics.worldAlpha * webGLData.alpha);

            // render quad..
            gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, ( webGLData.indices.length - 4 ) * 2 );

            renderer.stencilManager.popStencil(graphics, webGLData, renderer);
        }
        else
        {
            webGLData = webGL.data[i];


            shader = renderer.shaderManager.primitiveShader;

            renderer.shaderManager.setShader( shader );//activatePrimitiveShader();

            gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, false, graphics.worldTransform.toArray(true));

            gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, renderer.currentRenderTarget.projectionMatrix.toArray(true));

            gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint));

            gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha);


            gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer);

            gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 4 * 6, 0);
            gl.vertexAttribPointer(shader.attributes.aColor, 4, gl.FLOAT, false,4 * 6, 2 * 4);

            // set the index buffer!
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer);
            gl.drawElements(gl.TRIANGLE_STRIP,  webGLData.indices.length, gl.UNSIGNED_SHORT, 0 );
        }
    }
};

/**
 * Updates the graphics object
 *
 * @private
 * @param graphicsData {Graphics} The graphics object to update
 */
GraphicsRenderer.prototype.updateGraphics = function(graphics)
{
    var gl = this.renderer.gl;

     // get the contexts graphics object
    var webGL = graphics._webGL[gl.id];

    // if the graphics object does not exist in the webGL context time to create it!
    if (!webGL)
    {
        webGL = graphics._webGL[gl.id] = {lastIndex:0, data:[], gl:gl};
    }

    // flag the graphics as not dirty as we are about to update it...
    graphics.dirty = false;

    var i;

    // if the user cleared the graphics object we will need to clear every object
    if (graphics.clearDirty)
    {
        graphics.clearDirty = false;

        // loop through and return all the webGLDatas to the object pool so than can be reused later on
        for (i = 0; i < webGL.data.length; i++)
        {
            var graphicsData = webGL.data[i];
            graphicsData.reset();
            this.graphicsDataPool.push( graphicsData );
        }

        // clear the array and reset the index..
        webGL.data = [];
        webGL.lastIndex = 0;
    }

    var webGLData;

    // loop through the graphics datas and construct each one..
    // if the object is a complex fill then the new stencil buffer technique will be used
    // other wise graphics objects will be pushed into a batch..
    for (i = webGL.lastIndex; i < graphics.graphicsData.length; i++)
    {
        var data = graphics.graphicsData[i];

        if (data.type === CONST.SHAPES.POLY)
        {
            // need to add the points the the graphics object..
            data.points = data.shape.points.slice();
            if (data.shape.closed)
            {
                // close the poly if the value is true!
                if (data.points[0] !== data.points[data.points.length-2] || data.points[1] !== data.points[data.points.length-1])
                {
                    data.points.push(data.points[0], data.points[1]);
                }
            }

            // MAKE SURE WE HAVE THE CORRECT TYPE..
            if (data.fill)
            {
                if (data.points.length >= 6)
                {
                    if (data.points.length < this.maximumSimplePolySize * 2)
                    {
                        webGLData = this.switchMode(webGL, 0);

                        var canDrawUsingSimple = this.buildPoly(data, webGLData);

                        if (!canDrawUsingSimple)
                        {
                            webGLData = this.switchMode(webGL, 1);
                            this.buildComplexPoly(data, webGLData);
                        }

                    }
                    else
                    {
                        webGLData = this.switchMode(webGL, 1);
                        this.buildComplexPoly(data, webGLData);
                    }
                }
            }

            if (data.lineWidth > 0)
            {
                webGLData = this.switchMode(webGL, 0);
                this.buildLine(data, webGLData);
            }
        }
        else
        {
            webGLData = this.switchMode(webGL, 0);

            if (data.type === CONST.SHAPES.RECT)
            {
                this.buildRectangle(data, webGLData);
            }
            else if (data.type === CONST.SHAPES.CIRC || data.type === CONST.SHAPES.ELIP)
            {
                this.buildCircle(data, webGLData);
            }
            else if (data.type === CONST.SHAPES.RREC)
            {
                this.buildRoundedRectangle(data, webGLData);
            }
        }

        webGL.lastIndex++;
    }

    // upload all the dirty data...
    for (i = 0; i < webGL.data.length; i++)
    {
        webGLData = webGL.data[i];

        if (webGLData.dirty)
        {
            webGLData.upload();
        }
    }
};

/**
 *
 *
 * @private
 * @param webGL {WebGLRenderingContext} the current WebGL drawing context
 * @param type {number} TODO @Alvin
 */
GraphicsRenderer.prototype.switchMode = function (webGL, type)
{
    var webGLData;

    if (!webGL.data.length)
    {
        webGLData = this.graphicsDataPool.pop() || new WebGLGraphicsData(webGL.gl);
        webGLData.mode = type;
        webGL.data.push(webGLData);
    }
    else
    {
        webGLData = webGL.data[webGL.data.length-1];

        if ((webGLData.points.length > 320000) || webGLData.mode !== type || type === 1)
        {
            webGLData = this.graphicsDataPool.pop() || new WebGLGraphicsData(webGL.gl);
            webGLData.mode = type;
            webGL.data.push(webGLData);
        }
    }

    webGLData.dirty = true;

    return webGLData;
};

/**
 * Builds a rectangle to draw
 *
 * @private
 * @param graphicsData {Graphics} The graphics object containing all the necessary properties
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildRectangle = function (graphicsData, webGLData)
{
    // --- //
    // need to convert points to a nice regular data
    //
    var rectData = graphicsData.shape;
    var x = rectData.x;
    var y = rectData.y;
    var width = rectData.width;
    var height = rectData.height;

    if (graphicsData.fill)
    {
        var color = utils.hex2rgb(graphicsData.fillColor);
        var alpha = graphicsData.fillAlpha;

        var r = color[0] * alpha;
        var g = color[1] * alpha;
        var b = color[2] * alpha;

        var verts = webGLData.points;
        var indices = webGLData.indices;

        var vertPos = verts.length/6;

        // start
        verts.push(x, y);
        verts.push(r, g, b, alpha);

        verts.push(x + width, y);
        verts.push(r, g, b, alpha);

        verts.push(x , y + height);
        verts.push(r, g, b, alpha);

        verts.push(x + width, y + height);
        verts.push(r, g, b, alpha);

        // insert 2 dead triangles..
        indices.push(vertPos, vertPos, vertPos+1, vertPos+2, vertPos+3, vertPos+3);
    }

    if (graphicsData.lineWidth)
    {
        var tempPoints = graphicsData.points;

        graphicsData.points = [x, y,
                  x + width, y,
                  x + width, y + height,
                  x, y + height,
                  x, y];


        this.buildLine(graphicsData, webGLData);

        graphicsData.points = tempPoints;
    }
};

/**
 * Builds a rounded rectangle to draw
 *
 * @private
 * @param graphicsData {Graphics} The graphics object containing all the necessary properties
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildRoundedRectangle = function (graphicsData, webGLData)
{
    var rrectData = graphicsData.shape;
    var x = rrectData.x;
    var y = rrectData.y;
    var width = rrectData.width;
    var height = rrectData.height;

    var radius = rrectData.radius;

    var recPoints = [];
    recPoints.push(x, y + radius);
    this.quadraticBezierCurve(x, y + height - radius, x, y + height, x + radius, y + height, recPoints);
    this.quadraticBezierCurve(x + width - radius, y + height, x + width, y + height, x + width, y + height - radius, recPoints);
    this.quadraticBezierCurve(x + width, y + radius, x + width, y, x + width - radius, y, recPoints);
    this.quadraticBezierCurve(x + radius, y, x, y, x, y + radius + 0.0000000001, recPoints);

    // this tiny number deals with the issue that occurs when points overlap and earcut fails to triangulate the item.
    // TODO - fix this properly, this is not very elegant.. but it works for now.

    if (graphicsData.fill)
    {
        var color = utils.hex2rgb(graphicsData.fillColor);
        var alpha = graphicsData.fillAlpha;

        var r = color[0] * alpha;
        var g = color[1] * alpha;
        var b = color[2] * alpha;

        var verts = webGLData.points;
        var indices = webGLData.indices;

        var vecPos = verts.length/6;

        var triangles = earcut(recPoints, null, 2);

        var i = 0;
        for (i = 0; i < triangles.length; i+=3)
        {
            indices.push(triangles[i] + vecPos);
            indices.push(triangles[i] + vecPos);
            indices.push(triangles[i+1] + vecPos);
            indices.push(triangles[i+2] + vecPos);
            indices.push(triangles[i+2] + vecPos);
        }

        for (i = 0; i < recPoints.length; i++)
        {
            verts.push(recPoints[i], recPoints[++i], r, g, b, alpha);
        }
    }

    if (graphicsData.lineWidth)
    {
        var tempPoints = graphicsData.points;

        graphicsData.points = recPoints;

        this.buildLine(graphicsData, webGLData);

        graphicsData.points = tempPoints;
    }
};

/**
 * Calculate the points for a quadratic bezier curve. (helper function..)
 * Based on: https://stackoverflow.com/questions/785097/how-do-i-implement-a-bezier-curve-in-c
 *
 * @private
 * @param fromX {number} Origin point x
 * @param fromY {number} Origin point x
 * @param cpX {number} Control point x
 * @param cpY {number} Control point y
 * @param toX {number} Destination point x
 * @param toY {number} Destination point y
 * @param [out] {number[]} The output array to add points into. If not passed, a new array is created.
 * @return {number[]} an array of points
 */
GraphicsRenderer.prototype.quadraticBezierCurve = function (fromX, fromY, cpX, cpY, toX, toY, out)
{
    var xa,
        ya,
        xb,
        yb,
        x,
        y,
        n = 20,
        points = out || [];

    function getPt(n1 , n2, perc) {
        var diff = n2 - n1;

        return n1 + ( diff * perc );
    }

    var j = 0;
    for (var i = 0; i <= n; i++ ) {
        j = i / n;

        // The Green Line
        xa = getPt( fromX , cpX , j );
        ya = getPt( fromY , cpY , j );
        xb = getPt( cpX , toX , j );
        yb = getPt( cpY , toY , j );

        // The Black Dot
        x = getPt( xa , xb , j );
        y = getPt( ya , yb , j );

        points.push(x, y);
    }

    return points;
};

/**
 * Builds a circle to draw
 *
 * @private
 * @param graphicsData {Graphics} The graphics object to draw
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildCircle = function (graphicsData, webGLData)
{
    // need to convert points to a nice regular data
    var circleData = graphicsData.shape;
    var x = circleData.x;
    var y = circleData.y;
    var width;
    var height;

    // TODO - bit hacky??
    if (graphicsData.type === CONST.SHAPES.CIRC)
    {
        width = circleData.radius;
        height = circleData.radius;
    }
    else
    {
        width = circleData.width;
        height = circleData.height;
    }

    var totalSegs = 40;
    var seg = (Math.PI * 2) / totalSegs ;

    var i = 0;

    if (graphicsData.fill)
    {
        var color = utils.hex2rgb(graphicsData.fillColor);
        var alpha = graphicsData.fillAlpha;

        var r = color[0] * alpha;
        var g = color[1] * alpha;
        var b = color[2] * alpha;

        var verts = webGLData.points;
        var indices = webGLData.indices;

        var vecPos = verts.length/6;

        indices.push(vecPos);

        for (i = 0; i < totalSegs + 1 ; i++)
        {
            verts.push(x,y, r, g, b, alpha);

            verts.push(x + Math.sin(seg * i) * width,
                       y + Math.cos(seg * i) * height,
                       r, g, b, alpha);

            indices.push(vecPos++, vecPos++);
        }

        indices.push(vecPos-1);
    }

    if (graphicsData.lineWidth)
    {
        var tempPoints = graphicsData.points;

        graphicsData.points = [];

        for (i = 0; i < totalSegs + 1; i++)
        {
            graphicsData.points.push(x + Math.sin(seg * i) * width,
                                     y + Math.cos(seg * i) * height);
        }

        this.buildLine(graphicsData, webGLData);

        graphicsData.points = tempPoints;
    }
};

/**
 * Builds a line to draw
 *
 * @private
 * @param graphicsData {Graphics} The graphics object containing all the necessary properties
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildLine = function (graphicsData, webGLData)
{
    // TODO OPTIMISE!
    var i = 0;
    var points = graphicsData.points;

    if (points.length === 0)
    {
        return;
    }

    // if the line width is an odd number add 0.5 to align to a whole pixel
    if (graphicsData.lineWidth%2)
    {
        for (i = 0; i < points.length; i++)
        {
            points[i] += 0.5;
        }
    }

    // get first and last point.. figure out the middle!
    var firstPoint = new math.Point(points[0], points[1]);
    var lastPoint = new math.Point(points[points.length - 2], points[points.length - 1]);

    // if the first point is the last point - gonna have issues :)
    if (firstPoint.x === lastPoint.x && firstPoint.y === lastPoint.y)
    {
        // need to clone as we are going to slightly modify the shape..
        points = points.slice();

        points.pop();
        points.pop();

        lastPoint = new math.Point(points[points.length - 2], points[points.length - 1]);

        var midPointX = lastPoint.x + (firstPoint.x - lastPoint.x) *0.5;
        var midPointY = lastPoint.y + (firstPoint.y - lastPoint.y) *0.5;

        points.unshift(midPointX, midPointY);
        points.push(midPointX, midPointY);
    }

    var verts = webGLData.points;
    var indices = webGLData.indices;
    var length = points.length / 2;
    var indexCount = points.length;
    var indexStart = verts.length/6;

    // DRAW the Line
    var width = graphicsData.lineWidth / 2;

    // sort color
    var color = utils.hex2rgb(graphicsData.lineColor);
    var alpha = graphicsData.lineAlpha;
    var r = color[0] * alpha;
    var g = color[1] * alpha;
    var b = color[2] * alpha;

    var px, py, p1x, p1y, p2x, p2y, p3x, p3y;
    var perpx, perpy, perp2x, perp2y, perp3x, perp3y;
    var a1, b1, c1, a2, b2, c2;
    var denom, pdist, dist;

    p1x = points[0];
    p1y = points[1];

    p2x = points[2];
    p2y = points[3];

    perpx = -(p1y - p2y);
    perpy =  p1x - p2x;

    dist = Math.sqrt(perpx*perpx + perpy*perpy);

    perpx /= dist;
    perpy /= dist;
    perpx *= width;
    perpy *= width;

    // start
    verts.push(p1x - perpx , p1y - perpy,
                r, g, b, alpha);

    verts.push(p1x + perpx , p1y + perpy,
                r, g, b, alpha);

    for (i = 1; i < length-1; i++)
    {
        p1x = points[(i-1)*2];
        p1y = points[(i-1)*2 + 1];

        p2x = points[(i)*2];
        p2y = points[(i)*2 + 1];

        p3x = points[(i+1)*2];
        p3y = points[(i+1)*2 + 1];

        perpx = -(p1y - p2y);
        perpy = p1x - p2x;

        dist = Math.sqrt(perpx*perpx + perpy*perpy);
        perpx /= dist;
        perpy /= dist;
        perpx *= width;
        perpy *= width;

        perp2x = -(p2y - p3y);
        perp2y = p2x - p3x;

        dist = Math.sqrt(perp2x*perp2x + perp2y*perp2y);
        perp2x /= dist;
        perp2y /= dist;
        perp2x *= width;
        perp2y *= width;

        a1 = (-perpy + p1y) - (-perpy + p2y);
        b1 = (-perpx + p2x) - (-perpx + p1x);
        c1 = (-perpx + p1x) * (-perpy + p2y) - (-perpx + p2x) * (-perpy + p1y);
        a2 = (-perp2y + p3y) - (-perp2y + p2y);
        b2 = (-perp2x + p2x) - (-perp2x + p3x);
        c2 = (-perp2x + p3x) * (-perp2y + p2y) - (-perp2x + p2x) * (-perp2y + p3y);

        denom = a1*b2 - a2*b1;

        if (Math.abs(denom) < 0.1 )
        {

            denom+=10.1;
            verts.push(p2x - perpx , p2y - perpy,
                r, g, b, alpha);

            verts.push(p2x + perpx , p2y + perpy,
                r, g, b, alpha);

            continue;
        }

        px = (b1*c2 - b2*c1)/denom;
        py = (a2*c1 - a1*c2)/denom;


        pdist = (px -p2x) * (px -p2x) + (py -p2y) + (py -p2y);


        if (pdist > 140 * 140)
        {
            perp3x = perpx - perp2x;
            perp3y = perpy - perp2y;

            dist = Math.sqrt(perp3x*perp3x + perp3y*perp3y);
            perp3x /= dist;
            perp3y /= dist;
            perp3x *= width;
            perp3y *= width;

            verts.push(p2x - perp3x, p2y -perp3y);
            verts.push(r, g, b, alpha);

            verts.push(p2x + perp3x, p2y +perp3y);
            verts.push(r, g, b, alpha);

            verts.push(p2x - perp3x, p2y -perp3y);
            verts.push(r, g, b, alpha);

            indexCount++;
        }
        else
        {

            verts.push(px , py);
            verts.push(r, g, b, alpha);

            verts.push(p2x - (px-p2x), p2y - (py - p2y));
            verts.push(r, g, b, alpha);
        }
    }

    p1x = points[(length-2)*2];
    p1y = points[(length-2)*2 + 1];

    p2x = points[(length-1)*2];
    p2y = points[(length-1)*2 + 1];

    perpx = -(p1y - p2y);
    perpy = p1x - p2x;

    dist = Math.sqrt(perpx*perpx + perpy*perpy);
    perpx /= dist;
    perpy /= dist;
    perpx *= width;
    perpy *= width;

    verts.push(p2x - perpx , p2y - perpy);
    verts.push(r, g, b, alpha);

    verts.push(p2x + perpx , p2y + perpy);
    verts.push(r, g, b, alpha);

    indices.push(indexStart);

    for (i = 0; i < indexCount; i++)
    {
        indices.push(indexStart++);
    }

    indices.push(indexStart-1);
};

/**
 * Builds a complex polygon to draw
 *
 * @private
 * @param graphicsData {Graphics} The graphics object containing all the necessary properties
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildComplexPoly = function (graphicsData, webGLData)
{
    //TODO - no need to copy this as it gets turned into a FLoat32Array anyways..
    var points = graphicsData.points.slice();

    if (points.length < 6)
    {
        return;
    }

    // get first and last point.. figure out the middle!
    var indices = webGLData.indices;
    webGLData.points = points;
    webGLData.alpha = graphicsData.fillAlpha;
    webGLData.color = utils.hex2rgb(graphicsData.fillColor);

    // calclate the bounds..
    var minX = Infinity;
    var maxX = -Infinity;

    var minY = Infinity;
    var maxY = -Infinity;

    var x,y;

    // get size..
    for (var i = 0; i < points.length; i+=2)
    {
        x = points[i];
        y = points[i+1];

        minX = x < minX ? x : minX;
        maxX = x > maxX ? x : maxX;

        minY = y < minY ? y : minY;
        maxY = y > maxY ? y : maxY;
    }

    // add a quad to the end cos there is no point making another buffer!
    points.push(minX, minY,
                maxX, minY,
                maxX, maxY,
                minX, maxY);

    // push a quad onto the end..

    //TODO - this aint needed!
    var length = points.length / 2;
    for (i = 0; i < length; i++)
    {
        indices.push( i );
    }

};

/**
 * Builds a polygon to draw
 *
 * @private
 * @param graphicsData {WebGLGraphicsData} The graphics object containing all the necessary properties
 * @param webGLData {object} an object containing all the webGL-specific information to create this shape
 */
GraphicsRenderer.prototype.buildPoly = function (graphicsData, webGLData)
{
    var points = graphicsData.points;

    if (points.length < 6)
    {
        return;
    }

    // get first and last point.. figure out the middle!
    var verts = webGLData.points;
    var indices = webGLData.indices;

    var length = points.length / 2;

    // sort color
    var color = utils.hex2rgb(graphicsData.fillColor);
    var alpha = graphicsData.fillAlpha;
    var r = color[0] * alpha;
    var g = color[1] * alpha;
    var b = color[2] * alpha;

    var triangles = earcut(points, null, 2);

    if (!triangles) {
        return false;
    }

    var vertPos = verts.length / 6;

    var i = 0;

    for (i = 0; i < triangles.length; i+=3)
    {
        indices.push(triangles[i] + vertPos);
        indices.push(triangles[i] + vertPos);
        indices.push(triangles[i+1] + vertPos);
        indices.push(triangles[i+2] +vertPos);
        indices.push(triangles[i+2] + vertPos);
    }

    for (i = 0; i < length; i++)
    {
        verts.push(points[i * 2], points[i * 2 + 1],
                   r, g, b, alpha);
    }

    return true;
};

},{"../../const":22,"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"../../utils":76,"./WebGLGraphicsData":28,"earcut":10}],28:[function(require,module,exports){
/**
 * An object containing WebGL specific properties to be used by the WebGL renderer
 *
 * @class
 * @memberof PIXI
 * @param gl {WebGLRenderingContext} the current WebGL drawing context
 * @private
 */
function WebGLGraphicsData(gl) {

    /**
     * The current WebGL drawing context
     *
     * @member {WebGLRenderingContext}
     */
    this.gl = gl;

    //TODO does this need to be split before uploding??
    /**
     * An array of color components (r,g,b)
     * @member {Array}
     */
    this.color = [0,0,0]; // color split!

    /**
     * An array of points to draw
     * @member {Array}
     */
    this.points = [];

    /**
     * The indices of the vertices
     * @member {Array}
     */
    this.indices = [];
    /**
     * The main buffer
     * @member {WebGLBuffer}
     */
    this.buffer = gl.createBuffer();

    /**
     * The index buffer
     * @member {WebGLBuffer}
     */
    this.indexBuffer = gl.createBuffer();

    /**
     * todo @alvin
     * @member {number}
     */
    this.mode = 1;

    /**
     * The alpha of the graphics
     * @member {number}
     */
    this.alpha = 1;

    /**
     * Whether this graphics is dirty or not
     * @member {boolean}
     */
    this.dirty = true;

    this.glPoints = null;
    this.glIndices = null;
}

WebGLGraphicsData.prototype.constructor = WebGLGraphicsData;
module.exports = WebGLGraphicsData;

/**
 * Resets the vertices and the indices
 */
WebGLGraphicsData.prototype.reset = function () {
    this.points.length = 0;
    this.indices.length = 0;
};

/**
 * Binds the buffers and uploads the data
 */
WebGLGraphicsData.prototype.upload = function () {
    var gl = this.gl;

//    this.lastIndex = graphics.graphicsData.length;
    this.glPoints = new Float32Array(this.points);

    gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);
    gl.bufferData(gl.ARRAY_BUFFER, this.glPoints, gl.STATIC_DRAW);

    this.glIndices = new Uint16Array(this.indices);

    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.glIndices, gl.STATIC_DRAW);

    this.dirty = false;
};

WebGLGraphicsData.prototype.destroy = function () {
    this.color = null;
    this.points = null;
    this.indices = null;

    this.gl.deleteBuffer(this.buffer);
    this.gl.deleteBuffer(this.indexBuffer);
    
    this.gl = null;

    this.buffer = null;
    this.indexBuffer = null;

    this.glPoints = null;
    this.glIndices = null;
};

},{}],29:[function(require,module,exports){
/**
 * @file        Main export of the PIXI core library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

/**
 * @namespace PIXI
 */
// export core and const. We assign core to const so that the non-reference types in const remain in-tact
var core = module.exports = Object.assign(require('./const'), require('./math'), {
    // utils
    utils: require('./utils'),
    ticker: require('./ticker'),

    // display
    DisplayObject:          require('./display/DisplayObject'),
    Container:              require('./display/Container'),

    // sprites
    Sprite:                 require('./sprites/Sprite'),
    ParticleContainer:      require('./particles/ParticleContainer'),
    SpriteRenderer:         require('./sprites/webgl/SpriteRenderer'),
    ParticleRenderer:       require('./particles/webgl/ParticleRenderer'),

    // text
    Text:                   require('./text/Text'),

    // primitives
    Graphics:               require('./graphics/Graphics'),
    GraphicsData:           require('./graphics/GraphicsData'),
    GraphicsRenderer:       require('./graphics/webgl/GraphicsRenderer'),

    // textures
    Texture:                require('./textures/Texture'),
    BaseTexture:            require('./textures/BaseTexture'),
    RenderTexture:          require('./textures/RenderTexture'),
    VideoBaseTexture:       require('./textures/VideoBaseTexture'),
    TextureUvs:             require('./textures/TextureUvs'),

    // renderers - canvas
    CanvasRenderer:         require('./renderers/canvas/CanvasRenderer'),
    CanvasGraphics:         require('./renderers/canvas/utils/CanvasGraphics'),
    CanvasBuffer:           require('./renderers/canvas/utils/CanvasBuffer'),

    // renderers - webgl
    WebGLRenderer:          require('./renderers/webgl/WebGLRenderer'),
    ShaderManager:          require('./renderers/webgl/managers/ShaderManager'),
    Shader:                 require('./renderers/webgl/shaders/Shader'),
    ObjectRenderer:         require('./renderers/webgl/utils/ObjectRenderer'),
    RenderTarget:           require('./renderers/webgl/utils/RenderTarget'),

    // filters - webgl
    AbstractFilter:         require('./renderers/webgl/filters/AbstractFilter'),
    FXAAFilter:             require('./renderers/webgl/filters/FXAAFilter'),
    SpriteMaskFilter:       require('./renderers/webgl/filters/SpriteMaskFilter'),

    /**
     * This helper function will automatically detect which renderer you should be using.
     * WebGL is the preferred renderer as it is a lot faster. If webGL is not supported by
     * the browser then this function will return a canvas renderer
     *
     * @memberof PIXI
     * @param width=800 {number} the width of the renderers view
     * @param height=600 {number} the height of the renderers view
     * @param [options] {object} The optional renderer parameters
     * @param [options.view] {HTMLCanvasElement} the canvas to use as a view, optional
     * @param [options.transparent=false] {boolean} If the render view is transparent, default false
     * @param [options.antialias=false] {boolean} sets antialias (only applicable in chrome at the moment)
     * @param [options.preserveDrawingBuffer=false] {boolean} enables drawing buffer preservation, enable this if you
     *      need to call toDataUrl on the webgl context
     * @param [options.resolution=1] {number} the resolution of the renderer, retina would be 2
     * @param [noWebGL=false] {boolean} prevents selection of WebGL renderer, even if such is present
     *
     * @return {WebGLRenderer|CanvasRenderer} Returns WebGL renderer if available, otherwise CanvasRenderer
     */
    autoDetectRenderer: function (width, height, options, noWebGL)
    {
        width = width || 800;
        height = height || 600;

        if (!noWebGL && core.utils.isWebGLSupported())
        {
            return new core.WebGLRenderer(width, height, options);
        }

        return new core.CanvasRenderer(width, height, options);
    }
});

},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":32,"./particles/ParticleContainer":38,"./particles/webgl/ParticleRenderer":40,"./renderers/canvas/CanvasRenderer":43,"./renderers/canvas/utils/CanvasBuffer":44,"./renderers/canvas/utils/CanvasGraphics":45,"./renderers/webgl/WebGLRenderer":48,"./renderers/webgl/filters/AbstractFilter":49,"./renderers/webgl/filters/FXAAFilter":50,"./renderers/webgl/filters/SpriteMaskFilter":51,"./renderers/webgl/managers/ShaderManager":55,"./renderers/webgl/shaders/Shader":60,"./renderers/webgl/utils/ObjectRenderer":62,"./renderers/webgl/utils/RenderTarget":64,"./sprites/Sprite":66,"./sprites/webgl/SpriteRenderer":67,"./text/Text":68,"./textures/BaseTexture":69,"./textures/RenderTexture":70,"./textures/Texture":71,"./textures/TextureUvs":72,"./textures/VideoBaseTexture":73,"./ticker":75,"./utils":76}],30:[function(require,module,exports){
var Point = require('./Point');

/**
 * The pixi Matrix class as an object, which makes it a lot faster,
 * here is a representation of it :
 * | a | b | tx|
 * | c | d | ty|
 * | 0 | 0 | 1 |
 *
 * @class
 * @memberof PIXI
 */
function Matrix()
{
    /**
     * @member {number}
     * @default 1
     */
    this.a = 1;

    /**
     * @member {number}
     * @default 0
     */
    this.b = 0;

    /**
     * @member {number}
     * @default 0
     */
    this.c = 0;

    /**
     * @member {number}
     * @default 1
     */
    this.d = 1;

    /**
     * @member {number}
     * @default 0
     */
    this.tx = 0;

    /**
     * @member {number}
     * @default 0
     */
    this.ty = 0;
}

Matrix.prototype.constructor = Matrix;
module.exports = Matrix;

/**
 * Creates a Matrix object based on the given array. The Element to Matrix mapping order is as follows:
 *
 * a = array[0]
 * b = array[1]
 * c = array[3]
 * d = array[4]
 * tx = array[2]
 * ty = array[5]
 *
 * @param array {number[]} The array that the matrix will be populated from.
 */
Matrix.prototype.fromArray = function (array)
{
    this.a = array[0];
    this.b = array[1];
    this.c = array[3];
    this.d = array[4];
    this.tx = array[2];
    this.ty = array[5];
};

/**
 * Creates an array from the current Matrix object.
 *
 * @param transpose {boolean} Whether we need to transpose the matrix or not
 * @return {number[]} the newly created array which contains the matrix
 */
Matrix.prototype.toArray = function (transpose, out)
{
    if (!this.array)
    {
        this.array = new Float32Array(9);
    }

    var array = out || this.array;

    if (transpose)
    {
        array[0] = this.a;
        array[1] = this.b;
        array[2] = 0;
        array[3] = this.c;
        array[4] = this.d;
        array[5] = 0;
        array[6] = this.tx;
        array[7] = this.ty;
        array[8] = 1;
    }
    else
    {
        array[0] = this.a;
        array[1] = this.c;
        array[2] = this.tx;
        array[3] = this.b;
        array[4] = this.d;
        array[5] = this.ty;
        array[6] = 0;
        array[7] = 0;
        array[8] = 1;
    }

    return array;
};

/**
 * Get a new position with the current transformation applied.
 * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)
 *
 * @param pos {Point} The origin
 * @param [newPos] {Point} The point that the new position is assigned to (allowed to be same as input)
 * @return {Point} The new point, transformed through this matrix
 */
Matrix.prototype.apply = function (pos, newPos)
{
    newPos = newPos || new Point();

    var x = pos.x;
    var y = pos.y;

    newPos.x = this.a * x + this.c * y + this.tx;
    newPos.y = this.b * x + this.d * y + this.ty;

    return newPos;
};

/**
 * Get a new position with the inverse of the current transformation applied.
 * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)
 *
 * @param pos {Point} The origin
 * @param [newPos] {Point} The point that the new position is assigned to (allowed to be same as input)
 * @return {Point} The new point, inverse-transformed through this matrix
 */
Matrix.prototype.applyInverse = function (pos, newPos)
{
    newPos = newPos || new Point();

    var id = 1 / (this.a * this.d + this.c * -this.b);

    var x = pos.x;
    var y = pos.y;

    newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;
    newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;

    return newPos;
};

/**
 * Translates the matrix on the x and y.
 *
 * @param {number} x
 * @param {number} y
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.translate = function (x, y)
{
    this.tx += x;
    this.ty += y;

    return this;
};

/**
 * Applies a scale transformation to the matrix.
 *
 * @param {number} x The amount to scale horizontally
 * @param {number} y The amount to scale vertically
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.scale = function (x, y)
{
    this.a *= x;
    this.d *= y;
    this.c *= x;
    this.b *= y;
    this.tx *= x;
    this.ty *= y;

    return this;
};


/**
 * Applies a rotation transformation to the matrix.
 *
 * @param {number} angle - The angle in radians.
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.rotate = function (angle)
{
    var cos = Math.cos( angle );
    var sin = Math.sin( angle );

    var a1 = this.a;
    var c1 = this.c;
    var tx1 = this.tx;

    this.a = a1 * cos-this.b * sin;
    this.b = a1 * sin+this.b * cos;
    this.c = c1 * cos-this.d * sin;
    this.d = c1 * sin+this.d * cos;
    this.tx = tx1 * cos - this.ty * sin;
    this.ty = tx1 * sin + this.ty * cos;

    return this;
};

/**
 * Appends the given Matrix to this Matrix.
 *
 * @param {Matrix} matrix
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.append = function (matrix)
{
    var a1 = this.a;
    var b1 = this.b;
    var c1 = this.c;
    var d1 = this.d;

    this.a  = matrix.a * a1 + matrix.b * c1;
    this.b  = matrix.a * b1 + matrix.b * d1;
    this.c  = matrix.c * a1 + matrix.d * c1;
    this.d  = matrix.c * b1 + matrix.d * d1;

    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;

    return this;
};

/**
 * Prepends the given Matrix to this Matrix.
 *
 * @param {Matrix} matrix
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.prepend = function(matrix)
{
    var tx1 = this.tx;

    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1)
    {
        var a1 = this.a;
        var c1 = this.c;
        this.a  = a1*matrix.a+this.b*matrix.c;
        this.b  = a1*matrix.b+this.b*matrix.d;
        this.c  = c1*matrix.a+this.d*matrix.c;
        this.d  = c1*matrix.b+this.d*matrix.d;
    }

    this.tx = tx1*matrix.a+this.ty*matrix.c+matrix.tx;
    this.ty = tx1*matrix.b+this.ty*matrix.d+matrix.ty;

    return this;
};

/**
 * Inverts this matrix
 *
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.invert = function()
{
    var a1 = this.a;
    var b1 = this.b;
    var c1 = this.c;
    var d1 = this.d;
    var tx1 = this.tx;
    var n = a1*d1-b1*c1;

    this.a = d1/n;
    this.b = -b1/n;
    this.c = -c1/n;
    this.d = a1/n;
    this.tx = (c1*this.ty-d1*tx1)/n;
    this.ty = -(a1*this.ty-b1*tx1)/n;

    return this;
};


/**
 * Resets this Matix to an identity (default) matrix.
 *
 * @return {Matrix} This matrix. Good for chaining method calls.
 */
Matrix.prototype.identity = function ()
{
    this.a = 1;
    this.b = 0;
    this.c = 0;
    this.d = 1;
    this.tx = 0;
    this.ty = 0;

    return this;
};

/**
 * Creates a new Matrix object with the same values as this one.
 *
 * @return {Matrix} A copy of this matrix. Good for chaining method calls.
 */
Matrix.prototype.clone = function ()
{
    var matrix = new Matrix();
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;

    return matrix;
};

/**
 * Changes the values of the given matrix to be the same as the ones in this matrix
 *
 * @return {Matrix} The matrix given in parameter with its values updated.
 */
Matrix.prototype.copy = function (matrix)
{
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;

    return matrix;
};

/**
 * A default (identity) matrix
 */
Matrix.IDENTITY = new Matrix();
/**
 * A temp matrix
 */
Matrix.TEMP_MATRIX = new Matrix();

},{"./Point":31}],31:[function(require,module,exports){
/**
 * The Point object represents a location in a two-dimensional coordinate system, where x represents
 * the horizontal axis and y represents the vertical axis.
 *
 * @class
 * @memberof PIXI
 * @param [x=0] {number} position of the point on the x axis
 * @param [y=0] {number} position of the point on the y axis
 */
function Point(x, y)
{
    /**
     * @member {number}
     * @default 0
     */
    this.x = x || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.y = y || 0;
}

Point.prototype.constructor = Point;
module.exports = Point;

/**
 * Creates a clone of this point
 *
 * @return {Point} a copy of the point
 */
Point.prototype.clone = function ()
{
    return new Point(this.x, this.y);
};

/**
 * Copies x and y from the given point
 *
 * @param p {Point}
 */
Point.prototype.copy = function (p) {
    this.set(p.x, p.y);
};

/**
 * Returns true if the given point is equal to this point
 *
 * @param p {Point}
 * @returns {boolean}
 */
Point.prototype.equals = function (p) {
    return (p.x === this.x) && (p.y === this.y);
};

/**
 * Sets the point to a new x and y position.
 * If y is omitted, both x and y will be set to x.
 *
 * @param [x=0] {number} position of the point on the x axis
 * @param [y=0] {number} position of the point on the y axis
 */
Point.prototype.set = function (x, y)
{
    this.x = x || 0;
    this.y = y || ( (y !== 0) ? this.x : 0 ) ;
};

},{}],32:[function(require,module,exports){
/**
 * Math classes and utilities mixed into PIXI namespace.
 *
 * @lends PIXI
 */
module.exports = {
    // These will be mixed to be made publicly available,
    // while this module is used internally in core
    // to avoid circular dependencies and cut down on
    // internal module requires.

    Point:      require('./Point'),
    Matrix:     require('./Matrix'),

    Circle:     require('./shapes/Circle'),
    Ellipse:    require('./shapes/Ellipse'),
    Polygon:    require('./shapes/Polygon'),
    Rectangle:  require('./shapes/Rectangle'),
    RoundedRectangle: require('./shapes/RoundedRectangle')
};

},{"./Matrix":30,"./Point":31,"./shapes/Circle":33,"./shapes/Ellipse":34,"./shapes/Polygon":35,"./shapes/Rectangle":36,"./shapes/RoundedRectangle":37}],33:[function(require,module,exports){
var Rectangle = require('./Rectangle'),
    CONST = require('../../const');

/**
 * The Circle object can be used to specify a hit area for displayObjects
 *
 * @class
 * @memberof PIXI
 * @param x {number} The X coordinate of the center of this circle
 * @param y {number} The Y coordinate of the center of this circle
 * @param radius {number} The radius of the circle
 */
function Circle(x, y, radius)
{
    /**
     * @member {number}
     * @default 0
     */
    this.x = x || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.y = y || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.radius = radius || 0;

    /**
     * The type of the object, mainly used to avoid `instanceof` checks
     *
     * @member {number}
     */
    this.type = CONST.SHAPES.CIRC;
}

Circle.prototype.constructor = Circle;
module.exports = Circle;

/**
 * Creates a clone of this Circle instance
 *
 * @return {Circle} a copy of the Circle
 */
Circle.prototype.clone = function ()
{
    return new Circle(this.x, this.y, this.radius);
};

/**
 * Checks whether the x and y coordinates given are contained within this circle
 *
 * @param x {number} The X coordinate of the point to test
 * @param y {number} The Y coordinate of the point to test
 * @return {boolean} Whether the x/y coordinates are within this Circle
 */
Circle.prototype.contains = function (x, y)
{
    if (this.radius <= 0)
    {
        return false;
    }

    var dx = (this.x - x),
        dy = (this.y - y),
        r2 = this.radius * this.radius;

    dx *= dx;
    dy *= dy;

    return (dx + dy <= r2);
};

/**
* Returns the framing rectangle of the circle as a Rectangle object
*
* @return {Rectangle} the framing rectangle
*/
Circle.prototype.getBounds = function ()
{
    return new Rectangle(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
};

},{"../../const":22,"./Rectangle":36}],34:[function(require,module,exports){
var Rectangle = require('./Rectangle'),
    CONST = require('../../const');

/**
 * The Ellipse object can be used to specify a hit area for displayObjects
 *
 * @class
 * @memberof PIXI
 * @param x {number} The X coordinate of the center of the ellipse
 * @param y {number} The Y coordinate of the center of the ellipse
 * @param width {number} The half width of this ellipse
 * @param height {number} The half height of this ellipse
 */
function Ellipse(x, y, width, height)
{
    /**
     * @member {number}
     * @default 0
     */
    this.x = x || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.y = y || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.width = width || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.height = height || 0;

    /**
     * The type of the object, mainly used to avoid `instanceof` checks
     *
     * @member {number}
     */
    this.type = CONST.SHAPES.ELIP;
}

Ellipse.prototype.constructor = Ellipse;
module.exports = Ellipse;

/**
 * Creates a clone of this Ellipse instance
 *
 * @return {Ellipse} a copy of the ellipse
 */
Ellipse.prototype.clone = function ()
{
    return new Ellipse(this.x, this.y, this.width, this.height);
};

/**
 * Checks whether the x and y coordinates given are contained within this ellipse
 *
 * @param x {number} The X coordinate of the point to test
 * @param y {number} The Y coordinate of the point to test
 * @return {boolean} Whether the x/y coords are within this ellipse
 */
Ellipse.prototype.contains = function (x, y)
{
    if (this.width <= 0 || this.height <= 0)
    {
        return false;
    }

    //normalize the coords to an ellipse with center 0,0
    var normx = ((x - this.x) / this.width),
        normy = ((y - this.y) / this.height);

    normx *= normx;
    normy *= normy;

    return (normx + normy <= 1);
};

/**
 * Returns the framing rectangle of the ellipse as a Rectangle object
 *
 * @return {Rectangle} the framing rectangle
 */
Ellipse.prototype.getBounds = function ()
{
    return new Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);
};

},{"../../const":22,"./Rectangle":36}],35:[function(require,module,exports){
var Point = require('../Point'),
    CONST = require('../../const');

/**
 * @class
 * @memberof PIXI
 * @param points {Point[]|number[]|...Point|...number} This can be an array of Points that form the polygon,
 *      a flat array of numbers that will be interpreted as [x,y, x,y, ...], or the arguments passed can be
 *      all the points of the polygon e.g. `new PIXI.Polygon(new PIXI.Point(), new PIXI.Point(), ...)`, or the
 *      arguments passed can be flat x,y values e.g. `new Polygon(x,y, x,y, x,y, ...)` where `x` and `y` are
 *      Numbers.
 */
function Polygon(points_)
{
    // prevents an argument assignment deopt
    // see section 3.1: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments
    var points = points_;

    //if points isn't an array, use arguments as the array
    if (!Array.isArray(points))
    {
        // prevents an argument leak deopt
        // see section 3.2: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments
        points = new Array(arguments.length);

        for (var a = 0; a < points.length; ++a) {
            points[a] = arguments[a];
        }
    }

    // if this is an array of points, convert it to a flat array of numbers
    if (points[0] instanceof Point)
    {
        var p = [];
        for (var i = 0, il = points.length; i < il; i++)
        {
            p.push(points[i].x, points[i].y);
        }

        points = p;
    }

    this.closed = true;

    /**
     * An array of the points of this polygon
     *
     * @member {number[]}
     */
    this.points = points;

    /**
     * The type of the object, mainly used to avoid `instanceof` checks
     *
     * @member {number}
     */
    this.type = CONST.SHAPES.POLY;
}

Polygon.prototype.constructor = Polygon;
module.exports = Polygon;

/**
 * Creates a clone of this polygon
 *
 * @return {Polygon} a copy of the polygon
 */
Polygon.prototype.clone = function ()
{
    return new Polygon(this.points.slice());
};

/**
 * Checks whether the x and y coordinates passed to this function are contained within this polygon
 *
 * @param x {number} The X coordinate of the point to test
 * @param y {number} The Y coordinate of the point to test
 * @return {boolean} Whether the x/y coordinates are within this polygon
 */
Polygon.prototype.contains = function (x, y)
{
    var inside = false;

    // use some raycasting to test hits
    // https://github.com/substack/point-in-polygon/blob/master/index.js
    var length = this.points.length / 2;

    for (var i = 0, j = length - 1; i < length; j = i++)
    {
        var xi = this.points[i * 2], yi = this.points[i * 2 + 1],
            xj = this.points[j * 2], yj = this.points[j * 2 + 1],
            intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);

        if (intersect)
        {
            inside = !inside;
        }
    }

    return inside;
};

},{"../../const":22,"../Point":31}],36:[function(require,module,exports){
var CONST = require('../../const');

/**
 * the Rectangle object is an area defined by its position, as indicated by its top-left corner point (x, y) and by its width and its height.
 *
 * @class
 * @memberof PIXI
 * @param x {number} The X coordinate of the upper-left corner of the rectangle
 * @param y {number} The Y coordinate of the upper-left corner of the rectangle
 * @param width {number} The overall width of this rectangle
 * @param height {number} The overall height of this rectangle
 */
function Rectangle(x, y, width, height)
{
    /**
     * @member {number}
     * @default 0
     */
    this.x = x || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.y = y || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.width = width || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.height = height || 0;

    /**
     * The type of the object, mainly used to avoid `instanceof` checks
     *
     * @member {number}
     */
    this.type = CONST.SHAPES.RECT;
}

Rectangle.prototype.constructor = Rectangle;
module.exports = Rectangle;

/**
 * A constant empty rectangle.
 *
 * @static
 * @constant
 */
Rectangle.EMPTY = new Rectangle(0, 0, 0, 0);


/**
 * Creates a clone of this Rectangle
 *
 * @return {Rectangle} a copy of the rectangle
 */
Rectangle.prototype.clone = function ()
{
    return new Rectangle(this.x, this.y, this.width, this.height);
};

/**
 * Checks whether the x and y coordinates given are contained within this Rectangle
 *
 * @param x {number} The X coordinate of the point to test
 * @param y {number} The Y coordinate of the point to test
 * @return {boolean} Whether the x/y coordinates are within this Rectangle
 */
Rectangle.prototype.contains = function (x, y)
{
    if (this.width <= 0 || this.height <= 0)
    {
        return false;
    }

    if (x >= this.x && x < this.x + this.width)
    {
        if (y >= this.y && y < this.y + this.height)
        {
            return true;
        }
    }

    return false;
};

},{"../../const":22}],37:[function(require,module,exports){
var CONST = require('../../const');

/**
 * The Rounded Rectangle object is an area that has nice rounded corners, as indicated by its top-left corner point (x, y) and by its width and its height and its radius.
 *
 * @class
 * @memberof PIXI
 * @param x {number} The X coordinate of the upper-left corner of the rounded rectangle
 * @param y {number} The Y coordinate of the upper-left corner of the rounded rectangle
 * @param width {number} The overall width of this rounded rectangle
 * @param height {number} The overall height of this rounded rectangle
 * @param radius {number} Controls the radius of the rounded corners
 */
function RoundedRectangle(x, y, width, height, radius)
{
    /**
     * @member {number}
     * @default 0
     */
    this.x = x || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.y = y || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.width = width || 0;

    /**
     * @member {number}
     * @default 0
     */
    this.height = height || 0;

    /**
     * @member {number}
     * @default 20
     */
    this.radius = radius || 20;

    /**
     * The type of the object, mainly used to avoid `instanceof` checks
     *
     * @member {number}
     */
    this.type = CONST.SHAPES.RREC;
}

RoundedRectangle.prototype.constructor = RoundedRectangle;
module.exports = RoundedRectangle;

/**
 * Creates a clone of this Rounded Rectangle
 *
 * @return {RoundedRectangle} a copy of the rounded rectangle
 */
RoundedRectangle.prototype.clone = function ()
{
    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);
};

/**
 * Checks whether the x and y coordinates given are contained within this Rounded Rectangle
 *
 * @param x {number} The X coordinate of the point to test
 * @param y {number} The Y coordinate of the point to test
 * @return {boolean} Whether the x/y coordinates are within this Rounded Rectangle
 */
RoundedRectangle.prototype.contains = function (x, y)
{
    if (this.width <= 0 || this.height <= 0)
    {
        return false;
    }

    if (x >= this.x && x <= this.x + this.width)
    {
        if (y >= this.y && y <= this.y + this.height)
        {
            return true;
        }
    }

    return false;
};

},{"../../const":22}],38:[function(require,module,exports){
var Container = require('../display/Container'),
    CONST = require('../const');

/**
 * The ParticleContainer class is a really fast version of the Container built solely for speed,
 * so use when you need a lot of sprites or particles. The tradeoff of the ParticleContainer is that advanced
 * functionality will not work. ParticleContainer implements only the basic object transform (position, scale, rotation).
 * Any other functionality like tinting, masking, etc will not work on sprites in this batch.
 *
 * It's extremely easy to use :
 *
 * ```js
 * var container = new ParticleContainer();
 *
 * for (var i = 0; i < 100; ++i)
 * {
 *     var sprite = new PIXI.Sprite.fromImage("myImage.png");
 *     container.addChild(sprite);
 * }
 * ```
 *
 * And here you have a hundred sprites that will be renderer at the speed of light.
 *
 * @class
 * @extends PIXI.Container
 * @memberof PIXI
 *
 * @param [size=15000] {number} The number of images in the SpriteBatch before it flushes.
 * @param [properties] {object} The properties of children that should be uploaded to the gpu and applied.
 * @param [properties.scale=false] {boolean} When true, scale be uploaded and applied.
 * @param [properties.position=true] {boolean} When true, position be uploaded and applied.
 * @param [properties.rotation=false] {boolean} When true, rotation be uploaded and applied.
 * @param [properties.uvs=false] {boolean} When true, uvs be uploaded and applied.
 * @param [properties.alpha=false] {boolean} When true, alpha be uploaded and applied.
 */
function ParticleContainer(size, properties)
{
    Container.call(this);

    /**
     * Set properties to be dynamic (true) / static (false)
     *
     * @member {array}
     * @private
     */
    this._properties = [false, true, false, false, false];

    /**
     * @member {number}
     * @private
     */
    this._size = size || 15000;

    /**
     * @member {WebGLBuffer}
     * @private
     */
    this._buffers = null;

    /**
     * @member {boolean}
     * @private
     */
    this._updateStatic = false;

    /**
     * @member {boolean}
     *
     */
    this.interactiveChildren = false;

    /**
     * The blend mode to be applied to the sprite. Apply a value of blendModes.NORMAL to reset the blend mode.
     *
     * @member {number}
     * @default CONST.BLEND_MODES.NORMAL;
     */
    this.blendMode = CONST.BLEND_MODES.NORMAL;

    /**
     * Used for canvas renderering. If true then the elements will be positioned at the nearest pixel. This provides a nice speed boost.
     *
     * @member {boolean}
     * @default true;
     */
    this.roundPixels = true;

    this.setProperties(properties);
}

ParticleContainer.prototype = Object.create(Container.prototype);
ParticleContainer.prototype.constructor = ParticleContainer;
module.exports = ParticleContainer;

/**
 * Sets the private properties array to dynamic / static based on the passed properties object
 *
 * @param properties {object} The properties to be uploaded
 */
ParticleContainer.prototype.setProperties = function(properties)
{
    if ( properties ) {
        this._properties[0] = 'scale' in properties ? !!properties.scale : this._properties[0];
        this._properties[1] = 'position' in properties ? !!properties.position : this._properties[1];
        this._properties[2] = 'rotation' in properties ? !!properties.rotation : this._properties[2];
        this._properties[3] = 'uvs' in properties ? !!properties.uvs : this._properties[3];
        this._properties[4] = 'alpha' in properties ? !!properties.alpha : this._properties[4];
    }
};

/**
 * Updates the object transform for rendering
 *
 * @private
 */
ParticleContainer.prototype.updateTransform = function ()
{

    // TODO don't need to!
    this.displayObjectUpdateTransform();
    //  PIXI.Container.prototype.updateTransform.call( this );
};

/**
 * Renders the container using the WebGL renderer
 *
 * @param renderer {WebGLRenderer} The webgl renderer
 * @private
 */
ParticleContainer.prototype.renderWebGL = function (renderer)
{
    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable)
    {
        return;
    }

    renderer.setObjectRenderer( renderer.plugins.particle );
    renderer.plugins.particle.render( this );
};

/**
 * Adds a child to this particle container at a specified index. If the index is out of bounds an error will be thrown
 *
 * @param child {DisplayObject} The child to add
 * @param index {Number} The index to place the child in
 * @return {DisplayObject} The child that was added.
 */
ParticleContainer.prototype.addChildAt = function (child, index)
{
    // prevent adding self as child
    if (child === this)
    {
        return child;
    }

    if (index >= 0 && index <= this.children.length)
    {
        if (child.parent)
        {
            child.parent.removeChild(child);
        }

        child.parent = this;

        this.children.splice(index, 0, child);

        this._updateStatic = true;

        return child;
    }
    else
    {
        throw new Error(child + 'addChildAt: The index '+ index +' supplied is out of bounds ' + this.children.length);
    }
};

/**
 * Removes a child from the specified index position.
 *
 * @param index {Number} The index to get the child from
 * @return {DisplayObject} The child that was removed.
 */
ParticleContainer.prototype.removeChildAt = function (index)
{
    var child = this.getChildAt(index);

    child.parent = null;
    this.children.splice(index, 1);
    this._updateStatic = true;

    return child;
};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer} The canvas renderer
 * @private
 */
ParticleContainer.prototype.renderCanvas = function (renderer)
{
    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable)
    {
        return;
    }

    var context = renderer.context;
    var transform = this.worldTransform;
    var isRotated = true;

    var positionX = 0;
    var positionY = 0;

    var finalWidth = 0;
    var finalHeight = 0;

    context.globalAlpha = this.worldAlpha;

    this.displayObjectUpdateTransform();

    for (var i = 0; i < this.children.length; ++i)
    {
        var child = this.children[i];

        if (!child.visible)
        {
            continue;
        }

        var frame = child.texture.frame;

        context.globalAlpha = this.worldAlpha * child.alpha;

        if (child.rotation % (Math.PI * 2) === 0)
        {
            // this is the fastest  way to optimise! - if rotation is 0 then we can avoid any kind of setTransform call
            if (isRotated)
            {
                context.setTransform(
                    transform.a,
                    transform.b,
                    transform.c,
                    transform.d,
                    transform.tx,
                    transform.ty
                );

                isRotated = false;
            }

            positionX = ((child.anchor.x) * (-frame.width * child.scale.x) + child.position.x  + 0.5);
            positionY = ((child.anchor.y) * (-frame.height * child.scale.y) + child.position.y  + 0.5);

            finalWidth = frame.width * child.scale.x;
            finalHeight = frame.height * child.scale.y;

        }
        else
        {
            if (!isRotated)
            {
                isRotated = true;
            }

            child.displayObjectUpdateTransform();

            var childTransform = child.worldTransform;

            if (renderer.roundPixels)
            {
                context.setTransform(
                    childTransform.a,
                    childTransform.b,
                    childTransform.c,
                    childTransform.d,
                    childTransform.tx | 0,
                    childTransform.ty | 0
                );
            }
            else
            {
                context.setTransform(
                    childTransform.a,
                    childTransform.b,
                    childTransform.c,
                    childTransform.d,
                    childTransform.tx,
                    childTransform.ty
                );
            }

            positionX = ((child.anchor.x) * (-frame.width) + 0.5);
            positionY = ((child.anchor.y) * (-frame.height) + 0.5);

            finalWidth = frame.width;
            finalHeight = frame.height;
        }

        context.drawImage(
            child.texture.baseTexture.source,
            frame.x,
            frame.y,
            frame.width,
            frame.height,
            positionX,
            positionY,
            finalWidth,
            finalHeight
        );
    }
};

/**
 * Destroys the container
 *
 * @param [destroyChildren=false] {boolean} if set to true, all the children will have their destroy method called as well
 */
ParticleContainer.prototype.destroy = function () {
    Container.prototype.destroy.apply(this, arguments);

    if (this._buffers) {
        for (var i = 0; i < this._buffers.length; ++i) {
            this._buffers[i].destroy();
        }
    }

    this._properties = null;
    this._buffers = null;
};

},{"../const":22,"../display/Container":23}],39:[function(require,module,exports){

/**
 * @author Mat Groves
 *
 * Big thanks to the very clever Matt DesLauriers <mattdesl> https://github.com/mattdesl/
 * for creating the original pixi version!
 * Also a thanks to https://github.com/bchevalier for tweaking the tint and alpha so that they now share 4 bytes on the vertex buffer
 *
 * Heavily inspired by LibGDX's ParticleBuffer:
 * https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/ParticleBuffer.java
 */

/**
 *
 * @class
 * @private
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this sprite batch works for.
 */
function ParticleBuffer(gl, properties, size)
{
    /**
     * the current WebGL drawing context
     * @member {WebGLRenderingContext}
     */
    this.gl = gl;

    /**
     *
     *
     * @member {number}
     */
    this.vertSize = 2;

    /**
     *
     *
     * @member {number}
     */
    this.vertByteSize = this.vertSize * 4;

    /**
     * The number of images in the SpriteBatch before it flushes.
     *
     * @member {number}
     */
    this.size = size;

    /**
     *
     *
     * @member {Array}
     */
    this.dynamicProperties = [];

    /**
     *
     *
     * @member {Array}
     */
    this.staticProperties = [];

    for (var i = 0; i < properties.length; i++)
    {
        var property = properties[i];

        if(property.dynamic)
        {
            this.dynamicProperties.push(property);
        }
        else
        {
            this.staticProperties.push(property);
        }
    }

    this.staticStride = 0;
    this.staticBuffer = null;
    this.staticData = null;

    this.dynamicStride = 0;
    this.dynamicBuffer = null;
    this.dynamicData = null;

    this.initBuffers();

}

ParticleBuffer.prototype.constructor = ParticleBuffer;
module.exports = ParticleBuffer;

/**
 * Sets up the renderer context and necessary buffers.
 *
 * @private
 * @param gl {WebGLRenderingContext} the current WebGL drawing context
 */
ParticleBuffer.prototype.initBuffers = function ()
{
    var gl = this.gl;
    var i;
    var property;

    var dynamicOffset = 0;
    this.dynamicStride = 0;

    for (i = 0; i < this.dynamicProperties.length; i++)
    {
        property = this.dynamicProperties[i];

        property.offset = dynamicOffset;
        dynamicOffset += property.size;
        this.dynamicStride += property.size;
    }

    this.dynamicData = new Float32Array( this.size * this.dynamicStride * 4);
    this.dynamicBuffer = gl.createBuffer();

    gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, this.dynamicData, gl.DYNAMIC_DRAW);


    // static //
    var staticOffset = 0;
    this.staticStride = 0;

    for (i = 0; i < this.staticProperties.length; i++)
    {
        property = this.staticProperties[i];

        property.offset = staticOffset;
        staticOffset += property.size;
        this.staticStride += property.size;
    }

    this.staticData = new Float32Array( this.size * this.staticStride * 4);
    this.staticBuffer = gl.createBuffer();

    gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, this.staticData, gl.DYNAMIC_DRAW);

};

ParticleBuffer.prototype.uploadDynamic = function(children, startIndex, amount)
{
    var gl = this.gl;

    for (var i = 0; i < this.dynamicProperties.length; i++)
    {
        var property = this.dynamicProperties[i];
        property.uploadFunction(children, startIndex, amount, this.dynamicData, this.dynamicStride, property.offset);
    }

    gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer);
    gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.dynamicData);
};

ParticleBuffer.prototype.uploadStatic = function(children, startIndex, amount)
{
    var gl = this.gl;

    for (var i = 0; i < this.staticProperties.length; i++)
    {
        var property = this.staticProperties[i];
        property.uploadFunction(children, startIndex, amount, this.staticData, this.staticStride, property.offset);
    }

    gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer);
    gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.staticData);
};

/**
 * Starts a new sprite batch.
 *
 */
ParticleBuffer.prototype.bind = function ()
{
    var gl = this.gl;
    var i, property;

    gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer);

    for (i = 0; i < this.dynamicProperties.length; i++)
    {
        property = this.dynamicProperties[i];
        gl.vertexAttribPointer(property.attribute, property.size, gl.FLOAT, false, this.dynamicStride * 4, property.offset * 4);
    }

    gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer);

    for (i = 0; i < this.staticProperties.length; i++)
    {
        property = this.staticProperties[i];
        gl.vertexAttribPointer(property.attribute, property.size, gl.FLOAT, false, this.staticStride * 4, property.offset * 4);
    }
};

/**
 * Destroys the SpriteBatch.
 *
 */
ParticleBuffer.prototype.destroy = function ()
{
    this.dynamicProperties = null;
    this.dynamicData = null;
    this.gl.deleteBuffer(this.dynamicBuffer);

    this.staticProperties = null;
    this.staticData = null;
    this.gl.deleteBuffer(this.staticBuffer);
};

},{}],40:[function(require,module,exports){
var ObjectRenderer = require('../../renderers/webgl/utils/ObjectRenderer'),
    WebGLRenderer = require('../../renderers/webgl/WebGLRenderer'),
    ParticleShader = require('./ParticleShader'),
    ParticleBuffer = require('./ParticleBuffer'),
    math            = require('../../math');

/**
 * @author Mat Groves
 *
 * Big thanks to the very clever Matt DesLauriers <mattdesl> https://github.com/mattdesl/
 * for creating the original pixi version!
 * Also a thanks to https://github.com/bchevalier for tweaking the tint and alpha so that they now share 4 bytes on the vertex buffer
 *
 * Heavily inspired by LibGDX's ParticleRenderer:
 * https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/ParticleRenderer.java
 */

/**
 *
 * @class
 * @private
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this sprite batch works for.
 */
function ParticleRenderer(renderer)
{
    ObjectRenderer.call(this, renderer);

    /**
     * The number of images in the Particle before it flushes.
     *
     * @member {number}
     */
    this.size = 15000;//CONST.SPRITE_BATCH_SIZE; // 2000 is a nice balance between mobile / desktop

    var numIndices = this.size * 6;

    /**
     * Holds the indices
     *
     * @member {Uint16Array}
     */
    this.indices = new Uint16Array(numIndices);

    for (var i=0, j=0; i < numIndices; i += 6, j += 4)
    {
        this.indices[i + 0] = j + 0;
        this.indices[i + 1] = j + 1;
        this.indices[i + 2] = j + 2;
        this.indices[i + 3] = j + 0;
        this.indices[i + 4] = j + 2;
        this.indices[i + 5] = j + 3;
    }

    /**
     * The default shader that is used if a sprite doesn't have a more specific one.
     *
     * @member {Shader}
     */
    this.shader = null;

    this.indexBuffer = null;

    this.properties = null;

    this.tempMatrix = new math.Matrix();
}

ParticleRenderer.prototype = Object.create(ObjectRenderer.prototype);
ParticleRenderer.prototype.constructor = ParticleRenderer;
module.exports = ParticleRenderer;

WebGLRenderer.registerPlugin('particle', ParticleRenderer);

/**
 * When there is a WebGL context change
 *
 * @private
 *
 */
ParticleRenderer.prototype.onContextChange = function ()
{
    var gl = this.renderer.gl;

    // setup default shader
    this.shader = new ParticleShader(this.renderer.shaderManager);

    this.indexBuffer = gl.createBuffer();

    // 65535 is max index, so 65535 / 6 = 10922.

    //upload the index data
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW);

    this.properties = [
        // verticesData
        {
            attribute:this.shader.attributes.aVertexPosition,
            dynamic:false,
            size:2,
            uploadFunction:this.uploadVertices,
            offset:0
        },
        // positionData
        {
            attribute:this.shader.attributes.aPositionCoord,
            dynamic:true,
            size:2,
            uploadFunction:this.uploadPosition,
            offset:0
        },
        // rotationData
        {
            attribute:this.shader.attributes.aRotation,
            dynamic:false,
            size:1,
            uploadFunction:this.uploadRotation,
            offset:0
        },
        // uvsData
        {
            attribute:this.shader.attributes.aTextureCoord,
            dynamic:false,
            size:2,
            uploadFunction:this.uploadUvs,
            offset:0
        },
        // alphaData
        {
            attribute:this.shader.attributes.aColor,
            dynamic:false,
            size:1,
            uploadFunction:this.uploadAlpha,
            offset:0
        }
    ];
};

/**
 * Starts a new sprite batch.
 *
 */
ParticleRenderer.prototype.start = function ()
{
    var gl = this.renderer.gl;

    // bind the main texture
    gl.activeTexture(gl.TEXTURE0);

    // bind the buffers

    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);

    var shader = this.shader;

    this.renderer.shaderManager.setShader(shader);
};


/**
 * Renders the sprite object.
 *
 * @param container {Container|Sprite} the sprite to render using this ParticleRenderer
 */
ParticleRenderer.prototype.render = function ( container )
{
    var children = container.children,
        totalChildren = children.length,
        maxSize = container._size;

    if(totalChildren === 0)
    {
        return;
    }
    else if(totalChildren > maxSize)
    {
        totalChildren = maxSize;
    }

    if(!container._buffers)
    {
        container._buffers = this.generateBuffers( container );
    }



    // if the uvs have not updated then no point rendering just yet!
    this.renderer.blendModeManager.setBlendMode(container.blendMode);

    var gl = this.renderer.gl;

    var m =  container.worldTransform.copy( this.tempMatrix );
    m.prepend( this.renderer.currentRenderTarget.projectionMatrix );
    gl.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location, false, m.toArray(true));
    gl.uniform1f(this.shader.uniforms.uAlpha._location, container.worldAlpha);


    // if this variable is true then we will upload the static contents as well as the dynamic contens
    var uploadStatic = container._updateStatic;

    // make sure the texture is bound..
    var baseTexture = children[0]._texture.baseTexture;

    if (!baseTexture._glTextures[gl.id])
    {
        // if the texture has not updated then lets not upload any static properties
        if(!this.renderer.updateTexture(baseTexture))
        {
            return;
        }

        if(!this.properties[0].dynamic || !this.properties[3].dynamic)
        {
            uploadStatic = true;
        }
    }
    else
    {
        gl.bindTexture(gl.TEXTURE_2D, baseTexture._glTextures[gl.id]);
    }

    // now lets upload and render the buffers..
    var j = 0;
    for (var i = 0; i < totalChildren; i+=this.size)
    {
         var amount = ( totalChildren - i);
        if(amount > this.size)
        {
            amount = this.size;
        }

        var buffer = container._buffers[j++];

        // we always upload the dynamic
        buffer.uploadDynamic(children, i, amount);

        // we only upload the static content when we have to!
        if(uploadStatic)
        {
            buffer.uploadStatic(children, i, amount);
        }

        // bind the buffer
        buffer.bind( this.shader );

         // now draw those suckas!
        gl.drawElements(gl.TRIANGLES, amount * 6, gl.UNSIGNED_SHORT, 0);
        this.renderer.drawCount++;
    }

    container._updateStatic = false;
};

/**
 * Creates one particle buffer for each child in the container we want to render and updates internal properties
 *
 * @param container {Container|Sprite} the sprite to render using this ParticleRenderer
 */
ParticleRenderer.prototype.generateBuffers = function ( container )
{
    var gl = this.renderer.gl,
        buffers = [],
        size = container._size,
        i;

    // update the properties to match the state of the container..
    for (i = 0; i < container._properties.length; i++)
    {
        this.properties[i].dynamic = container._properties[i];
    }

    for (i = 0; i < size; i += this.size)
    {
        buffers.push( new ParticleBuffer(gl,  this.properties, this.size, this.shader) );
    }

    return buffers;
};


/**
 *
 * @param children {Array} the array of display objects to render
 * @param startIndex {number} the index to start from in the children array
 * @param amount {number} the amount of children that will have their vertices uploaded
 * @param array {Array}
 * @param stride {number}
 * @param offset {number}
 */
ParticleRenderer.prototype.uploadVertices = function (children, startIndex, amount, array, stride, offset)
{
    var sprite,
        texture,
        trim,
        sx,
        sy,
        w0, w1, h0, h1;

    for (var i = 0; i < amount; i++) {

        sprite = children[startIndex + i];
        texture = sprite._texture;
        sx = sprite.scale.x;
        sy = sprite.scale.y;

        if (texture.trim)
        {
            // if the sprite is trimmed then we need to add the extra space before transforming the sprite coords..
            trim = texture.trim;

            w1 = trim.x - sprite.anchor.x * trim.width;
            w0 = w1 + texture.crop.width;

            h1 = trim.y - sprite.anchor.y * trim.height;
            h0 = h1 + texture.crop.height;
        }
        else
        {
            w0 = (texture._frame.width ) * (1-sprite.anchor.x);
            w1 = (texture._frame.width ) * -sprite.anchor.x;

            h0 = texture._frame.height * (1-sprite.anchor.y);
            h1 = texture._frame.height * -sprite.anchor.y;
        }

        array[offset] = w1 * sx;
        array[offset + 1] = h1 * sy;

        array[offset + stride] = w0 * sx;
        array[offset + stride + 1] = h1 * sy;

        array[offset + stride * 2] = w0 * sx;
        array[offset + stride * 2 + 1] = h0 * sy;

        array[offset + stride * 3] = w1 * sx;
        array[offset + stride * 3 + 1] = h0 * sy;

        offset += stride * 4;
    }

};

/**
 *
 * @param children {Array} the array of display objects to render
 * @param startIndex {number} the index to start from in the children array
 * @param amount {number} the amount of children that will have their positions uploaded
 * @param array {Array}
 * @param stride {number}
 * @param offset {number}
 */
ParticleRenderer.prototype.uploadPosition = function (children,startIndex, amount, array, stride, offset)
{
    for (var i = 0; i < amount; i++)
    {
        var spritePosition = children[startIndex + i].position;

        array[offset] = spritePosition.x;
        array[offset + 1] = spritePosition.y;

        array[offset + stride] = spritePosition.x;
        array[offset + stride + 1] = spritePosition.y;

        array[offset + stride * 2] = spritePosition.x;
        array[offset + stride * 2 + 1] = spritePosition.y;

        array[offset + stride * 3] = spritePosition.x;
        array[offset + stride * 3 + 1] = spritePosition.y;

        offset += stride * 4;
    }

};

/**
 *
 * @param children {Array} the array of display objects to render
 * @param startIndex {number} the index to start from in the children array
 * @param amount {number} the amount of children that will have their rotation uploaded
 * @param array {Array}
 * @param stride {number}
 * @param offset {number}
 */
ParticleRenderer.prototype.uploadRotation = function (children,startIndex, amount, array, stride, offset)
{
    for (var i = 0; i < amount; i++)
    {
        var spriteRotation = children[startIndex + i].rotation;


        array[offset] = spriteRotation;
        array[offset + stride] = spriteRotation;
        array[offset + stride * 2] = spriteRotation;
        array[offset + stride * 3] = spriteRotation;

        offset += stride * 4;
    }
};

/**
 *
 * @param children {Array} the array of display objects to render
 * @param startIndex {number} the index to start from in the children array
 * @param amount {number} the amount of children that will have their Uvs uploaded
 * @param array {Array}
 * @param stride {number}
 * @param offset {number}
 */
ParticleRenderer.prototype.uploadUvs = function (children,startIndex, amount, array, stride, offset)
{
    for (var i = 0; i < amount; i++)
    {
        var textureUvs = children[startIndex + i]._texture._uvs;

        if (textureUvs)
        {
            array[offset] = textureUvs.x0;
            array[offset + 1] = textureUvs.y0;

            array[offset + stride] = textureUvs.x1;
            array[offset + stride + 1] = textureUvs.y1;

            array[offset + stride * 2] = textureUvs.x2;
            array[offset + stride * 2 + 1] = textureUvs.y2;

            array[offset + stride * 3] = textureUvs.x3;
            array[offset + stride * 3 + 1] = textureUvs.y3;

            offset += stride * 4;
        }
        else
        {
            //TODO you know this can be easier!
            array[offset] = 0;
            array[offset + 1] = 0;

            array[offset + stride] = 0;
            array[offset + stride + 1] = 0;

            array[offset + stride * 2] = 0;
            array[offset + stride * 2 + 1] = 0;

            array[offset + stride * 3] = 0;
            array[offset + stride * 3 + 1] = 0;

            offset += stride * 4;
        }
    }
};

/**
 *
 * @param children {Array} the array of display objects to render
 * @param startIndex {number} the index to start from in the children array
 * @param amount {number} the amount of children that will have their alpha uploaded
 * @param array {Array}
 * @param stride {number}
 * @param offset {number}
 */
ParticleRenderer.prototype.uploadAlpha = function (children,startIndex, amount, array, stride, offset)
{
     for (var i = 0; i < amount; i++)
     {
        var spriteAlpha = children[startIndex + i].alpha;

        array[offset] = spriteAlpha;
        array[offset + stride] = spriteAlpha;
        array[offset + stride * 2] = spriteAlpha;
        array[offset + stride * 3] = spriteAlpha;

        offset += stride * 4;
    }
};


/**
 * Destroys the Particle.
 *
 */
ParticleRenderer.prototype.destroy = function ()
{
    if (this.renderer.gl) {
        this.renderer.gl.deleteBuffer(this.indexBuffer);
    }

    ObjectRenderer.prototype.destroy.apply(this, arguments);

    this.shader.destroy();

    this.indices = null;
    this.tempMatrix = null;
};

},{"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"./ParticleBuffer":39,"./ParticleShader":41}],41:[function(require,module,exports){
var TextureShader = require('../../renderers/webgl/shaders/TextureShader');

/**
 * @class
 * @extends PIXI.TextureShader
 * @memberof PIXI
 * @param shaderManager {ShaderManager} The webgl shader manager this shader works for.
 */
function ParticleShader(shaderManager)
{
    TextureShader.call(this,
        shaderManager,
        // vertex shader
        [
            'attribute vec2 aVertexPosition;',
            'attribute vec2 aTextureCoord;',
            'attribute float aColor;',

            'attribute vec2 aPositionCoord;',
            'attribute vec2 aScale;',
            'attribute float aRotation;',

            'uniform mat3 projectionMatrix;',

            'varying vec2 vTextureCoord;',
            'varying float vColor;',

            'void main(void){',
            '   vec2 v = aVertexPosition;',

            '   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);',
            '   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);',
            '   v = v + aPositionCoord;',

            '   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);',

            '   vTextureCoord = aTextureCoord;',
            '   vColor = aColor;',
            '}'
        ].join('\n'),
        // hello
         [
            'precision lowp float;',

            'varying vec2 vTextureCoord;',
            'varying float vColor;',

            'uniform sampler2D uSampler;',
            'uniform float uAlpha;',

            'void main(void){',
            '  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;',
            '  if (color.a == 0.0) discard;',
            '  gl_FragColor = color;',
            '}'
        ].join('\n'),
        // custom uniforms
        {
            uAlpha:  { type: '1f', value: 1 }
        },
        // custom attributes
        {
            aPositionCoord: 0,
           // aScale:         0,
            aRotation:      0
        }
    );

    // TEMP HACK

}

ParticleShader.prototype = Object.create(TextureShader.prototype);
ParticleShader.prototype.constructor = ParticleShader;

module.exports = ParticleShader;

},{"../../renderers/webgl/shaders/TextureShader":61}],42:[function(require,module,exports){
var utils = require('../utils'),
    math = require('../math'),
    CONST = require('../const'),
    EventEmitter = require('eventemitter3');

/**
 * The CanvasRenderer draws the scene and all its content onto a 2d canvas. This renderer should be used for browsers that do not support webGL.
 * Don't forget to add the CanvasRenderer.view to your DOM or you will not see anything :)
 *
 * @class
 * @memberof PIXI
 * @param system {string} The name of the system this renderer is for.
 * @param [width=800] {number} the width of the canvas view
 * @param [height=600] {number} the height of the canvas view
 * @param [options] {object} The optional renderer parameters
 * @param [options.view] {HTMLCanvasElement} the canvas to use as a view, optional
 * @param [options.transparent=false] {boolean} If the render view is transparent, default false
 * @param [options.autoResize=false] {boolean} If the render view is automatically resized, default false
 * @param [options.antialias=false] {boolean} sets antialias (only applicable in chrome at the moment)
 * @param [options.resolution=1] {number} the resolution of the renderer retina would be 2
 * @param [options.clearBeforeRender=true] {boolean} This sets if the CanvasRenderer will clear the canvas or
 *      not before the new render pass.
 */
function SystemRenderer(system, width, height, options)
{
    EventEmitter.call(this);

    utils.sayHello(system);

    // prepare options
    if (options)
    {
        for (var i in CONST.DEFAULT_RENDER_OPTIONS)
        {
            if (typeof options[i] === 'undefined')
            {
                options[i] = CONST.DEFAULT_RENDER_OPTIONS[i];
            }
        }
    }
    else
    {
        options = CONST.DEFAULT_RENDER_OPTIONS;
    }

    /**
     * The type of the renderer.
     *
     * @member {RENDERER_TYPE}
     * @default CONT.RENDERER_TYPE.UNKNOWN
     */
    this.type = CONST.RENDERER_TYPE.UNKNOWN;

    /**
     * The width of the canvas view
     *
     * @member {number}
     * @default 800
     */
    this.width = width || 800;

    /**
     * The height of the canvas view
     *
     * @member {number}
     * @default 600
     */
    this.height = height || 600;

    /**
     * The canvas element that everything is drawn to
     *
     * @member {HTMLCanvasElement}
     */
    this.view = options.view || document.createElement('canvas');

    /**
     * The resolution of the renderer
     *
     * @member {number}
     * @default 1
     */
    this.resolution = options.resolution;

    /**
     * Whether the render view is transparent
     *
     * @member {boolean}
     */
    this.transparent = options.transparent;

    /**
     * Whether the render view should be resized automatically
     *
     * @member {boolean}
     */
    this.autoResize = options.autoResize || false;

    /**
     * Tracks the blend modes useful for this renderer.
     *
     * @member {object<string, mixed>}
     */
    this.blendModes = null;

    /**
     * The value of the preserveDrawingBuffer flag affects whether or not the contents of the stencil buffer is retained after rendering.
     *
     * @member {boolean}
     */
    this.preserveDrawingBuffer = options.preserveDrawingBuffer;

    /**
     * This sets if the CanvasRenderer will clear the canvas or not before the new render pass.
     * If the scene is NOT transparent Pixi will use a canvas sized fillRect operation every frame to set the canvas background color.
     * If the scene is transparent Pixi will use clearRect to clear the canvas every frame.
     * Disable this by setting this to false. For example if your game has a canvas filling background image you often don't need this set.
     *
     * @member {boolean}
     * @default
     */
    this.clearBeforeRender = options.clearBeforeRender;

    /**
     * The background color as a number.
     *
     * @member {number}
     * @private
     */
    this._backgroundColor = 0x000000;

    /**
     * The background color as an [R, G, B] array.
     *
     * @member {number[]}
     * @private
     */
    this._backgroundColorRgb = [0, 0, 0];

    /**
     * The background color as a string.
     *
     * @member {string}
     * @private
     */
    this._backgroundColorString = '#000000';

    this.backgroundColor = options.backgroundColor || this._backgroundColor; // run bg color setter

    /**
     * This temporary display object used as the parent of the currently being rendered item
     * @member {DisplayObject}
     * @private
     */
    this._tempDisplayObjectParent = {worldTransform:new math.Matrix(), worldAlpha:1, children:[]};

    //
    this._lastObjectRendered = this._tempDisplayObjectParent;
}

// constructor
SystemRenderer.prototype = Object.create(EventEmitter.prototype);
SystemRenderer.prototype.constructor = SystemRenderer;
module.exports = SystemRenderer;

Object.defineProperties(SystemRenderer.prototype, {
    /**
     * The background color to fill if not transparent
     *
     * @member {number}
     * @memberof SystemRenderer#
     */
    backgroundColor:
    {
        get: function ()
        {
            return this._backgroundColor;
        },
        set: function (val)
        {
            this._backgroundColor = val;
            this._backgroundColorString = utils.hex2string(val);
            utils.hex2rgb(val, this._backgroundColorRgb);
        }
    }
});

/**
 * Resizes the canvas view to the specified width and height
 *
 * @param width {number} the new width of the canvas view
 * @param height {number} the new height of the canvas view
 */
SystemRenderer.prototype.resize = function (width, height) {
    this.width = width * this.resolution;
    this.height = height * this.resolution;

    this.view.width = this.width;
    this.view.height = this.height;

    if (this.autoResize)
    {
        this.view.style.width = this.width / this.resolution + 'px';
        this.view.style.height = this.height / this.resolution + 'px';
    }
};

/**
 * Removes everything from the renderer and optionally removes the Canvas DOM element.
 *
 * @param [removeView=false] {boolean} Removes the Canvas element from the DOM.
 */
SystemRenderer.prototype.destroy = function (removeView) {
    if (removeView && this.view.parent)
    {
        this.view.parent.removeChild(this.view);
    }

    this.type = CONST.RENDERER_TYPE.UNKNOWN;

    this.width = 0;
    this.height = 0;

    this.view = null;

    this.resolution = 0;

    this.transparent = false;

    this.autoResize = false;

    this.blendModes = null;

    this.preserveDrawingBuffer = false;
    this.clearBeforeRender = false;

    this._backgroundColor = 0;
    this._backgroundColorRgb = null;
    this._backgroundColorString = null;
};

},{"../const":22,"../math":32,"../utils":76,"eventemitter3":11}],43:[function(require,module,exports){
var SystemRenderer = require('../SystemRenderer'),
    CanvasMaskManager = require('./utils/CanvasMaskManager'),
    utils = require('../../utils'),
    math = require('../../math'),
    CONST = require('../../const');

/**
 * The CanvasRenderer draws the scene and all its content onto a 2d canvas. This renderer should be used for browsers that do not support webGL.
 * Don't forget to add the CanvasRenderer.view to your DOM or you will not see anything :)
 *
 * @class
 * @memberof PIXI
 * @extends PIXI.SystemRenderer
 * @param [width=800] {number} the width of the canvas view
 * @param [height=600] {number} the height of the canvas view
 * @param [options] {object} The optional renderer parameters
 * @param [options.view] {HTMLCanvasElement} the canvas to use as a view, optional
 * @param [options.transparent=false] {boolean} If the render view is transparent, default false
 * @param [options.autoResize=false] {boolean} If the render view is automatically resized, default false
 * @param [options.antialias=false] {boolean} sets antialias (only applicable in chrome at the moment)
 * @param [options.resolution=1] {number} the resolution of the renderer retina would be 2
 * @param [options.clearBeforeRender=true] {boolean} This sets if the CanvasRenderer will clear the canvas or
 *      not before the new render pass.
 */
function CanvasRenderer(width, height, options)
{
    SystemRenderer.call(this, 'Canvas', width, height, options);

    this.type = CONST.RENDERER_TYPE.CANVAS;

    /**
     * The canvas 2d context that everything is drawn with.
     *
     * @member {CanvasRenderingContext2D}
     */
    this.context = this.view.getContext('2d', { alpha: this.transparent });

    /**
     * Boolean flag controlling canvas refresh.
     *
     * @member {boolean}
     */
    this.refresh = true;

    /**
     * Instance of a CanvasMaskManager, handles masking when using the canvas renderer.
     *
     * @member {CanvasMaskManager}
     */
    this.maskManager = new CanvasMaskManager();

    /**
     * If true Pixi will Math.floor() x/y values when rendering, stopping pixel interpolation.
     * Handy for crisp pixel art and speed on legacy devices.
     *
     * @member {boolean}
     */
    this.roundPixels = false;

    /**
     * Tracks the active scale mode for this renderer.
     *
     * @member {SCALE_MODE}
     */
    this.currentScaleMode = CONST.SCALE_MODES.DEFAULT;

    /**
     * Tracks the active blend mode for this renderer.
     *
     * @member {SCALE_MODE}
     */
    this.currentBlendMode = CONST.BLEND_MODES.NORMAL;

    /**
     * The canvas property used to set the canvas smoothing property.
     *
     * @member {string}
     */
    this.smoothProperty = 'imageSmoothingEnabled';

    if (!this.context.imageSmoothingEnabled)
    {
        if (this.context.webkitImageSmoothingEnabled)
        {
            this.smoothProperty = 'webkitImageSmoothingEnabled';
        }
        else if (this.context.mozImageSmoothingEnabled)
        {
            this.smoothProperty = 'mozImageSmoothingEnabled';
        }
        else if (this.context.oImageSmoothingEnabled)
        {
            this.smoothProperty = 'oImageSmoothingEnabled';
        }
        else if (this.context.msImageSmoothingEnabled)
        {
            this.smoothProperty = 'msImageSmoothingEnabled';
        }
    }

    this.initPlugins();

    this._mapBlendModes();

    /**
     * This temporary display object used as the parent of the currently being rendered item
     *
     * @member {DisplayObject}
     * @private
     */
    this._tempDisplayObjectParent = {
        worldTransform: new math.Matrix(),
        worldAlpha: 1
    };


    this.resize(width, height);
}

// constructor
CanvasRenderer.prototype = Object.create(SystemRenderer.prototype);
CanvasRenderer.prototype.constructor = CanvasRenderer;
module.exports = CanvasRenderer;
utils.pluginTarget.mixin(CanvasRenderer);

/**
 * Renders the object to this canvas view
 *
 * @param object {DisplayObject} the object to be rendered
 */
CanvasRenderer.prototype.render = function (object)
{
    var cacheParent = object.parent;

    this._lastObjectRendered = object;

    object.parent = this._tempDisplayObjectParent;

    // update the scene graph
    object.updateTransform();

    object.parent = cacheParent;

    this.context.setTransform(1, 0, 0, 1, 0, 0);

    this.context.globalAlpha = 1;

    this.currentBlendMode = CONST.BLEND_MODES.NORMAL;
    this.context.globalCompositeOperation = this.blendModes[CONST.BLEND_MODES.NORMAL];

    if (navigator.isCocoonJS && this.view.screencanvas)
    {
        this.context.fillStyle = 'black';
        this.context.clear();
    }

    if (this.clearBeforeRender)
    {
        if (this.transparent)
        {
            this.context.clearRect(0, 0, this.width, this.height);
        }
        else
        {
            this.context.fillStyle = this._backgroundColorString;
            this.context.fillRect(0, 0, this.width , this.height);
        }
    }

    this.renderDisplayObject(object, this.context);
};

/**
 * Removes everything from the renderer and optionally removes the Canvas DOM element.
 *
 * @param [removeView=false] {boolean} Removes the Canvas element from the DOM.
 */
CanvasRenderer.prototype.destroy = function (removeView)
{
    this.destroyPlugins();

    // call the base destroy
    SystemRenderer.prototype.destroy.call(this, removeView);

    this.context = null;

    this.refresh = true;

    this.maskManager.destroy();
    this.maskManager = null;

    this.roundPixels = false;

    this.currentScaleMode = 0;
    this.currentBlendMode = 0;

    this.smoothProperty = null;
};

/**
 * Renders a display object
 *
 * @param displayObject {DisplayObject} The displayObject to render
 * @private
 */
CanvasRenderer.prototype.renderDisplayObject = function (displayObject, context)
{
    var tempContext = this.context;

    this.context = context;
    displayObject.renderCanvas(this);
    this.context = tempContext;
};

CanvasRenderer.prototype.resize = function (w, h)
{
    SystemRenderer.prototype.resize.call(this, w, h);

    //reset the scale mode.. oddly this seems to be reset when the canvas is resized.
    //surely a browser bug?? Let pixi fix that for you..
    this.currentScaleMode = CONST.SCALE_MODES.DEFAULT;
    
    if(this.smoothProperty)
    {
        this.context[this.smoothProperty] = (this.currentScaleMode === CONST.SCALE_MODES.LINEAR);
    }

};

/**
 * Maps Pixi blend modes to canvas blend modes.
 *
 * @private
 */
CanvasRenderer.prototype._mapBlendModes = function ()
{
    if (!this.blendModes)
    {
        this.blendModes = {};

        if (utils.canUseNewCanvasBlendModes())
        {
            this.blendModes[CONST.BLEND_MODES.NORMAL]        = 'source-over';
            this.blendModes[CONST.BLEND_MODES.ADD]           = 'lighter'; //IS THIS OK???
            this.blendModes[CONST.BLEND_MODES.MULTIPLY]      = 'multiply';
            this.blendModes[CONST.BLEND_MODES.SCREEN]        = 'screen';
            this.blendModes[CONST.BLEND_MODES.OVERLAY]       = 'overlay';
            this.blendModes[CONST.BLEND_MODES.DARKEN]        = 'darken';
            this.blendModes[CONST.BLEND_MODES.LIGHTEN]       = 'lighten';
            this.blendModes[CONST.BLEND_MODES.COLOR_DODGE]   = 'color-dodge';
            this.blendModes[CONST.BLEND_MODES.COLOR_BURN]    = 'color-burn';
            this.blendModes[CONST.BLEND_MODES.HARD_LIGHT]    = 'hard-light';
            this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT]    = 'soft-light';
            this.blendModes[CONST.BLEND_MODES.DIFFERENCE]    = 'difference';
            this.blendModes[CONST.BLEND_MODES.EXCLUSION]     = 'exclusion';
            this.blendModes[CONST.BLEND_MODES.HUE]           = 'hue';
            this.blendModes[CONST.BLEND_MODES.SATURATION]    = 'saturate';
            this.blendModes[CONST.BLEND_MODES.COLOR]         = 'color';
            this.blendModes[CONST.BLEND_MODES.LUMINOSITY]    = 'luminosity';
        }
        else
        {
            // this means that the browser does not support the cool new blend modes in canvas 'cough' ie 'cough'
            this.blendModes[CONST.BLEND_MODES.NORMAL]        = 'source-over';
            this.blendModes[CONST.BLEND_MODES.ADD]           = 'lighter'; //IS THIS OK???
            this.blendModes[CONST.BLEND_MODES.MULTIPLY]      = 'source-over';
            this.blendModes[CONST.BLEND_MODES.SCREEN]        = 'source-over';
            this.blendModes[CONST.BLEND_MODES.OVERLAY]       = 'source-over';
            this.blendModes[CONST.BLEND_MODES.DARKEN]        = 'source-over';
            this.blendModes[CONST.BLEND_MODES.LIGHTEN]       = 'source-over';
            this.blendModes[CONST.BLEND_MODES.COLOR_DODGE]   = 'source-over';
            this.blendModes[CONST.BLEND_MODES.COLOR_BURN]    = 'source-over';
            this.blendModes[CONST.BLEND_MODES.HARD_LIGHT]    = 'source-over';
            this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT]    = 'source-over';
            this.blendModes[CONST.BLEND_MODES.DIFFERENCE]    = 'source-over';
            this.blendModes[CONST.BLEND_MODES.EXCLUSION]     = 'source-over';
            this.blendModes[CONST.BLEND_MODES.HUE]           = 'source-over';
            this.blendModes[CONST.BLEND_MODES.SATURATION]    = 'source-over';
            this.blendModes[CONST.BLEND_MODES.COLOR]         = 'source-over';
            this.blendModes[CONST.BLEND_MODES.LUMINOSITY]    = 'source-over';
        }
    }
};

},{"../../const":22,"../../math":32,"../../utils":76,"../SystemRenderer":42,"./utils/CanvasMaskManager":46}],44:[function(require,module,exports){
/**
 * Creates a Canvas element of the given size.
 *
 * @class
 * @memberof PIXI
 * @param width {number} the width for the newly created canvas
 * @param height {number} the height for the newly created canvas
 */
function CanvasBuffer(width, height)
{
    /**
     * The Canvas object that belongs to this CanvasBuffer.
     *
     * @member {HTMLCanvasElement}
     */
    this.canvas = document.createElement('canvas');

    /**
     * A CanvasRenderingContext2D object representing a two-dimensional rendering context.
     *
     * @member {CanvasRenderingContext2D}
     */
    this.context = this.canvas.getContext('2d');

    this.canvas.width = width;
    this.canvas.height = height;
}

CanvasBuffer.prototype.constructor = CanvasBuffer;
module.exports = CanvasBuffer;

Object.defineProperties(CanvasBuffer.prototype, {
    /**
     * The width of the canvas buffer in pixels.
     *
     * @member {number}
     * @memberof CanvasBuffer#
     */
    width: {
        get: function ()
        {
            return this.canvas.width;
        },
        set: function (val)
        {
            this.canvas.width = val;
        }
    },
    /**
     * The height of the canvas buffer in pixels.
     *
     * @member {number}
     * @memberof CanvasBuffer#
     */
    height: {
        get: function ()
        {
            return this.canvas.height;
        },
        set: function (val)
        {
            this.canvas.height = val;
        }
    }
});

/**
 * Clears the canvas that was created by the CanvasBuffer class.
 *
 * @private
 */
CanvasBuffer.prototype.clear = function ()
{
    this.context.setTransform(1, 0, 0, 1, 0, 0);
    this.context.clearRect(0,0, this.canvas.width, this.canvas.height);
};

/**
 * Resizes the canvas to the specified width and height.
 *
 * @param width {number} the new width of the canvas
 * @param height {number} the new height of the canvas
 */
CanvasBuffer.prototype.resize = function (width, height)
{
    this.canvas.width = width;
    this.canvas.height = height;
};

/**
 * Destroys this canvas.
 *
 */
CanvasBuffer.prototype.destroy = function ()
{
    this.context = null;
    this.canvas = null;
};

},{}],45:[function(require,module,exports){
var CONST = require('../../../const');

/**
 * A set of functions used by the canvas renderer to draw the primitive graphics data.
 * @static
 * @class
 * @memberof PIXI
 */
var CanvasGraphics = {};
module.exports = CanvasGraphics;

/*
 * Renders a Graphics object to a canvas.
 *
 * @param graphics {Graphics} the actual graphics object to render
 * @param context {CanvasRenderingContext2D} the 2d drawing method of the canvas
 */
CanvasGraphics.renderGraphics = function (graphics, context)
{
    var worldAlpha = graphics.worldAlpha;

    if (graphics.dirty)
    {
        this.updateGraphicsTint(graphics);
        graphics.dirty = false;
    }

    for (var i = 0; i < graphics.graphicsData.length; i++)
    {
        var data = graphics.graphicsData[i];
        var shape = data.shape;

        var fillColor = data._fillTint;
        var lineColor = data._lineTint;

        context.lineWidth = data.lineWidth;

        if (data.type === CONST.SHAPES.POLY)
        {
            context.beginPath();

            var points = shape.points;

            context.moveTo(points[0], points[1]);

            for (var j=1; j < points.length/2; j++)
            {
                context.lineTo(points[j * 2], points[j * 2 + 1]);
            }

            if (shape.closed)
            {
                context.lineTo(points[0], points[1]);
            }

            // if the first and last point are the same close the path - much neater :)
            if (points[0] === points[points.length-2] && points[1] === points[points.length-1])
            {
                context.closePath();
            }

            if (data.fill)
            {
                context.globalAlpha = data.fillAlpha * worldAlpha;
                context.fillStyle = '#' + ('00000' + ( fillColor | 0).toString(16)).substr(-6);
                context.fill();
            }
            if (data.lineWidth)
            {
                context.globalAlpha = data.lineAlpha * worldAlpha;
                context.strokeStyle = '#' + ('00000' + ( lineColor | 0).toString(16)).substr(-6);
                context.stroke();
            }
        }
        else if (data.type === CONST.SHAPES.RECT)
        {

            if (data.fillColor || data.fillColor === 0)
            {
                context.globalAlpha = data.fillAlpha * worldAlpha;
                context.fillStyle = '#' + ('00000' + ( fillColor | 0).toString(16)).substr(-6);
                context.fillRect(shape.x, shape.y, shape.width, shape.height);

            }
            if (data.lineWidth)
            {
                context.globalAlpha = data.lineAlpha * worldAlpha;
                context.strokeStyle = '#' + ('00000' + ( lineColor | 0).toString(16)).substr(-6);
                context.strokeRect(shape.x, shape.y, shape.width, shape.height);
            }
        }
        else if (data.type === CONST.SHAPES.CIRC)
        {
            // TODO - need to be Undefined!
            context.beginPath();
            context.arc(shape.x, shape.y, shape.radius,0,2*Math.PI);
            context.closePath();

            if (data.fill)
            {
                context.globalAlpha = data.fillAlpha * worldAlpha;
                context.fillStyle = '#' + ('00000' + ( fillColor | 0).toString(16)).substr(-6);
                context.fill();
            }
            if (data.lineWidth)
            {
                context.globalAlpha = data.lineAlpha * worldAlpha;
                context.strokeStyle = '#' + ('00000' + ( lineColor | 0).toString(16)).substr(-6);
                context.stroke();
            }
        }
        else if (data.type === CONST.SHAPES.ELIP)
        {
            // ellipse code taken from: http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas

            var w = shape.width * 2;
            var h = shape.height * 2;

            var x = shape.x - w/2;
            var y = shape.y - h/2;

            context.beginPath();

            var kappa = 0.5522848,
                ox = (w / 2) * kappa, // control point offset horizontal
                oy = (h / 2) * kappa, // control point offset vertical
                xe = x + w,           // x-end
                ye = y + h,           // y-end
                xm = x + w / 2,       // x-middle
                ym = y + h / 2;       // y-middle

            context.moveTo(x, ym);
            context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
            context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
            context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
            context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);

            context.closePath();

            if (data.fill)
            {
                context.globalAlpha = data.fillAlpha * worldAlpha;
                context.fillStyle = '#' + ('00000' + ( fillColor | 0).toString(16)).substr(-6);
                context.fill();
            }
            if (data.lineWidth)
            {
                context.globalAlpha = data.lineAlpha * worldAlpha;
                context.strokeStyle = '#' + ('00000' + ( lineColor | 0).toString(16)).substr(-6);
                context.stroke();
            }
        }
        else if (data.type === CONST.SHAPES.RREC)
        {
            var rx = shape.x;
            var ry = shape.y;
            var width = shape.width;
            var height = shape.height;
            var radius = shape.radius;

            var maxRadius = Math.min(width, height) / 2 | 0;
            radius = radius > maxRadius ? maxRadius : radius;

            context.beginPath();
            context.moveTo(rx, ry + radius);
            context.lineTo(rx, ry + height - radius);
            context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height);
            context.lineTo(rx + width - radius, ry + height);
            context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius);
            context.lineTo(rx + width, ry + radius);
            context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry);
            context.lineTo(rx + radius, ry);
            context.quadraticCurveTo(rx, ry, rx, ry + radius);
            context.closePath();

            if (data.fillColor || data.fillColor === 0)
            {
                context.globalAlpha = data.fillAlpha * worldAlpha;
                context.fillStyle = '#' + ('00000' + ( fillColor | 0).toString(16)).substr(-6);
                context.fill();

            }
            if (data.lineWidth)
            {
                context.globalAlpha = data.lineAlpha * worldAlpha;
                context.strokeStyle = '#' + ('00000' + ( lineColor | 0).toString(16)).substr(-6);
                context.stroke();
            }
        }
    }
};

/*
 * Renders a graphics mask
 *
 * @private
 * @param graphics {Graphics} the graphics which will be used as a mask
 * @param context {CanvasRenderingContext2D} the context 2d method of the canvas
 */
CanvasGraphics.renderGraphicsMask = function (graphics, context)
{
    var len = graphics.graphicsData.length;

    if (len === 0)
    {
        return;
    }

    context.beginPath();

    for (var i = 0; i < len; i++)
    {
        var data = graphics.graphicsData[i];
        var shape = data.shape;

        if (data.type === CONST.SHAPES.POLY)
        {

            var points = shape.points;

            context.moveTo(points[0], points[1]);

            for (var j=1; j < points.length/2; j++)
            {
                context.lineTo(points[j * 2], points[j * 2 + 1]);
            }

            // if the first and last point are the same close the path - much neater :)
            if (points[0] === points[points.length-2] && points[1] === points[points.length-1])
            {
                context.closePath();
            }

        }
        else if (data.type === CONST.SHAPES.RECT)
        {
            context.rect(shape.x, shape.y, shape.width, shape.height);
            context.closePath();
        }
        else if (data.type === CONST.SHAPES.CIRC)
        {
            // TODO - need to be Undefined!
            context.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI);
            context.closePath();
        }
        else if (data.type === CONST.SHAPES.ELIP)
        {

            // ellipse code taken from: http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas

            var w = shape.width * 2;
            var h = shape.height * 2;

            var x = shape.x - w/2;
            var y = shape.y - h/2;

            var kappa = 0.5522848,
                ox = (w / 2) * kappa, // control point offset horizontal
                oy = (h / 2) * kappa, // control point offset vertical
                xe = x + w,           // x-end
                ye = y + h,           // y-end
                xm = x + w / 2,       // x-middle
                ym = y + h / 2;       // y-middle

            context.moveTo(x, ym);
            context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
            context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
            context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
            context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
            context.closePath();
        }
        else if (data.type === CONST.SHAPES.RREC)
        {

            var rx = shape.x;
            var ry = shape.y;
            var width = shape.width;
            var height = shape.height;
            var radius = shape.radius;

            var maxRadius = Math.min(width, height) / 2 | 0;
            radius = radius > maxRadius ? maxRadius : radius;

            context.moveTo(rx, ry + radius);
            context.lineTo(rx, ry + height - radius);
            context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height);
            context.lineTo(rx + width - radius, ry + height);
            context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius);
            context.lineTo(rx + width, ry + radius);
            context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry);
            context.lineTo(rx + radius, ry);
            context.quadraticCurveTo(rx, ry, rx, ry + radius);
            context.closePath();
        }
    }
};

/*
 * Updates the tint of a graphics object
 *
 * @private
 * @param graphics {Graphics} the graphics that will have its tint updated
 * 
 */
CanvasGraphics.updateGraphicsTint = function (graphics)
{
    if (graphics.tint === 0xFFFFFF)
    {
        return;
    }

    var tintR = (graphics.tint >> 16 & 0xFF) / 255;
    var tintG = (graphics.tint >> 8 & 0xFF) / 255;
    var tintB = (graphics.tint & 0xFF)/ 255;

    for (var i = 0; i < graphics.graphicsData.length; i++)
    {
        var data = graphics.graphicsData[i];

        var fillColor = data.fillColor | 0;
        var lineColor = data.lineColor | 0;

        /*
        var colorR = (fillColor >> 16 & 0xFF) / 255;
        var colorG = (fillColor >> 8 & 0xFF) / 255;
        var colorB = (fillColor & 0xFF) / 255;

        colorR *= tintR;
        colorG *= tintG;
        colorB *= tintB;

        fillColor = ((colorR*255 << 16) + (colorG*255 << 8) + colorB*255);

        colorR = (lineColor >> 16 & 0xFF) / 255;
        colorG = (lineColor >> 8 & 0xFF) / 255;
        colorB = (lineColor & 0xFF) / 255;

        colorR *= tintR;
        colorG *= tintG;
        colorB *= tintB;

        lineColor = ((colorR*255 << 16) + (colorG*255 << 8) + colorB*255);
        */

        // super inline cos im an optimization NAZI :)
        data._fillTint = (((fillColor >> 16 & 0xFF) / 255 * tintR*255 << 16) + ((fillColor >> 8 & 0xFF) / 255 * tintG*255 << 8) +  (fillColor & 0xFF) / 255 * tintB*255);
        data._lineTint = (((lineColor >> 16 & 0xFF) / 255 * tintR*255 << 16) + ((lineColor >> 8 & 0xFF) / 255 * tintG*255 << 8) +  (lineColor & 0xFF) / 255 * tintB*255);

    }
};


},{"../../../const":22}],46:[function(require,module,exports){
var CanvasGraphics = require('./CanvasGraphics');

/**
 * A set of functions used to handle masking.
 *
 * @class
 * @memberof PIXI
 */
function CanvasMaskManager()
{}

CanvasMaskManager.prototype.constructor = CanvasMaskManager;
module.exports = CanvasMaskManager;

/**
 * This method adds it to the current stack of masks.
 *
 * @param maskData {object} the maskData that will be pushed
 * @param renderer {WebGLRenderer|CanvasRenderer} The renderer context to use.
 */
CanvasMaskManager.prototype.pushMask = function (maskData, renderer)
{

    renderer.context.save();

    var cacheAlpha = maskData.alpha;
    var transform = maskData.worldTransform;
    var resolution = renderer.resolution;

    renderer.context.setTransform(
        transform.a * resolution,
        transform.b * resolution,
        transform.c * resolution,
        transform.d * resolution,
        transform.tx * resolution,
        transform.ty * resolution
    );

    //TODO suport sprite alpha masks??
    //lots of effort required. If demand is great enough..
    if(!maskData.texture)
    {
        CanvasGraphics.renderGraphicsMask(maskData, renderer.context);
        renderer.context.clip();
    }

    maskData.worldAlpha = cacheAlpha;
};

/**
 * Restores the current drawing context to the state it was before the mask was applied.
 *
 * @param renderer {WebGLRenderer|CanvasRenderer} The renderer context to use.
 */
CanvasMaskManager.prototype.popMask = function (renderer)
{
    renderer.context.restore();
};

CanvasMaskManager.prototype.destroy = function () {};

},{"./CanvasGraphics":45}],47:[function(require,module,exports){
var utils = require('../../../utils');

/**
 * Utility methods for Sprite/Texture tinting.
 * @static
 * @class
 * @memberof PIXI
 */
var CanvasTinter = {};
module.exports = CanvasTinter;

/**
 * Basically this method just needs a sprite and a color and tints the sprite with the given color.
 *
 * @param sprite {Sprite} the sprite to tint
 * @param color {number} the color to use to tint the sprite with
 * @return {HTMLCanvasElement} The tinted canvas
 */
CanvasTinter.getTintedTexture = function (sprite, color)
{
    var texture = sprite.texture;

    color = CanvasTinter.roundColor(color);

    var stringColor = '#' + ('00000' + ( color | 0).toString(16)).substr(-6);

    texture.tintCache = texture.tintCache || {};

    if (texture.tintCache[stringColor])
    {
        return texture.tintCache[stringColor];
    }

     // clone texture..
    var canvas = CanvasTinter.canvas || document.createElement('canvas');

    //CanvasTinter.tintWithPerPixel(texture, stringColor, canvas);
    CanvasTinter.tintMethod(texture, color, canvas);

    if (CanvasTinter.convertTintToImage)
    {
        // is this better?
        var tintImage = new Image();
        tintImage.src = canvas.toDataURL();

        texture.tintCache[stringColor] = tintImage;
    }
    else
    {
        texture.tintCache[stringColor] = canvas;
        // if we are not converting the texture to an image then we need to lose the reference to the canvas
        CanvasTinter.canvas = null;
    }

    return canvas;
};

/**
 * Tint a texture using the 'multiply' operation.
 *
 * @param texture {Texture} the texture to tint
 * @param color {number} the color to use to tint the sprite with
 * @param canvas {HTMLCanvasElement} the current canvas
 */
CanvasTinter.tintWithMultiply = function (texture, color, canvas)
{
    var context = canvas.getContext( '2d' );

    var crop = texture.crop;

    canvas.width = crop.width;
    canvas.height = crop.height;

    context.fillStyle = '#' + ('00000' + ( color | 0).toString(16)).substr(-6);

    context.fillRect(0, 0, crop.width, crop.height);

    context.globalCompositeOperation = 'multiply';

    context.drawImage(
        texture.baseTexture.source,
        crop.x,
        crop.y,
        crop.width,
        crop.height,
        0,
        0,
        crop.width,
        crop.height
    );

    context.globalCompositeOperation = 'destination-atop';

    context.drawImage(
        texture.baseTexture.source,
        crop.x,
        crop.y,
        crop.width,
        crop.height,
        0,
        0,
        crop.width,
        crop.height
    );
};

/**
 * Tint a texture using the 'overlay' operation.
 *
 * @param texture {Texture} the texture to tint
 * @param color {number} the color to use to tint the sprite with
 * @param canvas {HTMLCanvasElement} the current canvas
 */
CanvasTinter.tintWithOverlay = function (texture, color, canvas)
{
    var context = canvas.getContext( '2d' );

    var crop = texture.crop;

    canvas.width = crop.width;
    canvas.height = crop.height;

    context.globalCompositeOperation = 'copy';
    context.fillStyle = '#' + ('00000' + ( color | 0).toString(16)).substr(-6);
    context.fillRect(0, 0, crop.width, crop.height);

    context.globalCompositeOperation = 'destination-atop';
    context.drawImage(
        texture.baseTexture.source,
        crop.x,
        crop.y,
        crop.width,
        crop.height,
        0,
        0,
        crop.width,
        crop.height
    );

    // context.globalCompositeOperation = 'copy';
};

/**
 * Tint a texture pixel per pixel.
 *
 * @param texture {Texture} the texture to tint
 * @param color {number} the color to use to tint the sprite with
 * @param canvas {HTMLCanvasElement} the current canvas
 */
CanvasTinter.tintWithPerPixel = function (texture, color, canvas)
{
    var context = canvas.getContext( '2d' );

    var crop = texture.crop;

    canvas.width = crop.width;
    canvas.height = crop.height;

    context.globalCompositeOperation = 'copy';
    context.drawImage(
        texture.baseTexture.source,
        crop.x,
        crop.y,
        crop.width,
        crop.height,
        0,
        0,
        crop.width,
        crop.height
    );

    var rgbValues = utils.hex2rgb(color);
    var r = rgbValues[0], g = rgbValues[1], b = rgbValues[2];

    var pixelData = context.getImageData(0, 0, crop.width, crop.height);

    var pixels = pixelData.data;

    for (var i = 0; i < pixels.length; i += 4)
    {
        pixels[i+0] *= r;
        pixels[i+1] *= g;
        pixels[i+2] *= b;
    }

    context.putImageData(pixelData, 0, 0);
};

/**
 * Rounds the specified color according to the CanvasTinter.cacheStepsPerColorChannel.
 *
 * @param color {number} the color to round, should be a hex color
 */
CanvasTinter.roundColor = function (color)
{
    var step = CanvasTinter.cacheStepsPerColorChannel;

    var rgbValues = utils.hex2rgb(color);

    rgbValues[0] = Math.min(255, (rgbValues[0] / step) * step);
    rgbValues[1] = Math.min(255, (rgbValues[1] / step) * step);
    rgbValues[2] = Math.min(255, (rgbValues[2] / step) * step);

    return utils.rgb2hex(rgbValues);
};

/**
 * Number of steps which will be used as a cap when rounding colors.
 *
 * @member
 */
CanvasTinter.cacheStepsPerColorChannel = 8;

/**
 * Tint cache boolean flag.
 *
 * @member
 */
CanvasTinter.convertTintToImage = false;

/**
 * Whether or not the Canvas BlendModes are supported, consequently the ability to tint using the multiply method.
 *
 * @member
 */
CanvasTinter.canUseMultiply = utils.canUseNewCanvasBlendModes();

/**
 * The tinting method that will be used.
 *
 */
CanvasTinter.tintMethod = CanvasTinter.canUseMultiply ? CanvasTinter.tintWithMultiply :  CanvasTinter.tintWithPerPixel;

},{"../../../utils":76}],48:[function(require,module,exports){
var SystemRenderer = require('../SystemRenderer'),
    ShaderManager = require('./managers/ShaderManager'),
    MaskManager = require('./managers/MaskManager'),
    StencilManager = require('./managers/StencilManager'),
    FilterManager = require('./managers/FilterManager'),
    BlendModeManager = require('./managers/BlendModeManager'),
    RenderTarget = require('./utils/RenderTarget'),
    ObjectRenderer = require('./utils/ObjectRenderer'),
    FXAAFilter = require('./filters/FXAAFilter'),
    utils = require('../../utils'),
    CONST = require('../../const');

/**
 * The WebGLRenderer draws the scene and all its content onto a webGL enabled canvas. This renderer
 * should be used for browsers that support webGL. This Render works by automatically managing webGLBatchs.
 * So no need for Sprite Batches or Sprite Clouds.
 * Don't forget to add the view to your DOM or you will not see anything :)
 *
 * @class
 * @memberof PIXI
 * @extends PIXI.SystemRenderer
 * @param [width=0] {number} the width of the canvas view
 * @param [height=0] {number} the height of the canvas view
 * @param [options] {object} The optional renderer parameters
 * @param [options.view] {HTMLCanvasElement} the canvas to use as a view, optional
 * @param [options.transparent=false] {boolean} If the render view is transparent, default false
 * @param [options.autoResize=false] {boolean} If the render view is automatically resized, default false
 * @param [options.antialias=false] {boolean} sets antialias. If not available natively then FXAA antialiasing is used
 * @param [options.forceFXAA=false] {boolean} forces FXAA antialiasing to be used over native. FXAA is faster, but may not always lok as great
 * @param [options.resolution=1] {number} the resolution of the renderer retina would be 2
 * @param [options.clearBeforeRender=true] {boolean} This sets if the CanvasRenderer will clear the canvas or
 *      not before the new render pass.
 * @param [options.preserveDrawingBuffer=false] {boolean} enables drawing buffer preservation, enable this if
 *      you need to call toDataUrl on the webgl context.
 */
function WebGLRenderer(width, height, options)
{
    options = options || {};

    SystemRenderer.call(this, 'WebGL', width, height, options);

    /**
     * The type of this renderer as a standardised const
     *
     * @member {number}
     *
     */
    this.type = CONST.RENDERER_TYPE.WEBGL;

    this.handleContextLost = this.handleContextLost.bind(this);
    this.handleContextRestored = this.handleContextRestored.bind(this);

    this.view.addEventListener('webglcontextlost', this.handleContextLost, false);
    this.view.addEventListener('webglcontextrestored', this.handleContextRestored, false);

    //TODO possibility to force FXAA as it may offer better performance?
    /**
     * Does it use FXAA ?
     *
     * @member {boolean}
     * @private
     */
    this._useFXAA = !!options.forceFXAA && options.antialias;

    /**
     * The fxaa filter
     *
     * @member {FXAAFilter}
     * @private
     */
    this._FXAAFilter = null;

    /**
     * The options passed in to create a new webgl context.
     *
     * @member {object}
     * @private
     */
    this._contextOptions = {
        alpha: this.transparent,
        antialias: options.antialias,
        premultipliedAlpha: this.transparent && this.transparent !== 'notMultiplied',
        stencil: true,
        preserveDrawingBuffer: options.preserveDrawingBuffer
    };

    /**
     * Counter for the number of draws made each frame
     *
     * @member {number}
     */
    this.drawCount = 0;

    /**
     * Deals with managing the shader programs and their attribs.
     *
     * @member {ShaderManager}
     */
    this.shaderManager = new ShaderManager(this);

    /**
     * Manages the masks using the stencil buffer.
     *
     * @member {MaskManager}
     */
    this.maskManager = new MaskManager(this);

    /**
     * Manages the stencil buffer.
     *
     * @member {StencilManager}
     */
    this.stencilManager = new StencilManager(this);

    /**
     * Manages the filters.
     *
     * @member {FilterManager}
     */
    this.filterManager = new FilterManager(this);


    /**
     * Manages the blendModes
     * @member {BlendModeManager}
     */
    this.blendModeManager = new BlendModeManager(this);

    /**
     * Holds the current render target
     * @member {Object}
     */
    this.currentRenderTarget = null;

    /**
     * object renderer @alvin
     * @member {ObjectRenderer}
     */
    this.currentRenderer = new ObjectRenderer(this);

    this.initPlugins();

    // initialize the context so it is ready for the managers.
    this._createContext();
    this._initContext();

    // map some webGL blend modes..
    this._mapGlModes();

    /**
     * An array of render targets
     * @member {Array}
     * @private
     */
    this._renderTargetStack = [];
}

// constructor
WebGLRenderer.prototype = Object.create(SystemRenderer.prototype);
WebGLRenderer.prototype.constructor = WebGLRenderer;
module.exports = WebGLRenderer;
utils.pluginTarget.mixin(WebGLRenderer);

WebGLRenderer.glContextId = 0;

WebGLRenderer.prototype._createContext = function () {
    var gl = this.view.getContext('webgl', this._contextOptions) || this.view.getContext('experimental-webgl', this._contextOptions);
    this.gl = gl;

    if (!gl)
    {
        // fail, not able to get a context
        throw new Error('This browser does not support webGL. Try using the canvas renderer');
    }

    this.glContextId = WebGLRenderer.glContextId++;
    gl.id = this.glContextId;
    gl.renderer = this;
};

/**
 * Creates the WebGL context
 * @private
 */
WebGLRenderer.prototype._initContext = function ()
{
    var gl = this.gl;

    // set up the default pixi settings..
    gl.disable(gl.DEPTH_TEST);
    gl.disable(gl.CULL_FACE);
    gl.enable(gl.BLEND);

    this.renderTarget = new RenderTarget(gl, this.width, this.height, null, this.resolution, true);

    this.setRenderTarget(this.renderTarget);

    this.emit('context', gl);

    // setup the width/height properties and gl viewport
    this.resize(this.width, this.height);

    if(!this._useFXAA)
    {
        this._useFXAA = (this._contextOptions.antialias && ! gl.getContextAttributes().antialias);
    }


    if(this._useFXAA)
    {
        window.console.warn('FXAA antialiasing being used instead of native antialiasing');
        this._FXAAFilter = [new FXAAFilter()];
    }
};

/**
 * Renders the object to its webGL view
 *
 * @param object {DisplayObject} the object to be rendered
 */
WebGLRenderer.prototype.render = function (object)
{
    // no point rendering if our context has been blown up!
    if (this.gl.isContextLost())
    {
        return;
    }

    this.drawCount = 0;

    this._lastObjectRendered = object;

    if(this._useFXAA)
    {
        this._FXAAFilter[0].uniforms.resolution.value.x = this.width;
        this._FXAAFilter[0].uniforms.resolution.value.y = this.height;
        object.filterArea = this.renderTarget.size;
        object.filters = this._FXAAFilter;
    }

    var cacheParent = object.parent;
    object.parent = this._tempDisplayObjectParent;

    // update the scene graph
    object.updateTransform();

    object.parent = cacheParent;

    var gl = this.gl;

    // make sure we are bound to the main frame buffer
    this.setRenderTarget(this.renderTarget);

    if (this.clearBeforeRender)
    {
        if (this.transparent)
        {
            gl.clearColor(0, 0, 0, 0);
        }
        else
        {
            gl.clearColor(this._backgroundColorRgb[0], this._backgroundColorRgb[1], this._backgroundColorRgb[2], 1);
        }

        gl.clear(gl.COLOR_BUFFER_BIT);
    }

    this.renderDisplayObject(object, this.renderTarget);//this.projection);
};

/**
 * Renders a Display Object.
 *
 * @param displayObject {DisplayObject} The DisplayObject to render
 * @param renderTarget {RenderTarget} The render target to use to render this display object
 *
 */
WebGLRenderer.prototype.renderDisplayObject = function (displayObject, renderTarget, clear)//projection, buffer)
{
    // TODO is this needed...
    //this.blendModeManager.setBlendMode(CONST.BLEND_MODES.NORMAL);
    this.setRenderTarget(renderTarget);

    if(clear)
    {
        renderTarget.clear();
    }

    // start the filter manager
    this.filterManager.setFilterStack( renderTarget.filterStack );

    // render the scene!
    displayObject.renderWebGL(this);

    // finish the current renderer..
    this.currentRenderer.flush();
};

/**
 * Changes the current renderer to the one given in parameter
 *
 * @param objectRenderer {Object} TODO @alvin
 *
 */
WebGLRenderer.prototype.setObjectRenderer = function (objectRenderer)
{
    if (this.currentRenderer === objectRenderer)
    {
        return;
    }

    this.currentRenderer.stop();
    this.currentRenderer = objectRenderer;
    this.currentRenderer.start();
};

/**
 * Changes the current render target to the one given in parameter
 *
 * @param renderTarget {RenderTarget} the new render target
 *
 */
WebGLRenderer.prototype.setRenderTarget = function (renderTarget)
{
    if( this.currentRenderTarget === renderTarget)
    {
        return;
    }
    // TODO - maybe down the line this should be a push pos thing? Leaving for now though.
    this.currentRenderTarget = renderTarget;
    this.currentRenderTarget.activate();
    this.stencilManager.setMaskStack( renderTarget.stencilMaskStack );
};


/**
 * Resizes the webGL view to the specified width and height.
 *
 * @param width {number} the new width of the webGL view
 * @param height {number} the new height of the webGL view
 */
WebGLRenderer.prototype.resize = function (width, height)
{
    SystemRenderer.prototype.resize.call(this, width, height);

    this.filterManager.resize(width, height);
    this.renderTarget.resize(width, height);

    if(this.currentRenderTarget === this.renderTarget)
    {
        this.renderTarget.activate();
        this.gl.viewport(0, 0, this.width, this.height);
    }
};

/**
 * Updates and/or Creates a WebGL texture for the renderer's context.
 *
 * @param texture {BaseTexture|Texture} the texture to update
 */
WebGLRenderer.prototype.updateTexture = function (texture)
{
    texture = texture.baseTexture || texture;

    if (!texture.hasLoaded)
    {
        return;
    }

    var gl = this.gl;

    if (!texture._glTextures[gl.id])
    {
        texture._glTextures[gl.id] = gl.createTexture();
        texture.on('update', this.updateTexture, this);
        texture.on('dispose', this.destroyTexture, this);
    }


    gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);

    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultipliedAlpha);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.source);

    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);


    if (texture.mipmap && texture.isPowerOfTwo)
    {
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
        gl.generateMipmap(gl.TEXTURE_2D);
    }
    else
    {
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
    }

    if (!texture.isPowerOfTwo)
    {
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    }
    else
    {
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
    }

    return  texture._glTextures[gl.id];
};

/**
 * Deletes the texture from WebGL
 *
 * @param texture {BaseTexture|Texture} the texture to destroy
 */
WebGLRenderer.prototype.destroyTexture = function (texture)
{
    texture = texture.baseTexture || texture;

    if (!texture.hasLoaded)
    {
        return;
    }

    if (texture._glTextures[this.gl.id])
    {
        this.gl.deleteTexture(texture._glTextures[this.gl.id]);
    }
};

/**
 * Handles a lost webgl context
 *
 * @param event {Event}
 * @private
 */
WebGLRenderer.prototype.handleContextLost = function (event)
{
    event.preventDefault();
};

/**
 * Handles a restored webgl context
 *
 * @param event {Event}
 * @private
 */
WebGLRenderer.prototype.handleContextRestored = function ()
{
    this._initContext();

    // empty all the old gl textures as they are useless now
    for (var key in utils.BaseTextureCache)
    {
        utils.BaseTextureCache[key]._glTextures.length = 0;
    }
};

/**
 * Removes everything from the renderer (event listeners, spritebatch, etc...)
 *
 * @param [removeView=false] {boolean} Removes the Canvas element from the DOM.
 */
WebGLRenderer.prototype.destroy = function (removeView)
{
    this.destroyPlugins();

    // remove listeners
    this.view.removeEventListener('webglcontextlost', this.handleContextLost);
    this.view.removeEventListener('webglcontextrestored', this.handleContextRestored);

    // call base destroy
    SystemRenderer.prototype.destroy.call(this, removeView);

    this.uid = 0;

    // destroy the managers
    this.shaderManager.destroy();
    this.maskManager.destroy();
    this.stencilManager.destroy();
    this.filterManager.destroy();

    this.shaderManager = null;
    this.maskManager = null;
    this.filterManager = null;
    this.blendModeManager = null;

    this.handleContextLost = null;
    this.handleContextRestored = null;

    this._contextOptions = null;

    this.drawCount = 0;

    this.gl = null;
};

/**
 * Maps Pixi blend modes to WebGL blend modes.
 *
 * @private
 */
WebGLRenderer.prototype._mapGlModes = function ()
{
    var gl = this.gl;

    if (!this.blendModes)
    {
        this.blendModes = {};

        this.blendModes[CONST.BLEND_MODES.NORMAL]        = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.ADD]           = [gl.SRC_ALPHA, gl.DST_ALPHA];
        this.blendModes[CONST.BLEND_MODES.MULTIPLY]      = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.SCREEN]        = [gl.SRC_ALPHA, gl.ONE];
        this.blendModes[CONST.BLEND_MODES.OVERLAY]       = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.DARKEN]        = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.LIGHTEN]       = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.COLOR_DODGE]   = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.COLOR_BURN]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.HARD_LIGHT]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.DIFFERENCE]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.EXCLUSION]     = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.HUE]           = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.SATURATION]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.COLOR]         = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
        this.blendModes[CONST.BLEND_MODES.LUMINOSITY]    = [gl.ONE,       gl.ONE_MINUS_SRC_ALPHA];
    }

    if (!this.drawModes)
    {
        this.drawModes = {};

        this.drawModes[CONST.DRAW_MODES.POINTS]         = gl.POINTS;
        this.drawModes[CONST.DRAW_MODES.LINES]          = gl.LINES;
        this.drawModes[CONST.DRAW_MODES.LINE_LOOP]      = gl.LINE_LOOP;
        this.drawModes[CONST.DRAW_MODES.LINE_STRIP]     = gl.LINE_STRIP;
        this.drawModes[CONST.DRAW_MODES.TRIANGLES]      = gl.TRIANGLES;
        this.drawModes[CONST.DRAW_MODES.TRIANGLE_STRIP] = gl.TRIANGLE_STRIP;
        this.drawModes[CONST.DRAW_MODES.TRIANGLE_FAN]   = gl.TRIANGLE_FAN;
    }
};

},{"../../const":22,"../../utils":76,"../SystemRenderer":42,"./filters/FXAAFilter":50,"./managers/BlendModeManager":52,"./managers/FilterManager":53,"./managers/MaskManager":54,"./managers/ShaderManager":55,"./managers/StencilManager":56,"./utils/ObjectRenderer":62,"./utils/RenderTarget":64}],49:[function(require,module,exports){
var DefaultShader = require('../shaders/TextureShader');

/**
 * This is the base class for creating a PIXI filter. Currently only WebGL supports filters.
 * If you want to make a custom filter this should be your base class.
 *
 * @class
 * @memberof PIXI
 * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.
 * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.
 * @param uniforms {object} An object containing the uniforms for this filter.
 */
function AbstractFilter(vertexSrc, fragmentSrc, uniforms)
{

    /**
     * An array of shaders
     * @member {Shader[]}
     * @private
     */
    this.shaders = [];

    /**
     * The extra padding that the filter might need
     * @member {number}
     */
    this.padding = 0;

    /**
     * The uniforms as an object
     * @member {object}
     */
    this.uniforms = uniforms || {};


    /**
     * The code of the vertex shader
     * @member {string[]}
     * @private
     */
    this.vertexSrc = vertexSrc || DefaultShader.defaultVertexSrc;

    /**
     * The code of the frament shader
     * @member {string[]}
     * @private
     */
    this.fragmentSrc = fragmentSrc || DefaultShader.defaultFragmentSrc;

    //TODO a reminder - would be cool to have lower res filters as this would give better performance.

    //typeof fragmentSrc === 'string' ? fragmentSrc.split('') : (fragmentSrc || []);

}

AbstractFilter.prototype.constructor = AbstractFilter;
module.exports = AbstractFilter;

/*
 * Grabs a shader from the current renderer
 * @param renderer {WebGLRenderer} The renderer to retrieve the shader from
 *
 */
AbstractFilter.prototype.getShader = function (renderer)
{
    var gl = renderer.gl;

    var shader = this.shaders[gl.id];

    if (!shader)
    {
        shader = new DefaultShader(renderer.shaderManager,
            this.vertexSrc,
            this.fragmentSrc,
            this.uniforms,
            this.attributes
        );

        this.shaders[gl.id] = shader;
    }

    return shader;
};

/*
 * Applies the filter
 * @param renderer {WebGLRenderer} The renderer to retrieve the filter from
 * @param input {RenderTarget}
 * @param output {RenderTarget}
 * @param clear {boolean} Whether or not we want to clear the outputTarget
 */
AbstractFilter.prototype.applyFilter = function (renderer, input, output, clear)
{
    var shader = this.getShader(renderer);

    renderer.filterManager.applyFilter(shader, input, output, clear);
};

/**
 * Syncs a uniform between the class object and the shaders.
 *
 */
AbstractFilter.prototype.syncUniform = function (uniform)
{
    for (var i = 0, j = this.shaders.length; i < j; ++i)
    {
        this.shaders[i].syncUniform(uniform);
    }
};

/*
AbstractFilter.prototype.apply = function (frameBuffer)
{
    // TODO :)
};
*/

},{"../shaders/TextureShader":61}],50:[function(require,module,exports){
var AbstractFilter = require('./AbstractFilter');
// @see https://github.com/substack/brfs/issues/25


/**
 *
 * Basic FXAA implementation based on the code on geeks3d.com with the
 * modification that the texture2DLod stuff was removed since it's
 * unsupported by WebGL.
 *
 * --
 * From:
 * https://github.com/mitsuhiko/webgl-meincraft
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI
 *
 */
function FXAAFilter()
{
    AbstractFilter.call(this,
        // vertex shader
        "\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
        // fragment shader
        "precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it's\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n\"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n",
        // uniforms
        {
            resolution: { type: 'v2', value: { x: 1, y: 1 } }
        }
    );

}

FXAAFilter.prototype = Object.create(AbstractFilter.prototype);
FXAAFilter.prototype.constructor = FXAAFilter;
module.exports = FXAAFilter;

FXAAFilter.prototype.applyFilter = function (renderer, input, output)
{
    var filterManager = renderer.filterManager;

    var shader = this.getShader( renderer );
     // draw the filter...
    filterManager.applyFilter(shader, input, output);
};

},{"./AbstractFilter":49}],51:[function(require,module,exports){
var AbstractFilter = require('./AbstractFilter'),
    math =  require('../../../math');

// @see https://github.com/substack/brfs/issues/25


/**
 * The SpriteMaskFilter class
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI
 * @param sprite {Sprite} the target sprite
 */
function SpriteMaskFilter(sprite)
{
    var maskMatrix = new math.Matrix();

    AbstractFilter.call(this,
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        "precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",
        {
            mask:           { type: 'sampler2D', value: sprite._texture },
            alpha:          { type: 'f', value: 1},
            otherMatrix:    { type: 'mat3', value: maskMatrix.toArray(true) }
        }
    );

    this.maskSprite = sprite;
    this.maskMatrix = maskMatrix;
}

SpriteMaskFilter.prototype = Object.create(AbstractFilter.prototype);
SpriteMaskFilter.prototype.constructor = SpriteMaskFilter;
module.exports = SpriteMaskFilter;

/**
 * Applies the filter ? @alvin
 *
 * @param renderer {WebGLRenderer} A reference to the WebGL renderer
 * @param input {RenderTarget}
 * @param output {RenderTarget}
 */
SpriteMaskFilter.prototype.applyFilter = function (renderer, input, output)
{
    var filterManager = renderer.filterManager;

    this.uniforms.mask.value = this.maskSprite._texture;

    filterManager.calculateMappedMatrix(input.frame, this.maskSprite, this.maskMatrix);

    this.uniforms.otherMatrix.value = this.maskMatrix.toArray(true);
    this.uniforms.alpha.value = this.maskSprite.worldAlpha;

    var shader = this.getShader(renderer);
     // draw the filter...
    filterManager.applyFilter(shader, input, output);
};


Object.defineProperties(SpriteMaskFilter.prototype, {
    /**
     * The texture used for the displacement map. Must be power of 2 sized texture.
     *
     * @member {Texture}
     * @memberof SpriteMaskFilter#
     */
    map: {
        get: function ()
        {
            return this.uniforms.mask.value;
        },
        set: function (value)
        {
            this.uniforms.mask.value = value;
        }
    },

    /**
     * The offset used to move the displacement map.
     *
     * @member {Point}
     * @memberof SpriteMaskFilter#
     */
    offset: {
        get: function()
        {
            return this.uniforms.offset.value;
        },
        set: function(value)
        {
            this.uniforms.offset.value = value;
        }
    }
});

},{"../../../math":32,"./AbstractFilter":49}],52:[function(require,module,exports){
var WebGLManager = require('./WebGLManager');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.WebGlManager
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function BlendModeManager(renderer)
{
    WebGLManager.call(this, renderer);

    /**
     * @member {number}
     */
    this.currentBlendMode = 99999;
}

BlendModeManager.prototype = Object.create(WebGLManager.prototype);
BlendModeManager.prototype.constructor = BlendModeManager;
module.exports = BlendModeManager;

/**
 * Sets-up the given blendMode from WebGL's point of view.
 *
 * @param blendMode {number} the blendMode, should be a Pixi const, such as BlendModes.ADD
 */
BlendModeManager.prototype.setBlendMode = function (blendMode)
{
    if (this.currentBlendMode === blendMode)
    {
        return false;
    }

    this.currentBlendMode = blendMode;

    var mode = this.renderer.blendModes[this.currentBlendMode];
    this.renderer.gl.blendFunc(mode[0], mode[1]);

    return true;
};

},{"./WebGLManager":57}],53:[function(require,module,exports){
var WebGLManager = require('./WebGLManager'),
    RenderTarget = require('../utils/RenderTarget'),
    CONST = require('../../../const'),
    Quad = require('../utils/Quad'),
    math =  require('../../../math');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.WebGLManager
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function FilterManager(renderer)
{
    WebGLManager.call(this, renderer);

    /**
     * @member {any[]}
     */
    this.filterStack = [];

    this.filterStack.push({
        renderTarget:renderer.currentRenderTarget,
        filter:[],
        bounds:null
    });

    /**
     * @member {any[]}
     */
    this.texturePool = [];

    // listen for context and update necessary buffers
    //TODO make this dynamic!
    //TODO test this out by forces power of two?
    this.textureSize = new math.Rectangle( 0, 0, renderer.width, renderer.height );

    this.currentFrame = null;
}

FilterManager.prototype = Object.create(WebGLManager.prototype);
FilterManager.prototype.constructor = FilterManager;
module.exports = FilterManager;


/**
 * Called when there is a WebGL context change.
 *
 */
FilterManager.prototype.onContextChange = function ()
{
    this.texturePool.length = 0;

    var gl = this.renderer.gl;
    this.quad = new Quad(gl);
};

/**
 * @param renderer {WebGLRenderer}
 * @param buffer {ArrayBuffer}
 */
FilterManager.prototype.setFilterStack = function ( filterStack )
{
    this.filterStack = filterStack;
};

/**
 * Applies the filter and adds it to the current filter stack.
 *
 * @param filterBlock {object} the filter that will be pushed to the current filter stack
 */
FilterManager.prototype.pushFilter = function (target, filters)
{
    // get the bounds of the object..
    // TODO replace clone with a copy to save object creation
    var bounds = target.filterArea ? target.filterArea.clone() : target.getBounds();
    
    //bounds = bounds.clone();

    // round off the rectangle to get a nice smoooooooth filter :)
    bounds.x = bounds.x | 0;
    bounds.y = bounds.y | 0;
    bounds.width = bounds.width | 0;
    bounds.height = bounds.height | 0;


    // padding!
    var padding = filters[0].padding | 0;
    bounds.x -= padding;
    bounds.y -= padding;
    bounds.width += padding * 2;
    bounds.height += padding * 2;


    if(this.renderer.currentRenderTarget.transform)
    {
        //TODO this will break if the renderTexture transform is anything other than a translation.
        //Will need to take the full matrix transform into acount..
        var transform = this.renderer.currentRenderTarget.transform;

        bounds.x += transform.tx;
        bounds.y += transform.ty;

        this.capFilterArea( bounds );

        bounds.x -= transform.tx;
        bounds.y -= transform.ty;
    }
    else
    {
         this.capFilterArea( bounds );
    }

    if(bounds.width > 0 && bounds.height > 0)
    {
        this.currentFrame = bounds;

        var texture = this.getRenderTarget();

        this.renderer.setRenderTarget(texture);

        // clear the texture..
        texture.clear();

        // TODO get rid of object creation!
        this.filterStack.push({
            renderTarget: texture,
            filter: filters
        });

    }
    else
    {
        // push somthing on to the stack that is empty
        this.filterStack.push({
            renderTarget: null,
            filter: filters
        });
    }
};


/**
 * Removes the last filter from the filter stack and returns it.
 *
 */
FilterManager.prototype.popFilter = function ()
{
    var filterData = this.filterStack.pop();
    var previousFilterData = this.filterStack[this.filterStack.length-1];

    var input = filterData.renderTarget;

    // if the renderTarget is null then we don't apply the filter as its offscreen
    if(!filterData.renderTarget)
    {
        return;
    }

    var output = previousFilterData.renderTarget;

    // use program
    var gl = this.renderer.gl;


    this.currentFrame = input.frame;

    this.quad.map(this.textureSize, input.frame);


    // TODO.. this probably only needs to be done once!
    gl.bindBuffer(gl.ARRAY_BUFFER, this.quad.vertexBuffer);
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.quad.indexBuffer);

    var filters = filterData.filter;

    // assuming all filters follow the correct format??
    gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition, 2, gl.FLOAT, false, 0, 0);
    gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord, 2, gl.FLOAT, false, 0, 2 * 4 * 4);
    gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor, 4, gl.FLOAT, false, 0, 4 * 4 * 4);

    // restore the normal blendmode!
    this.renderer.blendModeManager.setBlendMode(CONST.BLEND_MODES.NORMAL);

    if (filters.length === 1)
    {
        // TODO (cengler) - There has to be a better way then setting this each time?
        if (filters[0].uniforms.dimensions)
        {
            filters[0].uniforms.dimensions.value[0] = this.renderer.width;
            filters[0].uniforms.dimensions.value[1] = this.renderer.height;
            filters[0].uniforms.dimensions.value[2] = this.quad.vertices[0];
            filters[0].uniforms.dimensions.value[3] = this.quad.vertices[5];
        }

        filters[0].applyFilter( this.renderer, input, output );
        this.returnRenderTarget( input );

    }
    else
    {
        var flipTexture = input;
        var flopTexture = this.getRenderTarget(true);

        for (var i = 0; i < filters.length-1; i++)
        {
            var filter = filters[i];

            // TODO (cengler) - There has to be a better way then setting this each time?
            if (filter.uniforms.dimensions)
            {
                filter.uniforms.dimensions.value[0] = this.renderer.width;
                filter.uniforms.dimensions.value[1] = this.renderer.height;
                filter.uniforms.dimensions.value[2] = this.quad.vertices[0];
                filter.uniforms.dimensions.value[3] = this.quad.vertices[5];
            }

            filter.applyFilter( this.renderer, flipTexture, flopTexture );

            var temp = flipTexture;
            flipTexture = flopTexture;
            flopTexture = temp;
        }

        filters[filters.length-1].applyFilter( this.renderer, flipTexture, output );

        this.returnRenderTarget( flipTexture );
        this.returnRenderTarget( flopTexture );
    }

    return filterData.filter;
};

/**
 * Grabs an render target from the internal pool
 *
 * @param clear {boolean} Whether or not we need to clear the RenderTarget
 * @return {RenderTarget}
 */
FilterManager.prototype.getRenderTarget = function ( clear )
{
    var renderTarget = this.texturePool.pop() || new RenderTarget(this.renderer.gl, this.textureSize.width, this.textureSize.height, CONST.SCALE_MODES.LINEAR, this.renderer.resolution * CONST.FILTER_RESOLUTION);
    renderTarget.frame = this.currentFrame;

    if (clear)
    {
        renderTarget.clear(true);
    }

    return renderTarget;
};

/*
 * Returns a RenderTarget to the internal pool
 * @param renderTarget {RenderTarget} The RenderTarget we want to return to the pool
 */
FilterManager.prototype.returnRenderTarget = function (renderTarget)
{
    this.texturePool.push( renderTarget );
};

/*
 * Applies the filter
 * @param shader {Shader} The shader to upload
 * @param inputTarget {RenderTarget}
 * @param outputTarget {RenderTarget}
 * @param clear {boolean} Whether or not we want to clear the outputTarget
 */
FilterManager.prototype.applyFilter = function (shader, inputTarget, outputTarget, clear)
{
    var gl = this.renderer.gl;

    this.renderer.setRenderTarget(outputTarget);

    if (clear)
    {
        outputTarget.clear();
    }

    // set the shader
    this.renderer.shaderManager.setShader(shader);

    // TODO (cengler) - Can this be cached and not `toArray`ed each frame?
    shader.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(true);

    //TODO can this be optimised?
    shader.syncUniforms();
/*
    gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 0, 0);
    gl.vertexAttribPointer(shader.attributes.aTextureCoord, 2, gl.FLOAT, false, 0, 2 * 4 * 4);
    gl.vertexAttribPointer(shader.attributes.aColor, 4, gl.FLOAT, false, 0, 4 * 4 * 4);
*/

    gl.activeTexture(gl.TEXTURE0);
    gl.bindTexture(gl.TEXTURE_2D, inputTarget.texture);

    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );
};

/*
 * Calculates the mapped matrix
 * @param filterArea {Rectangle} The filter area
 * @param sprite {Sprite} the target sprite
 * @param outputMatrix {Matrix} @alvin
 */
// TODO playing around here.. this is temporary - (will end up in the shader)
FilterManager.prototype.calculateMappedMatrix = function (filterArea, sprite, outputMatrix)
{
    var worldTransform = sprite.worldTransform.copy(math.Matrix.TEMP_MATRIX),
    texture = sprite._texture.baseTexture;

    var mappedMatrix = outputMatrix.identity();

    // scale..
    var ratio = this.textureSize.height / this.textureSize.width;

    mappedMatrix.translate(filterArea.x / this.textureSize.width, filterArea.y / this.textureSize.height );

    mappedMatrix.scale(1 , ratio);

    var translateScaleX = (this.textureSize.width / texture.width);
    var translateScaleY = (this.textureSize.height / texture.height);

    worldTransform.tx /= texture.width * translateScaleX;
    worldTransform.ty /= texture.width * translateScaleX;

    worldTransform.invert();

    mappedMatrix.prepend(worldTransform);

    // apply inverse scale..
    mappedMatrix.scale(1 , 1/ratio);

    mappedMatrix.scale( translateScaleX , translateScaleY );

    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);

    return mappedMatrix;

    // Keeping the orginal as a reminder to me on how this works!
    //
    // var m = new math.Matrix();

    // // scale..
    // var ratio = this.textureSize.height / this.textureSize.width;

    // m.translate(filterArea.x / this.textureSize.width, filterArea.y / this.textureSize.height);


    // m.scale(1 , ratio);


    // var transform = wt.clone();

    // var translateScaleX = (this.textureSize.width / 620);
    // var translateScaleY = (this.textureSize.height / 380);

    // transform.tx /= 620 * translateScaleX;
    // transform.ty /= 620 * translateScaleX;

    // transform.invert();

    // transform.append(m);

    // // apply inverse scale..
    // transform.scale(1 , 1/ratio);

    // transform.scale( translateScaleX , translateScaleY );

    // return transform;
};

/*
 * Constrains the filter area to the texture size
 * @param filterArea {Rectangle} The filter area we want to cap
 */
FilterManager.prototype.capFilterArea = function (filterArea)
{
    if (filterArea.x < 0)
    {
        filterArea.width += filterArea.x;
        filterArea.x = 0;
    }

    if (filterArea.y < 0)
    {
        filterArea.height += filterArea.y;
        filterArea.y = 0;
    }

    if ( filterArea.x + filterArea.width > this.textureSize.width )
    {
        filterArea.width = this.textureSize.width - filterArea.x;
    }

    if ( filterArea.y + filterArea.height > this.textureSize.height )
    {
        filterArea.height = this.textureSize.height - filterArea.y;
    }
};

/*
 * Resizes all the render targets in the pool
 * @param width {number} the new width
 * @param height {number} the new height
 */
FilterManager.prototype.resize = function ( width, height )
{
    this.textureSize.width = width;
    this.textureSize.height = height;

    for (var i = 0; i < this.texturePool.length; i++)
    {
        this.texturePool[i].resize( width, height );
    }
};

/**
 * Destroys the filter and removes it from the filter stack.
 *
 */
FilterManager.prototype.destroy = function ()
{
    this.filterStack = null;
    this.offsetY = 0;

    // destroy textures
    for (var i = 0; i < this.texturePool.length; i++)
    {
        this.texturePool[i].destroy();
    }

    this.texturePool = null;
};

},{"../../../const":22,"../../../math":32,"../utils/Quad":63,"../utils/RenderTarget":64,"./WebGLManager":57}],54:[function(require,module,exports){
var WebGLManager = require('./WebGLManager'),
    AlphaMaskFilter = require('../filters/SpriteMaskFilter');

/**
 * @class
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function MaskManager(renderer)
{
    WebGLManager.call(this, renderer);

    this.stencilStack = [];
    this.reverse = true;
    this.count = 0;

    this.alphaMaskPool = [];
}

MaskManager.prototype = Object.create(WebGLManager.prototype);
MaskManager.prototype.constructor = MaskManager;
module.exports = MaskManager;

/**
 * Applies the Mask and adds it to the current filter stack.
 *
 * @param graphics {Graphics}
 * @param webGLData {any[]}
 */
MaskManager.prototype.pushMask = function (target, maskData)
{
    if (maskData.texture)
    {
        this.pushSpriteMask(target, maskData);
    }
    else
    {
        this.pushStencilMask(target, maskData);
    }

};

/**
 * Removes the last mask from the mask stack and doesn't return it.
 *
 * @param target {RenderTarget}
 * @param maskData {any[]}
 */
MaskManager.prototype.popMask = function (target, maskData)
{
    if (maskData.texture)
    {
        this.popSpriteMask(target, maskData);
    }
    else
    {
        this.popStencilMask(target, maskData);
    }
};

/**
 * Applies the Mask and adds it to the current filter stack.
 *
 * @param target {RenderTarget}
 * @param maskData {any[]}
 */
MaskManager.prototype.pushSpriteMask = function (target, maskData)
{
    var alphaMaskFilter = this.alphaMaskPool.pop();

    if (!alphaMaskFilter)
    {
        alphaMaskFilter = [new AlphaMaskFilter(maskData)];
    }

    alphaMaskFilter[0].maskSprite = maskData;
    this.renderer.filterManager.pushFilter(target, alphaMaskFilter);
};

/**
 * Removes the last filter from the filter stack and doesn't return it.
 *
 */
MaskManager.prototype.popSpriteMask = function ()
{
    var filters = this.renderer.filterManager.popFilter();

    this.alphaMaskPool.push(filters);
};


/**
 * Applies the Mask and adds it to the current filter stack.
 *
 * @param target {RenderTarget}
 * @param maskData {any[]}
 */
MaskManager.prototype.pushStencilMask = function (target, maskData)
{
    this.renderer.stencilManager.pushMask(maskData);
};

/**
 * Removes the last filter from the filter stack and doesn't return it.
 * @param target {RenderTarget}
 * @param maskData {any[]}
 */
MaskManager.prototype.popStencilMask = function (target, maskData)
{
    this.renderer.stencilManager.popMask(maskData);
};


},{"../filters/SpriteMaskFilter":51,"./WebGLManager":57}],55:[function(require,module,exports){
var WebGLManager = require('./WebGLManager'),
    TextureShader = require('../shaders/TextureShader'),
    ComplexPrimitiveShader = require('../shaders/ComplexPrimitiveShader'),
    PrimitiveShader = require('../shaders/PrimitiveShader'),
    utils = require('../../../utils');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.WebGLManager
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function ShaderManager(renderer)
{
    WebGLManager.call(this, renderer);

    /**
     * @member {number}
     */
    this.maxAttibs = 10;

    /**
     * @member {any[]}
     */
    this.attribState = [];

    /**
     * @member {any[]}
     */
    this.tempAttribState = [];

    for (var i = 0; i < this.maxAttibs; i++)
    {
        this.attribState[i] = false;
    }

    /**
     * @member {any[]}
     */
    this.stack = [];

    /**
     * @member {number}
     * @private
     */
    this._currentId = -1;

    /**
     * @member {Shader}
     * @private
     */
    this.currentShader = null;

//    this.initPlugins();
}

ShaderManager.prototype = Object.create(WebGLManager.prototype);
ShaderManager.prototype.constructor = ShaderManager;
utils.pluginTarget.mixin(ShaderManager);

module.exports = ShaderManager;

/**
 * Called when there is a WebGL context change.
 *
 */
ShaderManager.prototype.onContextChange = function ()
{
    this.initPlugins();

    var gl = this.renderer.gl;

    // get the maximum number of attribute correctly as this tends to vary
    this.maxAttibs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);

    this.attribState = [];

    for (var i = 0; i < this.maxAttibs; i++)
    {
        this.attribState[i] = false;
    }

    // TODO - Why are these not plugins? We can't decouple primitives unless they are....
    this.defaultShader = new TextureShader(this);
    this.primitiveShader = new PrimitiveShader(this);
    this.complexPrimitiveShader = new ComplexPrimitiveShader(this);
};

/**
 * Takes the attributes given in parameters and uploads them.
 *
 * @param attribs {Array} attribs
 */
ShaderManager.prototype.setAttribs = function (attribs)
{
    // reset temp state
    var i;

    for (i = 0; i < this.tempAttribState.length; i++)
    {
        this.tempAttribState[i] = false;
    }

    // set the new attribs
    for (var a in attribs)
    {
        this.tempAttribState[attribs[a]] = true;
    }

    var gl = this.renderer.gl;

    for (i = 0; i < this.attribState.length; i++)
    {
        if (this.attribState[i] !== this.tempAttribState[i])
        {
            this.attribState[i] = this.tempAttribState[i];

            if (this.attribState[i])
            {
                gl.enableVertexAttribArray(i);
            }
            else
            {
                gl.disableVertexAttribArray(i);
            }
        }
    }
};

/**
 * Sets the current shader.
 *
 * @param shader {Shader} the shader to upload
 */
ShaderManager.prototype.setShader = function (shader)
{
    if (this._currentId === shader.uid)
    {
        return false;
    }

    this._currentId = shader.uid;

    this.currentShader = shader;

    this.renderer.gl.useProgram(shader.program);
    this.setAttribs(shader.attributes);

    return true;
};

/**
 * Destroys this object.
 *
 */
ShaderManager.prototype.destroy = function ()
{
    WebGLManager.prototype.destroy.call(this);

    this.destroyPlugins();

    this.attribState = null;

    this.tempAttribState = null;
};

},{"../../../utils":76,"../shaders/ComplexPrimitiveShader":58,"../shaders/PrimitiveShader":59,"../shaders/TextureShader":61,"./WebGLManager":57}],56:[function(require,module,exports){
var WebGLManager = require('./WebGLManager'),
    utils = require('../../../utils');

/**
 * @class
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function WebGLMaskManager(renderer)
{
    WebGLManager.call(this, renderer);
    this.stencilMaskStack = null;
}

WebGLMaskManager.prototype = Object.create(WebGLManager.prototype);
WebGLMaskManager.prototype.constructor = WebGLMaskManager;
module.exports = WebGLMaskManager;

/**
 * Changes the mask stack that is used by this manager
 * @param stencilMaskStack {StencilMaskStack} The mask stack 
 *
 */
WebGLMaskManager.prototype.setMaskStack = function ( stencilMaskStack )
{
    this.stencilMaskStack = stencilMaskStack;

    var gl = this.renderer.gl;

    if (stencilMaskStack.stencilStack.length === 0)
    {
        gl.disable(gl.STENCIL_TEST);
    }
    else
    {
        gl.enable(gl.STENCIL_TEST);
    }
};

/**
 * Applies the Mask and adds it to the current filter stack. @alvin
 * 
 * @param graphics {Graphics}
 * @param webGLData {any[]}
 */
WebGLMaskManager.prototype.pushStencil = function (graphics, webGLData)
{
    this.renderer.currentRenderTarget.attachStencilBuffer();

    var gl = this.renderer.gl,
        sms = this.stencilMaskStack;

    this.bindGraphics(graphics, webGLData, this.renderer);

    if (sms.stencilStack.length === 0)
    {
        gl.enable(gl.STENCIL_TEST);
        gl.clear(gl.STENCIL_BUFFER_BIT);
        sms.reverse = true;
        sms.count = 0;
    }

    sms.stencilStack.push(webGLData);

    var level = sms.count;

    gl.colorMask(false, false, false, false);

    gl.stencilFunc(gl.ALWAYS,0,0xFF);
    gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT);

    // draw the triangle strip!

    if (webGLData.mode === 1)
    {
        gl.drawElements(gl.TRIANGLE_FAN,  webGLData.indices.length - 4, gl.UNSIGNED_SHORT, 0 );

        if (sms.reverse)
        {
            gl.stencilFunc(gl.EQUAL, 0xFF - level, 0xFF);
            gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);
        }
        else
        {
            gl.stencilFunc(gl.EQUAL,level, 0xFF);
            gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);
        }

        // draw a quad to increment..
        gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, ( webGLData.indices.length - 4 ) * 2 );

        if (sms.reverse)
        {
            gl.stencilFunc(gl.EQUAL,0xFF-(level+1), 0xFF);
        }
        else
        {
            gl.stencilFunc(gl.EQUAL,level+1, 0xFF);
        }

        sms.reverse = !sms.reverse;
    }
    else
    {
        if (!sms.reverse)
        {
            gl.stencilFunc(gl.EQUAL, 0xFF - level, 0xFF);
            gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);
        }
        else
        {
            gl.stencilFunc(gl.EQUAL,level, 0xFF);
            gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);
        }

        gl.drawElements(gl.TRIANGLE_STRIP,  webGLData.indices.length, gl.UNSIGNED_SHORT, 0 );

        if (!sms.reverse)
        {
            gl.stencilFunc(gl.EQUAL,0xFF-(level+1), 0xFF);
        }
        else
        {
            gl.stencilFunc(gl.EQUAL,level+1, 0xFF);
        }
    }

    gl.colorMask(true, true, true, true);
    gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);

    sms.count++;
};

/**
 * TODO this does not belong here!
 *
 * @param graphics {Graphics}
 * @param webGLData {Array}
 */
WebGLMaskManager.prototype.bindGraphics = function (graphics, webGLData)
{
    //if (this._currentGraphics === graphics)return;
    this._currentGraphics = graphics;

    var gl = this.renderer.gl;

     // bind the graphics object..
    var shader;// = this.renderer.shaderManager.plugins.primitiveShader;

    if (webGLData.mode === 1)
    {
        shader = this.renderer.shaderManager.complexPrimitiveShader;

        this.renderer.shaderManager.setShader(shader);

        gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, false, graphics.worldTransform.toArray(true));

        gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, this.renderer.currentRenderTarget.projectionMatrix.toArray(true));

        gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint));

        gl.uniform3fv(shader.uniforms.color._location, webGLData.color);

        gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha);

        gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer);

        gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 4 * 2, 0);


        // now do the rest..
        // set the index buffer!
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer);
    }
    else
    {
        //this.renderer.shaderManager.activatePrimitiveShader();
        shader = this.renderer.shaderManager.primitiveShader;

        this.renderer.shaderManager.setShader( shader );

        gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, false, graphics.worldTransform.toArray(true));

        gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, this.renderer.currentRenderTarget.projectionMatrix.toArray(true));

        gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint));

        gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha);

        gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer);

        gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 4 * 6, 0);
        gl.vertexAttribPointer(shader.attributes.aColor, 4, gl.FLOAT, false,4 * 6, 2 * 4);

        // set the index buffer!
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer);
    }
};

/**
 * TODO @alvin
 * @param graphics {Graphics}
 * @param webGLData {Array}
 */
WebGLMaskManager.prototype.popStencil = function (graphics, webGLData)
{
    var gl = this.renderer.gl,
        sms = this.stencilMaskStack;

    sms.stencilStack.pop();

    sms.count--;

    if (sms.stencilStack.length === 0)
    {
        // the stack is empty!
        gl.disable(gl.STENCIL_TEST);

    }
    else
    {

        var level = sms.count;

        this.bindGraphics(graphics, webGLData, this.renderer);

        gl.colorMask(false, false, false, false);

        if (webGLData.mode === 1)
        {
            sms.reverse = !sms.reverse;

            if (sms.reverse)
            {
                gl.stencilFunc(gl.EQUAL, 0xFF - (level+1), 0xFF);
                gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);
            }
            else
            {
                gl.stencilFunc(gl.EQUAL,level+1, 0xFF);
                gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);
            }

            // draw a quad to increment..
            gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, ( webGLData.indices.length - 4 ) * 2 );

            gl.stencilFunc(gl.ALWAYS,0,0xFF);
            gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT);

            // draw the triangle strip!
            gl.drawElements(gl.TRIANGLE_FAN,  webGLData.indices.length - 4, gl.UNSIGNED_SHORT, 0 );

            if (!sms.reverse)
            {
                gl.stencilFunc(gl.EQUAL,0xFF-(level), 0xFF);
            }
            else
            {
                gl.stencilFunc(gl.EQUAL,level, 0xFF);
            }

        }
        else
        {
          //  console.log("<<>>")
            if (!sms.reverse)
            {
                gl.stencilFunc(gl.EQUAL, 0xFF - (level+1), 0xFF);
                gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);
            }
            else
            {
                gl.stencilFunc(gl.EQUAL,level+1, 0xFF);
                gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);
            }

            gl.drawElements(gl.TRIANGLE_STRIP,  webGLData.indices.length, gl.UNSIGNED_SHORT, 0 );

            if (!sms.reverse)
            {
                gl.stencilFunc(gl.EQUAL,0xFF-(level), 0xFF);
            }
            else
            {
                gl.stencilFunc(gl.EQUAL,level, 0xFF);
            }
        }

        gl.colorMask(true, true, true, true);
        gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);


    }
};

/**
 * Destroys the mask stack.
 *
 */
WebGLMaskManager.prototype.destroy = function ()
{
    WebGLManager.prototype.destroy.call(this);

    this.stencilMaskStack.stencilStack = null;
};

/**
 * Applies the Mask and adds it to the current filter stack.
 *
 * @param maskData {any[]} The mask data structure to use
 */
WebGLMaskManager.prototype.pushMask = function (maskData)
{


    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);

    if (maskData.dirty)
    {
        this.renderer.plugins.graphics.updateGraphics(maskData, this.renderer.gl);
    }

    if (!maskData._webGL[this.renderer.gl.id].data.length)
    {
        return;
    }

    this.pushStencil(maskData, maskData._webGL[this.renderer.gl.id].data[0], this.renderer);
};

/**
 * Removes the last filter from the filter stack and doesn't return it.
 *
 * @param maskData {any[]}
 */
WebGLMaskManager.prototype.popMask = function (maskData)
{
    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);

    this.popStencil(maskData, maskData._webGL[this.renderer.gl.id].data[0], this.renderer);
};


},{"../../../utils":76,"./WebGLManager":57}],57:[function(require,module,exports){
/**
 * @class
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function WebGLManager(renderer)
{
    /**
     * The renderer this manager works for.
     *
     * @member {WebGLRenderer}
     */
    this.renderer = renderer;

    this.renderer.on('context', this.onContextChange, this);
}

WebGLManager.prototype.constructor = WebGLManager;
module.exports = WebGLManager;

/**
 * Generic method called when there is a WebGL context change.
 *
 */
WebGLManager.prototype.onContextChange = function ()
{
	// do some codes init!
};

/**
 * Generic destroy methods to be overridden by the subclass
 *
 */
WebGLManager.prototype.destroy = function ()
{
    this.renderer.off('context', this.onContextChange, this);

    this.renderer = null;
};

},{}],58:[function(require,module,exports){
var Shader = require('./Shader');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.Shader
 * @param shaderManager {ShaderManager} The webgl shader manager this shader works for.
 */
function ComplexPrimitiveShader(shaderManager)
{
    Shader.call(this,
        shaderManager,
        // vertex shader
        [
            'attribute vec2 aVertexPosition;',

            'uniform mat3 translationMatrix;',
            'uniform mat3 projectionMatrix;',

            'uniform vec3 tint;',
            'uniform float alpha;',
            'uniform vec3 color;',

            'varying vec4 vColor;',

            'void main(void){',
            '   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',
            '   vColor = vec4(color * alpha * tint, alpha);',//" * vec4(tint * alpha, alpha);',
            '}'
        ].join('\n'),
        // fragment shader
        [
            'precision mediump float;',

            'varying vec4 vColor;',

            'void main(void){',
            '   gl_FragColor = vColor;',
            '}'
        ].join('\n'),
        // custom uniforms
        {
            tint:   { type: '3f', value: [0, 0, 0] },
            alpha:  { type: '1f', value: 0 },
            color:  { type: '3f', value: [0,0,0] },
            translationMatrix: { type: 'mat3', value: new Float32Array(9) },
            projectionMatrix: { type: 'mat3', value: new Float32Array(9) }
        },
        // attributes
        {
            aVertexPosition:0
        }
    );
}

ComplexPrimitiveShader.prototype = Object.create(Shader.prototype);
ComplexPrimitiveShader.prototype.constructor = ComplexPrimitiveShader;
module.exports = ComplexPrimitiveShader;

},{"./Shader":60}],59:[function(require,module,exports){
var Shader = require('./Shader');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.Shader
 * @param shaderManager {ShaderManager} The webgl shader manager this shader works for.
 */
function PrimitiveShader(shaderManager)
{
    Shader.call(this,
        shaderManager,
        // vertex shader
        [
            'attribute vec2 aVertexPosition;',
            'attribute vec4 aColor;',

            'uniform mat3 translationMatrix;',
            'uniform mat3 projectionMatrix;',

            'uniform float alpha;',
            'uniform float flipY;',
            'uniform vec3 tint;',

            'varying vec4 vColor;',

            'void main(void){',
            '   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',
            '   vColor = aColor * vec4(tint * alpha, alpha);',
            '}'
        ].join('\n'),
        // fragment shader
        [
            'precision mediump float;',

            'varying vec4 vColor;',

            'void main(void){',
            '   gl_FragColor = vColor;',
            '}'
        ].join('\n'),
        // custom uniforms
        {
            tint:   { type: '3f', value: [0, 0, 0] },
            alpha:  { type: '1f', value: 0 },
            translationMatrix: { type: 'mat3', value: new Float32Array(9) },
            projectionMatrix: { type: 'mat3', value: new Float32Array(9) }
        },
        // custom attributes
        {
            aVertexPosition:0,
            aColor:0
        }
    );
}

PrimitiveShader.prototype = Object.create(Shader.prototype);
PrimitiveShader.prototype.constructor = PrimitiveShader;
module.exports = PrimitiveShader;

},{"./Shader":60}],60:[function(require,module,exports){
/*global console */
var utils = require('../../../utils');

/**
 * @class
 * @memberof PIXI
 * @param shaderManager {ShaderManager} The webgl shader manager this shader works for.
 * @param [vertexSrc] {string} The source of the vertex shader.
 * @param [fragmentSrc] {string} The source of the fragment shader.
 * @param [uniforms] {object} Uniforms for this shader.
 * @param [attributes] {object} Attributes for this shader.
 */
function Shader(shaderManager, vertexSrc, fragmentSrc, uniforms, attributes)
{
    if (!vertexSrc || !fragmentSrc)
    {
         throw new Error('Pixi.js Error. Shader requires vertexSrc and fragmentSrc');
    }

    /**
     * A unique id
     * @member {number}
     * @readonly
     */
    this.uid = utils.uid();

    /**
     * The current WebGL drawing context
     * @member {WebGLRenderingContext}
     * @readonly
     */
    this.gl = shaderManager.renderer.gl;

    //TODO maybe we should pass renderer rather than shader manger?? food for thought..
    this.shaderManager = shaderManager;

    /**
     * The WebGL program.
     *
     * @member {WebGLProgram}
     * @readonly
     */
    this.program = null;

    /**
     * The uniforms as an object
     * @member {object}
     * @private
     */
    this.uniforms = uniforms || {};

    /**
     * The attributes as an object
     * @member {object}
     * @private
     */
    this.attributes = attributes || {};

    /**
     * Internal texture counter
     * @member {number}
     * @private
     */
    this.textureCount = 1;

    /**
     * The vertex shader as an array of strings
     *
     * @member {string}
     */
    this.vertexSrc = vertexSrc;

    /**
     * The fragment shader as an array of strings
     *
     * @member {string}
     */
    this.fragmentSrc = fragmentSrc;

    this.init();
}

Shader.prototype.constructor = Shader;
module.exports = Shader;

/*
 * Creates the shader and uses it
 *
 */
Shader.prototype.init = function ()
{
    this.compile();

    this.gl.useProgram(this.program);

    this.cacheUniformLocations(Object.keys(this.uniforms));
    this.cacheAttributeLocations(Object.keys(this.attributes));
};

/*
 * Caches the locations of the uniform for reuse
 * @param keys {string} the uniforms to cache
 */
Shader.prototype.cacheUniformLocations = function (keys)
{
    for (var i = 0; i < keys.length; ++i)
    {
        this.uniforms[keys[i]]._location = this.gl.getUniformLocation(this.program, keys[i]);
    }
};

/*
 * Caches the locations of the attribute for reuse
 * @param keys {string} the attributes to cache
 */
Shader.prototype.cacheAttributeLocations = function (keys)
{
    for (var i = 0; i < keys.length; ++i)
    {
        this.attributes[keys[i]] = this.gl.getAttribLocation(this.program, keys[i]);
    }

    // TODO: Check if this is needed anymore...

    // Begin worst hack eva //

    // WHY??? ONLY on my chrome pixel the line above returns -1 when using filters?
    // maybe its something to do with the current state of the gl context.
    // I'm convinced this is a bug in the chrome browser as there is NO reason why this should be returning -1 especially as it only manifests on my chrome pixel
    // If theres any webGL people that know why could happen please help :)
    // if (this.attributes.aColor === -1){
    //     this.attributes.aColor = 2;
    // }

    // End worst hack eva //
};

/*
 * Attaches the shaders and creates the program
 * @return {WebGLProgram}
 */
Shader.prototype.compile = function ()
{
    var gl = this.gl;

    var glVertShader = this._glCompile(gl.VERTEX_SHADER, this.vertexSrc);
    var glFragShader = this._glCompile(gl.FRAGMENT_SHADER, this.fragmentSrc);

    var program = gl.createProgram();

    gl.attachShader(program, glVertShader);
    gl.attachShader(program, glFragShader);
    gl.linkProgram(program);

    // if linking fails, then log and cleanup
    if (!gl.getProgramParameter(program, gl.LINK_STATUS))
    {
        console.error('Pixi.js Error: Could not initialize shader.');
        console.error('gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS));
        console.error('gl.getError()', gl.getError());

        // if there is a program info log, log it
        if (gl.getProgramInfoLog(program) !== '')
        {
            console.warn('Pixi.js Warning: gl.getProgramInfoLog()', gl.getProgramInfoLog(program));
        }

        gl.deleteProgram(program);
        program = null;
    }

    // clean up some shaders
    gl.deleteShader(glVertShader);
    gl.deleteShader(glFragShader);

    return (this.program = program);
};

/*
Shader.prototype.buildSync = function ()
{
   // var str = ""

   // str =  "Shader.prototype.syncUniforms = function()";
   // str += "{\n";

    for (var key in this.uniforms)
    {
        var uniform = this.uniforms[key];

        Object.defineProperty(this, key, {

            get: function ()
            {
                return uniform.value
            },
            set: function (value)
            {
                this.setUniform(uniform, value);
            }
        });

        console.log( makePropSetter( key, " bloop", uniform.type )  )
  //      Object.def
        //    location = uniform._location,
          //  value = uniform.value,
            //i, il;

    //    str += "gl.uniform1i(this.uniforms."+ key +"._location, this.uniforms." + key + ".value );\n"

    }

}*/

/**
* Adds a new uniform
*
* @param uniform {Object} the new uniform to attach
*/
Shader.prototype.syncUniform = function (uniform)
{
    var location = uniform._location,
        value = uniform.value,
        gl = this.gl,
        i, il;

    switch (uniform.type)
    {
        case 'b':
        case 'bool':
        case 'boolean':
            gl.uniform1i(location, value ? 1 : 0);
            break;

        // single int value
        case 'i':
        case '1i':
            gl.uniform1i(location, value);
            break;

        // single float value
        case 'f':
        case '1f':
            gl.uniform1f(location, value);
            break;

        // Float32Array(2) or JS Arrray
        case '2f':
            gl.uniform2f(location, value[0], value[1]);
            break;

        // Float32Array(3) or JS Arrray
        case '3f':
            gl.uniform3f(location, value[0], value[1], value[2]);
            break;

        // Float32Array(4) or JS Arrray
        case '4f':
            gl.uniform4f(location, value[0], value[1], value[2], value[3]);
            break;

        // a 2D Point object
        case 'v2':
            gl.uniform2f(location, value.x, value.y);
            break;

        // a 3D Point object
        case 'v3':
            gl.uniform3f(location, value.x, value.y, value.z);
            break;

        // a 4D Point object
        case 'v4':
            gl.uniform4f(location, value.x, value.y, value.z, value.w);
            break;

        // Int32Array or JS Array
        case '1iv':
            gl.uniform1iv(location, value);
            break;

        // Int32Array or JS Array
        case '2iv':
            gl.uniform2iv(location, value);
            break;

        // Int32Array or JS Array
        case '3iv':
            gl.uniform3iv(location, value);
            break;

        // Int32Array or JS Array
        case '4iv':
            gl.uniform4iv(location, value);
            break;

        // Float32Array or JS Array
        case '1fv':
            gl.uniform1fv(location, value);
            break;

        // Float32Array or JS Array
        case '2fv':
            gl.uniform2fv(location, value);
            break;

        // Float32Array or JS Array
        case '3fv':
            gl.uniform3fv(location, value);
            break;

        // Float32Array or JS Array
        case '4fv':
            gl.uniform4fv(location, value);
            break;

        // Float32Array or JS Array
        case 'm2':
        case 'mat2':
        case 'Matrix2fv':
            gl.uniformMatrix2fv(location, uniform.transpose, value);
            break;

        // Float32Array or JS Array
        case 'm3':
        case 'mat3':
        case 'Matrix3fv':

            gl.uniformMatrix3fv(location, uniform.transpose, value);
            break;

        // Float32Array or JS Array
        case 'm4':
        case 'mat4':
        case 'Matrix4fv':
            gl.uniformMatrix4fv(location, uniform.transpose, value);
            break;

        // a Color Value
        case 'c':
            if (typeof value === 'number')
            {
                value = utils.hex2rgb(value);
            }

            gl.uniform3f(location, value[0], value[1], value[2]);
            break;

        // flat array of integers (JS or typed array)
        case 'iv1':
            gl.uniform1iv(location, value);
            break;

        // flat array of integers with 3 x N size (JS or typed array)
        case 'iv':
            gl.uniform3iv(location, value);
            break;

        // flat array of floats (JS or typed array)
        case 'fv1':
            gl.uniform1fv(location, value);
            break;

        // flat array of floats with 3 x N size (JS or typed array)
        case 'fv':
            gl.uniform3fv(location, value);
            break;

        // array of 2D Point objects
        case 'v2v':
            if (!uniform._array)
            {
                uniform._array = new Float32Array(2 * value.length);
            }

            for (i = 0, il = value.length; i < il; ++i)
            {
                uniform._array[i * 2]       = value[i].x;
                uniform._array[i * 2 + 1]   = value[i].y;
            }

            gl.uniform2fv(location, uniform._array);
            break;

        // array of 3D Point objects
        case 'v3v':
            if (!uniform._array)
            {
                uniform._array = new Float32Array(3 * value.length);
            }

            for (i = 0, il = value.length; i < il; ++i)
            {
                uniform._array[i * 3]       = value[i].x;
                uniform._array[i * 3 + 1]   = value[i].y;
                uniform._array[i * 3 + 2]   = value[i].z;

            }

            gl.uniform3fv(location, uniform._array);
            break;

        // array of 4D Point objects
        case 'v4v':
            if (!uniform._array)
            {
                uniform._array = new Float32Array(4 * value.length);
            }

            for (i = 0, il = value.length; i < il; ++i)
            {
                uniform._array[i * 4]       = value[i].x;
                uniform._array[i * 4 + 1]   = value[i].y;
                uniform._array[i * 4 + 2]   = value[i].z;
                uniform._array[i * 4 + 3]   = value[i].w;

            }

            gl.uniform4fv(location, uniform._array);
            break;

        // PIXI.Texture
        case 't':
        case 'sampler2D':

            if (!uniform.value || !uniform.value.baseTexture.hasLoaded)
            {
                break;
            }

            // activate this texture
            gl.activeTexture(gl['TEXTURE' + this.textureCount]);

            var texture = uniform.value.baseTexture._glTextures[gl.id];

            if (!texture)
            {
                this.initSampler2D(uniform);

                // set the textur to the newly created one..
                texture = uniform.value.baseTexture._glTextures[gl.id];
            }

            // bind the texture
            gl.bindTexture(gl.TEXTURE_2D, texture);

            // set uniform to texture index
            gl.uniform1i(uniform._location, this.textureCount);

            // increment next texture id
            this.textureCount++;

            break;

        default:
            console.warn('Pixi.js Shader Warning: Unknown uniform type: ' + uniform.type);
    }
};

/*
 * Updates the shader uniform values.
 */
Shader.prototype.syncUniforms = function ()
{
    this.textureCount = 1;

    for (var key in this.uniforms)
    {
        this.syncUniform(this.uniforms[key]);
    }
};


/**
 * Initialises a Sampler2D uniform (which may only be available later on after initUniforms once the texture has loaded)
 *
 */
Shader.prototype.initSampler2D = function (uniform)
{
    var gl = this.gl;

    var texture = uniform.value.baseTexture;

    if(!texture.hasLoaded)
    {
        return;
    }



    if (uniform.textureData)
    {

        //TODO move this...
        var data = uniform.textureData;

        texture._glTextures[gl.id] = gl.createTexture();

        gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);

        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultipliedAlpha);
        // GLTexture = mag linear, min linear_mipmap_linear, wrap repeat + gl.generateMipmap(gl.TEXTURE_2D);
        // GLTextureLinear = mag/min linear, wrap clamp
        // GLTextureNearestRepeat = mag/min NEAREST, wrap repeat
        // GLTextureNearest = mag/min nearest, wrap clamp
        // AudioTexture = whatever + luminance + width 512, height 2, border 0
        // KeyTexture = whatever + luminance + width 256, height 2, border 0

        //  magFilter can be: gl.LINEAR, gl.LINEAR_MIPMAP_LINEAR or gl.NEAREST
        //  wrapS/T can be: gl.CLAMP_TO_EDGE or gl.REPEAT

        gl.texImage2D(gl.TEXTURE_2D, 0, data.luminance ? gl.LUMINANCE : gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.source);

        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, data.magFilter ? data.magFilter : gl.LINEAR );
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, data.wrapS ? data.wrapS : gl.CLAMP_TO_EDGE );

        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, data.wrapS ? data.wrapS : gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, data.wrapT ? data.wrapT : gl.CLAMP_TO_EDGE);
    }
    else
    {
        this.shaderManager.renderer.updateTexture(texture);
    }
};

/**
 * Destroys the shader.
 *
 */
Shader.prototype.destroy = function ()
{
    this.gl.deleteProgram(this.program);

    this.gl = null;
    this.uniforms = null;
    this.attributes = null;

    this.vertexSrc = null;
    this.fragmentSrc = null;
};

Shader.prototype._glCompile = function (type, src)
{
    var shader = this.gl.createShader(type);

    this.gl.shaderSource(shader, src);
    this.gl.compileShader(shader);

    if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS))
    {
        console.log(this.gl.getShaderInfoLog(shader));
        return null;
    }

    return shader;
};

},{"../../../utils":76}],61:[function(require,module,exports){
var Shader = require('./Shader');

/**
 * @class
 * @memberof PIXI
 * @extends PIXI.Shader
 * @param shaderManager {ShaderManager} The webgl shader manager this shader works for.
 * @param [vertexSrc] {string} The source of the vertex shader.
 * @param [fragmentSrc] {string} The source of the fragment shader.
 * @param [customUniforms] {object} Custom uniforms to use to augment the built-in ones.
 * @param [fragmentSrc] {string} The source of the fragment shader.
 */
function TextureShader(shaderManager, vertexSrc, fragmentSrc, customUniforms, customAttributes)
{
    var uniforms = {

        uSampler:           { type: 'sampler2D', value: 0 },
        projectionMatrix:   { type: 'mat3', value: new Float32Array([1, 0, 0,
                                                                     0, 1, 0,
                                                                     0, 0, 1]) }
    };

    if (customUniforms)
    {
        for (var u in customUniforms)
        {
            uniforms[u] = customUniforms[u];
        }
    }


    var attributes = {
        aVertexPosition:    0,
        aTextureCoord:      0,
        aColor:             0
    };

    if (customAttributes)
    {
        for (var a in customAttributes)
        {
            attributes[a] = customAttributes[a];
        }
    }

    /**
     * The vertex shader.
     * @member {Array}
     */
    vertexSrc = vertexSrc || TextureShader.defaultVertexSrc;

    /**
     * The fragment shader.
     * @member {Array}
     */
    fragmentSrc = fragmentSrc || TextureShader.defaultFragmentSrc;

    Shader.call(this, shaderManager, vertexSrc, fragmentSrc, uniforms, attributes);
}

// constructor
TextureShader.prototype = Object.create(Shader.prototype);
TextureShader.prototype.constructor = TextureShader;
module.exports = TextureShader;

TextureShader.defaultVertexSrc = [
    'precision lowp float;',
    'attribute vec2 aVertexPosition;',
    'attribute vec2 aTextureCoord;',
    'attribute vec4 aColor;',

    'uniform mat3 projectionMatrix;',

    'varying vec2 vTextureCoord;',
    'varying vec4 vColor;',

    'void main(void){',
    '   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',
    '   vTextureCoord = aTextureCoord;',
    '   vColor = vec4(aColor.rgb * aColor.a, aColor.a);',
    '}'
].join('\n');

TextureShader.defaultFragmentSrc = [
    'precision lowp float;',

    'varying vec2 vTextureCoord;',
    'varying vec4 vColor;',

    'uniform sampler2D uSampler;',

    'void main(void){',
    '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',
    '}'
].join('\n');

},{"./Shader":60}],62:[function(require,module,exports){
var WebGLManager = require('../managers/WebGLManager');

/**
 * Base for a common object renderer that can be used as a system renderer plugin.
 *
 * @class
 * @extends PIXI.WebGLManager
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this object renderer works for.
 */
function ObjectRenderer(renderer)
{
    WebGLManager.call(this, renderer);
}


ObjectRenderer.prototype = Object.create(WebGLManager.prototype);
ObjectRenderer.prototype.constructor = ObjectRenderer;
module.exports = ObjectRenderer;

/**
 * Starts the renderer and sets the shader
 *
 */
ObjectRenderer.prototype.start = function ()
{
    // set the shader..
};

/**
 * Stops the renderer
 *
 */
ObjectRenderer.prototype.stop = function ()
{
    this.flush();
};

/**
 * flushes
 *
 */
ObjectRenderer.prototype.flush = function ()
{
    // flush!
};

/**
 * Renders an object
 *
 */
ObjectRenderer.prototype.render = function (object) // jshint unused:false
{
    // render the object
};

},{"../managers/WebGLManager":57}],63:[function(require,module,exports){
/**
 * Helper class to create a quad
 * @class
 * @memberof PIXI
 * @param gl {WebGLRenderingContext} The gl context for this quad to use.
 */
function Quad(gl)
{
    /*
     * the current WebGL drawing context
     *
     * @member {WebGLRenderingContext}
     */
    this.gl = gl;

//    this.textures = new TextureUvs();

    /**
     * An array of vertices
     *
     * @member {Float32Array}
     */
    this.vertices = new Float32Array([
        0,0,
        200,0,
        200,200,
        0,200
    ]);

    /**
     * The Uvs of the quad
     *
     * @member {Float32Array}
     */
    this.uvs = new Float32Array([
        0,0,
        1,0,
        1,1,
        0,1
    ]);

//    var white = (0xFFFFFF >> 16) + (0xFFFFFF & 0xff00) + ((0xFFFFFF & 0xff) << 16) + (1 * 255 << 24);
    //TODO convert this to a 32 unsigned int array
    /**
     * The color components of the triangles
     *
     * @member {Float32Array}
     */
    this.colors = new Float32Array([
        1,1,1,1,
        1,1,1,1,
        1,1,1,1,
        1,1,1,1
    ]);

    /*
     * @member {Uint16Array} An array containing the indices of the vertices
     */
    this.indices = new Uint16Array([
        0, 1, 2, 0, 3, 2
    ]);

    /*
     * @member {WebGLBuffer} The vertex buffer
     */
    this.vertexBuffer = gl.createBuffer();

    /*
     * @member {WebGLBuffer} The index buffer
     */
    this.indexBuffer = gl.createBuffer();

    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, (8 + 8 + 16) * 4, gl.DYNAMIC_DRAW);

    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW);

    this.upload();
}

Quad.prototype.constructor = Quad;

/**
 * Maps two Rectangle to the quad
 * @param rect {Rectangle} the first rectangle
 * @param rect2 {Rectangle} the second rectangle
 */
Quad.prototype.map = function(rect, rect2)
{
    var x = 0; //rect2.x / rect.width;
    var y = 0; //rect2.y / rect.height;

    this.uvs[0] = x;
    this.uvs[1] = y;

    this.uvs[2] = x + rect2.width / rect.width;
    this.uvs[3] = y;

    this.uvs[4] = x + rect2.width / rect.width;
    this.uvs[5] = y + rect2.height / rect.height;

    this.uvs[6] = x;
    this.uvs[7] = y + rect2.height / rect.height;

    /// -----
    x = rect2.x;
    y = rect2.y;

    this.vertices[0] = x;
    this.vertices[1] = y;

    this.vertices[2] = x + rect2.width;
    this.vertices[3] = y;

    this.vertices[4] = x + rect2.width;
    this.vertices[5] = y + rect2.height;

    this.vertices[6] = x;
    this.vertices[7] = y + rect2.height;

    this.upload();
};

/**
 * Binds the buffer and uploads the data
 */
Quad.prototype.upload = function()
{
    var gl = this.gl;

    // TODO could probably be pushed into one upload!
    gl.bindBuffer( gl.ARRAY_BUFFER, this.vertexBuffer );

    gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.vertices);

    gl.bufferSubData(gl.ARRAY_BUFFER, 8 * 4, this.uvs);

    gl.bufferSubData(gl.ARRAY_BUFFER, (8 + 8) * 4, this.colors);
};

module.exports = Quad;



},{}],64:[function(require,module,exports){
var math = require('../../../math'),
    utils = require('../../../utils'),
    CONST = require('../../../const'),
    //StencilManager = require('../managers/StencilManager'),
    StencilMaskStack = require('./StencilMaskStack');

/**
 * @author Mat Groves http://matgroves.com/ @Doormat23
 */

/**
 * @class
 * @memberof PIXI
 * @param gl {WebGLRenderingContext} the current WebGL drawing context
 * @param width {number} the horizontal range of the filter
 * @param height {number} the vertical range of the filter
 * @param scaleMode {number} See {{#crossLink "PIXI/scaleModes:property"}}PIXI.scaleModes{{/crossLink}} for possible values
 * @param resolution {number} the current resolution
 * @param root {boolean} Whether this object is the root element or not
 */
var RenderTarget = function(gl, width, height, scaleMode, resolution, root)
{
    //TODO Resolution could go here ( eg low res blurs )

    /**
     * The current WebGL drawing context
     * @member {WebGLRenderingContext}
     */
    this.gl = gl;

    // next time to create a frame buffer and texture

    /**
     * A frame buffer
     * @member {WebGLFrameBuffer}
     */
    this.frameBuffer = null;

    /**
     * @member {Texture}
     */
    this.texture = null;

    /**
     * The size of the object as a rectangle
     * @member {Rectangle}
     */
    this.size = new math.Rectangle(0, 0, 1, 1);

    /**
     * The current resolution
     * @member {number}
     */
    this.resolution = resolution || CONST.RESOLUTION;

    /**
     * The projection matrix
     * @member {Matrix}
     */
    this.projectionMatrix = new math.Matrix();

    /**
     * The object's transform
     * @member {Matrix}
     */
    this.transform = null;

    /**
     *
     * @member {Rectangle}
     */
    this.frame = null;

    /**
     * The stencil buffer stores masking data for the render target
     * @member {WebGLRenderBuffer}
     */
    this.stencilBuffer = null;

    /**
     * The data structure for the stencil masks
     * @member {StencilMaskStack}
     */
    this.stencilMaskStack = new StencilMaskStack();

    /**
     * Stores filter data for the render target
     * @member {Array}
     */
    this.filterStack = [
        {
            renderTarget:this,
            filter:[],
            bounds:this.size
        }
    ];


    /**
     * The scale mode
     * @member {number}
     * @default CONST.SCALE_MODES.DEFAULT
     */
    this.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT;

    /**
     * Whether this object is the root element or not
     * @member {boolean}
     */
    this.root = root;

    if (!this.root)
    {
       // this.flipY = true;
        this.frameBuffer = gl.createFramebuffer();

        /*
            A frame buffer needs a target to render to..
            create a texture and bind it attach it to the framebuffer..
         */

        this.texture = gl.createTexture();

        gl.bindTexture(gl.TEXTURE_2D,  this.texture);

        // set the scale properties of the texture..
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);

        // check to see if the texture is a power of two!
        var isPowerOfTwo = utils.isPowerOfTwo(width, height);

        //TODO for 99% of use cases if a texture is power of two we should tile the texture...
         if (!isPowerOfTwo)
        {
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        }
        else
        {

            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
        }

        gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer );
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture, 0);
    }


    this.resize(width, height);
};

RenderTarget.prototype.constructor = RenderTarget;
module.exports = RenderTarget;

/**
* Clears the filter texture.
*
*/
RenderTarget.prototype.clear = function(bind)
{
    var gl = this.gl;
    if(bind)
    {
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);
    }

    gl.clearColor(0,0,0,0);
    gl.clear(gl.COLOR_BUFFER_BIT);
};

/**
* Binds the stencil buffer.
*
*/
RenderTarget.prototype.attachStencilBuffer = function()
{

    if ( this.stencilBuffer )
    {
        return;
    }

    /*
        The stencil buffer is used for masking in pixi
        lets create one and then add attach it to the framebuffer..
     */
    if (!this.root)
    {
        var gl = this.gl;

        this.stencilBuffer = gl.createRenderbuffer();
        gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencilBuffer);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencilBuffer);
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL,  this.size.width * this.resolution  , this.size.height * this.resolution );
    }
};

/**
* Binds the buffers and initialises the viewport.
*
*/
RenderTarget.prototype.activate = function()
{
    //TOOD refactor usage of frame..
    var gl = this.gl;

    gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);

    var projectionFrame = this.frame || this.size;

    // TODO add a dirty flag to this of a setter for the frame?
    this.calculateProjection( projectionFrame );

    if(this.transform)
    {
        this.projectionMatrix.append(this.transform);
    }

    gl.viewport(0,0, projectionFrame.width * this.resolution, projectionFrame.height * this.resolution);
};

/**
* Updates the projection matrix based on a projection frame (which is a rectangle)
*
*/
RenderTarget.prototype.calculateProjection = function( projectionFrame )
{
    var pm = this.projectionMatrix;

    pm.identity();

    if (!this.root)
    {
        pm.a = 1 / projectionFrame.width*2;
        pm.d = 1 / projectionFrame.height*2;

        pm.tx = -1 - projectionFrame.x * pm.a;
        pm.ty = -1 - projectionFrame.y * pm.d;
    }
    else
    {
        pm.a = 1 / projectionFrame.width*2;
        pm.d = -1 / projectionFrame.height*2;

        pm.tx = -1 - projectionFrame.x * pm.a;
        pm.ty = 1 - projectionFrame.y * pm.d;
    }
};


/**
 * Resizes the texture to the specified width and height
 *
 * @param width {Number} the new width of the texture
 * @param height {Number} the new height of the texture
 */
RenderTarget.prototype.resize = function(width, height)
{
    width = width | 0;
    height = height | 0;

    if (this.size.width === width && this.size.height === height) {
        return;
    }

    this.size.width = width;
    this.size.height = height;

    if (!this.root)
    {
        var gl = this.gl;

        gl.bindTexture(gl.TEXTURE_2D,  this.texture);

        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,  width * this.resolution, height * this.resolution , 0, gl.RGBA, gl.UNSIGNED_BYTE, null);

        if (this.stencilBuffer )
        {
            // update the stencil buffer width and height
            gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencilBuffer);
            gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL,  width * this.resolution, height * this.resolution );
        }
    }

    var projectionFrame = this.frame || this.size;

    this.calculateProjection( projectionFrame );
};

/**
 * Destroys the render target.
 *
 */
RenderTarget.prototype.destroy = function()
{
    var gl = this.gl;
    gl.deleteFramebuffer( this.frameBuffer );
    gl.deleteTexture( this.texture );

    this.frameBuffer = null;
    this.texture = null;
};

},{"../../../const":22,"../../../math":32,"../../../utils":76,"./StencilMaskStack":65}],65:[function(require,module,exports){
/**
 * Generic Mask Stack data structure
 * @class
 * @memberof PIXI
 * @param renderer {WebGLRenderer} The renderer this manager works for.
 */
function StencilMaskStack()
{
	/**
     * The actual stack
     *
     * @member {Array}
     */
    this.stencilStack = [];

    /**
     * TODO @alvin
     *
     * @member {boolean}
     */
    this.reverse = true;

    /**
     * Internal count
     *
     * @member {number}
     */
    this.count = 0;
}

StencilMaskStack.prototype.constructor = StencilMaskStack;
module.exports = StencilMaskStack;

},{}],66:[function(require,module,exports){
var math = require('../math'),
    Texture = require('../textures/Texture'),
    Container = require('../display/Container'),
    CanvasTinter = require('../renderers/canvas/utils/CanvasTinter'),
    utils = require('../utils'),
    CONST = require('../const'),
    tempPoint = new math.Point();

/**
 * The Sprite object is the base for all textured objects that are rendered to the screen
 *
 * A sprite can be created directly from an image like this:
 *
 * ```js
 * var sprite = new PIXI.Sprite.fromImage('assets/image.png');
 * ```
 *
 * @class
 * @extends PIXI.Container
 * @memberof PIXI
 * @param texture {Texture} The texture for this sprite
 */
function Sprite(texture)
{
    Container.call(this);

    /**
     * The anchor sets the origin point of the texture.
     * The default is 0,0 this means the texture's origin is the top left
     * Setting the anchor to 0.5,0.5 means the texture's origin is centered
     * Setting the anchor to 1,1 would mean the texture's origin point will be the bottom right corner
     *
     * @member {Point}
     */
    this.anchor = new math.Point();

    /**
     * The texture that the sprite is using
     *
     * @member {Texture}
     * @private
     */
    this._texture = null;

    /**
     * The width of the sprite (this is initially set by the texture)
     *
     * @member {number}
     * @private
     */
    this._width = 0;

    /**
     * The height of the sprite (this is initially set by the texture)
     *
     * @member {number}
     * @private
     */
    this._height = 0;

    /**
     * The tint applied to the sprite. This is a hex value. A value of 0xFFFFFF will remove any tint effect.
     *
     * @member {number}
     * @default [0xFFFFFF]
     */
    this.tint = 0xFFFFFF;

    /**
     * The blend mode to be applied to the sprite. Apply a value of blendModes.NORMAL to reset the blend mode.
     *
     * @member {number}
     * @default CONST.BLEND_MODES.NORMAL;
     */
    this.blendMode = CONST.BLEND_MODES.NORMAL;

    /**
     * The shader that will be used to render the sprite. Set to null to remove a current shader.
     *
     * @member {AbstractFilter}
     */
    this.shader = null;

    /**
     * An internal cached value of the tint.
     *
     * @member {number}
     * @default [0xFFFFFF]
     */
    this.cachedTint = 0xFFFFFF;

    // call texture setter
    this.texture = texture || Texture.EMPTY;
}

// constructor
Sprite.prototype = Object.create(Container.prototype);
Sprite.prototype.constructor = Sprite;
module.exports = Sprite;

Object.defineProperties(Sprite.prototype, {
    /**
     * The width of the sprite, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof PIXI.Sprite#
     */
    width: {
        get: function ()
        {
            return this.scale.x * this.texture._frame.width;
        },
        set: function (value)
        {
            this.scale.x = value / this.texture._frame.width;
            this._width = value;
        }
    },

    /**
     * The height of the sprite, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof PIXI.Sprite#
     */
    height: {
        get: function ()
        {
            return  this.scale.y * this.texture._frame.height;
        },
        set: function (value)
        {
            this.scale.y = value / this.texture._frame.height;
            this._height = value;
        }
    },

    /**
     * The texture that the sprite is using
     *
     * @member {PIXI.Texture}
     * @memberof PIXI.Sprite#
     */
    texture: {
        get: function ()
        {
            return  this._texture;
        },
        set: function (value)
        {
            if (this._texture === value)
            {
                return;
            }

            this._texture = value;
            this.cachedTint = 0xFFFFFF;

            if (value)
            {
                // wait for the texture to load
                if (value.baseTexture.hasLoaded)
                {
                    this._onTextureUpdate();
                }
                else
                {
                    value.once('update', this._onTextureUpdate, this);
                }
            }
        }
    }
});

/**
 * When the texture is updated, this event will fire to update the scale and frame
 *
 * @private
 */
Sprite.prototype._onTextureUpdate = function ()
{
    // so if _width is 0 then width was not set..
    if (this._width)
    {
        this.scale.x = this._width / this.texture.frame.width;
    }

    if (this._height)
    {
        this.scale.y = this._height / this.texture.frame.height;
    }
};

/**
*
* Renders the object using the WebGL renderer
*
* @param renderer {WebGLRenderer}
* @private
*/
Sprite.prototype._renderWebGL = function (renderer)
{
    renderer.setObjectRenderer(renderer.plugins.sprite);
    renderer.plugins.sprite.render(this);
};

/**
 * Returns the bounds of the Sprite as a rectangle. The bounds calculation takes the worldTransform into account.
 *
 * @param matrix {Matrix} the transformation matrix of the sprite
 * @return {Rectangle} the framing rectangle
 */
Sprite.prototype.getBounds = function (matrix)
{
    if(!this._currentBounds)
    {

        var width = this._texture._frame.width;
        var height = this._texture._frame.height;

        var w0 = width * (1-this.anchor.x);
        var w1 = width * -this.anchor.x;

        var h0 = height * (1-this.anchor.y);
        var h1 = height * -this.anchor.y;

        var worldTransform = matrix || this.worldTransform ;

        var a = worldTransform.a;
        var b = worldTransform.b;
        var c = worldTransform.c;
        var d = worldTransform.d;
        var tx = worldTransform.tx;
        var ty = worldTransform.ty;

        var minX,
            maxX,
            minY,
            maxY;


        if (b === 0 && c === 0)
        {
            // scale may be negative!
            if (a < 0)
            {
                a *= -1;
            }

            if (d < 0)
            {
                d *= -1;
            }

            // this means there is no rotation going on right? RIGHT?
            // if thats the case then we can avoid checking the bound values! yay
            minX = a * w1 + tx;
            maxX = a * w0 + tx;
            minY = d * h1 + ty;
            maxY = d * h0 + ty;
        }
        else
        {
            var x1 = a * w1 + c * h1 + tx;
            var y1 = d * h1 + b * w1 + ty;

            var x2 = a * w0 + c * h1 + tx;
            var y2 = d * h1 + b * w0 + ty;

            var x3 = a * w0 + c * h0 + tx;
            var y3 = d * h0 + b * w0 + ty;

            var x4 =  a * w1 + c * h0 + tx;
            var y4 =  d * h0 + b * w1 + ty;

            minX = x1;
            minX = x2 < minX ? x2 : minX;
            minX = x3 < minX ? x3 : minX;
            minX = x4 < minX ? x4 : minX;

            minY = y1;
            minY = y2 < minY ? y2 : minY;
            minY = y3 < minY ? y3 : minY;
            minY = y4 < minY ? y4 : minY;

            maxX = x1;
            maxX = x2 > maxX ? x2 : maxX;
            maxX = x3 > maxX ? x3 : maxX;
            maxX = x4 > maxX ? x4 : maxX;

            maxY = y1;
            maxY = y2 > maxY ? y2 : maxY;
            maxY = y3 > maxY ? y3 : maxY;
            maxY = y4 > maxY ? y4 : maxY;
        }

        // check for children
        if(this.children.length)
        {
            var childBounds = this.containerGetBounds();

            w0 = childBounds.x;
            w1 = childBounds.x + childBounds.width;
            h0 = childBounds.y;
            h1 = childBounds.y + childBounds.height;

            minX = (minX < w0) ? minX : w0;
            minY = (minY < h0) ? minY : h0;

            maxX = (maxX > w1) ? maxX : w1;
            maxY = (maxY > h1) ? maxY : h1;
        }

        var bounds = this._bounds;

        bounds.x = minX;
        bounds.width = maxX - minX;

        bounds.y = minY;
        bounds.height = maxY - minY;

        // store a reference so that if this function gets called again in the render cycle we do not have to recalculate
        this._currentBounds = bounds;
    }

    return this._currentBounds;
};

Sprite.prototype.getLocalBounds = function ()
{
    this._bounds.x = -this._texture._frame.width * this.anchor.x;
    this._bounds.y = -this._texture._frame.height * this.anchor.y;
    this._bounds.width = this._texture._frame.width;
    this._bounds.height = this._texture._frame.height;
    return this._bounds;
};

/**
* Tests if a point is inside this sprite
*
* @param point {Point} the point to test
* @return {boolean} the result of the test
*/
Sprite.prototype.containsPoint = function( point )
{
    this.worldTransform.applyInverse(point,  tempPoint);

    var width = this._texture._frame.width;
    var height = this._texture._frame.height;
    var x1 = -width * this.anchor.x;
    var y1;

    if ( tempPoint.x > x1 && tempPoint.x < x1 + width )
    {
        y1 = -height * this.anchor.y;

        if ( tempPoint.y > y1 && tempPoint.y < y1 + height )
        {
            return true;
        }
    }

    return false;
};

/**
* Renders the object using the Canvas renderer
*
* @param renderer {CanvasRenderer} The renderer
* @private
*/
Sprite.prototype._renderCanvas = function (renderer)
{
    if (this.texture.crop.width <= 0 || this.texture.crop.height <= 0)
    {
        return;
    }

    if (this.blendMode !== renderer.currentBlendMode)
    {
        renderer.currentBlendMode = this.blendMode;
        renderer.context.globalCompositeOperation = renderer.blendModes[renderer.currentBlendMode];
    }

    //  Ignore null sources
    if (this.texture.valid)
    {
        var texture = this._texture,
            wt = this.worldTransform,
            dx,
            dy,
            width,
            height;

        renderer.context.globalAlpha = this.worldAlpha;

        // If smoothingEnabled is supported and we need to change the smoothing property for this texture
        if (renderer.smoothProperty && renderer.currentScaleMode !== texture.baseTexture.scaleMode)
        {
            renderer.currentScaleMode = texture.baseTexture.scaleMode;
            renderer.context[renderer.smoothProperty] = (renderer.currentScaleMode === CONST.SCALE_MODES.LINEAR);
        }

        // If the texture is trimmed we offset by the trim x/y, otherwise we use the frame dimensions

        if(texture.rotate)
        {

            // cheeky rotation!
            var a = wt.a;
            var b = wt.b;

            wt.a  = -wt.c;
            wt.b  = -wt.d;
            wt.c  =  a;
            wt.d  =  b;

            width = texture.crop.height;
            height = texture.crop.width;

            dx = (texture.trim) ? texture.trim.y - this.anchor.y * texture.trim.height : this.anchor.y * -texture._frame.height;
            dy = (texture.trim) ? texture.trim.x - this.anchor.x * texture.trim.width : this.anchor.x * -texture._frame.width;
        }
        else
        {
            width = texture.crop.width;
            height = texture.crop.height;

            dx = (texture.trim) ? texture.trim.x - this.anchor.x * texture.trim.width : this.anchor.x * -texture._frame.width;
            dy = (texture.trim) ? texture.trim.y - this.anchor.y * texture.trim.height : this.anchor.y * -texture._frame.height;
        }



        // Allow for pixel rounding
        if (renderer.roundPixels)
        {
            renderer.context.setTransform(
                wt.a,
                wt.b,
                wt.c,
                wt.d,
                (wt.tx * renderer.resolution) | 0,
                (wt.ty * renderer.resolution) | 0
            );

            dx = dx | 0;
            dy = dy | 0;
        }
        else
        {

            renderer.context.setTransform(
                wt.a,
                wt.b,
                wt.c,
                wt.d,
                wt.tx * renderer.resolution,
                wt.ty * renderer.resolution
            );


        }

        var resolution = texture.baseTexture.resolution;

        if (this.tint !== 0xFFFFFF)
        {
            if (this.cachedTint !== this.tint)
            {
                this.cachedTint = this.tint;

                // TODO clean up caching - how to clean up the caches?
                this.tintedTexture = CanvasTinter.getTintedTexture(this, this.tint);
            }

            renderer.context.drawImage(
                this.tintedTexture,
                0,
                0,
                width * resolution,
                height * resolution,
                dx * renderer.resolution,
                dy * renderer.resolution,
                width * renderer.resolution,
                height * renderer.resolution
            );
        }
        else
        {
            renderer.context.drawImage(
                texture.baseTexture.source,
                texture.crop.x * resolution,
                texture.crop.y * resolution,
                width * resolution,
                height * resolution,
                dx  * renderer.resolution,
                dy  * renderer.resolution,
                width * renderer.resolution,
                height * renderer.resolution
            );
        }
    }
};

/**
 * Destroys this sprite and optionally its texture
 *
 * @param [destroyTexture=false] {boolean} Should it destroy the current texture of the sprite as well
 * @param [destroyBaseTexture=false] {boolean} Should it destroy the base texture of the sprite as well
 */
Sprite.prototype.destroy = function (destroyTexture, destroyBaseTexture)
{
    Container.prototype.destroy.call(this);

    this.anchor = null;

    if (destroyTexture)
    {
        this._texture.destroy(destroyBaseTexture);
    }

    this._texture = null;
    this.shader = null;
};

// some helper functions..

/**
 * Helper function that creates a sprite that will contain a texture from the TextureCache based on the frameId
 * The frame ids are created when a Texture packer file has been loaded
 *
 * @static
 * @param frameId {String} The frame Id of the texture in the cache
 * @return {Sprite} A new Sprite using a texture from the texture cache matching the frameId
 * @param [crossorigin=(auto)] {boolean} if you want to specify the cross-origin parameter
 * @param [scaleMode=scaleModes.DEFAULT] {number} if you want to specify the scale mode, see {@link SCALE_MODES} for possible values
 */
Sprite.fromFrame = function (frameId)
{
    var texture = utils.TextureCache[frameId];

    if (!texture)
    {
        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
    }

    return new Sprite(texture);
};

/**
 * Helper function that creates a sprite that will contain a texture based on an image url
 * If the image is not in the texture cache it will be loaded
 *
 * @static
 * @param imageId {String} The image url of the texture
 * @return {Sprite} A new Sprite using a texture from the texture cache matching the image id
 */
Sprite.fromImage = function (imageId, crossorigin, scaleMode)
{
    return new Sprite(Texture.fromImage(imageId, crossorigin, scaleMode));
};

},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasTinter":47,"../textures/Texture":71,"../utils":76}],67:[function(require,module,exports){
var ObjectRenderer = require('../../renderers/webgl/utils/ObjectRenderer'),
    WebGLRenderer = require('../../renderers/webgl/WebGLRenderer'),
    CONST = require('../../const');

/**
 * @author Mat Groves
 *
 * Big thanks to the very clever Matt DesLauriers <mattdesl> https://github.com/mattdesl/
 * for creating the original pixi version!
 * Also a thanks to https://github.com/bchevalier for tweaking the tint and alpha so that they now share 4 bytes on the vertex buffer
 *
 * Heavily inspired by LibGDX's SpriteRenderer:
 * https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/SpriteRenderer.java
 */

/**
 *
 * @class
 * @private
 * @memberof PIXI
 * @extends PIXI.ObjectRenderer
 * @param renderer {WebGLRenderer} The renderer this sprite batch works for.
 */
function SpriteRenderer(renderer)
{
    ObjectRenderer.call(this, renderer);

    /**
     * Number of values sent in the vertex buffer.
     * positionX, positionY, colorR, colorG, colorB = 5
     *
     * @member {number}
     */
    this.vertSize = 5;

    /**
     * The size of the vertex information in bytes.
     *
     * @member {number}
     */
    this.vertByteSize = this.vertSize * 4;

    /**
     * The number of images in the SpriteBatch before it flushes.
     *
     * @member {number}
     */
    this.size = CONST.SPRITE_BATCH_SIZE; // 2000 is a nice balance between mobile / desktop

    // the total number of bytes in our batch
    var numVerts = (this.size * 4) * this.vertByteSize;

    // the total number of indices in our batch, there are 6 points per quad.
    var numIndices = this.size * 6;

    /**
     * Holds the vertex data that will be sent to the vertex shader.
     *
     * @member {ArrayBuffer}
     */
    this.vertices = new ArrayBuffer(numVerts);

    /**
     * View on the vertices as a Float32Array for positions
     *
     * @member {Float32Array}
     */
    this.positions = new Float32Array(this.vertices);

    /**
     * View on the vertices as a Uint32Array for colors
     *
     * @member {Uint32Array}
     */
    this.colors = new Uint32Array(this.vertices);

    /**
     * Holds the indices of the geometry (quads) to draw
     *
     * @member {Uint16Array}
     */
    this.indices = new Uint16Array(numIndices);

    // fill the indices with the quads to draw
    for (var i=0, j=0; i < numIndices; i += 6, j += 4)
    {
        this.indices[i + 0] = j + 0;
        this.indices[i + 1] = j + 1;
        this.indices[i + 2] = j + 2;
        this.indices[i + 3] = j + 0;
        this.indices[i + 4] = j + 2;
        this.indices[i + 5] = j + 3;
    }

    /**
     * The current size of the batch, each render() call adds to this number.
     *
     * @member {number}
     */
    this.currentBatchSize = 0;

    /**
     * The current sprites in the batch.
     *
     * @member {Array}
     */
    this.sprites = [];

    /**
     * The default shader that is used if a sprite doesn't have a more specific one.
     *
     * @member {Shader}
     */
    this.shader = null;

}

SpriteRenderer.prototype = Object.create(ObjectRenderer.prototype);
SpriteRenderer.prototype.constructor = SpriteRenderer;
module.exports = SpriteRenderer;

WebGLRenderer.registerPlugin('sprite', SpriteRenderer);

/**
 * Sets up the renderer context and necessary buffers.
 *
 * @private
 * @param gl {WebGLRenderingContext} the current WebGL drawing context
 */
SpriteRenderer.prototype.onContextChange = function ()
{
    var gl = this.renderer.gl;

    // setup default shader
    this.shader = this.renderer.shaderManager.defaultShader;

    // create a couple of buffers
    this.vertexBuffer = gl.createBuffer();
    this.indexBuffer = gl.createBuffer();

    //upload the index data
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW);

    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, this.vertices, gl.DYNAMIC_DRAW);

    this.currentBlendMode = 99999;
};

/**
 * Renders the sprite object.
 *
 * @param sprite {Sprite} the sprite to render when using this spritebatch
 */
SpriteRenderer.prototype.render = function (sprite)
{
    var texture = sprite._texture;

    //TODO set blend modes..
    // check texture..
    if (this.currentBatchSize >= this.size)
    {
        this.flush();
    }

    // get the uvs for the texture
    var uvs = texture._uvs;

    // if the uvs have not updated then no point rendering just yet!
    if (!uvs)
    {
        return;
    }

    // TODO trim??
    var aX = sprite.anchor.x;
    var aY = sprite.anchor.y;

    var w0, w1, h0, h1;

    if (texture.trim)
    {
        // if the sprite is trimmed then we need to add the extra space before transforming the sprite coords..
        var trim = texture.trim;

        w1 = trim.x - aX * trim.width;
        w0 = w1 + texture.crop.width;

        h1 = trim.y - aY * trim.height;
        h0 = h1 + texture.crop.height;

    }
    else
    {
        w0 = (texture._frame.width ) * (1-aX);
        w1 = (texture._frame.width ) * -aX;

        h0 = texture._frame.height * (1-aY);
        h1 = texture._frame.height * -aY;
    }

    var index = this.currentBatchSize * this.vertByteSize;

    var worldTransform = sprite.worldTransform;

    var a = worldTransform.a;
    var b = worldTransform.b;
    var c = worldTransform.c;
    var d = worldTransform.d;
    var tx = worldTransform.tx;
    var ty = worldTransform.ty;

    var colors = this.colors;
    var positions = this.positions;

    if (this.renderer.roundPixels)
    {
        // xy
        positions[index] = a * w1 + c * h1 + tx | 0;
        positions[index+1] = d * h1 + b * w1 + ty | 0;

        // xy
        positions[index+5] = a * w0 + c * h1 + tx | 0;
        positions[index+6] = d * h1 + b * w0 + ty | 0;

         // xy
        positions[index+10] = a * w0 + c * h0 + tx | 0;
        positions[index+11] = d * h0 + b * w0 + ty | 0;

        // xy
        positions[index+15] = a * w1 + c * h0 + tx | 0;
        positions[index+16] = d * h0 + b * w1 + ty | 0;
    }
    else
    {
        // xy
        positions[index] = a * w1 + c * h1 + tx;
        positions[index+1] = d * h1 + b * w1 + ty;

        // xy
        positions[index+5] = a * w0 + c * h1 + tx;
        positions[index+6] = d * h1 + b * w0 + ty;

         // xy
        positions[index+10] = a * w0 + c * h0 + tx;
        positions[index+11] = d * h0 + b * w0 + ty;

        // xy
        positions[index+15] = a * w1 + c * h0 + tx;
        positions[index+16] = d * h0 + b * w1 + ty;
    }

    // uv
    positions[index+2] = uvs.x0;
    positions[index+3] = uvs.y0;

    // uv
    positions[index+7] = uvs.x1;
    positions[index+8] = uvs.y1;

     // uv
    positions[index+12] = uvs.x2;
    positions[index+13] = uvs.y2;

    // uv
    positions[index+17] = uvs.x3;
    positions[index+18] = uvs.y3;

    // color and alpha
    var tint = sprite.tint;
    colors[index+4] = colors[index+9] = colors[index+14] = colors[index+19] = (tint >> 16) + (tint & 0xff00) + ((tint & 0xff) << 16) + (sprite.worldAlpha * 255 << 24);

    // increment the batchsize
    this.sprites[this.currentBatchSize++] = sprite;
};

/**
 * Renders the content and empties the current batch.
 *
 */
SpriteRenderer.prototype.flush = function ()
{
    // If the batch is length 0 then return as there is nothing to draw
    if (this.currentBatchSize === 0)
    {
        return;
    }

    var gl = this.renderer.gl;
    var shader;

    // upload the verts to the buffer
    if (this.currentBatchSize > ( this.size * 0.5 ) )
    {
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.vertices);
    }
    else
    {
        var view = this.positions.subarray(0, this.currentBatchSize * this.vertByteSize);
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);
    }

    var nextTexture, nextBlendMode, nextShader;
    var batchSize = 0;
    var start = 0;

    var currentBaseTexture = null;
    var currentBlendMode = this.renderer.blendModeManager.currentBlendMode;
    var currentShader = null;

    var blendSwap = false;
    var shaderSwap = false;
    var sprite;

    for (var i = 0, j = this.currentBatchSize; i < j; i++)
    {

        sprite = this.sprites[i];

        nextTexture = sprite._texture.baseTexture;
        nextBlendMode = sprite.blendMode;
        nextShader = sprite.shader || this.shader;

        blendSwap = currentBlendMode !== nextBlendMode;
        shaderSwap = currentShader !== nextShader; // should I use uidS???

        if (currentBaseTexture !== nextTexture || blendSwap || shaderSwap)
        {
            this.renderBatch(currentBaseTexture, batchSize, start);

            start = i;
            batchSize = 0;
            currentBaseTexture = nextTexture;

            if (blendSwap)
            {
                currentBlendMode = nextBlendMode;
                this.renderer.blendModeManager.setBlendMode( currentBlendMode );
            }

            if (shaderSwap)
            {
                currentShader = nextShader;



                shader = currentShader.shaders ? currentShader.shaders[gl.id] : currentShader;

                if (!shader)
                {
                    shader = currentShader.getShader(this.renderer);

                }

                // set shader function???
                this.renderer.shaderManager.setShader(shader);

                //TODO - i KNOW this can be optimised! Once v3 is stable il look at this next...
                shader.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(true);
                //Make this a little more dynamic / intelligent!
                shader.syncUniforms();

                //TODO investigate some kind of texture state managment??
                // need to make sure this texture is the active one for all the batch swaps..
                gl.activeTexture(gl.TEXTURE0);

                // both thease only need to be set if they are changing..
                // set the projection
                //gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, this.renderer.currentRenderTarget.projectionMatrix.toArray(true));


            }
        }

        batchSize++;
    }

    this.renderBatch(currentBaseTexture, batchSize, start);

    // then reset the batch!
    this.currentBatchSize = 0;
};

/**
 * Draws the currently batches sprites.
 *
 * @private
 * @param texture {Texture}
 * @param size {number}
 * @param startIndex {number}
 */
SpriteRenderer.prototype.renderBatch = function (texture, size, startIndex)
{
    if (size === 0)
    {
        return;
    }

    var gl = this.renderer.gl;

    if (!texture._glTextures[gl.id])
    {
        this.renderer.updateTexture(texture);
    }
    else
    {
        // bind the current texture
        gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);
    }

    // now draw those suckas!
    gl.drawElements(gl.TRIANGLES, size * 6, gl.UNSIGNED_SHORT, startIndex * 6 * 2);

    // increment the draw count
    this.renderer.drawCount++;
};

/**
 * Starts a new sprite batch.
 *
 */
SpriteRenderer.prototype.start = function ()
{
    var gl = this.renderer.gl;

    // bind the main texture


    // bind the buffers
    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);

    // this is the same for each shader?
    var stride =  this.vertByteSize;
    gl.vertexAttribPointer(this.shader.attributes.aVertexPosition, 2, gl.FLOAT, false, stride, 0);
    gl.vertexAttribPointer(this.shader.attributes.aTextureCoord, 2, gl.FLOAT, false, stride, 2 * 4);

    // color attributes will be interpreted as unsigned bytes and normalized
    gl.vertexAttribPointer(this.shader.attributes.aColor, 4, gl.UNSIGNED_BYTE, true, stride, 4 * 4);
};

/**
 * Destroys the SpriteBatch.
 *
 */
SpriteRenderer.prototype.destroy = function ()
{
    this.renderer.gl.deleteBuffer(this.vertexBuffer);
    this.renderer.gl.deleteBuffer(this.indexBuffer);

    this.shader.destroy();

    this.renderer = null;

    this.vertices = null;
    this.positions = null;
    this.colors = null;
    this.indices = null;

    this.vertexBuffer = null;
    this.indexBuffer = null;

    this.sprites = null;
    this.shader = null;
};

},{"../../const":22,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62}],68:[function(require,module,exports){
var Sprite = require('../sprites/Sprite'),
    Texture = require('../textures/Texture'),
    math = require('../math'),
    utils = require('../utils'),
    CONST = require('../const');

/**
 * A Text Object will create a line or multiple lines of text. To split a line you can use '\n' in your text string,
 * or add a wordWrap property set to true and and wordWrapWidth property with a value in the style object.
 *
 * A Text can be created directly from a string and a style object
 *
 * ```js
 * var text = new PIXI.Text('This is a pixi text',{font : '24px Arial', fill : 0xff1010, align : 'center'});
 * ```
 *
 * @class
 * @extends PIXI.Sprite
 * @memberof PIXI
 * @param text {string} The copy that you would like the text to display
 * @param [style] {object} The style parameters
 * @param [style.font] {string} default 'bold 20px Arial' The style and size of the font
 * @param [style.fill='black'] {String|Number} A canvas fillstyle that will be used on the text e.g 'red', '#00FF00'
 * @param [style.align='left'] {string} Alignment for multiline text ('left', 'center' or 'right'), does not affect single line text
 * @param [style.stroke] {String|Number} A canvas fillstyle that will be used on the text stroke e.g 'blue', '#FCFF00'
 * @param [style.strokeThickness=0] {number} A number that represents the thickness of the stroke. Default is 0 (no stroke)
 * @param [style.wordWrap=false] {boolean} Indicates if word wrap should be used
 * @param [style.wordWrapWidth=100] {number} The width at which text will wrap, it needs wordWrap to be set to true
 * @param [style.lineHeight] {number} The line height, a number that represents the vertical space that a letter uses
 * @param [style.dropShadow=false] {boolean} Set a drop shadow for the text
 * @param [style.dropShadowColor='#000000'] {string} A fill style to be used on the dropshadow e.g 'red', '#00FF00'
 * @param [style.dropShadowAngle=Math.PI/4] {number} Set a angle of the drop shadow
 * @param [style.dropShadowDistance=5] {number} Set a distance of the drop shadow
 * @param [style.padding=0] {number} Occasionally some fonts are cropped on top or bottom. Adding some padding will
 *      prevent this from happening by adding padding to the top and bottom of text height.
 * @param [style.textBaseline='alphabetic'] {string} The baseline of the text that is rendered.
 * @param [style.lineJoin='miter'] {string} The lineJoin property sets the type of corner created, it can resolve
 *      spiked text issues. Default is 'miter' (creates a sharp corner).
 * @param [style.miterLimit=10] {number} The miter limit to use when using the 'miter' lineJoin mode. This can reduce
 *      or increase the spikiness of rendered text.
 */
function Text(text, style, resolution)
{
    /**
     * The canvas element that everything is drawn to
     *
     * @member {HTMLCanvasElement}
     */
    this.canvas = document.createElement('canvas');

    /**
     * The canvas 2d context that everything is drawn with
     * @member {HTMLCanvasElement}
     */
    this.context = this.canvas.getContext('2d');

    /**
     * The resolution of the canvas.
     * @member {number}
     */
    this.resolution = resolution || CONST.RESOLUTION;

    /**
     * Private tracker for the current text.
     *
     * @member {string}
     * @private
     */
    this._text = null;

    /**
     * Private tracker for the current style.
     *
     * @member {object}
     * @private
     */
    this._style = null;

    var texture = Texture.fromCanvas(this.canvas);
    texture.trim = new math.Rectangle();
    Sprite.call(this, texture);

    this.text = text;
    this.style = style;
}

// constructor
Text.prototype = Object.create(Sprite.prototype);
Text.prototype.constructor = Text;
module.exports = Text;

Text.fontPropertiesCache = {};
Text.fontPropertiesCanvas = document.createElement('canvas');
Text.fontPropertiesContext = Text.fontPropertiesCanvas.getContext('2d');

Object.defineProperties(Text.prototype, {
    /**
     * The width of the Text, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof Text#
     */
    width: {
        get: function ()
        {
            if (this.dirty)
            {
                this.updateText();
            }

            return this.scale.x * this._texture._frame.width;
        },
        set: function (value)
        {
            this.scale.x = value / this._texture._frame.width;
            this._width = value;
        }
    },

    /**
     * The height of the Text, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof Text#
     */
    height: {
        get: function ()
        {
            if (this.dirty)
            {
                this.updateText();
            }

            return  this.scale.y * this._texture._frame.height;
        },
        set: function (value)
        {
            this.scale.y = value / this._texture._frame.height;
            this._height = value;
        }
    },

    /**
     * Set the style of the text
     *
     * @param [style] {object} The style parameters
     * @param [style.font='bold 20pt Arial'] {string} The style and size of the font
     * @param [style.fill='black'] {string|number} A canvas fillstyle that will be used on the text eg 'red', '#00FF00'
     * @param [style.align='left'] {string} Alignment for multiline text ('left', 'center' or 'right'), does not affect single line text
     * @param [style.stroke='black'] {string|number} A canvas fillstyle that will be used on the text stroke eg 'blue', '#FCFF00'
     * @param [style.strokeThickness=0] {number} A number that represents the thickness of the stroke. Default is 0 (no stroke)
     * @param [style.wordWrap=false] {boolean} Indicates if word wrap should be used
     * @param [style.wordWrapWidth=100] {number} The width at which text will wrap
     * @param [style.lineHeight] {number} The line height, a number that represents the vertical space that a letter uses
     * @param [style.dropShadow=false] {boolean} Set a drop shadow for the text
     * @param [style.dropShadowColor='#000000'] {string|number} A fill style to be used on the dropshadow e.g 'red', '#00FF00'
     * @param [style.dropShadowAngle=Math.PI/6] {number} Set a angle of the drop shadow
     * @param [style.dropShadowDistance=5] {number} Set a distance of the drop shadow
     * @param [style.padding=0] {number} Occasionally some fonts are cropped on top or bottom. Adding some padding will
     *      prevent this from happening by adding padding to the top and bottom of text height.
     * @param [style.textBaseline='alphabetic'] {string} The baseline of the text that is rendered.
     * @param [style.lineJoin='miter'] {string} The lineJoin property sets the type of corner created, it can resolve
     *      spiked text issues. Default is 'miter' (creates a sharp corner).
     * @param [style.miterLimit=10] {number} The miter limit to use when using the 'miter' lineJoin mode. This can reduce
     *      or increase the spikiness of rendered text.
     * @memberof Text#
     */
    style: {
        get: function ()
        {
            return this._style;
        },
        set: function (style)
        {
            style = style || {};

            if (typeof style.fill === 'number') {
                style.fill = utils.hex2string(style.fill);
            }

            if (typeof style.stroke === 'number') {
                style.stroke = utils.hex2string(style.stroke);
            }

            if (typeof style.dropShadowColor === 'number') {
                style.dropShadowColor = utils.hex2string(style.dropShadowColor);
            }

            style.font = style.font || 'bold 20pt Arial';
            style.fill = style.fill || 'black';
            style.align = style.align || 'left';
            style.stroke = style.stroke || 'black'; //provide a default, see: https://github.com/GoodBoyDigital/pixi.js/issues/136
            style.strokeThickness = style.strokeThickness || 0;
            style.wordWrap = style.wordWrap || false;
            style.wordWrapWidth = style.wordWrapWidth || 100;

            style.dropShadow = style.dropShadow || false;
            style.dropShadowColor = style.dropShadowColor || '#000000';
            style.dropShadowAngle = style.dropShadowAngle || Math.PI / 6;
            style.dropShadowDistance = style.dropShadowDistance || 5;

            style.padding = style.padding || 0;

            style.textBaseline = style.textBaseline || 'alphabetic';

            style.lineJoin = style.lineJoin || 'miter';
            style.miterLimit = style.miterLimit || 10;

            this._style = style;
            this.dirty = true;
        }
    },

    /**
     * Set the copy for the text object. To split a line you can use '\n'.
     *
     * @param text {string} The copy that you would like the text to display
     * @memberof Text#
     */
    text: {
        get: function()
        {
            return this._text;
        },
        set: function (text){
            text = text.toString() || ' ';
            if (this._text === text)
            {
                return;
            }
            this._text = text;
            this.dirty = true;
        }
    }
});

/**
 * Renders text and updates it when needed
 *
 * @private
 */
Text.prototype.updateText = function ()
{
    var style = this._style;
    this.context.font = style.font;

    // word wrap
    // preserve original text
    var outputText = style.wordWrap ? this.wordWrap(this._text) : this._text;

    // split text into lines
    var lines = outputText.split(/(?:\r\n|\r|\n)/);

    // calculate text width
    var lineWidths = new Array(lines.length);
    var maxLineWidth = 0;
    var fontProperties = this.determineFontProperties(style.font);
    for (var i = 0; i < lines.length; i++)
    {
        var lineWidth = this.context.measureText(lines[i]).width;
        lineWidths[i] = lineWidth;
        maxLineWidth = Math.max(maxLineWidth, lineWidth);
    }

    var width = maxLineWidth + style.strokeThickness;
    if (style.dropShadow)
    {
        width += style.dropShadowDistance;
    }

    this.canvas.width = ( width + this.context.lineWidth ) * this.resolution;

    // calculate text height
    var lineHeight = this.style.lineHeight || fontProperties.fontSize + style.strokeThickness;

    var height = lineHeight * lines.length;
    if (style.dropShadow)
    {
        height += style.dropShadowDistance;
    }

    this.canvas.height = ( height + this._style.padding * 2 ) * this.resolution;

    this.context.scale( this.resolution, this.resolution);

    if (navigator.isCocoonJS)
    {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);

    }

    //this.context.fillStyle="#FF0000";
    //this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);

    this.context.font = style.font;
    this.context.strokeStyle = style.stroke;
    this.context.lineWidth = style.strokeThickness;
    this.context.textBaseline = style.textBaseline;
    this.context.lineJoin = style.lineJoin;
    this.context.miterLimit = style.miterLimit;

    var linePositionX;
    var linePositionY;

    if (style.dropShadow)
    {
        this.context.fillStyle = style.dropShadowColor;

        var xShadowOffset = Math.cos(style.dropShadowAngle) * style.dropShadowDistance;
        var yShadowOffset = Math.sin(style.dropShadowAngle) * style.dropShadowDistance;

        for (i = 0; i < lines.length; i++)
        {
            linePositionX = style.strokeThickness / 2;
            linePositionY = (style.strokeThickness / 2 + i * lineHeight) + fontProperties.ascent;

            if (style.align === 'right')
            {
                linePositionX += maxLineWidth - lineWidths[i];
            }
            else if (style.align === 'center')
            {
                linePositionX += (maxLineWidth - lineWidths[i]) / 2;
            }

            if (style.fill)
            {
                this.context.fillText(lines[i], linePositionX + xShadowOffset, linePositionY + yShadowOffset + this._style.padding);
            }
        }
    }

    //set canvas text styles
    this.context.fillStyle = style.fill;

    //draw lines line by line
    for (i = 0; i < lines.length; i++)
    {
        linePositionX = style.strokeThickness / 2;
        linePositionY = (style.strokeThickness / 2 + i * lineHeight) + fontProperties.ascent;

        if (style.align === 'right')
        {
            linePositionX += maxLineWidth - lineWidths[i];
        }
        else if (style.align === 'center')
        {
            linePositionX += (maxLineWidth - lineWidths[i]) / 2;
        }

        if (style.stroke && style.strokeThickness)
        {
            this.context.strokeText(lines[i], linePositionX, linePositionY + this._style.padding);
        }

        if (style.fill)
        {
            this.context.fillText(lines[i], linePositionX, linePositionY + this._style.padding);
        }
    }

    this.updateTexture();
};

/**
 * Updates texture size based on canvas size
 *
 * @private
 */
Text.prototype.updateTexture = function ()
{
    var texture = this._texture;

    texture.baseTexture.hasLoaded = true;
    texture.baseTexture.resolution = this.resolution;

    texture.baseTexture.width = this.canvas.width / this.resolution;
    texture.baseTexture.height = this.canvas.height / this.resolution;
    texture.crop.width = texture._frame.width = this.canvas.width / this.resolution;
    texture.crop.height = texture._frame.height = this.canvas.height / this.resolution;

    texture.trim.x = 0;
    texture.trim.y = -this._style.padding;

    texture.trim.width = texture._frame.width;
    texture.trim.height = texture._frame.height - this._style.padding*2;

    this._width = this.canvas.width / this.resolution;
    this._height = this.canvas.height / this.resolution;

    texture.baseTexture.emit('update',  texture.baseTexture);

    this.dirty = false;
};

/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer}
 */
Text.prototype.renderWebGL = function (renderer)
{
    if (this.dirty)
    {
        //this.resolution = 1//renderer.resolution;

        this.updateText();
    }

    Sprite.prototype.renderWebGL.call(this, renderer);
};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer}
 * @private
 */
Text.prototype._renderCanvas = function (renderer)
{
    if (this.dirty)
    {
     //   this.resolution = 1//renderer.resolution;

        this.updateText();
    }

    Sprite.prototype._renderCanvas.call(this, renderer);
};

/**
 * Calculates the ascent, descent and fontSize of a given fontStyle
 *
 * @param fontStyle {object}
 * @private
 */
Text.prototype.determineFontProperties = function (fontStyle)
{
    var properties = Text.fontPropertiesCache[fontStyle];

    if (!properties)
    {
        properties = {};

        var canvas = Text.fontPropertiesCanvas;
        var context = Text.fontPropertiesContext;

        context.font = fontStyle;

        var width = Math.ceil(context.measureText('|MÉq').width);
        var baseline = Math.ceil(context.measureText('M').width);
        var height = 2 * baseline;

        baseline = baseline * 1.4 | 0;

        canvas.width = width;
        canvas.height = height;

        context.fillStyle = '#f00';
        context.fillRect(0, 0, width, height);

        context.font = fontStyle;

        context.textBaseline = 'alphabetic';
        context.fillStyle = '#000';
        context.fillText('|MÉq', 0, baseline);

        var imagedata = context.getImageData(0, 0, width, height).data;
        var pixels = imagedata.length;
        var line = width * 4;

        var i, j;

        var idx = 0;
        var stop = false;

        // ascent. scan from top to bottom until we find a non red pixel
        for (i = 0; i < baseline; i++)
        {
            for (j = 0; j < line; j += 4)
            {
                if (imagedata[idx + j] !== 255)
                {
                    stop = true;
                    break;
                }
            }
            if (!stop)
            {
                idx += line;
            }
            else
            {
                break;
            }
        }

        properties.ascent = baseline - i;

        idx = pixels - line;
        stop = false;

        // descent. scan from bottom to top until we find a non red pixel
        for (i = height; i > baseline; i--)
        {
            for (j = 0; j < line; j += 4)
            {
                if (imagedata[idx + j] !== 255)
                {
                    stop = true;
                    break;
                }
            }
            if (!stop)
            {
                idx -= line;
            }
            else
            {
                break;
            }
        }

        properties.descent = i - baseline;
        properties.fontSize = properties.ascent + properties.descent;

        Text.fontPropertiesCache[fontStyle] = properties;
    }

    return properties;
};

/**
 * Applies newlines to a string to have it optimally fit into the horizontal
 * bounds set by the Text object's wordWrapWidth property.
 *
 * @param text {string}
 * @private
 */
Text.prototype.wordWrap = function (text)
{
    // Greedy wrapping algorithm that will wrap words as the line grows longer
    // than its horizontal bounds.
    var result = '';
    var lines = text.split('\n');
    var wordWrapWidth = this._style.wordWrapWidth;
    for (var i = 0; i < lines.length; i++)
    {
        var spaceLeft = wordWrapWidth;
        var words = lines[i].split(' ');
        for (var j = 0; j < words.length; j++)
        {
            var wordWidth = this.context.measureText(words[j]).width;
            var wordWidthWithSpace = wordWidth + this.context.measureText(' ').width;
            if (j === 0 || wordWidthWithSpace > spaceLeft)
            {
                // Skip printing the newline if it's the first word of the line that is
                // greater than the word wrap width.
                if (j > 0)
                {
                    result += '\n';
                }
                result += words[j];
                spaceLeft = wordWrapWidth - wordWidth;
            }
            else
            {
                spaceLeft -= wordWidthWithSpace;
                result += ' ' + words[j];
            }
        }

        if (i < lines.length-1)
        {
            result += '\n';
        }
    }
    return result;
};

/**
 * Returns the bounds of the Text as a rectangle. The bounds calculation takes the worldTransform into account.
 *
 * @param matrix {Matrix} the transformation matrix of the Text
 * @return {Rectangle} the framing rectangle
 */
Text.prototype.getBounds = function (matrix)
{
    if (this.dirty)
    {
        this.updateText();
    }

    return Sprite.prototype.getBounds.call(this, matrix);
};

/**
 * Destroys this text object.
 *
 * @param [destroyBaseTexture=true] {boolean} whether to destroy the base texture as well
 */
Text.prototype.destroy = function (destroyBaseTexture)
{
    // make sure to reset the the context and canvas.. dont want this hanging around in memory!
    this.context = null;
    this.canvas = null;

    this._style = null;

    this._texture.destroy(destroyBaseTexture === undefined ? true : destroyBaseTexture);
};

},{"../const":22,"../math":32,"../sprites/Sprite":66,"../textures/Texture":71,"../utils":76}],69:[function(require,module,exports){
var utils = require('../utils'),
    CONST = require('../const'),
    EventEmitter = require('eventemitter3');

/**
 * A texture stores the information that represents an image. All textures have a base texture.
 *
 * @class
 * @memberof PIXI
 * @param source {Image|Canvas} the source object of the texture.
 * @param [scaleMode=scaleModes.DEFAULT] {number} See {@link SCALE_MODES} for possible values
 * @param resolution {number} the resolution of the texture for devices with different pixel ratios
 */
function BaseTexture(source, scaleMode, resolution)
{
    EventEmitter.call(this);

    this.uid = utils.uid();

    /**
     * The Resolution of the texture.
     *
     * @member {number}
     */
    this.resolution = resolution || 1;

    /**
     * The width of the base texture set when the image has loaded
     *
     * @member {number}
     * @readOnly
     */
    this.width = 100;

    /**
     * The height of the base texture set when the image has loaded
     *
     * @member {number}
     * @readOnly
     */
    this.height = 100;

    // TODO docs
    // used to store the actual dimensions of the source
    /**
     * Used to store the actual width of the source of this texture
     *
     * @member {number}
     * @readOnly
     */
    this.realWidth = 100;
    /**
     * Used to store the actual height of the source of this texture
     *
     * @member {number}
     * @readOnly
     */
    this.realHeight = 100;

    /**
     * The scale mode to apply when scaling this texture
     *
     * @member {{number}}
     * @default scaleModes.LINEAR
     */
    this.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT;

    /**
     * Set to true once the base texture has successfully loaded.
     *
     * This is never true if the underlying source fails to load or has no texture data.
     *
     * @member {boolean}
     * @readOnly
     */
    this.hasLoaded = false;

    /**
     * Set to true if the source is currently loading.
     *
     * If an Image source is loading the 'loaded' or 'error' event will be
     * dispatched when the operation ends. An underyling source that is
     * immediately-available bypasses loading entirely.
     *
     * @member {boolean}
     * @readonly
     */
    this.isLoading = false;

    /**
     * The image source that is used to create the texture.
     *
     * TODO: Make this a setter that calls loadSource();
     *
     * @member {Image|Canvas}
     * @readonly
     */
    this.source = null; // set in loadSource, if at all

    /**
     * Controls if RGB channels should be pre-multiplied by Alpha  (WebGL only)
     *
     * @member {boolean}
     * @default true
     */
    this.premultipliedAlpha = true;

    /**
     * @member {string}
     */
    this.imageUrl = null;

    /**
     * Wether or not the texture is a power of two, try to use power of two textures as much as you can
     * @member {boolean}
     * @private
     */
    this.isPowerOfTwo = false;

    // used for webGL

    /**
     *
     * Set this to true if a mipmap of this texture needs to be generated. This value needs to be set before the texture is used
     * Also the texture must be a power of two size to work
     *
     * @member {boolean}
     */
    this.mipmap = false;

    /**
     * A map of renderer IDs to webgl textures
     *
     * @member {object<number, WebGLTexture>}
     * @private
     */
    this._glTextures = [];

    // if no source passed don't try to load
    if (source)
    {
        this.loadSource(source);
    }

    /**
     * Fired when a not-immediately-available source finishes loading.
     *
     * @event loaded
     * @memberof PIXI.BaseTexture#
     * @protected
     */

    /**
     * Fired when a not-immediately-available source fails to load.
     *
     * @event error
     * @memberof PIXI.BaseTexture#
     * @protected
     */
}

BaseTexture.prototype = Object.create(EventEmitter.prototype);
BaseTexture.prototype.constructor = BaseTexture;
module.exports = BaseTexture;

/**
 * Updates the texture on all the webgl renderers, this also assumes the src has changed.
 *
 * @fires update
 */
BaseTexture.prototype.update = function ()
{
    this.realWidth = this.source.naturalWidth || this.source.width;
    this.realHeight = this.source.naturalHeight || this.source.height;

    this.width = this.realWidth / this.resolution;
    this.height = this.realHeight / this.resolution;

    this.isPowerOfTwo = utils.isPowerOfTwo(this.realWidth, this.realHeight);

    this.emit('update', this);
};

/**
 * Load a source.
 *
 * If the source is not-immediately-available, such as an image that needs to be
 * downloaded, then the 'loaded' or 'error' event will be dispatched in the future
 * and `hasLoaded` will remain false after this call.
 *
 * The logic state after calling `loadSource` directly or indirectly (eg. `fromImage`, `new BaseTexture`) is:
 *
 *     if (texture.hasLoaded)
 {
 *        // texture ready for use
 *     } else if (texture.isLoading)
 {
 *        // listen to 'loaded' and/or 'error' events on texture
 *     } else {
 *        // not loading, not going to load UNLESS the source is reloaded
 *        // (it may still make sense to listen to the events)
 *     }
 *
 * @protected
 * @param source {Image|Canvas} the source object of the texture.
 */
BaseTexture.prototype.loadSource = function (source)
{
    var wasLoading = this.isLoading;
    this.hasLoaded = false;
    this.isLoading = false;

    if (wasLoading && this.source)
    {
        this.source.onload = null;
        this.source.onerror = null;
    }

    this.source = source;

    // Apply source if loaded. Otherwise setup appropriate loading monitors.
    if ((this.source.complete || this.source.getContext) && this.source.width && this.source.height)
    {
        this._sourceLoaded();
    }
    else if (!source.getContext)
    {

        // Image fail / not ready
        this.isLoading = true;

        var scope = this;

        source.onload = function ()
        {
            source.onload = null;
            source.onerror = null;

            if (!scope.isLoading)
            {
                return;
            }

            scope.isLoading = false;
            scope._sourceLoaded();

            scope.emit('loaded', scope);
        };

        source.onerror = function ()
        {
            source.onload = null;
            source.onerror = null;

            if (!scope.isLoading)
            {
                return;
            }

            scope.isLoading = false;
            scope.emit('error', scope);
        };

        // Per http://www.w3.org/TR/html5/embedded-content-0.html#the-img-element
        //   "The value of `complete` can thus change while a script is executing."
        // So complete needs to be re-checked after the callbacks have been added..
        // NOTE: complete will be true if the image has no src so best to check if the src is set.
        if (source.complete && source.src)
        {
            this.isLoading = false;

            // ..and if we're complete now, no need for callbacks
            source.onload = null;
            source.onerror = null;

            if (source.width && source.height)
            {
                this._sourceLoaded();

                // If any previous subscribers possible
                if (wasLoading)
                {
                    this.emit('loaded', this);
                }
            }
            else
            {
                // If any previous subscribers possible
                if (wasLoading)
                {
                    this.emit('error', this);
                }
            }
        }
    }
};

/**
 * Used internally to update the width, height, and some other tracking vars once
 * a source has successfully loaded.
 *
 * @private
 */
BaseTexture.prototype._sourceLoaded = function ()
{
    this.hasLoaded = true;
    this.update();
};

/**
 * Destroys this base texture
 *
 */
BaseTexture.prototype.destroy = function ()
{
    if (this.imageUrl)
    {
        delete utils.BaseTextureCache[this.imageUrl];
        delete utils.TextureCache[this.imageUrl];

        this.imageUrl = null;

        if (!navigator.isCocoonJS)
        {
            this.source.src = '';
        }
    }
    else if (this.source && this.source._pixiId)
    {
        delete utils.BaseTextureCache[this.source._pixiId];
    }

    this.source = null;

    this.dispose();
};

/**
 * Frees the texture from WebGL memory without destroying this texture object.
 * This means you can still use the texture later which will upload it to GPU
 * memory again.
 *
 */
BaseTexture.prototype.dispose = function ()
{
    this.emit('dispose', this);

    this._glTextures.length = 0;
};

/**
 * Changes the source image of the texture.
 * The original source must be an Image element.
 *
 * @param newSrc {string} the path of the image
 */
BaseTexture.prototype.updateSourceImage = function (newSrc)
{
    this.source.src = newSrc;

    this.loadSource(this.source);
};

/**
 * Helper function that creates a base texture from the given image url.
 * If the image is not in the base texture cache it will be created and loaded.
 *
 * @static
 * @param imageUrl {string} The image url of the texture
 * @param [crossorigin=(auto)] {boolean} Should use anonymous CORS? Defaults to true if the URL is not a data-URI.
 * @param [scaleMode=scaleModes.DEFAULT] {number} See {@link SCALE_MODES} for possible values
 * @return BaseTexture
 */
BaseTexture.fromImage = function (imageUrl, crossorigin, scaleMode)
{
    var baseTexture = utils.BaseTextureCache[imageUrl];

    if (crossorigin === undefined && imageUrl.indexOf('data:') !== 0)
    {
        crossorigin = true;
    }

    if (!baseTexture)
    {
        // new Image() breaks tex loading in some versions of Chrome.
        // See https://code.google.com/p/chromium/issues/detail?id=238071
        var image = new Image();//document.createElement('img');
        if (crossorigin)
        {
            image.crossOrigin = '';
        }

        baseTexture = new BaseTexture(image, scaleMode);
        baseTexture.imageUrl = imageUrl;

        image.src = imageUrl;

        utils.BaseTextureCache[imageUrl] = baseTexture;

        // if there is an @2x at the end of the url we are going to assume its a highres image
        baseTexture.resolution = utils.getResolutionOfUrl(imageUrl);
    }

    return baseTexture;
};

/**
 * Helper function that creates a base texture from the given canvas element.
 *
 * @static
 * @param canvas {Canvas} The canvas element source of the texture
 * @param scaleMode {number} See {{#crossLink "PIXI/scaleModes:property"}}scaleModes{{/crossLink}} for possible values
 * @return BaseTexture
 */
BaseTexture.fromCanvas = function (canvas, scaleMode)
{
    if (!canvas._pixiId)
    {
        canvas._pixiId = 'canvas_' + utils.uid();
    }

    var baseTexture = utils.BaseTextureCache[canvas._pixiId];

    if (!baseTexture)
    {
        baseTexture = new BaseTexture(canvas, scaleMode);
        utils.BaseTextureCache[canvas._pixiId] = baseTexture;
    }

    return baseTexture;
};

},{"../const":22,"../utils":76,"eventemitter3":11}],70:[function(require,module,exports){
var BaseTexture = require('./BaseTexture'),
    Texture = require('./Texture'),
    RenderTarget = require('../renderers/webgl/utils/RenderTarget'),
    FilterManager = require('../renderers/webgl/managers/FilterManager'),
    CanvasBuffer = require('../renderers/canvas/utils/CanvasBuffer'),
    math = require('../math'),
    CONST = require('../const'),
    tempMatrix = new math.Matrix();

/**
 * A RenderTexture is a special texture that allows any Pixi display object to be rendered to it.
 *
 * __Hint__: All DisplayObjects (i.e. Sprites) that render to a RenderTexture should be preloaded
 * otherwise black rectangles will be drawn instead.
 *
 * A RenderTexture takes a snapshot of any Display Object given to its render method. The position
 * and rotation of the given Display Objects is ignored. For example:
 *
 * ```js
 * var renderTexture = new PIXI.RenderTexture(800, 600);
 * var sprite = PIXI.Sprite.fromImage("spinObj_01.png");
 *
 * sprite.position.x = 800/2;
 * sprite.position.y = 600/2;
 * sprite.anchor.x = 0.5;
 * sprite.anchor.y = 0.5;
 *
 * renderTexture.render(sprite);
 * ```
 *
 * The Sprite in this case will be rendered to a position of 0,0. To render this sprite at its actual
 * position a Container should be used:
 *
 * ```js
 * var doc = new Container();
 *
 * doc.addChild(sprite);
 *
 * renderTexture.render(doc);  // Renders to center of renderTexture
 * ```
 *
 * @class
 * @extends PIXI.Texture
 * @memberof PIXI
 * @param renderer {CanvasRenderer|WebGLRenderer} The renderer used for this RenderTexture
 * @param [width=100] {number} The width of the render texture
 * @param [height=100] {number} The height of the render texture
 * @param [scaleMode] {number} See {@link SCALE_MODES} for possible values
 * @param [resolution=1] {number} The resolution of the texture being generated
 */
function RenderTexture(renderer, width, height, scaleMode, resolution)
{
    if (!renderer)
    {
        throw new Error('Unable to create RenderTexture, you must pass a renderer into the constructor.');
    }

    width = width || 100;
    height = height || 100;
    resolution = resolution || CONST.RESOLUTION;

    /**
     * The base texture object that this texture uses
     *
     * @member {BaseTexture}
     */
    var baseTexture = new BaseTexture();
    baseTexture.width = width;
    baseTexture.height = height;
    baseTexture.resolution = resolution;
    baseTexture.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT;
    baseTexture.hasLoaded = true;


    Texture.call(this,
        baseTexture,
        new math.Rectangle(0, 0, width, height)
    );


    /**
     * The with of the render texture
     *
     * @member {number}
     */
    this.width = width;

    /**
     * The height of the render texture
     *
     * @member {number}
     */
    this.height = height;

    /**
     * The Resolution of the texture.
     *
     * @member {number}
     */
    this.resolution = resolution;

    /**
     * The framing rectangle of the render texture
     *
     * @member {Rectangle}
     */
    //this._frame = new math.Rectangle(0, 0, this.width * this.resolution, this.height * this.resolution);

    /**
     * This is the area of the BaseTexture image to actually copy to the Canvas / WebGL when rendering,
     * irrespective of the actual frame size or placement (which can be influenced by trimmed texture atlases)
     *
     * @member {Rectangle}
     */
    //this.crop = new math.Rectangle(0, 0, this.width * this.resolution, this.height * this.resolution);

    /**
     * Draw/render the given DisplayObject onto the texture.
     *
     * The displayObject and descendents are transformed during this operation.
     * If `updateTransform` is true then the transformations will be restored before the
     * method returns. Otherwise it is up to the calling code to correctly use or reset
     * the transformed display objects.
     *
     * The display object is always rendered with a worldAlpha value of 1.
     *
     * @method
     * @param displayObject {DisplayObject} The display object to render this texture on
     * @param [matrix] {Matrix} Optional matrix to apply to the display object before rendering.
     * @param [clear=false] {boolean} If true the texture will be cleared before the displayObject is drawn
     * @param [updateTransform=true] {boolean} If true the displayObject's worldTransform/worldAlpha and all children
     *  transformations will be restored. Not restoring this information will be a little faster.
     */
    this.render = null;

    /**
     * The renderer this RenderTexture uses. A RenderTexture can only belong to one renderer at the moment if its webGL.
     *
     * @member {CanvasRenderer|WebGLRenderer}
     */
    this.renderer = renderer;

    if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL)
    {
        var gl = this.renderer.gl;

        this.textureBuffer = new RenderTarget(gl, this.width, this.height, baseTexture.scaleMode, this.resolution);//, this.baseTexture.scaleMode);
        this.baseTexture._glTextures[gl.id] =  this.textureBuffer.texture;

        //TODO refactor filter manager.. as really its no longer a manager if we use it here..
        this.filterManager = new FilterManager(this.renderer);
        this.filterManager.onContextChange();
        this.filterManager.resize(width, height);
        this.render = this.renderWebGL;

        // the creation of a filter manager unbinds the buffers..
        this.renderer.currentRenderer.start();
        this.renderer.currentRenderTarget.activate();
    }
    else
    {

        this.render = this.renderCanvas;
        this.textureBuffer = new CanvasBuffer(this.width* this.resolution, this.height* this.resolution);
        this.baseTexture.source = this.textureBuffer.canvas;
    }

    /**
     * @member {boolean}
     */
    this.valid = true;

    this._updateUvs();
}

RenderTexture.prototype = Object.create(Texture.prototype);
RenderTexture.prototype.constructor = RenderTexture;
module.exports = RenderTexture;

/**
 * Resizes the RenderTexture.
 *
 * @param width {number} The width to resize to.
 * @param height {number} The height to resize to.
 * @param updateBase {boolean} Should the baseTexture.width and height values be resized as well?
 */
RenderTexture.prototype.resize = function (width, height, updateBase)
{
    if (width === this.width && height === this.height)
    {
        return;
    }

    this.valid = (width > 0 && height > 0);

    this.width = this._frame.width = this.crop.width = width;
    this.height =  this._frame.height = this.crop.height = height;

    if (updateBase)
    {
        this.baseTexture.width = this.width;
        this.baseTexture.height = this.height;
    }

    if (!this.valid)
    {
        return;
    }

    this.textureBuffer.resize(this.width, this.height);

    if(this.filterManager)
    {
        this.filterManager.resize(this.width, this.height);
    }
};

/**
 * Clears the RenderTexture.
 *
 */
RenderTexture.prototype.clear = function ()
{
    if (!this.valid)
    {
        return;
    }

    if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL)
    {
        this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer);
    }

    this.textureBuffer.clear();
};

/**
 * Internal method assigned to the `render` property if using a CanvasRenderer.
 *
 * @private
 * @param displayObject {DisplayObject} The display object to render this texture on
 * @param [matrix] {Matrix} Optional matrix to apply to the display object before rendering.
 * @param [clear=false] {boolean} If true the texture will be cleared before the displayObject is drawn
 * @param [updateTransform=true] {boolean} If true the displayObject's worldTransform/worldAlpha and all children
 *  transformations will be restored. Not restoring this information will be a little faster.
 */
RenderTexture.prototype.renderWebGL = function (displayObject, matrix, clear, updateTransform)
{
    if (!this.valid)
    {
        return;
    }


    updateTransform = (updateTransform !== undefined) ? updateTransform : true;//!updateTransform;

    this.textureBuffer.transform = matrix;

    //TODO not a fan that this is here... it will move!
    this.textureBuffer.activate();
    
    // setWorld Alpha to ensure that the object is renderer at full opacity
    displayObject.worldAlpha = 1;

    if (updateTransform)
    {

        // reset the matrix of the displatyObject..
        displayObject.worldTransform.identity();

        displayObject.currentBounds = null;

        // Time to update all the children of the displayObject with the new matrix..
        var children = displayObject.children;
        var i, j;

        for (i = 0, j = children.length; i < j; ++i)
        {
            children[i].updateTransform();
        }
    }

    //TODO rename textureBuffer to renderTarget..
    var temp =  this.renderer.filterManager;

    this.renderer.filterManager = this.filterManager;
    this.renderer.renderDisplayObject(displayObject, this.textureBuffer, clear);

    this.renderer.filterManager = temp;
};


/**
 * Internal method assigned to the `render` property if using a CanvasRenderer.
 *
 * @private
 * @param displayObject {DisplayObject} The display object to render this texture on
 * @param [matrix] {Matrix} Optional matrix to apply to the display object before rendering.
 * @param [clear] {boolean} If true the texture will be cleared before the displayObject is drawn
 */
RenderTexture.prototype.renderCanvas = function (displayObject, matrix, clear, updateTransform)
{
    if (!this.valid)
    {
        return;
    }

    updateTransform = !!updateTransform;
    var cachedWt = displayObject.worldTransform;

    var wt = tempMatrix;

    wt.identity();

    if (matrix)
    {
        wt.append(matrix);
    }

    displayObject.worldTransform = wt;

    // setWorld Alpha to ensure that the object is renderer at full opacity
    displayObject.worldAlpha = 1;

    // Time to update all the children of the displayObject with the new matrix..
    var children = displayObject.children;
    var i, j;

    for (i = 0, j = children.length; i < j; ++i)
    {
        children[i].updateTransform();
    }

    if (clear)
    {
        this.textureBuffer.clear();
    }

    displayObject.worldTransform = cachedWt;

//    this.textureBuffer.
    var context = this.textureBuffer.context;

    var realResolution = this.renderer.resolution;

    this.renderer.resolution = this.resolution;

    this.renderer.renderDisplayObject(displayObject, context);

    this.renderer.resolution = realResolution;
 //   context.setTransform(1, 0, 0, 1, 0, 0);
   // context.fillStyle ="#FF0000"
//    context.fillRect(0, 0, 800, 600);

};

/**
 * Destroys this texture
 *
 * @param destroyBase {boolean} Whether to destroy the base texture as well
 */
RenderTexture.prototype.destroy = function ()
{
    Texture.prototype.destroy.call(this, true);

    this.textureBuffer.destroy();

    // destroy the filtermanager..
    if(this.filterManager)
    {
        this.filterManager.destroy();
    }

    this.renderer = null;
};

/**
 * Will return a HTML Image of the texture
 *
 * @return {Image}
 */
RenderTexture.prototype.getImage = function ()
{
    var image = new Image();
    image.src = this.getBase64();
    return image;
};

/**
 * Will return a a base64 encoded string of this texture. It works by calling RenderTexture.getCanvas and then running toDataURL on that.
 *
 * @return {string} A base64 encoded string of the texture.
 */
RenderTexture.prototype.getBase64 = function ()
{
    return this.getCanvas().toDataURL();
};

/**
 * Creates a Canvas element, renders this RenderTexture to it and then returns it.
 *
 * @return {HTMLCanvasElement} A Canvas element with the texture rendered on.
 */
RenderTexture.prototype.getCanvas = function ()
{
    if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL)
    {
        var gl = this.renderer.gl;
        var width = this.textureBuffer.size.width;
        var height = this.textureBuffer.size.height;

        var webGLPixels = new Uint8Array(4 * width * height);

        gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer);
        gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);

        var tempCanvas = new CanvasBuffer(width, height);
        var canvasData = tempCanvas.context.getImageData(0, 0, width, height);
        canvasData.data.set(webGLPixels);

        tempCanvas.context.putImageData(canvasData, 0, 0);

        return tempCanvas.canvas;
    }
    else
    {
        return this.textureBuffer.canvas;
    }
};

/**
 * Will return a one-dimensional array containing the pixel data of the entire texture in RGBA order, with integer values between 0 and 255 (included).
 *
 * @return {Uint8ClampedArray}
 */
RenderTexture.prototype.getPixels = function ()
{
    var width, height;

    if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL)
    {
        var gl = this.renderer.gl;
        width = this.textureBuffer.size.width;
        height = this.textureBuffer.size.height;

        var webGLPixels = new Uint8Array(4 * width * height);

        gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer);
        gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);

        return webGLPixels;
    }
    else
    {
        width = this.textureBuffer.canvas.width;
        height = this.textureBuffer.canvas.height;

        return this.textureBuffer.canvas.getContext('2d').getImageData(0, 0, width, height).data;
    }
};

/**
 * Will return a one-dimensional array containing the pixel data of a pixel within the texture in RGBA order, with integer values between 0 and 255 (included).
 *
 * @param x {number} The x coordinate of the pixel to retrieve.
 * @param y {number} The y coordinate of the pixel to retrieve.
 * @return {Uint8ClampedArray}
 */
RenderTexture.prototype.getPixel = function (x, y)
{
    if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL)
    {
        var gl = this.renderer.gl;

        var webGLPixels = new Uint8Array(4);

        gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer);
        gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);

        return webGLPixels;
    }
    else
    {
        return this.textureBuffer.canvas.getContext('2d').getImageData(x, y, 1, 1).data;
    }
};

},{"../const":22,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/webgl/managers/FilterManager":53,"../renderers/webgl/utils/RenderTarget":64,"./BaseTexture":69,"./Texture":71}],71:[function(require,module,exports){
var BaseTexture = require('./BaseTexture'),
    VideoBaseTexture = require('./VideoBaseTexture'),
    TextureUvs = require('./TextureUvs'),
    EventEmitter = require('eventemitter3'),
    math = require('../math'),
    utils = require('../utils');

/**
 * A texture stores the information that represents an image or part of an image. It cannot be added
 * to the display list directly. Instead use it as the texture for a Sprite. If no frame is provided then the whole image is used.
 *
 * You can directly create a texture from an image and then reuse it multiple times like this :
 *
 * ```js
 * var texture = PIXI.Texture.fromImage('assets/image.png');
 * var sprite1 = new PIXI.Sprite(texture);
 * var sprite2 = new PIXI.Sprite(texture);
 * ```
 *
 * @class
 * @memberof PIXI
 * @param baseTexture {BaseTexture} The base texture source to create the texture from
 * @param [frame] {Rectangle} The rectangle frame of the texture to show
 * @param [crop] {Rectangle} The area of original texture
 * @param [trim] {Rectangle} Trimmed texture rectangle
 * @param [rotate] {boolean} indicates whether the texture should be rotated by 90 degrees ( used by texture packer )
 */
function Texture(baseTexture, frame, crop, trim, rotate)
{
    EventEmitter.call(this);

    /**
     * Does this Texture have any frame data assigned to it?
     *
     * @member {boolean}
     */
    this.noFrame = false;

    if (!frame)
    {
        this.noFrame = true;
        frame = new math.Rectangle(0, 0, 1, 1);
    }

    if (baseTexture instanceof Texture)
    {
        baseTexture = baseTexture.baseTexture;
    }

  //  console.log(frame);

    /**
     * The base texture that this texture uses.
     *
     * @member {BaseTexture}
     */
    this.baseTexture = baseTexture;

    /**
     * The frame specifies the region of the base texture that this texture uses
     *
     * @member {Rectangle}
     * @private
     */
    this._frame = frame;

    /**
     * The texture trim data.
     *
     * @member {Rectangle}
     */
    this.trim = trim;

    /**
     * This will let the renderer know if the texture is valid. If it's not then it cannot be rendered.
     *
     * @member {boolean}
     */
    this.valid = false;

    /**
     * This will let a renderer know that a texture has been updated (used mainly for webGL uv updates)
     *
     * @member {boolean}
     */
    this.requiresUpdate = false;

    /**
     * The WebGL UV data cache.
     *
     * @member {TextureUvs}
     * @private
     */
    this._uvs = null;

    /**
     * The width of the Texture in pixels.
     *
     * @member {number}
     */
    this.width = 0;

    /**
     * The height of the Texture in pixels.
     *
     * @member {number}
     */
    this.height = 0;

    /**
     * This is the area of the BaseTexture image to actually copy to the Canvas / WebGL when rendering,
     * irrespective of the actual frame size or placement (which can be influenced by trimmed texture atlases)
     *
     * @member {Rectangle}
     */
    this.crop = crop || frame;//new math.Rectangle(0, 0, 1, 1);

    /**
     * Indicates whether the texture should be rotated by 90 degrees
     *
     * @private
     * @member {boolean}
     */
    this.rotate = !!rotate;

    if (baseTexture.hasLoaded)
    {
        if (this.noFrame)
        {
            frame = new math.Rectangle(0, 0, baseTexture.width, baseTexture.height);

            // if there is no frame we should monitor for any base texture changes..
            baseTexture.on('update', this.onBaseTextureUpdated, this);
        }
        this.frame = frame;
    }
    else
    {
        baseTexture.once('loaded', this.onBaseTextureLoaded, this);
    }

    /**
     * Fired when the texture is updated. This happens if the frame or the baseTexture is updated.
     *
     * @event update
     * @memberof PIXI.Texture#
     * @protected
     */
}

Texture.prototype = Object.create(EventEmitter.prototype);
Texture.prototype.constructor = Texture;
module.exports = Texture;

Object.defineProperties(Texture.prototype, {
    frame: {
        get: function ()
        {
            return this._frame;
        },
        set: function (frame)
        {
            this._frame = frame;

            this.noFrame = false;

            this.width = frame.width;
            this.height = frame.height;



            if (!this.trim && !this.rotate && (frame.x + frame.width > this.baseTexture.width || frame.y + frame.height > this.baseTexture.height))
            {
                throw new Error('Texture Error: frame does not fit inside the base Texture dimensions ' + this);
            }

            //this.valid = frame && frame.width && frame.height && this.baseTexture.source && this.baseTexture.hasLoaded;
            this.valid = frame && frame.width && frame.height && this.baseTexture.hasLoaded;

            if (this.trim)
            {

                this.width = this.trim.width;
                this.height = this.trim.height;
                this._frame.width = this.trim.width;
                this._frame.height = this.trim.height;
            }
            else
            {
                this.crop = frame;
            }

            if (this.valid)
            {
                this._updateUvs();
            }
        }
    }
});

/**
 * Updates this texture on the gpu.
 *
 */
Texture.prototype.update = function ()
{
    this.baseTexture.update();
};

/**
 * Called when the base texture is loaded
 *
 * @private
 */
Texture.prototype.onBaseTextureLoaded = function (baseTexture)
{
    // TODO this code looks confusing.. boo to abusing getters and setterss!
    if (this.noFrame)
    {
        this.frame = new math.Rectangle(0, 0, baseTexture.width, baseTexture.height);
    }
    else
    {
        this.frame = this._frame;
    }

    this.emit('update', this);
};

Texture.prototype.onBaseTextureUpdated = function (baseTexture)
{
    this._frame.width = baseTexture.width;
    this._frame.height = baseTexture.height;

    this.emit('update', this);
};

/**
 * Destroys this texture
 *
 * @param destroyBase {boolean} Whether to destroy the base texture as well
 */
Texture.prototype.destroy = function (destroyBase)
{
    if (this.baseTexture)
    {
        if (destroyBase)
        {
            this.baseTexture.destroy();
        }

        this.baseTexture.off('update', this.onBaseTextureUpdated, this);
        this.baseTexture.off('loaded', this.onBaseTextureLoaded, this);

        this.baseTexture = null;
    }

    this._frame = null;
    this._uvs = null;
    this.trim = null;
    this.crop = null;

    this.valid = false;
};

Texture.prototype.clone = function ()
{
    return new Texture(this.baseTexture, this.frame, this.crop, this.trim, this.rotate);
};

/**
 * Updates the internal WebGL UV cache.
 *
 * @private
 */
Texture.prototype._updateUvs = function ()
{
    if (!this._uvs)
    {
        this._uvs = new TextureUvs();
    }

    this._uvs.set(this.crop, this.baseTexture, this.rotate);
};

/**
 * Helper function that creates a Texture object from the given image url.
 * If the image is not in the texture cache it will be  created and loaded.
 *
 * @static
 * @param imageUrl {string} The image url of the texture
 * @param crossorigin {boolean} Whether requests should be treated as crossorigin
 * @param scaleMode {number} See {{#crossLink "PIXI/scaleModes:property"}}scaleModes{{/crossLink}} for possible values
 * @return {Texture} The newly created texture
 */
Texture.fromImage = function (imageUrl, crossorigin, scaleMode)
{
    var texture = utils.TextureCache[imageUrl];

    if (!texture)
    {
        texture = new Texture(BaseTexture.fromImage(imageUrl, crossorigin, scaleMode));
        utils.TextureCache[imageUrl] = texture;
    }

    return texture;
};

/**
 * Helper function that creates a sprite that will contain a texture from the TextureCache based on the frameId
 * The frame ids are created when a Texture packer file has been loaded
 *
 * @static
 * @param frameId {String} The frame Id of the texture in the cache
 * @return {Texture} The newly created texture
 */
Texture.fromFrame = function (frameId)
{
    var texture = utils.TextureCache[frameId];

    if (!texture)
    {
        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
    }

    return texture;
};

/**
 * Helper function that creates a new Texture based on the given canvas element.
 *
 * @static
 * @param canvas {Canvas} The canvas element source of the texture
 * @param scaleMode {number} See {{#crossLink "PIXI/scaleModes:property"}}scaleModes{{/crossLink}} for possible values
 * @return {Texture}
 */
Texture.fromCanvas = function (canvas, scaleMode)
{
    return new Texture(BaseTexture.fromCanvas(canvas, scaleMode));
};

/**
 * Helper function that creates a new Texture based on the given video element.
 *
 * @static
 * @param video {HTMLVideoElement}
 * @param scaleMode {number} See {{#crossLink "PIXI/scaleModes:property"}}scaleModes{{/crossLink}} for possible values
 * @return {Texture} A Texture
 */
Texture.fromVideo = function (video, scaleMode)
{
    if (typeof video === 'string')
    {
        return Texture.fromVideoUrl(video, scaleMode);
    }
    else
    {
        return new Texture(VideoBaseTexture.fromVideo(video, scaleMode));
    }
};

/**
 * Helper function that creates a new Texture based on the video url.
 *
 * @static
 * @param videoUrl {string}
 * @param scaleMode {number} See {{@link SCALE_MODES}} for possible values
 * @return {Texture} A Texture
 */
Texture.fromVideoUrl = function (videoUrl, scaleMode)
{
    return new Texture(VideoBaseTexture.fromUrl(videoUrl, scaleMode));
};

/**
 * Adds a texture to the global utils.TextureCache. This cache is shared across the whole PIXI object.
 *
 * @static
 * @param texture {Texture} The Texture to add to the cache.
 * @param id {string} The id that the texture will be stored against.
 */
Texture.addTextureToCache = function (texture, id)
{
    utils.TextureCache[id] = texture;
};

/**
 * Remove a texture from the global utils.TextureCache.
 *
 * @static
 * @param id {string} The id of the texture to be removed
 * @return {Texture} The texture that was removed
 */
Texture.removeTextureFromCache = function (id)
{
    var texture = utils.TextureCache[id];

    delete utils.TextureCache[id];
    delete utils.BaseTextureCache[id];

    return texture;
};

Texture.EMPTY = new Texture(new BaseTexture());

},{"../math":32,"../utils":76,"./BaseTexture":69,"./TextureUvs":72,"./VideoBaseTexture":73,"eventemitter3":11}],72:[function(require,module,exports){

/**
 * A standard object to store the Uvs of a texture
 *
 * @class
 * @private
 */
function TextureUvs()
{
    this.x0 = 0;
    this.y0 = 0;

    this.x1 = 1;
    this.y1 = 0;

    this.x2 = 1;
    this.y2 = 1;

    this.x3 = 0;
    this.y3 = 1;
}

module.exports = TextureUvs;

/**
 * Sets the texture Uvs based on the given frame information
 * @param frame {Rectangle}
 * @param baseFrame {Rectangle}
 * @param rotate {boolean} Whether or not the frame is rotated
 * @private
 */
TextureUvs.prototype.set = function (frame, baseFrame, rotate)
{
    var tw = baseFrame.width;
    var th = baseFrame.height;

    if(rotate)
    {
        this.x0 = (frame.x + frame.height) / tw;
        this.y0 = frame.y / th;

        this.x1 = (frame.x + frame.height) / tw;
        this.y1 = (frame.y + frame.width) / th;

        this.x2 = frame.x / tw;
        this.y2 = (frame.y + frame.width) / th;

        this.x3 = frame.x / tw;
        this.y3 = frame.y / th;
    }
    else
    {

        this.x0 = frame.x / tw;
        this.y0 = frame.y / th;

        this.x1 = (frame.x + frame.width) / tw;
        this.y1 = frame.y / th;

        this.x2 = (frame.x + frame.width) / tw;
        this.y2 = (frame.y + frame.height) / th;

        this.x3 = frame.x / tw;
        this.y3 = (frame.y + frame.height) / th;
    }
};

},{}],73:[function(require,module,exports){
var BaseTexture = require('./BaseTexture'),
    utils = require('../utils');

/**
 * A texture of a [playing] Video.
 *
 * Video base textures mimic Pixi BaseTexture.from.... method in their creation process.
 *
 * This can be used in several ways, such as:
 *
 * ```js
 * var texture = PIXI.VideoBaseTexture.fromUrl('http://mydomain.com/video.mp4');
 *
 * var texture = PIXI.VideoBaseTexture.fromUrl({ src: 'http://mydomain.com/video.mp4', mime: 'video/mp4' });
 *
 * var texture = PIXI.VideoBaseTexture.fromUrls(['/video.webm', '/video.mp4']);
 *
 * var texture = PIXI.VideoBaseTexture.fromUrls([
 *     { src: '/video.webm', mime: 'video/webm' },
 *     { src: '/video.mp4', mime: 'video/mp4' }
 * ]);
 * ```
 *
 * See the ["deus" demo](http://www.goodboydigital.com/pixijs/examples/deus/).
 *
 * @class
 * @extends PIXI.BaseTexture
 * @memberof PIXI
 * @param source {HTMLVideoElement}
 * @param [scaleMode] {number} See {@link SCALE_MODES} for possible values
 */
function VideoBaseTexture(source, scaleMode)
{
    if (!source)
    {
        throw new Error('No video source element specified.');
    }

    // hook in here to check if video is already available.
    // BaseTexture looks for a source.complete boolean, plus width & height.

    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height)
    {
        source.complete = true;
    }

    BaseTexture.call(this, source, scaleMode);

    /**
     * Should the base texture automatically update itself, set to true by default
     *
     * @member {boolean}
     * @default true
     */
    this.autoUpdate = false;

    this._onUpdate = this._onUpdate.bind(this);
    this._onCanPlay = this._onCanPlay.bind(this);

    if (!source.complete)
    {
        source.addEventListener('canplay', this._onCanPlay);
        source.addEventListener('canplaythrough', this._onCanPlay);

        // started playing..
        source.addEventListener('play', this._onPlayStart.bind(this));
        source.addEventListener('pause', this._onPlayStop.bind(this));
    }

    this.__loaded = false;
}

VideoBaseTexture.prototype = Object.create(BaseTexture.prototype);
VideoBaseTexture.prototype.constructor = VideoBaseTexture;
module.exports = VideoBaseTexture;

/**
 * The internal update loop of the video base texture, only runs when autoUpdate is set to true
 * @private
 */
VideoBaseTexture.prototype._onUpdate = function ()
{
    if (this.autoUpdate)
    {
        window.requestAnimationFrame(this._onUpdate);
        this.update();
    }
};

/**
 * Runs the update loop when the video is ready to play
 * @private
 */
VideoBaseTexture.prototype._onPlayStart = function ()
{
    if (!this.autoUpdate)
    {
        window.requestAnimationFrame(this._onUpdate);
        this.autoUpdate = true;
    }
};

/**
 * Fired when a pause event is triggered, stops the update loop
 * @private
 */
VideoBaseTexture.prototype._onPlayStop = function ()
{
    this.autoUpdate = false;
};

/**
 * Fired when the video is loaded and ready to play
 * @private
 */
VideoBaseTexture.prototype._onCanPlay = function ()
{
    this.hasLoaded = true;

    if (this.source)
    {
        this.source.removeEventListener('canplay', this._onCanPlay);
        this.source.removeEventListener('canplaythrough', this._onCanPlay);

        this.width = this.source.videoWidth;
        this.height = this.source.videoHeight;

        this.source.play();

        // prevent multiple loaded dispatches..
        if (!this.__loaded)
        {
            this.__loaded = true;
            this.emit('loaded', this);
        }
    }
};

/**
 * Destroys this texture
 *
 */
VideoBaseTexture.prototype.destroy = function ()
{
    if (this.source && this.source._pixiId)
    {
        delete utils.BaseTextureCache[ this.source._pixiId ];
        delete this.source._pixiId;
    }

    BaseTexture.prototype.destroy.call(this);
};

/**
 * Mimic Pixi BaseTexture.from.... method.
 *
 * @static
 * @param video {HTMLVideoElement}
 * @param scaleMode {number} See {@link SCALE_MODES} for possible values
 * @return {VideoBaseTexture}
 */
VideoBaseTexture.fromVideo = function (video, scaleMode)
{
    if (!video._pixiId)
    {
        video._pixiId = 'video_' + utils.uid();
    }

    var baseTexture = utils.BaseTextureCache[video._pixiId];

    if (!baseTexture)
    {
        baseTexture = new VideoBaseTexture(video, scaleMode);
        utils.BaseTextureCache[ video._pixiId ] = baseTexture;
    }

    return baseTexture;
};

/**
 * Helper function that creates a new BaseTexture based on the given video element.
 * This BaseTexture can then be used to create a texture
 *
 * @static
 * @param videoSrc {string|object|string[]|object[]} The URL(s) for the video.
 * @param [videoSrc.src] {string} One of the source urls for the video
 * @param [videoSrc.mime] {string} The mimetype of the video (e.g. 'video/mp4'). If not specified
 *  the url's extension will be used as the second part of the mime type.
 * @param scaleMode {number} See {@link SCALE_MODES} for possible values
 * @return {VideoBaseTexture}
 */
VideoBaseTexture.fromUrl = function (videoSrc, scaleMode)
{
    var video = document.createElement('video');

    // array of objects or strings
    if (Array.isArray(videoSrc))
    {
        for (var i = 0; i < videoSrc.length; ++i)
        {
            video.appendChild(createSource(videoSrc.src || videoSrc, videoSrc.mime));
        }
    }
    // single object or string
    else
    {
        video.appendChild(createSource(videoSrc.src || videoSrc, videoSrc.mime));
    }

    video.load();
    video.play();

    return VideoBaseTexture.fromVideo(video, scaleMode);
};

VideoBaseTexture.fromUrls = VideoBaseTexture.fromUrl;

function createSource(path, type)
{
    if (!type)
    {
        type = 'video/' + path.substr(path.lastIndexOf('.') + 1);
    }

    var source = document.createElement('source');

    source.src = path;
    source.type = type;

    return source;
}

},{"../utils":76,"./BaseTexture":69}],74:[function(require,module,exports){
var CONST = require('../const'),
    EventEmitter = require('eventemitter3'),
    // Internal event used by composed emitter
    TICK = 'tick';

/**
 * A Ticker class that runs an update loop that other objects listen to.
 * This class is composed around an EventEmitter object to add listeners
 * meant for execution on the next requested animation frame.
 * Animation frames are requested only when necessary,
 * e.g. When the ticker is started and the emitter has listeners.
 *
 * @class
 * @memberof PIXI.ticker
 */
function Ticker()
{
    var _this = this;
    /**
     * Internal tick method bound to ticker instance.
     * This is because in early 2015, Function.bind
     * is still 60% slower in high performance scenarios.
     * Also separating frame requests from update method
     * so listeners may be called at any time and with
     * any animation API, just invoke ticker.update(time).
     *
     * @private
     */
    this._tick = function _tick(time) {

        _this._requestId = null;

        if (_this.started)
        {
            // Invoke listeners now
            _this.update(time);
            // Listener side effects may have modified ticker state.
            if (_this.started && _this._requestId === null && _this._emitter.listeners(TICK, true))
            {
                _this._requestId = requestAnimationFrame(_this._tick);
            }
        }
    };
    /**
     * Internal emitter used to fire 'tick' event
     * @private
     */
    this._emitter = new EventEmitter();
    /**
     * Internal current frame request ID
     * @private
     */
    this._requestId = null;
    /**
     * Internal value managed by minFPS property setter and getter.
     * This is the maximum allowed milliseconds between updates.
     * @private
     */
    this._maxElapsedMS = 100;

    /**
     * Whether or not this ticker should invoke the method
     * {@link PIXI.ticker.Ticker#start} automatically
     * when a listener is added.
     *
     * @member {boolean}
     * @default false
     */
    this.autoStart = false;

    /**
     * Scalar time value from last frame to this frame.
     * This value is capped by setting {@link PIXI.ticker.Ticker#minFPS}
     * and is scaled with {@link PIXI.ticker.Ticker#speed}.
     * **Note:** The cap may be exceeded by scaling.
     *
     * @member {number}
     * @default 1
     */
    this.deltaTime = 1;

    /**
     * Time elapsed in milliseconds from last frame to this frame.
     * Opposed to what the scalar {@link PIXI.ticker.Ticker#deltaTime}
     * is based, this value is neither capped nor scaled.
     * If the platform supports DOMHighResTimeStamp,
     * this value will have a precision of 1 µs.
     *
     * @member {DOMHighResTimeStamp|number}
     * @default 1 / TARGET_FPMS
     */
    this.elapsedMS = 1 / CONST.TARGET_FPMS; // default to target frame time

    /**
     * The last time {@link PIXI.ticker.Ticker#update} was invoked.
     * This value is also reset internally outside of invoking
     * update, but only when a new animation frame is requested.
     * If the platform supports DOMHighResTimeStamp,
     * this value will have a precision of 1 µs.
     *
     * @member {DOMHighResTimeStamp|number}
     * @default 0
     */
    this.lastTime = 0;

    /**
     * Factor of current {@link PIXI.ticker.Ticker#deltaTime}.
     * @example
     *     // Scales ticker.deltaTime to what would be
     *     // the equivalent of approximately 120 FPS
     *     ticker.speed = 2;
     *
     * @member {number}
     * @default 1
     */
    this.speed = 1;

    /**
     * Whether or not this ticker has been started.
     * `true` if {@link PIXI.ticker.Ticker#start} has been called.
     * `false` if {@link PIXI.ticker.Ticker#stop} has been called.
     * While `false`, this value may change to `true` in the
     * event of {@link PIXI.ticker.Ticker#autoStart} being `true`
     * and a listener is added.
     *
     * @member {boolean}
     * @default false
     */
    this.started = false;
}

Object.defineProperties(Ticker.prototype, {
    /**
     * The frames per second at which this ticker is running.
     * The default is approximately 60 in most modern browsers.
     * **Note:** This does not factor in the value of
     * {@link PIXI.ticker.Ticker#speed}, which is specific
     * to scaling {@link PIXI.ticker.Ticker#deltaTime}.
     *
     * @member
     * @memberof PIXI.ticker.Ticker#
     * @readonly
     */
    FPS: {
        get: function()
        {
            return 1000 / this.elapsedMS;
        }
    },

    /**
     * Manages the maximum amount of milliseconds allowed to
     * elapse between invoking {@link PIXI.ticker.Ticker#update}.
     * This value is used to cap {@link PIXI.ticker.Ticker#deltaTime},
     * but does not effect the measured value of {@link PIXI.ticker.Ticker#FPS}.
     * When setting this property it is clamped to a value between
     * `0` and `PIXI.TARGET_FPMS * 1000`.
     *
     * @member
     * @memberof PIXI.ticker.Ticker#
     * @default 10
     */
    minFPS: {
        get: function()
        {
            return 1000 / this._maxElapsedMS;
        },
        set: function(fps)
        {
            // Clamp: 0 to TARGET_FPMS
            var minFPMS = Math.min(Math.max(0, fps) / 1000, CONST.TARGET_FPMS);
            this._maxElapsedMS = 1 / minFPMS;
        }
    }
});

/**
 * Conditionally requests a new animation frame.
 * If a frame has not already been requested, and if the internal
 * emitter has listeners, a new frame is requested.
 *
 * @private
 */
Ticker.prototype._requestIfNeeded = function _requestIfNeeded()
{
    if (this._requestId === null && this._emitter.listeners(TICK, true))
    {
        // ensure callbacks get correct delta
        this.lastTime = performance.now();
        this._requestId = requestAnimationFrame(this._tick);
    }
};

/**
 * Conditionally cancels a pending animation frame.
 *
 * @private
 */
Ticker.prototype._cancelIfNeeded = function _cancelIfNeeded()
{
    if (this._requestId !== null)
    {
        cancelAnimationFrame(this._requestId);
        this._requestId = null;
    }
};

/**
 * Conditionally requests a new animation frame.
 * If the ticker has been started it checks if a frame has not already
 * been requested, and if the internal emitter has listeners. If these
 * conditions are met, a new frame is requested. If the ticker has not
 * been started, but autoStart is `true`, then the ticker starts now,
 * and continues with the previous conditions to request a new frame.
 *
 * @private
 */
Ticker.prototype._startIfPossible = function _startIfPossible()
{
    if (this.started)
    {
        this._requestIfNeeded();
    }
    else if (this.autoStart)
    {
        this.start();
    }
};

/**
 * Calls {@link module:eventemitter3.EventEmitter#on} internally for the
 * internal 'tick' event. It checks if the emitter has listeners,
 * and if so it requests a new animation frame at this point.
 *
 * @param fn {Function} The listener function to be added for updates
 * @param [context] {Function} The listener context
 * @returns {PIXI.ticker.Ticker} this
 */
Ticker.prototype.add = function add(fn, context)
{
    this._emitter.on(TICK, fn, context);

    this._startIfPossible();

    return this;
};

/**
 * Calls {@link module:eventemitter3.EventEmitter#once} internally for the
 * internal 'tick' event. It checks if the emitter has listeners,
 * and if so it requests a new animation frame at this point.
 *
 * @param fn {Function} The listener function to be added for one update
 * @param [context] {Function} The listener context
 * @returns {PIXI.ticker.Ticker} this
 */
Ticker.prototype.addOnce = function addOnce(fn, context)
{
    this._emitter.once(TICK, fn, context);

    this._startIfPossible();

    return this;
};

/**
 * Calls {@link module:eventemitter3.EventEmitter#off} internally for 'tick' event.
 * It checks if the emitter has listeners for 'tick' event.
 * If it does, then it cancels the animation frame.
 *
 * @param [fn] {Function} The listener function to be removed
 * @param [context] {Function} The listener context to be removed
 * @returns {PIXI.ticker.Ticker} this
 */
Ticker.prototype.remove = function remove(fn, context)
{
    this._emitter.off(TICK, fn, context);

    if (!this._emitter.listeners(TICK, true))
    {
        this._cancelIfNeeded();
    }

    return this;
};

/**
 * Starts the ticker. If the ticker has listeners
 * a new animation frame is requested at this point.
 */
Ticker.prototype.start = function start()
{
    if (!this.started)
    {
        this.started = true;
        this._requestIfNeeded();
    }
};

/**
 * Stops the ticker. If the ticker has requested
 * an animation frame it is canceled at this point.
 */
Ticker.prototype.stop = function stop()
{
    if (this.started)
    {
        this.started = false;
        this._cancelIfNeeded();
    }
};

/**
 * Triggers an update. An update entails setting the
 * current {@link PIXI.ticker.Ticker#elapsedMS},
 * the current {@link PIXI.ticker.Ticker#deltaTime},
 * invoking all listeners with current deltaTime,
 * and then finally setting {@link PIXI.ticker.Ticker#lastTime}
 * with the value of currentTime that was provided.
 * This method will be called automatically by animation
 * frame callbacks if the ticker instance has been started
 * and listeners are added.
 *
 * @param [currentTime=performance.now()] {DOMHighResTimeStamp|number} the current time of execution
 */
Ticker.prototype.update = function update(currentTime)
{
    var elapsedMS;

    // Allow calling update directly with default currentTime.
    currentTime = currentTime || performance.now();
    // Save uncapped elapsedMS for measurement
    elapsedMS = this.elapsedMS = currentTime - this.lastTime;

    // cap the milliseconds elapsed used for deltaTime
    if (elapsedMS > this._maxElapsedMS)
    {
        elapsedMS = this._maxElapsedMS;
    }

    this.deltaTime = elapsedMS * CONST.TARGET_FPMS * this.speed;

    // Invoke listeners added to internal emitter
    this._emitter.emit(TICK, this.deltaTime);

    this.lastTime = currentTime;
};

module.exports = Ticker;

},{"../const":22,"eventemitter3":11}],75:[function(require,module,exports){
/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */
var Ticker = require('./Ticker');

/**
 * The shared ticker instance used by {@link PIXI.extras.MovieClip}.
 * and by {@link PIXI.interaction.InteractionManager}.
 * The property {@link PIXI.ticker.Ticker#autoStart} is set to `true`
 * for this instance. Please follow the examples for usage, including
 * how to opt-out of auto-starting the shared ticker.
 *
 * @example
 *     var ticker = PIXI.ticker.shared;
 *     // Set this to prevent starting this ticker when listeners are added.
 *     // By default this is true only for the PIXI.ticker.shared instance.
 *     ticker.autoStart = false;
 *     // FYI, call this to ensure the ticker is stopped. It should be stopped
 *     // if you have not attempted to render anything yet.
 *     ticker.stop();
 *     // Call this when you are ready for a running shared ticker.
 *     ticker.start();
 *
 * @example
 *     // You may use the shared ticker to render...
 *     var renderer = PIXI.autoDetectRenderer(800, 600);
 *     var stage = new PIXI.Container();
 *     var interactionManager = PIXI.interaction.InteractionManager(renderer);
 *     document.body.appendChild(renderer.view);
 *     ticker.add(function (time) {
 *         renderer.render(stage);
 *     });
 *
 * @example
 *     // Or you can just update it manually.
 *     ticker.autoStart = false;
 *     ticker.stop();
 *     function animate(time) {
 *         ticker.update(time);
 *         renderer.render(stage);
 *         requestAnimationFrame(animate);
 *     }
 *     animate(performance.now());
 *
 * @type {PIXI.ticker.Ticker}
 * @memberof PIXI.ticker
 */
var shared = new Ticker();
shared.autoStart = true;

/**
 * @namespace PIXI.ticker
 */
module.exports = {
    shared: shared,
    Ticker: Ticker
};

},{"./Ticker":74}],76:[function(require,module,exports){
var CONST = require('../const');

/**
 * @namespace PIXI.utils
 */
var utils = module.exports = {
    _uid: 0,
    _saidHello: false,

    pluginTarget:   require('./pluginTarget'),
    async:          require('async'),

    /**
     * Gets the next unique identifier
     *
     * @return {number} The next unique identifier to use.
     */
    uid: function ()
    {
        return ++utils._uid;
    },

    /**
     * Converts a hex color number to an [R, G, B] array
     *
     * @param hex {number}
     * @return {number[]} An array representing the [R, G, B] of the color.
     */
    hex2rgb: function (hex, out)
    {
        out = out || [];

        out[0] = (hex >> 16 & 0xFF) / 255;
        out[1] = (hex >> 8 & 0xFF) / 255;
        out[2] = (hex & 0xFF) / 255;

        return out;
    },

    /**
     * Converts a hex color number to a string.
     *
     * @param hex {number}
     * @return {string} The string color.
     */
    hex2string: function (hex)
    {
        hex = hex.toString(16);
        hex = '000000'.substr(0, 6 - hex.length) + hex;

        return '#' + hex;
    },

    /**
     * Converts a color as an [R, G, B] array to a hex number
     *
     * @param rgb {number[]}
     * @return {number} The color number
     */
    rgb2hex: function (rgb)
    {
        return ((rgb[0]*255 << 16) + (rgb[1]*255 << 8) + rgb[2]*255);
    },

    /**
     * Checks whether the Canvas BlendModes are supported by the current browser
     *
     * @return {boolean} whether they are supported
     */
    canUseNewCanvasBlendModes: function ()
    {
        if (typeof document === 'undefined')
        {
            return false;
        }

        var pngHead = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/';
        var pngEnd = 'AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';

        var magenta = new Image();
        magenta.src = pngHead + 'AP804Oa6' + pngEnd;

        var yellow = new Image();
        yellow.src = pngHead + '/wCKxvRF' + pngEnd;

        var canvas = document.createElement('canvas');
        canvas.width = 6;
        canvas.height = 1;

        var context = canvas.getContext('2d');
        context.globalCompositeOperation = 'multiply';
        context.drawImage(magenta, 0, 0);
        context.drawImage(yellow, 2, 0);

        var data = context.getImageData(2,0,1,1).data;

        return (data[0] === 255 && data[1] === 0 && data[2] === 0);
    },

    /**
     * Given a number, this function returns the closest number that is a power of two
     * this function is taken from Starling Framework as its pretty neat ;)
     *
     * @param number {number}
     * @return {number} the closest number that is a power of two
     */
    getNextPowerOfTwo: function (number)
    {
        // see: http://en.wikipedia.org/wiki/Power_of_two#Fast_algorithm_to_check_if_a_positive_number_is_a_power_of_two
        if (number > 0 && (number & (number - 1)) === 0)
        {
            return number;
        }
        else
        {
            var result = 1;

            while (result < number)
            {
                result <<= 1;
            }

            return result;
        }
    },

    /**
     * checks if the given width and height make a power of two rectangle
     *
     * @param width {number}
     * @param height {number}
     * @return {boolean}
     */
    isPowerOfTwo: function (width, height)
    {
        return (width > 0 && (width & (width - 1)) === 0 && height > 0 && (height & (height - 1)) === 0);
    },

    /**
     * get the resolution of an asset by looking for the prefix
     * used by spritesheets and image urls
     *
     * @param url {string} the image path
     * @return {boolean}
     */
    getResolutionOfUrl: function (url)
    {
        var resolution = CONST.RETINA_PREFIX.exec(url);

        if (resolution)
        {
           return parseFloat(resolution[1]);
        }

        return 1;
    },

    /**
     * Logs out the version and renderer information for this running instance of PIXI.
     * If you don't want to see this message you can set `PIXI.utils._saidHello = true;`
     * so the library thinks it already said it. Keep in mind that doing that will forever
     * makes you a jerk face.
     *
     * @param {string} type - The string renderer type to log.
     * @constant
     * @static
     */
    sayHello: function (type)
    {
        if (utils._saidHello)
        {
            return;
        }

        if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1)
        {
            var args = [
                '\n %c %c %c Pixi.js ' + CONST.VERSION + ' - ✰ ' + type + ' ✰  %c ' + ' %c ' + ' http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n',
                'background: #ff66a5; padding:5px 0;',
                'background: #ff66a5; padding:5px 0;',
                'color: #ff66a5; background: #030307; padding:5px 0;',
                'background: #ff66a5; padding:5px 0;',
                'background: #ffc3dc; padding:5px 0;',
                'background: #ff66a5; padding:5px 0;',
                'color: #ff2424; background: #fff; padding:5px 0;',
                'color: #ff2424; background: #fff; padding:5px 0;',
                'color: #ff2424; background: #fff; padding:5px 0;',
            ];

            window.console.log.apply(console, args); //jshint ignore:line
        }
        else if (window.console)
        {
            window.console.log('Pixi.js ' + CONST.VERSION + ' - ' + type + ' - http://www.pixijs.com/'); //jshint ignore:line
        }

        utils._saidHello = true;
    },

    /**
     * Helper for checking for webgl support
     *
     * @return {boolean}
     */
    isWebGLSupported: function ()
    {
        var contextOptions = { stencil: true };
        try
        {
            if (!window.WebGLRenderingContext)
            {
                return false;
            }

            var canvas = document.createElement('canvas'),
                gl = canvas.getContext('webgl', contextOptions) || canvas.getContext('experimental-webgl', contextOptions);

            return !!(gl && gl.getContextAttributes().stencil);
        }
        catch (e)
        {
            return false;
        }
    },

    /**
     * @todo Describe property usage
     * @private
     */
    TextureCache: {},

    /**
     * @todo Describe property usage
     * @private
     */
    BaseTextureCache: {}
};

},{"../const":22,"./pluginTarget":77,"async":2}],77:[function(require,module,exports){
/**
 * Mixins functionality to make an object have "plugins".
 *
 * @mixin
 * @memberof PIXI.utils
 * @param obj {object} The object to mix into.
 * @example
 *      function MyObject() {}
 *
 *      pluginTarget.mixin(MyObject);
 */
function pluginTarget(obj)
{
    obj.__plugins = {};

    /**
     * Adds a plugin to an object
     *
     * @param pluginName {string} The events that should be listed.
     * @param ctor {Object} ?? @alvin
     */
    obj.registerPlugin = function (pluginName, ctor)
    {
        obj.__plugins[pluginName] = ctor;
    };

    /**
     * Instantiates all the plugins of this object
     *
     */
    obj.prototype.initPlugins = function ()
    {
        this.plugins = this.plugins || {};

        for (var o in obj.__plugins)
        {
            this.plugins[o] = new (obj.__plugins[o])(this);
        }
    };

    /**
     * Removes all the plugins of this object
     *
     */
    obj.prototype.destroyPlugins = function ()
    {
        for (var o in this.plugins)
        {
            this.plugins[o].destroy();
            this.plugins[o] = null;
        }

        this.plugins = null;
    };
}


module.exports = {
    /**
     * Mixes in the properties of the pluginTarget into another object
     *
     * @param object {object} The obj to mix into
     */
    mixin: function mixin(obj)
    {
        pluginTarget(obj);
    }
};

},{}],78:[function(require,module,exports){
/*global console */
var core = require('./core'),
    mesh = require('./mesh'),
    extras = require('./extras'),
    filters = require('./filters');

/**
 * @class
 * @private
 * @name PIXI.SpriteBatch
 * @see {@link PIXI.ParticleContainer}
 * @throws {ReferenceError} SpriteBatch does not exist any more, please use the new ParticleContainer instead.
 */
core.SpriteBatch = function()
{
    throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.');
};

/**
 * @class
 * @private
 * @name PIXI.AssetLoader
 * @see {@link PIXI.loaders.Loader}
 * @throws {ReferenceError} The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.
 */
core.AssetLoader = function()
{
    throw new ReferenceError('The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.');
};

Object.defineProperties(core, {

    /**
     * @class
     * @private
     * @name PIXI.Stage
     * @see {@link PIXI.Container}
     * @deprecated since version 3.0
     */
    Stage: {
        get: function()
        {
            console.warn('You do not need to use a PIXI Stage any more, you can simply render any container.');
            return core.Container;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.DisplayObjectContainer
     * @see {@link PIXI.Container}
     * @deprecated since version 3.0
     */
    DisplayObjectContainer: {
        get: function()
        {
            console.warn('DisplayObjectContainer has been shortened to Container, please use Container from now on.');
            return core.Container;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.Strip
     * @see {@link PIXI.mesh.Mesh}
     * @deprecated since version 3.0
     */
    Strip: {
        get: function()
        {
            console.warn('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.');
            return mesh.Mesh;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.Rope
     * @see {@link PIXI.mesh.Rope}
     * @deprecated since version 3.0
     */
    Rope: {
        get: function()
        {
            console.warn('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.');
            return mesh.Rope;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.MovieClip
     * @see {@link PIXI.MovieClip}
     * @deprecated since version 3.0
     */
    MovieClip: {
        get: function()
        {
            console.warn('The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on.');
            return extras.MovieClip;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.TilingSprite
     * @see {@link PIXI.TilingSprite}
     * @deprecated since version 3.0
     */
    TilingSprite: {
        get: function()
        {
            console.warn('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.');
            return extras.TilingSprite;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.BitmapText
     * @see {@link PIXI.extras.BitmapText}
     * @deprecated since version 3.0
     */
    BitmapText: {
        get: function()
        {
            console.warn('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.');
            return extras.BitmapText;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.blendModes
     * @see {@link PIXI.BLEND_MODES}
     * @deprecated since version 3.0
     */
    blendModes: {
        get: function()
        {
            console.warn('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.');
            return core.BLEND_MODES;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.scaleModes
     * @see {@link PIXI.SCALE_MODES}
     * @deprecated since version 3.0
     */
    scaleModes: {
        get: function()
        {
            console.warn('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.');
            return core.SCALE_MODES;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.BaseTextureCache
     * @see {@link PIXI.utils.BaseTextureCache}
     * @deprecated since version 3.0
     */
    BaseTextureCache: {
        get: function ()
        {
            console.warn('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.');
            return core.utils.BaseTextureCache;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.TextureCache
     * @see {@link PIXI.utils.TextureCache}
     * @deprecated since version 3.0
     */
    TextureCache: {
        get: function ()
        {
            console.warn('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.');
            return core.utils.TextureCache;
        }
    },

    /**
     * @namespace
     * @private
     * @name PIXI.math
     * @see {@link PIXI}
     * @deprecated since version 3.0.6
     */
    math: {
        get: function ()
        {
            console.warn('The math namespace is deprecated, please access members already accessible on PIXI.');
            return core;
        }
    }
});

/**
 * @method
 * @private
 * @name PIXI.Sprite#setTexture
 * @see {@link PIXI.Sprite#texture}
 * @deprecated since version 3.0
 */
core.Sprite.prototype.setTexture = function(texture)
{
    this.texture = texture;
    console.warn('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;');
};

/**
 * @method
 * @name PIXI.extras.BitmapText#setText
 * @see {@link PIXI.BitmapText#text}
 * @deprecated since version 3.0
 */
extras.BitmapText.prototype.setText = function(text)
{
    this.text = text;
    console.warn('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';');
};

/**
 * @method
 * @name PIXI.Text#setText
 * @see {@link PIXI.Text#text}
 * @deprecated since version 3.0
 */
core.Text.prototype.setText = function(text)
{
    this.text = text;
    console.warn('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';');
};

/**
 * @method
 * @name PIXI.Text#setStyle
 * @see {@link PIXI.Text#style}
 * @deprecated since version 3.0
 */
core.Text.prototype.setStyle = function(style)
{
    this.style = style;
    console.warn('setStyle is now deprecated, please use the style property, e.g : myText.style = style;');
};

/**
 * @method
 * @name PIXI.Texture#setFrame
 * @see {@link PIXI.Texture#setFrame}
 * @deprecated since version 3.0
 */
core.Texture.prototype.setFrame = function(frame)
{
    this.frame = frame;
    console.warn('setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;');
};

Object.defineProperties(filters, {

    /**
     * @class
     * @private
     * @name PIXI.filters.AbstractFilter
     * @see {@link PIXI.AbstractFilter}
     * @deprecated since version 3.0.6
     */
    AbstractFilter: {
        get: function()
        {
            console.warn('filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on.');
            return core.AbstractFilter;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.filters.FXAAFilter
     * @see {@link PIXI.FXAAFilter}
     * @deprecated since version 3.0.6
     */
    FXAAFilter: {
        get: function()
        {
            console.warn('filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on.');
            return core.FXAAFilter;
        }
    },

    /**
     * @class
     * @private
     * @name PIXI.filters.SpriteMaskFilter
     * @see {@link PIXI.SpriteMaskFilter}
     * @deprecated since version 3.0.6
     */
    SpriteMaskFilter: {
        get: function()
        {
            console.warn('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.');
            return core.SpriteMaskFilter;
        }
    }
});

/**
 * @method
 * @name PIXI.utils.uuid
 * @see {@link PIXI.utils.uid}
 * @deprecated since version 3.0.6
 */
core.utils.uuid = function ()
{
    console.warn('utils.uuid() is deprecated, please use utils.uid() from now on.');
    return core.utils.uid();
};

},{"./core":29,"./extras":85,"./filters":102,"./mesh":126}],79:[function(require,module,exports){
var core = require('../core');

/**
 * A BitmapText object will create a line or multiple lines of text using bitmap font. To
 * split a line you can use '\n', '\r' or '\r\n' in your string. You can generate the fnt files using:
 *
 * A BitmapText can only be created when the font is loaded
 *
 * ```js
 * // in this case the font is in a file called 'desyrel.fnt'
 * var bitmapText = new PIXI.BitmapText("text using a fancy font!", {font: "35px Desyrel", align: "right"});
 * ```
 *
 *
 * http://www.angelcode.com/products/bmfont/ for windows or
 * http://www.bmglyph.com/ for mac.
 *
 * @class
 * @extends PIXI.Container
 * @memberof PIXI.extras
 * @param text {string} The copy that you would like the text to display
 * @param style {object} The style parameters
 * @param style.font {string|object} The font descriptor for the object, can be passed as a string of form
 *      "24px FontName" or "FontName" or as an object with explicit name/size properties.
 * @param [style.font.name] {string} The bitmap font id
 * @param [style.font.size] {number} The size of the font in pixels, e.g. 24
 * @param [style.align='left'] {string} Alignment for multiline text ('left', 'center' or 'right'), does not affect
 *      single line text
 * @param [style.tint=0xFFFFFF] {number} The tint color
 */
function BitmapText(text, style)
{
    core.Container.call(this);

    style = style || {};

    /**
     * The width of the overall text, different from fontSize,
     * which is defined in the style object
     *
     * @member {number}
     * @readOnly
     */
    this.textWidth = 0;

    /**
     * The height of the overall text, different from fontSize,
     * which is defined in the style object
     *
     * @member {number}
     * @readOnly
     */
    this.textHeight = 0;

    /**
     * Private tracker for the letter sprite pool.
     *
     * @member {Sprite[]}
     * @private
     */
    this._glyphs = [];

    /**
     * Private tracker for the current style.
     *
     * @member {object}
     * @private
     */
    this._font = {
        tint: style.tint !== undefined ? style.tint : 0xFFFFFF,
        align: style.align || 'left',
        name: null,
        size: 0
    };

    /**
     * Private tracker for the current font.
     *
     * @member {object}
     * @private
     */
    this.font = style.font; // run font setter

    /**
     * Private tracker for the current text.
     *
     * @member {string}
     * @private
     */
    this._text = text;

    /**
     * The max width of this bitmap text in pixels. If the text provided is longer than the value provided, line breaks will be automatically inserted in the last whitespace.
     * Disable by setting value to 0
     *
     * @member {number}
     */
    this.maxWidth = 0;

    /**
     * The dirty state of this object.
     *
     * @member {boolean}
     */
    this.dirty = false;

    this.updateText();
}

// constructor
BitmapText.prototype = Object.create(core.Container.prototype);
BitmapText.prototype.constructor = BitmapText;
module.exports = BitmapText;

Object.defineProperties(BitmapText.prototype, {
    /**
     * The tint of the BitmapText object
     *
     * @member {number}
     * @memberof BitmapText#
     */
    tint: {
        get: function ()
        {
            return this._font.tint;
        },
        set: function (value)
        {
            this._font.tint = (typeof value === 'number' && value >= 0) ? value : 0xFFFFFF;

            this.dirty = true;
        }
    },

    /**
     * The alignment of the BitmapText object
     *
     * @member {string}
     * @default 'left'
     * @memberof BitmapText#
     */
    align: {
        get: function ()
        {
            return this._font.align;
        },
        set: function (value)
        {
            this._font.align = value || 'left';

            this.dirty = true;
        }
    },

    /**
     * The font descriptor of the BitmapText object
     *
     * @member {Font}
     * @memberof BitmapText#
     */
    font: {
        get: function ()
        {
            return this._font;
        },
        set: function (value)
        {
            if (!value) {
                return;
            }

            if (typeof value === 'string') {
                value = value.split(' ');

                this._font.name = value.length === 1 ? value[0] : value.slice(1).join(' ');
                this._font.size = value.length >= 2 ? parseInt(value[0], 10) : BitmapText.fonts[this._font.name].size;
            }
            else {
                this._font.name = value.name;
                this._font.size = typeof value.size === 'number' ? value.size : parseInt(value.size, 10);
            }

            this.dirty = true;
        }
    },

    /**
     * The text of the BitmapText object
     *
     * @member {string}
     * @memberof BitmapText#
     */
    text: {
        get: function ()
        {
            return this._text;
        },
        set: function (value)
        {
            value = value.toString() || ' ';
            if (this._text === value)
            {
                return;
            }
            this._text = value;
            this.dirty = true;
        }
    }
});

/**
 * Renders text and updates it when needed
 *
 * @private
 */
BitmapText.prototype.updateText = function ()
{
    var data = BitmapText.fonts[this._font.name];
    var pos = new core.Point();
    var prevCharCode = null;
    var chars = [];
    var lastLineWidth = 0;
    var maxLineWidth = 0;
    var lineWidths = [];
    var line = 0;
    var scale = this._font.size / data.size;
    var lastSpace = -1;

    for (var i = 0; i < this.text.length; i++)
    {
        var charCode = this.text.charCodeAt(i);
        lastSpace = /(\s)/.test(this.text.charAt(i)) ? i : lastSpace;

        if (/(?:\r\n|\r|\n)/.test(this.text.charAt(i)))
        {
            lineWidths.push(lastLineWidth);
            maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
            line++;

            pos.x = 0;
            pos.y += data.lineHeight;
            prevCharCode = null;
            continue;
        }

        if (lastSpace !== -1 && this.maxWidth > 0 && pos.x * scale > this.maxWidth)
        {
            chars.splice(lastSpace, i - lastSpace);
            i = lastSpace;
            lastSpace = -1;

            lineWidths.push(lastLineWidth);
            maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
            line++;

            pos.x = 0;
            pos.y += data.lineHeight;
            prevCharCode = null;
            continue;
        }

        var charData = data.chars[charCode];

        if (!charData)
        {
            continue;
        }

        if (prevCharCode && charData.kerning[prevCharCode])
        {
            pos.x += charData.kerning[prevCharCode];
        }

        chars.push({texture:charData.texture, line: line, charCode: charCode, position: new core.Point(pos.x + charData.xOffset, pos.y + charData.yOffset)});
        lastLineWidth = pos.x + (charData.texture.width + charData.xOffset);
        pos.x += charData.xAdvance;

        prevCharCode = charCode;
    }

    lineWidths.push(lastLineWidth);
    maxLineWidth = Math.max(maxLineWidth, lastLineWidth);

    var lineAlignOffsets = [];

    for (i = 0; i <= line; i++)
    {
        var alignOffset = 0;

        if (this._font.align === 'right')
        {
            alignOffset = maxLineWidth - lineWidths[i];
        }
        else if (this._font.align === 'center')
        {
            alignOffset = (maxLineWidth - lineWidths[i]) / 2;
        }

        lineAlignOffsets.push(alignOffset);
    }

    var lenChars = chars.length;
    var tint = this.tint;

    for (i = 0; i < lenChars; i++)
    {
        var c = this._glyphs[i]; // get the next glyph sprite

        if (c)
        {
            c.texture = chars[i].texture;
        }
        else
        {
            c = new core.Sprite(chars[i].texture);
            this._glyphs.push(c);
        }

        c.position.x = (chars[i].position.x + lineAlignOffsets[chars[i].line]) * scale;
        c.position.y = chars[i].position.y * scale;
        c.scale.x = c.scale.y = scale;
        c.tint = tint;

        if (!c.parent)
        {
            this.addChild(c);
        }
    }

    // remove unnecessary children.
    for (i = lenChars; i < this._glyphs.length; ++i)
    {
        this.removeChild(this._glyphs[i]);
    }

    this.textWidth = maxLineWidth * scale;
    this.textHeight = (pos.y + data.lineHeight) * scale;
};

/**
 * Updates the transform of this object
 *
 * @private
 */
BitmapText.prototype.updateTransform = function ()
{
    this.validate();
    this.containerUpdateTransform();
};

/**
 * Validates text before calling parent's getLocalBounds
 *
 * @return {Rectangle} The rectangular bounding area
 */

BitmapText.prototype.getLocalBounds = function()
{
    this.validate();
    return core.Container.prototype.getLocalBounds.call(this);
};

/**
 * Updates text when needed
 *
 * @private
 */
BitmapText.prototype.validate = function()
{
    if (this.dirty)
    {
        this.updateText();
        this.dirty = false;
    }
};

BitmapText.fonts = {};

},{"../core":29}],80:[function(require,module,exports){
var core = require('../core');

/**
 * A MovieClip is a simple way to display an animation depicted by a list of textures.
 *
 * ```js
 * var alienImages = ["image_sequence_01.png","image_sequence_02.png","image_sequence_03.png","image_sequence_04.png"];
 * var textureArray = [];
 *
 * for (var i=0; i < 4; i++)
 * {
 *      var texture = PIXI.Texture.fromImage(alienImages[i]);
 *      textureArray.push(texture);
 * };
 *
 * var mc = new PIXI.MovieClip(textureArray);
 * ```
 *
 * @class
 * @extends PIXI.Sprite
 * @memberof PIXI.extras
 * @param textures {Texture[]} an array of {Texture} objects that make up the animation
 */
function MovieClip(textures)
{
    core.Sprite.call(this, textures[0]);

    /**
     * @private
     */
    this._textures = textures;

    /**
     * The speed that the MovieClip will play at. Higher is faster, lower is slower
     *
     * @member {number}
     * @default 1
     */
    this.animationSpeed = 1;

    /**
     * Whether or not the movie clip repeats after playing.
     *
     * @member {boolean}
     * @default true
     */
    this.loop = true;

    /**
     * Function to call when a MovieClip finishes playing
     *
     * @method
     * @memberof MovieClip#
     */
    this.onComplete = null;

    /**
     * Elapsed time since animation has been started, used internally to display current texture
     *
     * @member {number}
     * @private
     */
    this._currentTime = 0;

    /**
     * Indicates if the MovieClip is currently playing
     *
     * @member {boolean}
     * @readonly
     */
    this.playing = false;
}

// constructor
MovieClip.prototype = Object.create(core.Sprite.prototype);
MovieClip.prototype.constructor = MovieClip;
module.exports = MovieClip;

Object.defineProperties(MovieClip.prototype, {
    /**
     * totalFrames is the total number of frames in the MovieClip. This is the same as number of textures
     * assigned to the MovieClip.
     *
     * @member {number}
     * @memberof PIXI.MovieClip#
     * @default 0
     * @readonly
     */
    totalFrames: {
        get: function()
        {
            return this._textures.length;
        }
    },

    /**
     * The array of textures used for this MovieClip
     *
     * @member {PIXI.Texture[]}
     * @memberof PIXI.MovieClip#
     *
     */
    textures: {
        get: function ()
        {
            return this._textures;
        },
        set: function (value)
        {
            this._textures = value;

            this.texture = this._textures[Math.floor(this._currentTime) % this._textures.length];
        }
    },

    /**
    * The MovieClips current frame index
    *
    * @member {number}
    * @memberof PIXI.MovieClip#
    * @readonly
    */
    currentFrame: {
        get: function ()
        {
            return Math.floor(this._currentTime) % this._textures.length;
        }
    }

});

/**
 * Stops the MovieClip
 *
 */
MovieClip.prototype.stop = function ()
{
    if(!this.playing)
    {
        return;
    }

    this.playing = false;
    core.ticker.shared.remove(this.update, this);
};

/**
 * Plays the MovieClip
 *
 */
MovieClip.prototype.play = function ()
{
    if(this.playing)
    {
        return;
    }

    this.playing = true;
    core.ticker.shared.add(this.update, this);
};

/**
 * Stops the MovieClip and goes to a specific frame
 *
 * @param frameNumber {number} frame index to stop at
 */
MovieClip.prototype.gotoAndStop = function (frameNumber)
{
    this.stop();

    this._currentTime = frameNumber;

    var round = Math.floor(this._currentTime);
    this._texture = this._textures[round % this._textures.length];
};

/**
 * Goes to a specific frame and begins playing the MovieClip
 *
 * @param frameNumber {number} frame index to start at
 */
MovieClip.prototype.gotoAndPlay = function (frameNumber)
{
    this._currentTime = frameNumber;
    this.play();
};

/*
 * Updates the object transform for rendering
 * @private
 */
MovieClip.prototype.update = function (deltaTime)
{

    this._currentTime += this.animationSpeed * deltaTime;

    var floor = Math.floor(this._currentTime);

    if (floor < 0)
    {
        if (this.loop)
        {
            this._texture = this._textures[this._textures.length - 1 + floor % this._textures.length];
        }
        else
        {
            this.gotoAndStop(0);

            if (this.onComplete)
            {
                this.onComplete();
            }
        }
    }
    else if (this.loop || floor < this._textures.length)
    {
        this._texture = this._textures[floor % this._textures.length];
    }
    else if (floor >= this._textures.length)
    {
        this.gotoAndStop(this.textures.length - 1);

        if (this.onComplete)
        {
            this.onComplete();
        }
    }
};

/*
 * Stops the MovieClip and destroys it
 *
 */
MovieClip.prototype.destroy = function ( )
{
    this.stop();
    core.Sprite.prototype.destroy.call(this);
};

/**
 * A short hand way of creating a movieclip from an array of frame ids
 *
 * @static
 * @param frames {string[]} the array of frames ids the movieclip will use as its texture frames
 */
MovieClip.fromFrames = function (frames)
{
    var textures = [];

    for (var i = 0; i < frames.length; ++i)
    {
        textures.push(new core.Texture.fromFrame(frames[i]));
    }

    return new MovieClip(textures);
};

/**
 * A short hand way of creating a movieclip from an array of image ids
 *
 * @static
 * @param images {string[]} the array of image urls the movieclip will use as its texture frames
 */
MovieClip.fromImages = function (images)
{
    var textures = [];

    for (var i = 0; i < images.length; ++i)
    {
        textures.push(new core.Texture.fromImage(images[i]));
    }

    return new MovieClip(textures);
};

},{"../core":29}],81:[function(require,module,exports){
var core = require('../core'),
    // a sprite use dfor rendering textures..
    tempPoint = new core.Point();

/**
 * A tiling sprite is a fast way of rendering a tiling image
 *
 * @class
 * @extends PIXI.Sprite
 * @memberof PIXI.extras
 * @param texture {Texture} the texture of the tiling sprite
 * @param width {number}  the width of the tiling sprite
 * @param height {number} the height of the tiling sprite
 */
function TilingSprite(texture, width, height)
{
    core.Sprite.call(this, texture);

    /**
     * The scaling of the image that is being tiled
     *
     * @member {Point}
     */
    this.tileScale = new core.Point(1,1);


    /**
     * The offset position of the image that is being tiled
     *
     * @member {Point}
     */
    this.tilePosition = new core.Point(0,0);

    ///// private

    /**
     * The with of the tiling sprite
     *
     * @member {number}
     * @private
     */
    this._width = width || 100;

    /**
     * The height of the tiling sprite
     *
     * @member {number}
     * @private
     */
    this._height = height || 100;

    /**
     * An internal WebGL UV cache.
     *
     * @member {TextureUvs}
     * @private
     */
    this._uvs = new core.TextureUvs();

    this._canvasPattern = null;

    //TODO move..
    this.shader = new core.AbstractFilter(

      [
        'precision lowp float;',
        'attribute vec2 aVertexPosition;',
        'attribute vec2 aTextureCoord;',
        'attribute vec4 aColor;',

        'uniform mat3 projectionMatrix;',

        'uniform vec4 uFrame;',
        'uniform vec4 uTransform;',

        'varying vec2 vTextureCoord;',
        'varying vec4 vColor;',

        'void main(void){',
        '   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',

        '   vec2 coord = aTextureCoord;',
        '   coord -= uTransform.xy;',
        '   coord /= uTransform.zw;',
        '   vTextureCoord = coord;',

        '   vColor = vec4(aColor.rgb * aColor.a, aColor.a);',
        '}'
      ].join('\n'),
      [
        'precision lowp float;',

        'varying vec2 vTextureCoord;',
        'varying vec4 vColor;',

        'uniform sampler2D uSampler;',
        'uniform vec4 uFrame;',
        'uniform vec2 uPixelSize;',

        'void main(void){',

        '   vec2 coord = mod(vTextureCoord, uFrame.zw);',
        '   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);',
        '   coord += uFrame.xy;',

        '   gl_FragColor =  texture2D(uSampler, coord) * vColor ;',
        '}'
      ].join('\n'),

            // set the uniforms
            {
                uFrame: { type: '4fv', value: [0,0,1,1] },
                uTransform: { type: '4fv', value: [0,0,1,1] },
                uPixelSize : { type : '2fv', value: [1, 1]}
            }
      );
}

TilingSprite.prototype = Object.create(core.Sprite.prototype);
TilingSprite.prototype.constructor = TilingSprite;
module.exports = TilingSprite;


Object.defineProperties(TilingSprite.prototype, {
    /**
     * The width of the sprite, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof TilingSprite#
     */
    width: {
        get: function ()
        {
            return this._width;
        },
        set: function (value)
        {
            this._width = value;
        }
    },

    /**
     * The height of the TilingSprite, setting this will actually modify the scale to achieve the value set
     *
     * @member {number}
     * @memberof TilingSprite#
     */
    height: {
        get: function ()
        {
            return this._height;
        },
        set: function (value)
        {
            this._height = value;
        }
    }
});

TilingSprite.prototype._onTextureUpdate = function ()
{
    return;
};


/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer}
 * @private
 */
TilingSprite.prototype._renderWebGL = function (renderer)
{
    // tweak our texture temporarily..
    var texture = this._texture;

    if(!texture || !texture._uvs)
    {
        return;
    }

    var tempUvs = texture._uvs,
        tempWidth = texture._frame.width,
        tempHeight = texture._frame.height,
        tw = texture.baseTexture.width,
        th = texture.baseTexture.height;

    texture._uvs = this._uvs;
    texture._frame.width = this.width;
    texture._frame.height = this.height;

    this.shader.uniforms.uPixelSize.value[0] = 1.0/tw;
    this.shader.uniforms.uPixelSize.value[1] = 1.0/th;

    this.shader.uniforms.uFrame.value[0] = tempUvs.x0;
    this.shader.uniforms.uFrame.value[1] = tempUvs.y0;
    this.shader.uniforms.uFrame.value[2] = tempUvs.x1 - tempUvs.x0;
    this.shader.uniforms.uFrame.value[3] = tempUvs.y2 - tempUvs.y0;

    this.shader.uniforms.uTransform.value[0] = (this.tilePosition.x % (tempWidth * this.tileScale.x)) / this._width;
    this.shader.uniforms.uTransform.value[1] = (this.tilePosition.y % (tempHeight * this.tileScale.y)) / this._height;
    this.shader.uniforms.uTransform.value[2] = ( tw / this._width ) * this.tileScale.x;
    this.shader.uniforms.uTransform.value[3] = ( th / this._height ) * this.tileScale.y;

    renderer.setObjectRenderer(renderer.plugins.sprite);
    renderer.plugins.sprite.render(this);

    texture._uvs = tempUvs;
    texture._frame.width = tempWidth;
    texture._frame.height = tempHeight;
};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer} a reference to the canvas renderer
 * @private
 */
TilingSprite.prototype._renderCanvas = function (renderer)
{
    var texture = this._texture;

    if (!texture.baseTexture.hasLoaded)
    {
      return;
    }

    var context = renderer.context,
        transform = this.worldTransform,
        resolution = renderer.resolution,
        baseTexture = texture.baseTexture,
        modX = this.tilePosition.x % (texture._frame.width * this.tileScale.x),
        modY = this.tilePosition.y % (texture._frame.height * this.tileScale.y);

    // create a nice shiny pattern!
    // TODO this needs to be refreshed if texture changes..
    if(!this._canvasPattern)
    {
        // cut an object from a spritesheet..
        var tempCanvas = new core.CanvasBuffer(texture._frame.width, texture._frame.height);
        tempCanvas.context.drawImage(baseTexture.source, -texture._frame.x,-texture._frame.y);
        this._canvasPattern = tempCanvas.context.createPattern( tempCanvas.canvas, 'repeat' );
    }

    // set context state..
    context.globalAlpha = this.worldAlpha;
    context.setTransform(transform.a * resolution,
                       transform.b * resolution,
                       transform.c * resolution,
                       transform.d * resolution,
                       transform.tx * resolution,
                       transform.ty * resolution);

    // TODO - this should be rolled into the setTransform above..
    context.scale(this.tileScale.x,this.tileScale.y);


    context.translate(modX + (this.anchor.x * -this._width ),
                      modY + (this.anchor.y * -this._height));

    // check blend mode
    if (this.blendMode !== renderer.currentBlendMode)
    {
        renderer.currentBlendMode = this.blendMode;
        context.globalCompositeOperation = renderer.blendModes[renderer.currentBlendMode];
    }

    // fill the pattern!
    context.fillStyle = this._canvasPattern;
    context.fillRect(-modX,
                     -modY,
                     this._width / this.tileScale.x,
                     this._height / this.tileScale.y);


    //TODO - pretty sure this can be deleted...
    //context.translate(-this.tilePosition.x + (this.anchor.x * this._width), -this.tilePosition.y + (this.anchor.y * this._height));
    //context.scale(1 / this.tileScale.x, 1 / this.tileScale.y);
};


/**
 * Returns the framing rectangle of the sprite as a Rectangle object
*
 * @return {Rectangle} the framing rectangle
 */
TilingSprite.prototype.getBounds = function ()
{
    var width = this._width;
    var height = this._height;

    var w0 = width * (1-this.anchor.x);
    var w1 = width * -this.anchor.x;

    var h0 = height * (1-this.anchor.y);
    var h1 = height * -this.anchor.y;

    var worldTransform = this.worldTransform;

    var a = worldTransform.a;
    var b = worldTransform.b;
    var c = worldTransform.c;
    var d = worldTransform.d;
    var tx = worldTransform.tx;
    var ty = worldTransform.ty;

    var x1 = a * w1 + c * h1 + tx;
    var y1 = d * h1 + b * w1 + ty;

    var x2 = a * w0 + c * h1 + tx;
    var y2 = d * h1 + b * w0 + ty;

    var x3 = a * w0 + c * h0 + tx;
    var y3 = d * h0 + b * w0 + ty;

    var x4 =  a * w1 + c * h0 + tx;
    var y4 =  d * h0 + b * w1 + ty;

    var minX,
        maxX,
        minY,
        maxY;

    minX = x1;
    minX = x2 < minX ? x2 : minX;
    minX = x3 < minX ? x3 : minX;
    minX = x4 < minX ? x4 : minX;

    minY = y1;
    minY = y2 < minY ? y2 : minY;
    minY = y3 < minY ? y3 : minY;
    minY = y4 < minY ? y4 : minY;

    maxX = x1;
    maxX = x2 > maxX ? x2 : maxX;
    maxX = x3 > maxX ? x3 : maxX;
    maxX = x4 > maxX ? x4 : maxX;

    maxY = y1;
    maxY = y2 > maxY ? y2 : maxY;
    maxY = y3 > maxY ? y3 : maxY;
    maxY = y4 > maxY ? y4 : maxY;

    var bounds = this._bounds;

    bounds.x = minX;
    bounds.width = maxX - minX;

    bounds.y = minY;
    bounds.height = maxY - minY;

    // store a reference so that if this function gets called again in the render cycle we do not have to recalculate
    this._currentBounds = bounds;

    return bounds;
};

/**
 * Checks if a point is inside this tiling sprite
 * @param point {Point} the point to check
 */
TilingSprite.prototype.containsPoint = function( point )
{
    this.worldTransform.applyInverse(point,  tempPoint);

    var width = this._width;
    var height = this._height;
    var x1 = -width * this.anchor.x;
    var y1;

    if ( tempPoint.x > x1 && tempPoint.x < x1 + width )
    {
        y1 = -height * this.anchor.y;

        if ( tempPoint.y > y1 && tempPoint.y < y1 + height )
        {
            return true;
        }
    }

    return false;
};

/**
 * Destroys this tiling sprite
 *
 */
TilingSprite.prototype.destroy = function () {
    core.Sprite.prototype.destroy.call(this);

    this.tileScale = null;
    this._tileScaleOffset = null;
    this.tilePosition = null;

    this._uvs = null;
};

/**
 * Helper function that creates a tiling sprite that will use a texture from the TextureCache based on the frameId
 * The frame ids are created when a Texture packer file has been loaded
 *
 * @static
 * @param frameId {String} The frame Id of the texture in the cache
 * @return {TilingSprite} A new TilingSprite using a texture from the texture cache matching the frameId
 * @param width {number}  the width of the tiling sprite
 * @param height {number} the height of the tiling sprite
 */
TilingSprite.fromFrame = function (frameId,width,height)
{
    var texture = core.utils.TextureCache[frameId];

    if (!texture)
    {
        throw new Error('The frameId "' + frameId + '" does not exist in the texture cache ' + this);
    }

    return new TilingSprite(texture,width,height);
};

/**
 * Helper function that creates a sprite that will contain a texture based on an image url
 * If the image is not in the texture cache it will be loaded
 *
 * @static
 * @param imageId {String} The image url of the texture
 * @param width {number}  the width of the tiling sprite
 * @param height {number} the height of the tiling sprite
 * @param [crossorigin=(auto)] {boolean} if you want to specify the cross-origin parameter
 * @param [scaleMode=scaleModes.DEFAULT] {number} if you want to specify the scale mode, see {@link SCALE_MODES} for possible values
 * @return {TilingSprite} A new TilingSprite using a texture from the texture cache matching the image id
 */
TilingSprite.fromImage = function (imageId, width, height, crossorigin, scaleMode)
{
    return new TilingSprite(core.Texture.fromImage(imageId, crossorigin, scaleMode),width,height);
};

},{"../core":29}],82:[function(require,module,exports){
var core = require('../core'),
    DisplayObject = core.DisplayObject,
    _tempMatrix = new core.Matrix();

DisplayObject.prototype._cacheAsBitmap = false;
DisplayObject.prototype._originalRenderWebGL = null;
DisplayObject.prototype._originalRenderCanvas = null;

DisplayObject.prototype._originalUpdateTransform = null;
DisplayObject.prototype._originalHitTest = null;
DisplayObject.prototype._originalDestroy = null;
DisplayObject.prototype._cachedSprite = null;

Object.defineProperties(DisplayObject.prototype, {

    /**
     * Set this to true if you want this display object to be cached as a bitmap.
     * This basically takes a snap shot of the display object as it is at that moment. It can provide a performance benefit for complex static displayObjects.
     * To remove simply set this property to 'null'
     *
     * @member {boolean}
     * @memberof DisplayObject#
     */
    cacheAsBitmap: {
        get: function ()
        {
            return this._cacheAsBitmap;
        },
        set: function (value)
        {
            if (this._cacheAsBitmap === value)
            {
                return;
            }

            this._cacheAsBitmap = value;

            if (value)
            {
                this._originalRenderWebGL = this.renderWebGL;
                this._originalRenderCanvas = this.renderCanvas;

                this._originalUpdateTransform = this.updateTransform;
                this._originalGetBounds = this.getBounds;

                this._originalDestroy = this.destroy;

                this._originalContainsPoint = this.containsPoint;

                this.renderWebGL = this._renderCachedWebGL;
                this.renderCanvas = this._renderCachedCanvas;

                this.destroy = this._cacheAsBitmapDestroy;

            }
            else
            {
                if (this._cachedSprite)
                {
                    this._destroyCachedDisplayObject();
                }

                this.renderWebGL = this._originalRenderWebGL;
                this.renderCanvas = this._originalRenderCanvas;
                this.getBounds = this._originalGetBounds;

                this.destroy = this._originalDestroy;

                this.updateTransform = this._originalUpdateTransform;
                this.containsPoint = this._originalContainsPoint;
            }
        }
    }
});
/**
* Renders a cached version of the sprite with WebGL
*
* @param renderer {WebGLRenderer} the WebGL renderer
* @private
*/
DisplayObject.prototype._renderCachedWebGL = function (renderer)
{
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable)
    {
        return;
    }

    this._initCachedDisplayObject( renderer );

    this._cachedSprite.worldAlpha = this.worldAlpha;

    renderer.setObjectRenderer(renderer.plugins.sprite);
    renderer.plugins.sprite.render( this._cachedSprite );
};

/**
* Prepares the WebGL renderer to cache the sprite
*
* @param renderer {WebGLRenderer} the WebGL renderer
* @private
*/
DisplayObject.prototype._initCachedDisplayObject = function (renderer)
{
    if(this._cachedSprite)
    {
        return;
    }

    // first we flush anything left in the renderer (otherwise it would get rendered to the cached texture)
    renderer.currentRenderer.flush();
    //this.filters= [];
    // next we find the dimensions of the untransformed object
    // this function also calls updatetransform on all its children as part of the measuring. This means we don't need to update the transform again in this function
    // TODO pass an object to clone too? saves having to create a new one each time!
    var bounds = this.getLocalBounds().clone();

    // add some padding!
    if(this._filters)
    {
        var padding = this._filters[0].padding;
        bounds.x -= padding;
        bounds.y -= padding;

        bounds.width += padding * 2;
        bounds.height += padding * 2;
    }

    // for now we cache the current renderTarget that the webGL renderer is currently using.
    // this could be more elegent..
    var cachedRenderTarget = renderer.currentRenderTarget;
    // We also store the filter stack - I will definitely look to change how this works a little later down the line.
    var stack = renderer.filterManager.filterStack;

    // this renderTexture will be used to store the cached DisplayObject
    var renderTexture = new core.RenderTexture(renderer, bounds.width | 0, bounds.height | 0);

    // need to set //
    var m = _tempMatrix;

    m.tx = -bounds.x;
    m.ty = -bounds.y;



    // set all properties to there original so we can render to a texture
    this.renderWebGL = this._originalRenderWebGL;

    renderTexture.render(this, m, true, true);

    // now restore the state be setting the new properties
    renderer.setRenderTarget(cachedRenderTarget);
    renderer.filterManager.filterStack = stack;

    this.renderWebGL     = this._renderCachedWebGL;
    this.updateTransform = this.displayObjectUpdateTransform;
    this.getBounds       = this._getCachedBounds;


    // create our cached sprite
    this._cachedSprite = new core.Sprite(renderTexture);
    this._cachedSprite.worldTransform = this.worldTransform;
    this._cachedSprite.anchor.x = -( bounds.x / bounds.width );
    this._cachedSprite.anchor.y = -( bounds.y / bounds.height );

    // restore the transform of the cached sprite to avoid the nasty flicker..
    this.updateTransform();

    // map the hit test..
    this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite);
};

/**
* Renders a cached version of the sprite with canvas
*
* @param renderer {CanvasRenderer} the Canvas renderer
* @private
*/
DisplayObject.prototype._renderCachedCanvas = function (renderer)
{
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable)
    {
        return;
    }
    
    this._initCachedDisplayObjectCanvas( renderer );

    this._cachedSprite.worldAlpha = this.worldAlpha;

    this._cachedSprite.renderCanvas(renderer);
};

//TODO this can be the same as the webGL verison.. will need to do a little tweaking first though..
/**
* Prepares the Canvas renderer to cache the sprite
*
* @param renderer {CanvasRenderer} the Canvas renderer
* @private
*/
DisplayObject.prototype._initCachedDisplayObjectCanvas = function (renderer)
{
    if(this._cachedSprite)
    {
        return;
    }

    //get bounds actually transforms the object for us already!
    var bounds = this.getLocalBounds();

    var cachedRenderTarget = renderer.context;

    var renderTexture = new core.RenderTexture(renderer, bounds.width | 0, bounds.height | 0);

    // need to set //
    var m = _tempMatrix;

    m.tx = -bounds.x;
    m.ty = -bounds.y;

    // set all properties to there original so we can render to a texture
    this.renderCanvas = this._originalRenderCanvas;

    renderTexture.render(this, m, true);

    // now restore the state be setting the new properties
    renderer.context = cachedRenderTarget;

    this.renderCanvas = this._renderCachedCanvas;
    this.updateTransform = this.displayObjectUpdateTransform;
    this.getBounds  = this._getCachedBounds;


    // create our cached sprite
    this._cachedSprite = new core.Sprite(renderTexture);
    this._cachedSprite.worldTransform = this.worldTransform;
    this._cachedSprite.anchor.x = -( bounds.x / bounds.width );
    this._cachedSprite.anchor.y = -( bounds.y / bounds.height );

    this.updateTransform();

    this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite);
};

/**
* Calculates the bounds of the cached sprite
*
* @private
*/
DisplayObject.prototype._getCachedBounds = function ()
{
    this._cachedSprite._currentBounds = null;

    return this._cachedSprite.getBounds();
};

/**
* Destroys the cached sprite.
*
* @private
*/
DisplayObject.prototype._destroyCachedDisplayObject = function ()
{
    this._cachedSprite._texture.destroy();
    this._cachedSprite = null;
};

DisplayObject.prototype._cacheAsBitmapDestroy = function ()
{
    this.cacheAsBitmap = false;
    this._originalDestroy();
};

},{"../core":29}],83:[function(require,module,exports){
var core = require('../core');

/**
 * The instance name of the object.
 *
 * @member {string}
 */
core.DisplayObject.prototype.name = null;

/**
* Returns the display object in the container
*
* @param name {string} instance name
* @return {DisplayObject}
*/
core.Container.prototype.getChildByName = function (name)
{
    for (var i = 0; i < this.children.length; i++) 
    {
        if (this.children[i].name === name) 
        {
            return this.children[i];
        }
    }
    return null;
};

},{"../core":29}],84:[function(require,module,exports){
var core = require('../core');

/**
* Returns the global position of the displayObject
*
* @param point {Point} the point to write the global value to. If null a new point will be returned
* @return {Point}
*/
core.DisplayObject.prototype.getGlobalPosition = function (point)
{
    point = point || new core.Point();

    if(this.parent)
    {
        this.displayObjectUpdateTransform();

        point.x = this.worldTransform.tx;
        point.y = this.worldTransform.ty;
    }
    else
    {
        point.x = this.position.x;
        point.y = this.position.y;
    }

    return point;
};

},{"../core":29}],85:[function(require,module,exports){
/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

require('./cacheAsBitmap');
require('./getChildByName');
require('./getGlobalPosition');

/**
 * @namespace PIXI.extras
 */
module.exports = {
    MovieClip:      require('./MovieClip'),
    TilingSprite:   require('./TilingSprite'),
    BitmapText:     require('./BitmapText')
};

},{"./BitmapText":79,"./MovieClip":80,"./TilingSprite":81,"./cacheAsBitmap":82,"./getChildByName":83,"./getGlobalPosition":84}],86:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


// TODO (cengler) - The Y is flipped in this shader for some reason.

/**
 * @author Vico @vicocotea
 * original shader : https://www.shadertoy.com/view/lssGDj by @movAX13h
 */

/**
 * An ASCII filter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function AsciiFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",
        // custom uniforms
        {
            dimensions: { type: '4fv', value: new Float32Array([0, 0, 0, 0]) },
            pixelSize:  { type: '1f', value: 8 }
        }
    );
}

AsciiFilter.prototype = Object.create(core.AbstractFilter.prototype);
AsciiFilter.prototype.constructor = AsciiFilter;
module.exports = AsciiFilter;

Object.defineProperties(AsciiFilter.prototype, {
    /**
     * The pixel size used by the filter.
     *
     * @member {number}
     * @memberof AsciiFilter#
     */
    size: {
        get: function ()
        {
            return this.uniforms.pixelSize.value;
        },
        set: function (value)
        {
            this.uniforms.pixelSize.value = value;
        }
    }
});

},{"../../core":29}],87:[function(require,module,exports){
var core = require('../../core'),
    BlurXFilter = require('../blur/BlurXFilter'),
    BlurYFilter = require('../blur/BlurYFilter');

/**
 * The BloomFilter applies a Gaussian blur to an object.
 * The strength of the blur can be set for x- and y-axis separately.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BloomFilter()
{
    core.AbstractFilter.call(this);

    this.blurXFilter = new BlurXFilter();
    this.blurYFilter = new BlurYFilter();

    this.defaultFilter = new core.AbstractFilter();
}

BloomFilter.prototype = Object.create(core.AbstractFilter.prototype);
BloomFilter.prototype.constructor = BloomFilter;
module.exports = BloomFilter;

BloomFilter.prototype.applyFilter = function (renderer, input, output)
{
    var renderTarget = renderer.filterManager.getRenderTarget(true);

    //TODO - copyTexSubImage2D could be used here?
    this.defaultFilter.applyFilter(renderer, input, output);

    this.blurXFilter.applyFilter(renderer, input, renderTarget);

    renderer.blendModeManager.setBlendMode(core.BLEND_MODES.SCREEN);

    this.blurYFilter.applyFilter(renderer, renderTarget, output);

    renderer.blendModeManager.setBlendMode(core.BLEND_MODES.NORMAL);

    renderer.filterManager.returnRenderTarget(renderTarget);
};

Object.defineProperties(BloomFilter.prototype, {
    /**
     * Sets the strength of both the blurX and blurY properties simultaneously
     *
     * @member {number}
     * @memberOf BloomFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.blurXFilter.blur = this.blurYFilter.blur = value;
        }
    },

    /**
     * Sets the strength of the blurX property
     *
     * @member {number}
     * @memberOf BloomFilter#
     * @default 2
     */
    blurX: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.blurXFilter.blur = value;
        }
    },

    /**
     * Sets the strength of the blurY property
     *
     * @member {number}
     * @memberOf BloomFilter#
     * @default 2
     */
    blurY: {
        get: function ()
        {
            return this.blurYFilter.blur;
        },
        set: function (value)
        {
            this.blurYFilter.blur = value;
        }
    }
});

},{"../../core":29,"../blur/BlurXFilter":90,"../blur/BlurYFilter":91}],88:[function(require,module,exports){
var core = require('../../core');


/**
 * The BlurDirFilter applies a Gaussian blur toward a direction to an object.
 *
 * @class
 * @param {number} dirX
 * @param {number} dirY
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BlurDirFilter(dirX, dirY)
{
    core.AbstractFilter.call(this,
        // vertex shader
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",
        // set the uniforms
        {
            strength: { type: '1f', value: 1 },
            dirX: { type: '1f', value: dirX || 0 },
            dirY: { type: '1f', value: dirY || 0 }
        }
    );

    this.defaultFilter = new core.AbstractFilter();

    /**
     * Sets the number of passes for blur. More passes means higher quaility bluring.
     *
     * @member {number}
     * @memberof BlurDirFilter#
     * @default 1
     */
    this.passes = 1;

    /**
     * Sets the X direction of the blur
     *
     * @member {number}
     * @memberof BlurDirFilter#
     * @default 0
     */
    this.dirX = dirX || 0;

    /**
     * Sets the Y direction of the blur
     *
     * @member {number}
     * @memberof BlurDirFilter#
     * @default 0
     */
    this.dirY = dirY || 0;

    this.strength = 4;
}

BlurDirFilter.prototype = Object.create(core.AbstractFilter.prototype);
BlurDirFilter.prototype.constructor = BlurDirFilter;
module.exports = BlurDirFilter;

BlurDirFilter.prototype.applyFilter = function (renderer, input, output, clear) {

    var shader = this.getShader(renderer);

    this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width);

    if (this.passes === 1) {
        renderer.filterManager.applyFilter(shader, input, output, clear);
    } else {
        var renderTarget = renderer.filterManager.getRenderTarget(true);

        renderer.filterManager.applyFilter(shader, input, renderTarget, clear);

        for(var i = 0; i < this.passes-2; i++)
        {
            //this.uniforms.strength.value = this.strength / 4 / (this.passes+(i*2)) * (input.frame.width / input.size.width);
            renderer.filterManager.applyFilter(shader, renderTarget, renderTarget, clear);
        }

        renderer.filterManager.applyFilter(shader, renderTarget, output, clear);

        renderer.filterManager.returnRenderTarget(renderTarget);
    }
};


Object.defineProperties(BlurDirFilter.prototype, {
    /**
     * Sets the strength of both the blur.
     *
     * @member {number}
     * @memberof BlurDirFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return this.strength;
        },
        set: function (value)
        {
            this.padding = value * 0.5;
            this.strength = value;
        }
    },
    /**
     * Sets the X direction of the blur.
     *
     * @member {number}
     * @memberof BlurYFilter#
     * @default 0
     */
    dirX: {
        get: function ()
        {
            return this.dirX;
        },
        set: function (value)
        {
            this.uniforms.dirX.value = value;
        }
    },
    /**
     * Sets the Y direction of the blur.
     *
     * @member {number}
     * @memberof BlurDirFilter#
     * @default 0
     */
    dirY: {
        get: function ()
        {
            return this.dirY;
        },
        set: function (value)
        {
            this.uniforms.dirY.value = value;
        }
    }
});

},{"../../core":29}],89:[function(require,module,exports){
var core = require('../../core'),
    BlurXFilter = require('./BlurXFilter'),
    BlurYFilter = require('./BlurYFilter');

/**
 * The BlurFilter applies a Gaussian blur to an object.
 * The strength of the blur can be set for x- and y-axis separately.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BlurFilter()
{
    core.AbstractFilter.call(this);

    this.blurXFilter = new BlurXFilter();
    this.blurYFilter = new BlurYFilter();
}

BlurFilter.prototype = Object.create(core.AbstractFilter.prototype);
BlurFilter.prototype.constructor = BlurFilter;
module.exports = BlurFilter;

BlurFilter.prototype.applyFilter = function (renderer, input, output)
{
    var renderTarget = renderer.filterManager.getRenderTarget(true);

    this.blurXFilter.applyFilter(renderer, input, renderTarget);
    this.blurYFilter.applyFilter(renderer, renderTarget, output);

    renderer.filterManager.returnRenderTarget(renderTarget);
};

Object.defineProperties(BlurFilter.prototype, {
    /**
     * Sets the strength of both the blurX and blurY properties simultaneously
     *
     * @member {number}
     * @memberOf BlurFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.padding = Math.abs(value) * 0.5;
            this.blurXFilter.blur = this.blurYFilter.blur = value;
        }
    },

    /**
     * Sets the number of passes for blur. More passes means higher quaility bluring.
     *
     * @member {number}
     * @memberof BlurYFilter#
     * @default 1
     */
    passes: {
        get: function ()
        {
            return  this.blurXFilter.passes;
        },
        set: function (value)
        {
            this.blurXFilter.passes = this.blurYFilter.passes = value;
        }
    },

    /**
     * Sets the strength of the blurX property
     *
     * @member {number}
     * @memberOf BlurFilter#
     * @default 2
     */
    blurX: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.blurXFilter.blur = value;
        }
    },

    /**
     * Sets the strength of the blurY property
     *
     * @member {number}
     * @memberOf BlurFilter#
     * @default 2
     */
    blurY: {
        get: function ()
        {
            return this.blurYFilter.blur;
        },
        set: function (value)
        {
            this.blurYFilter.blur = value;
        }
    }
});

},{"../../core":29,"./BlurXFilter":90,"./BlurYFilter":91}],90:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The BlurXFilter applies a horizontal Gaussian blur to an object.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BlurXFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
        // set the uniforms
        {
            strength: { type: '1f', value: 1 }
        }
    );

    /**
     * Sets the number of passes for blur. More passes means higher quaility bluring.
     *
     * @member {number}
     * @memberof BlurXFilter#
     * @default 1
     */
    this.passes = 1;

    this.strength = 4;
}

BlurXFilter.prototype = Object.create(core.AbstractFilter.prototype);
BlurXFilter.prototype.constructor = BlurXFilter;
module.exports = BlurXFilter;

BlurXFilter.prototype.applyFilter = function (renderer, input, output, clear)
{
    var shader = this.getShader(renderer);

    this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width);

    if(this.passes === 1)
    {
        renderer.filterManager.applyFilter(shader, input, output, clear);
    }
    else
    {
        var renderTarget = renderer.filterManager.getRenderTarget(true);
        var flip = input;
        var flop = renderTarget;

        for(var i = 0; i < this.passes-1; i++)
        {
            renderer.filterManager.applyFilter(shader, flip, flop, true);

           var temp = flop;
           flop = flip;
           flip = temp;
        }

        renderer.filterManager.applyFilter(shader, flip, output, clear);

        renderer.filterManager.returnRenderTarget(renderTarget);
    }
};


Object.defineProperties(BlurXFilter.prototype, {
    /**
     * Sets the strength of both the blur.
     *
     * @member {number}
     * @memberof BlurXFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return  this.strength;
        },
        set: function (value)
        {
            this.padding =  Math.abs(value) * 0.5;
            this.strength = value;
        }
    }
});

},{"../../core":29}],91:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The BlurYFilter applies a horizontal Gaussian blur to an object.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BlurYFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
        // set the uniforms
        {
            strength: { type: '1f', value: 1 }
        }
    );

    this.passes = 1;
    this.strength = 4;
}

BlurYFilter.prototype = Object.create(core.AbstractFilter.prototype);
BlurYFilter.prototype.constructor = BlurYFilter;
module.exports = BlurYFilter;

BlurYFilter.prototype.applyFilter = function (renderer, input, output, clear)
{
    var shader = this.getShader(renderer);

    this.uniforms.strength.value = Math.abs(this.strength) / 4 / this.passes * (input.frame.height / input.size.height);

    if(this.passes === 1)
    {
        renderer.filterManager.applyFilter(shader, input, output, clear);
    }
    else
    {
        var renderTarget = renderer.filterManager.getRenderTarget(true);
        var flip = input;
        var flop = renderTarget;

        for(var i = 0; i < this.passes-1; i++)
        {
            renderer.filterManager.applyFilter(shader, flip, flop, true);

           var temp = flop;
           flop = flip;
           flip = temp;
        }

        renderer.filterManager.applyFilter(shader, flip, output, clear);

        renderer.filterManager.returnRenderTarget(renderTarget);
    }
};


Object.defineProperties(BlurYFilter.prototype, {
    /**
     * Sets the strength of both the blur.
     *
     * @member {number}
     * @memberof BlurYFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return  this.strength;
        },
        set: function (value)
        {
            this.padding = Math.abs(value) * 0.5;
            this.strength = value;
        }
    }
});

},{"../../core":29}],92:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * A Smart Blur Filter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function SmartBlurFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
        // uniforms
        {
          delta: { type: 'v2', value: { x: 0.1, y: 0.0 } }
        }
    );
}

SmartBlurFilter.prototype = Object.create(core.AbstractFilter.prototype);
SmartBlurFilter.prototype.constructor = SmartBlurFilter;
module.exports = SmartBlurFilter;

},{"../../core":29}],93:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The ColorMatrixFilter class lets you apply a 5x4 matrix transformation on the RGBA
 * color and alpha values of every pixel on your displayObject to produce a result
 * with a new set of RGBA color and alpha values. It's pretty powerful!
 *
 * ```js
 *  var colorMatrix = new PIXI.ColorMatrixFilter();
 *  container.filters = [colorMatrix];
 *  colorMatrix.contrast(2);
 * ```
 * @author Clément Chenebault <clement@goodboydigital.com>
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function ColorMatrixFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",
        // custom uniforms
        {
            m: {
                type: '1fv', value: [
                    1, 0, 0, 0, 0,
                    0, 1, 0, 0, 0,
                    0, 0, 1, 0, 0,
                    0, 0, 0, 1, 0
                ]
            }
        }
    );
}

ColorMatrixFilter.prototype = Object.create(core.AbstractFilter.prototype);
ColorMatrixFilter.prototype.constructor = ColorMatrixFilter;
module.exports = ColorMatrixFilter;


/**
 * Transforms current matrix and set the new one
 *
 * @param matrix {number[]} (mat 5x4)
 * @param multiply {boolean} if true, current matrix and matrix are multiplied. If false, just set the current matrix with @param matrix
 */
ColorMatrixFilter.prototype._loadMatrix = function (matrix, multiply)
{
    multiply = !!multiply;

    var newMatrix = matrix;

    if (multiply) {
        this._multiply(newMatrix, this.uniforms.m.value, matrix);
        newMatrix = this._colorMatrix(newMatrix);
    }

    // set the new matrix
    this.uniforms.m.value = newMatrix;
};

/**
 * Multiplies two mat5's
 *
 * @param out {array} (mat 5x4) the receiving matrix
 * @param a {array} (mat 5x4) the first operand
 * @param b {array} (mat 5x4) the second operand
 * @returns out {array} (mat 5x4)
 */
ColorMatrixFilter.prototype._multiply = function (out, a, b)
{

    // Red Channel
    out[0] = (a[0] * b[0]) + (a[1] * b[5]) + (a[2] * b[10]) + (a[3] * b[15]);
    out[1] = (a[0] * b[1]) + (a[1] * b[6]) + (a[2] * b[11]) + (a[3] * b[16]);
    out[2] = (a[0] * b[2]) + (a[1] * b[7]) + (a[2] * b[12]) + (a[3] * b[17]);
    out[3] = (a[0] * b[3]) + (a[1] * b[8]) + (a[2] * b[13]) + (a[3] * b[18]);
    out[4] = (a[0] * b[4]) + (a[1] * b[9]) + (a[2] * b[14]) + (a[3] * b[19]);

    // Green Channel
    out[5] = (a[5] * b[0]) + (a[6] * b[5]) + (a[7] * b[10]) + (a[8] * b[15]);
    out[6] = (a[5] * b[1]) + (a[6] * b[6]) + (a[7] * b[11]) + (a[8] * b[16]);
    out[7] = (a[5] * b[2]) + (a[6] * b[7]) + (a[7] * b[12]) + (a[8] * b[17]);
    out[8] = (a[5] * b[3]) + (a[6] * b[8]) + (a[7] * b[13]) + (a[8] * b[18]);
    out[9] = (a[5] * b[4]) + (a[6] * b[9]) + (a[7] * b[14]) + (a[8] * b[19]);

    // Blue Channel
    out[10] = (a[10] * b[0]) + (a[11] * b[5]) + (a[12] * b[10]) + (a[13] * b[15]);
    out[11] = (a[10] * b[1]) + (a[11] * b[6]) + (a[12] * b[11]) + (a[13] * b[16]);
    out[12] = (a[10] * b[2]) + (a[11] * b[7]) + (a[12] * b[12]) + (a[13] * b[17]);
    out[13] = (a[10] * b[3]) + (a[11] * b[8]) + (a[12] * b[13]) + (a[13] * b[18]);
    out[14] = (a[10] * b[4]) + (a[11] * b[9]) + (a[12] * b[14]) + (a[13] * b[19]);

    // Alpha Channel
    out[15] = (a[15] * b[0]) + (a[16] * b[5]) + (a[17] * b[10]) + (a[18] * b[15]);
    out[16] = (a[15] * b[1]) + (a[16] * b[6]) + (a[17] * b[11]) + (a[18] * b[16]);
    out[17] = (a[15] * b[2]) + (a[16] * b[7]) + (a[17] * b[12]) + (a[18] * b[17]);
    out[18] = (a[15] * b[3]) + (a[16] * b[8]) + (a[17] * b[13]) + (a[18] * b[18]);
    out[19] = (a[15] * b[4]) + (a[16] * b[9]) + (a[17] * b[14]) + (a[18] * b[19]);

    return out;
};

/**
 * Create a Float32 Array and normalize the offset component to 0-1
 *
 * @param matrix {number[]} (mat 5x4)
 * @return m {number[]} (mat 5x4) with all values between 0-1
 */
ColorMatrixFilter.prototype._colorMatrix = function (matrix)
{
    // Create a Float32 Array and normalize the offset component to 0-1
    var m = new Float32Array(matrix);
    m[4] /= 255;
    m[9] /= 255;
    m[14] /= 255;
    m[19] /= 255;

    return m;
};

/**
 * Adjusts brightness
 *
 * Multiply the current matrix
 * @param b {number} value of the brigthness (0 is black)
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.brightness = function (b, multiply)
{
    var matrix = [
        b, 0, 0, 0, 0,
        0, b, 0, 0, 0,
        0, 0, b, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Set the matrices in grey scales
 *
 * Multiply the current matrix
 * @param scale {number} value of the grey (0 is black)
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.greyscale = function (scale, multiply)
{
    var matrix = [
        scale, scale, scale, 0, 0,
        scale, scale, scale, 0, 0,
        scale, scale, scale, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};
//Americanized alias
ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;

/**
 * Set the black and white matrice
 * Multiply the current matrix
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.blackAndWhite = function (multiply)
{
    var matrix = [
        0.3, 0.6, 0.1, 0, 0,
        0.3, 0.6, 0.1, 0, 0,
        0.3, 0.6, 0.1, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Set the hue property of the color
 *
 * Multiply the current matrix
 * @param rotation {number} in degrees
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.hue = function (rotation, multiply)
{
    rotation = (rotation || 0) / 180 * Math.PI;
    var cos = Math.cos(rotation),
        sin = Math.sin(rotation);

    // luminanceRed, luminanceGreen, luminanceBlue
    var lumR = 0.213, // or 0.3086
        lumG = 0.715, // or 0.6094
        lumB = 0.072; // or 0.0820

    var matrix = [
        lumR + cos * (1 - lumR) + sin * (-lumR), lumG + cos * (-lumG) + sin * (-lumG), lumB + cos * (-lumB) + sin * (1 - lumB), 0, 0,
        lumR + cos * (-lumR) + sin * (0.143), lumG + cos * (1 - lumG) + sin * (0.140), lumB + cos * (-lumB) + sin * (-0.283), 0, 0,
        lumR + cos * (-lumR) + sin * (-(1 - lumR)), lumG + cos * (-lumG) + sin * (lumG), lumB + cos * (1 - lumB) + sin * (lumB), 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};


/**
 * Set the contrast matrix, increase the separation between dark and bright
 * Increase contrast : shadows darker and highlights brighter
 * Decrease contrast : bring the shadows up and the highlights down
 *
 * @param amount {number} value of the contrast
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.contrast = function (amount, multiply)
{
    var v = (amount || 0) + 1;
    var o = -128 * (v - 1);

    var matrix = [
        v, 0, 0, 0, o,
        0, v, 0, 0, o,
        0, 0, v, 0, o,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Set the saturation matrix, increase the separation between colors
 * Increase saturation : increase contrast, brightness, and sharpness
 * @param amount {number}
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.saturate = function (amount, multiply)
{
    var x = (amount || 0) * 2 / 3 + 1;
    var y = ((x - 1) * -0.5);

    var matrix = [
        x, y, y, 0, 0,
        y, x, y, 0, 0,
        y, y, x, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Desaturate image (remove color)
 *
 * Call the saturate function
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.desaturate = function (multiply) // jshint unused:false
{
    this.saturate(-1);
};

/**
 * Negative image (inverse of classic rgb matrix)
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.negative = function (multiply)
{
    var matrix = [
        0, 1, 1, 0, 0,
        1, 0, 1, 0, 0,
        1, 1, 0, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Sepia image
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.sepia = function (multiply)
{
    var matrix = [
        0.393, 0.7689999, 0.18899999, 0, 0,
        0.349, 0.6859999, 0.16799999, 0, 0,
        0.272, 0.5339999, 0.13099999, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Color motion picture process invented in 1916 (thanks Dominic Szablewski)
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.technicolor = function (multiply)
{
    var matrix = [
        1.9125277891456083, -0.8545344976951645, -0.09155508482755585, 0, 11.793603434377337,
        -0.3087833385928097, 1.7658908555458428, -0.10601743074722245, 0, -70.35205161461398,
        -0.231103377548616, -0.7501899197440212, 1.847597816108189, 0, 30.950940869491138,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Polaroid filter
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.polaroid = function (multiply)
{
    var matrix = [
        1.438, -0.062, -0.062, 0, 0,
        -0.122, 1.378, -0.122, 0, 0,
        -0.016, -0.016, 1.483, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Filter who transforms : Red -> Blue and Blue -> Red
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.toBGR = function (multiply)
{
    var matrix = [
        0, 0, 1, 0, 0,
        0, 1, 0, 0, 0,
        1, 0, 0, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Color reversal film introduced by Eastman Kodak in 1935. (thanks Dominic Szablewski)
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.kodachrome = function (multiply)
{
    var matrix = [
        1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0, 63.72958762196502,
        -0.16404339962244616, 1.0835251566291304, -0.05498805115633132, 0, 24.732407896706203,
        -0.16786010706155763, -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/**
 * Brown delicious browni filter (thanks Dominic Szablewski)
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.browni = function (multiply)
{
    var matrix = [
        0.5997023498159715, 0.34553243048391263, -0.2708298674538042, 0, 47.43192855600873,
        -0.037703249837783157, 0.8609577587992641, 0.15059552388459913, 0, -36.96841498319127,
        0.24113635128153335, -0.07441037908422492, 0.44972182064877153, 0, -7.562075277591283,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/*
 * Vintage filter (thanks Dominic Szablewski)
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.vintage = function (multiply)
{
    var matrix = [
        0.6279345635605994, 0.3202183420819367, -0.03965408211312453, 0, 9.651285835294123,
        0.02578397704808868, 0.6441188644374771, 0.03259127616149294, 0, 7.462829176470591,
        0.0466055556782719, -0.0851232987247891, 0.5241648018700465, 0, 5.159190588235296,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/*
 * We don't know exactly what it does, kind of gradient map, but funny to play with!
 *
 * @param desaturation {number}
 * @param toned {number}
 * @param lightColor {string} (example : "0xFFE580")
 * @param darkColor {string}  (example : "0xFFE580")
 *
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.colorTone = function (desaturation, toned, lightColor, darkColor, multiply)
{
    desaturation = desaturation || 0.2;
    toned = toned || 0.15;
    lightColor = lightColor || 0xFFE580;
    darkColor = darkColor || 0x338000;

    var lR = ((lightColor >> 16) & 0xFF) / 255;
    var lG = ((lightColor >> 8) & 0xFF) / 255;
    var lB = (lightColor & 0xFF) / 255;

    var dR = ((darkColor >> 16) & 0xFF) / 255;
    var dG = ((darkColor >> 8) & 0xFF) / 255;
    var dB = (darkColor & 0xFF) / 255;

    var matrix = [
        0.3, 0.59, 0.11, 0, 0,
        lR, lG, lB, desaturation, 0,
        dR, dG, dB, toned, 0,
        lR - dR, lG - dG, lB - dB, 0, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/*
 * Night effect
 *
 * @param intensity {number}
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.night = function (intensity, multiply)
{
    intensity = intensity || 0.1;
    var matrix = [
        intensity * ( -2.0), -intensity, 0, 0, 0,
        -intensity, 0, intensity, 0, 0,
        0, intensity, intensity * 2.0, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};


/*
 * Predator effect
 *
 * Erase the current matrix by setting a new indepent one
 *
 * @param amount {number} how much the predator feels his future victim
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.predator = function (amount, multiply)
{
    var matrix = [
        11.224130630493164 * amount, -4.794486999511719 * amount, -2.8746118545532227 * amount, 0 * amount, 0.40342438220977783 * amount,
        -3.6330697536468506 * amount, 9.193157196044922 * amount, -2.951810836791992 * amount, 0 * amount, -1.316135048866272 * amount,
        -3.2184197902679443 * amount, -4.2375030517578125 * amount, 7.476448059082031 * amount, 0 * amount, 0.8044459223747253 * amount,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/*
 * LSD effect
 *
 * Multiply the current matrix
 *
 * @param amount {number} How crazy is your effect
 * @param multiply {boolean} refer to ._loadMatrix() method
 */
ColorMatrixFilter.prototype.lsd = function (multiply)
{
    var matrix = [
        2, -0.4, 0.5, 0, 0,
        -0.5, 2, -0.4, 0, 0,
        -0.4, -0.5, 3, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, multiply);
};

/*
 * Reset function
 *
 * Erase the current matrix by setting the default one
 *
 */
ColorMatrixFilter.prototype.reset = function ()
{
    var matrix = [
        1, 0, 0, 0, 0,
        0, 1, 0, 0, 0,
        0, 0, 1, 0, 0,
        0, 0, 0, 1, 0
    ];

    this._loadMatrix(matrix, false);
};


Object.defineProperties(ColorMatrixFilter.prototype, {
    /**
     * Sets the matrix of the color matrix filter
     *
     * @member {number[]}
     * @memberof ColorMatrixFilter#
     * @default [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]
     */
    matrix: {
        get: function ()
        {
            return this.uniforms.m.value;
        },
        set: function (value)
        {
            this.uniforms.m.value = value;
        }
    }
});

},{"../../core":29}],94:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This lowers the color depth of your image by the given amount, producing an image with a smaller palette.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function ColorStepFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",
        // custom uniforms
        {
            step: { type: '1f', value: 5 }
        }
    );
}

ColorStepFilter.prototype = Object.create(core.AbstractFilter.prototype);
ColorStepFilter.prototype.constructor = ColorStepFilter;
module.exports = ColorStepFilter;

Object.defineProperties(ColorStepFilter.prototype, {
    /**
     * The number of steps to reduce the palette by.
     *
     * @member {number}
     * @memberof ColorStepFilter#
     */
    step: {
        get: function ()
        {
            return this.uniforms.step.value;
        },
        set: function (value)
        {
            this.uniforms.step.value = value;
        }
    }
});

},{"../../core":29}],95:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The ConvolutionFilter class applies a matrix convolution filter effect.
 * A convolution combines pixels in the input image with neighboring pixels to produce a new image.
 * A wide variety of image effects can be achieved through convolutions, including blurring, edge
 * detection, sharpening, embossing, and beveling. The matrix should be specified as a 9 point Array.
 * See http://docs.gimp.org/en/plug-in-convmatrix.html for more info.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 * @param matrix {number[]} An array of values used for matrix transformation. Specified as a 9 point Array.
 * @param width {number} Width of the object you are transforming
 * @param height {number} Height of the object you are transforming
 */
function ConvolutionFilter(matrix, width, height)
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",
        // custom uniforms
        {
            matrix:     { type: '1fv', value: new Float32Array(matrix) },
            texelSize:  { type: 'v2', value: { x: 1 / width, y: 1 / height } }
        }
    );
}

ConvolutionFilter.prototype = Object.create(core.AbstractFilter.prototype);
ConvolutionFilter.prototype.constructor = ConvolutionFilter;
module.exports = ConvolutionFilter;

Object.defineProperties(ConvolutionFilter.prototype, {
    /**
     * An array of values used for matrix transformation. Specified as a 9 point Array.
     *
     * @member {number[]}
     * @memberof ConvolutionFilter#
     */
    matrix: {
        get: function ()
        {
            return this.uniforms.matrix.value;
        },
        set: function (value)
        {
            this.uniforms.matrix.value = new Float32Array(value);
        }
    },

    /**
     * Width of the object you are transforming
     *
     * @member {number}
     * @memberof ConvolutionFilter#
     */
    width: {
        get: function ()
        {
            return 1/this.uniforms.texelSize.value.x;
        },
        set: function (value)
        {
            this.uniforms.texelSize.value.x = 1/value;
        }
    },

    /**
     * Height of the object you are transforming
     *
     * @member {number}
     * @memberof ConvolutionFilter#
     */
    height: {
        get: function ()
        {
            return 1/this.uniforms.texelSize.value.y;
        },
        set: function (value)
        {
            this.uniforms.texelSize.value.y = 1/value;
        }
    }
});

},{"../../core":29}],96:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * A Cross Hatch effect filter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function CrossHatchFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n"
    );
}

CrossHatchFilter.prototype = Object.create(core.AbstractFilter.prototype);
CrossHatchFilter.prototype.constructor = CrossHatchFilter;
module.exports = CrossHatchFilter;

},{"../../core":29}],97:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The DisplacementFilter class uses the pixel values from the specified texture (called the displacement map) to perform a displacement of an object.
 * You can use this filter to apply all manor of crazy warping effects
 * Currently the r property of the texture is used to offset the x and the g property of the texture is used to offset the y.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 * @param sprite {Sprite} the sprite used for the displacement map. (make sure its added to the scene!)
 */
function DisplacementFilter(sprite)
{
    var maskMatrix = new core.Matrix();
    sprite.renderable = false;

    core.AbstractFilter.call(this,
        // vertex shader
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",
        // uniforms
        {
            mapSampler:     { type: 'sampler2D', value: sprite.texture },
            otherMatrix:    { type: 'mat3', value: maskMatrix.toArray(true) },
            scale:          { type: 'v2', value: { x: 1, y: 1 } }
        }
    );

    this.maskSprite = sprite;
    this.maskMatrix = maskMatrix;


    this.scale = new core.Point(20,20);

}

DisplacementFilter.prototype = Object.create(core.AbstractFilter.prototype);
DisplacementFilter.prototype.constructor = DisplacementFilter;
module.exports = DisplacementFilter;

DisplacementFilter.prototype.applyFilter = function (renderer, input, output)
{
    var filterManager = renderer.filterManager;

    filterManager.calculateMappedMatrix(input.frame, this.maskSprite, this.maskMatrix);

    this.uniforms.otherMatrix.value = this.maskMatrix.toArray(true);
    this.uniforms.scale.value.x = this.scale.x * (1/input.frame.width);
    this.uniforms.scale.value.y = this.scale.y * (1/input.frame.height);

    var shader = this.getShader(renderer);
     // draw the filter...
    filterManager.applyFilter(shader, input, output);
};


Object.defineProperties(DisplacementFilter.prototype, {
    /**
     * The texture used for the displacement map. Must be power of 2 sized texture.
     *
     * @member {Texture}
     * @memberof DisplacementFilter#
     */
    map: {
        get: function ()
        {
            return this.uniforms.mapSampler.value;
        },
        set: function (value)
        {
            this.uniforms.mapSampler.value = value;

        }
    }
});

},{"../../core":29}],98:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * @author Mat Groves http://matgroves.com/ @Doormat23
 * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/fun/dotscreen.js
 */

/**
 * This filter applies a dotscreen effect making display objects appear to be made out of
 * black and white halftone dots like an old printer.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function DotScreenFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",
        // custom uniforms
        {
            scale:      { type: '1f', value: 1 },
            angle:      { type: '1f', value: 5 },
            dimensions: { type: '4fv', value: [0, 0, 0, 0] }
        }
    );
}

DotScreenFilter.prototype = Object.create(core.AbstractFilter.prototype);
DotScreenFilter.prototype.constructor = DotScreenFilter;
module.exports = DotScreenFilter;

Object.defineProperties(DotScreenFilter.prototype, {
    /**
     * The scale of the effect.
     * @member {number}
     * @memberof DotScreenFilter#
     */
    scale: {
        get: function ()
        {
            return this.uniforms.scale.value;
        },
        set: function (value)
        {
            this.uniforms.scale.value = value;
        }
    },

    /**
     * The radius of the effect.
     * @member {number}
     * @memberof DotScreenFilter#
     */
    angle: {
        get: function ()
        {
            return this.uniforms.angle.value;
        },
        set: function (value)
        {
            this.uniforms.angle.value = value;
        }
    }
});

},{"../../core":29}],99:[function(require,module,exports){
var core = require('../../core');

// @see https://github.com/substack/brfs/issues/25


/**
 * The BlurYTintFilter applies a vertical Gaussian blur to an object.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function BlurYTintFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",
        // set the uniforms
        {
            blur: { type: '1f', value: 1 / 512 },
            color: { type: 'c', value: [0,0,0]},
            alpha: { type: '1f', value: 0.7 },
            offset: { type: '2f', value:[5, 5]},
            strength: { type: '1f', value:1}
        }
    );

    this.passes = 1;
    this.strength = 4;
}

BlurYTintFilter.prototype = Object.create(core.AbstractFilter.prototype);
BlurYTintFilter.prototype.constructor = BlurYTintFilter;
module.exports = BlurYTintFilter;

BlurYTintFilter.prototype.applyFilter = function (renderer, input, output, clear)
{
    var shader = this.getShader(renderer);

    this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.height / input.size.height);

    if(this.passes === 1)
    {
        renderer.filterManager.applyFilter(shader, input, output, clear);
    }
    else
    {
        var renderTarget = renderer.filterManager.getRenderTarget(true);
        var flip = input;
        var flop = renderTarget;

        for(var i = 0; i < this.passes-1; i++)
        {
            renderer.filterManager.applyFilter(shader, flip, flop, clear);

           var temp = flop;
           flop = flip;
           flip = temp;
        }

        renderer.filterManager.applyFilter(shader, flip, output, clear);

        renderer.filterManager.returnRenderTarget(renderTarget);
    }
};


Object.defineProperties(BlurYTintFilter.prototype, {
    /**
     * Sets the strength of both the blur.
     *
     * @member {number}
     * @memberof BlurYFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return  this.strength;
        },
        set: function (value)
        {
            this.padding = value * 0.5;
            this.strength = value;
        }
    }
});

},{"../../core":29}],100:[function(require,module,exports){
var core = require('../../core'),
    BlurXFilter = require('../blur/BlurXFilter'),
    BlurYTintFilter = require('./BlurYTintFilter');

/**
 * The DropShadowFilter applies a Gaussian blur to an object.
 * The strength of the blur can be set for x- and y-axis separately.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function DropShadowFilter()
{
    core.AbstractFilter.call(this);

    this.blurXFilter = new BlurXFilter();
    this.blurYTintFilter = new BlurYTintFilter();

    this.defaultFilter = new core.AbstractFilter();

    this.padding = 30;

    this._dirtyPosition = true;
    this._angle = 45 * Math.PI / 180;
    this._distance = 10;
    this.alpha = 0.75;
    this.hideObject = false;
    this.blendMode = core.BLEND_MODES.MULTIPLY;
}

DropShadowFilter.prototype = Object.create(core.AbstractFilter.prototype);
DropShadowFilter.prototype.constructor = DropShadowFilter;
module.exports = DropShadowFilter;

DropShadowFilter.prototype.applyFilter = function (renderer, input, output)
{
    var renderTarget = renderer.filterManager.getRenderTarget(true);

    //TODO - copyTexSubImage2D could be used here?
    if(this._dirtyPosition)
    {
        this._dirtyPosition = false;

        this.blurYTintFilter.uniforms.offset.value[0] = Math.sin(this._angle) * this._distance;
        this.blurYTintFilter.uniforms.offset.value[1] = Math.cos(this._angle) * this._distance;
    }

    this.blurXFilter.applyFilter(renderer, input, renderTarget);

    renderer.blendModeManager.setBlendMode(this.blendMode);

    this.blurYTintFilter.applyFilter(renderer, renderTarget, output);

    renderer.blendModeManager.setBlendMode(core.BLEND_MODES.NORMAL);

    if(!this.hideObject)
    {

        this.defaultFilter.applyFilter(renderer, input, output);
    }


    renderer.filterManager.returnRenderTarget(renderTarget);
};

Object.defineProperties(DropShadowFilter.prototype, {
    /**
     * Sets the strength of both the blurX and blurY properties simultaneously
     *
     * @member {number}
     * @memberOf DropShadowFilter#
     * @default 2
     */
    blur: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.blurXFilter.blur = this.blurYTintFilter.blur = value;
        }
    },

    /**
     * Sets the strength of the blurX property
     *
     * @member {number}
     * @memberOf DropShadowFilter#
     * @default 2
     */
    blurX: {
        get: function ()
        {
            return this.blurXFilter.blur;
        },
        set: function (value)
        {
            this.blurXFilter.blur = value;
        }
    },

    /**
     * Sets the strength of the blurY property
     *
     * @member {number}
     * @memberOf DropShadowFilter#
     * @default 2
     */
    blurY: {
        get: function ()
        {
            return this.blurYTintFilter.blur;
        },
        set: function (value)
        {
            this.blurYTintFilter.blur = value;
        }
    },

    color: {
        get: function ()
        {
            return  core.utils.rgb2hex( this.blurYTintFilter.uniforms.color.value );
        },
        set: function (value)
        {
            this.blurYTintFilter.uniforms.color.value = core.utils.hex2rgb(value);
        }
    },

    alpha: {
        get: function ()
        {
            return  this.blurYTintFilter.uniforms.alpha.value;
        },
        set: function (value)
        {
            this.blurYTintFilter.uniforms.alpha.value = value;
        }
    },

    distance: {
        get: function ()
        {
            return  this._distance;
        },
        set: function (value)
        {
            this._dirtyPosition = true;
            this._distance = value;
        }
    },

    angle: {
        get: function ()
        {
            return  this._angle;
        },
        set: function (value)
        {
            this._dirtyPosition = true;
            this._angle = value;
        }
    }
});

},{"../../core":29,"../blur/BlurXFilter":90,"./BlurYTintFilter":99}],101:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This greyscales the palette of your Display Objects.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function GrayFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",
        // set the uniforms
        {
            gray: { type: '1f', value: 1 }
        }
    );
}

GrayFilter.prototype = Object.create(core.AbstractFilter.prototype);
GrayFilter.prototype.constructor = GrayFilter;
module.exports = GrayFilter;

Object.defineProperties(GrayFilter.prototype, {
    /**
     * The strength of the gray. 1 will make the object black and white, 0 will make the object its normal color.
     *
     * @member {number}
     * @memberof GrayFilter#
     */
    gray: {
        get: function ()
        {
            return this.uniforms.gray.value;
        },
        set: function (value)
        {
            this.uniforms.gray.value = value;
        }
    }
});

},{"../../core":29}],102:[function(require,module,exports){
/**
 * @file        Main export of the PIXI filters library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

/**
 * @namespace PIXI.filters
 */
module.exports = {
    AsciiFilter:        require('./ascii/AsciiFilter'),
    BloomFilter:        require('./bloom/BloomFilter'),
    BlurFilter:         require('./blur/BlurFilter'),
    BlurXFilter:        require('./blur/BlurXFilter'),
    BlurYFilter:        require('./blur/BlurYFilter'),
    BlurDirFilter:      require('./blur/BlurDirFilter'),
    ColorMatrixFilter:  require('./color/ColorMatrixFilter'),
    ColorStepFilter:    require('./color/ColorStepFilter'),
    ConvolutionFilter:  require('./convolution/ConvolutionFilter'),
    CrossHatchFilter:   require('./crosshatch/CrossHatchFilter'),
    DisplacementFilter: require('./displacement/DisplacementFilter'),
    DotScreenFilter:    require('./dot/DotScreenFilter'),
    GrayFilter:         require('./gray/GrayFilter'),
    DropShadowFilter:   require('./dropshadow/DropShadowFilter'),
    InvertFilter:       require('./invert/InvertFilter'),
    NoiseFilter:        require('./noise/NoiseFilter'),
    NormalMapFilter:    require('./normal/NormalMapFilter'),
    PixelateFilter:     require('./pixelate/PixelateFilter'),
    RGBSplitFilter:     require('./rgb/RGBSplitFilter'),
    ShockwaveFilter:    require('./shockwave/ShockwaveFilter'),
    SepiaFilter:        require('./sepia/SepiaFilter'),
    SmartBlurFilter:    require('./blur/SmartBlurFilter'),
    TiltShiftFilter:    require('./tiltshift/TiltShiftFilter'),
    TiltShiftXFilter:   require('./tiltshift/TiltShiftXFilter'),
    TiltShiftYFilter:   require('./tiltshift/TiltShiftYFilter'),
    TwistFilter:        require('./twist/TwistFilter')
};

},{"./ascii/AsciiFilter":86,"./bloom/BloomFilter":87,"./blur/BlurDirFilter":88,"./blur/BlurFilter":89,"./blur/BlurXFilter":90,"./blur/BlurYFilter":91,"./blur/SmartBlurFilter":92,"./color/ColorMatrixFilter":93,"./color/ColorStepFilter":94,"./convolution/ConvolutionFilter":95,"./crosshatch/CrossHatchFilter":96,"./displacement/DisplacementFilter":97,"./dot/DotScreenFilter":98,"./dropshadow/DropShadowFilter":100,"./gray/GrayFilter":101,"./invert/InvertFilter":103,"./noise/NoiseFilter":104,"./normal/NormalMapFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],103:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This inverts your Display Objects colors.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function InvertFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",
        // custom uniforms
        {
            invert: { type: '1f', value: 1 }
        }
    );
}

InvertFilter.prototype = Object.create(core.AbstractFilter.prototype);
InvertFilter.prototype.constructor = InvertFilter;
module.exports = InvertFilter;

Object.defineProperties(InvertFilter.prototype, {
    /**
     * The strength of the invert. `1` will fully invert the colors, and
     * `0` will make the object its normal color.
     *
     * @member {number}
     * @memberof InvertFilter#
     */
    invert: {
        get: function ()
        {
            return this.uniforms.invert.value;
        },
        set: function (value)
        {
            this.uniforms.invert.value = value;
        }
    }
});

},{"../../core":29}],104:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * @author Vico @vicocotea
 * original filter: https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
 */

/**
 * A Noise effect filter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function NoiseFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",
        // custom uniforms
        {
            noise: { type: '1f', value: 0.5 }
        }
    );
}

NoiseFilter.prototype = Object.create(core.AbstractFilter.prototype);
NoiseFilter.prototype.constructor = NoiseFilter;
module.exports = NoiseFilter;

Object.defineProperties(NoiseFilter.prototype, {
    /**
     * The amount of noise to apply.
     *
     * @member {number}
     * @memberof NoiseFilter#
     * @default 0.5
     */
    noise: {
        get: function ()
        {
            return this.uniforms.noise.value;
        },
        set: function (value)
        {
            this.uniforms.noise.value = value;
        }
    }
});

},{"../../core":29}],105:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The NormalMapFilter class uses the pixel values from the specified texture (called the normal map)
 * to project lighting onto an object.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 * @param texture {Texture} The texture used for the normal map, must be power of 2 texture at the moment
 */
function NormalMapFilter(texture)
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",
        // custom uniforms
        {
            displacementMap:  { type: 'sampler2D', value: texture },
            scale:            { type: '2f', value: { x: 15, y: 15 } },
            offset:           { type: '2f', value: { x: 0,  y: 0 } },
            mapDimensions:    { type: '2f', value: { x: 1,  y: 1 } },
            dimensions:       { type: '4f', value: [0, 0, 0, 0] },
            // LightDir:         { type: 'f3', value: [0, 1, 0] },
            LightPos:         { type: '3f', value: [0, 1, 0] }
        }
    );

    texture.baseTexture._powerOf2 = true;

    if (texture.baseTexture.hasLoaded)
    {
        this.onTextureLoaded();
    }
    else
    {
        texture.baseTexture.once('loaded', this.onTextureLoaded, this);
    }
}

NormalMapFilter.prototype = Object.create(core.AbstractFilter.prototype);
NormalMapFilter.prototype.constructor = NormalMapFilter;
module.exports = NormalMapFilter;

/**
 * Sets the map dimensions uniforms when the texture becomes available.
 *
 * @private
 */
NormalMapFilter.prototype.onTextureLoaded = function ()
{
    this.uniforms.mapDimensions.value.x = this.uniforms.displacementMap.value.width;
    this.uniforms.mapDimensions.value.y = this.uniforms.displacementMap.value.height;
};

Object.defineProperties(NormalMapFilter.prototype, {
    /**
     * The texture used for the displacement map. Must be power of 2 texture.
     *
     * @member {Texture}
     * @memberof NormalMapFilter#
     */
    map: {
        get: function ()
        {
            return this.uniforms.displacementMap.value;
        },
        set: function (value)
        {
            this.uniforms.displacementMap.value = value;
        }
    },

    /**
     * The multiplier used to scale the displacement result from the map calculation.
     *
     * @member {Point}
     * @memberof NormalMapFilter#
     */
    scale: {
        get: function ()
        {
            return this.uniforms.scale.value;
        },
        set: function (value)
        {
            this.uniforms.scale.value = value;
        }
    },

    /**
     * The offset used to move the displacement map.
     *
     * @member {Point}
     * @memberof NormalMapFilter#
     */
    offset: {
        get: function ()
        {
            return this.uniforms.offset.value;
        },
        set: function (value)
        {
            this.uniforms.offset.value = value;
        }
    }
});

},{"../../core":29}],106:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This filter applies a pixelate effect making display objects appear 'blocky'.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function PixelateFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",
        // custom uniforms
        {
            dimensions: { type: '4fv',  value: new Float32Array([0, 0, 0, 0]) },
            pixelSize:  { type: 'v2',   value: { x: 10, y: 10 } }
        }
    );
}

PixelateFilter.prototype = Object.create(core.AbstractFilter.prototype);
PixelateFilter.prototype.constructor = PixelateFilter;
module.exports = PixelateFilter;

Object.defineProperties(PixelateFilter.prototype, {
    /**
     * This a point that describes the size of the blocks.
     * x is the width of the block and y is the height.
     *
     * @member {Point}
     * @memberof PixelateFilter#
     */
    size: {
        get: function ()
        {
            return this.uniforms.pixelSize.value;
        },
        set: function (value)
        {
            this.uniforms.pixelSize.value = value;
        }
    }
});

},{"../../core":29}],107:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * An RGB Split Filter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function RGBSplitFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",
        // custom uniforms
        {
            red:        { type: 'v2', value: { x: 20, y: 20 } },
            green:      { type: 'v2', value: { x: -20, y: 20 } },
            blue:       { type: 'v2', value: { x: 20, y: -20 } },
            dimensions: { type: '4fv', value: [0, 0, 0, 0] }
        }
    );
}

RGBSplitFilter.prototype = Object.create(core.AbstractFilter.prototype);
RGBSplitFilter.prototype.constructor = RGBSplitFilter;
module.exports = RGBSplitFilter;

Object.defineProperties(RGBSplitFilter.prototype, {
    /**
     * Red channel offset.
     *
     * @member {Point}
     * @memberof RGBSplitFilter#
     */
    red: {
        get: function ()
        {
            return this.uniforms.red.value;
        },
        set: function (value)
        {
            this.uniforms.red.value = value;
        }
    },

    /**
     * Green channel offset.
     *
     * @member {Point}
     * @memberof RGBSplitFilter#
     */
    green: {
        get: function ()
        {
            return this.uniforms.green.value;
        },
        set: function (value)
        {
            this.uniforms.green.value = value;
        }
    },

    /**
     * Blue offset.
     *
     * @member {Point}
     * @memberof RGBSplitFilter#
     */
    blue: {
        get: function ()
        {
            return this.uniforms.blue.value;
        },
        set: function (value)
        {
            this.uniforms.blue.value = value;
        }
    }
});

},{"../../core":29}],108:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This applies a sepia effect to your Display Objects.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function SepiaFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",
        // custom uniforms
        {
            sepia: { type: '1f', value: 1 }
        }
    );
}

SepiaFilter.prototype = Object.create(core.AbstractFilter.prototype);
SepiaFilter.prototype.constructor = SepiaFilter;
module.exports = SepiaFilter;

Object.defineProperties(SepiaFilter.prototype, {
    /**
     * The strength of the sepia. `1` will apply the full sepia effect, and
     * `0` will make the object its normal color.
     *
     * @member {number}
     * @memberof SepiaFilter#
     */
    sepia: {
        get: function ()
        {
            return this.uniforms.sepia.value;
        },
        set: function (value)
        {
            this.uniforms.sepia.value = value;
        }
    }
});

},{"../../core":29}],109:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * The ColorMatrixFilter class lets you apply a 4x4 matrix transformation on the RGBA
 * color and alpha values of every pixel on your displayObject to produce a result
 * with a new set of RGBA color and alpha values. It's pretty powerful!
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function ShockwaveFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",
        // custom uniforms
        {
            center: { type: 'v2', value: { x: 0.5, y: 0.5 } },
            params: { type: 'v3', value: { x: 10, y: 0.8, z: 0.1 } },
            time: { type: '1f', value: 0 }
        }
    );
}

ShockwaveFilter.prototype = Object.create(core.AbstractFilter.prototype);
ShockwaveFilter.prototype.constructor = ShockwaveFilter;
module.exports = ShockwaveFilter;

Object.defineProperties(ShockwaveFilter.prototype, {
    /**
     * Sets the center of the shockwave in normalized screen coords. That is
     * (0,0) is the top-left and (1,1) is the bottom right.
     *
     * @member {object<string, number>}
     * @memberof ShockwaveFilter#
     */
    center: {
        get: function ()
        {
            return this.uniforms.center.value;
        },
        set: function (value)
        {
            this.uniforms.center.value = value;
        }
    },
    /**
     * Sets the params of the shockwave. These modify the look and behavior of
     * the shockwave as it ripples out.
     *
     * @member {object<string, number>}
     * @memberof ShockwaveFilter#
     */
    params: {
        get: function ()
        {
            return this.uniforms.params.value;
        },
        set: function (value)
        {
            this.uniforms.params.value = value;
        }
    },
    /**
     * Sets the elapsed time of the shockwave. This controls the speed at which
     * the shockwave ripples out.
     *
     * @member {number}
     * @memberof ShockwaveFilter#
     */
    time: {
        get: function ()
        {
            return this.uniforms.time.value;
        },
        set: function (value)
        {
            this.uniforms.time.value = value;
        }
    }
});

},{"../../core":29}],110:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * @author Vico @vicocotea
 * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/
 */

/**
 * A TiltShiftAxisFilter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function TiltShiftAxisFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
        // custom uniforms
        {
            blur:           { type: '1f', value: 100 },
            gradientBlur:   { type: '1f', value: 600 },
            start:          { type: 'v2', value: { x: 0,    y: window.innerHeight / 2 } },
            end:            { type: 'v2', value: { x: 600,  y: window.innerHeight / 2 } },
            delta:          { type: 'v2', value: { x: 30,   y: 30 } },
            texSize:        { type: 'v2', value: { x: window.innerWidth, y: window.innerHeight } }
        }
    );

    this.updateDelta();
}

TiltShiftAxisFilter.prototype = Object.create(core.AbstractFilter.prototype);
TiltShiftAxisFilter.prototype.constructor = TiltShiftAxisFilter;
module.exports = TiltShiftAxisFilter;

/**
 * Updates the filter delta values.
 * This is overridden in the X and Y filters, does nothing for this class.
 *
 */
TiltShiftAxisFilter.prototype.updateDelta = function ()
{
    this.uniforms.delta.value.x = 0;
    this.uniforms.delta.value.y = 0;
};

Object.defineProperties(TiltShiftAxisFilter.prototype, {
    /**
     * The strength of the blur.
     *
     * @member {number}
     * @memberof TiltShiftAxisFilter#
     */
    blur: {
        get: function ()
        {
            return this.uniforms.blur.value;
        },
        set: function (value)
        {
            this.uniforms.blur.value = value;
        }
    },

    /**
     * The strength of the gradient blur.
     *
     * @member {number}
     * @memberof TiltShiftAxisFilter#
     */
    gradientBlur: {
        get: function ()
        {
            return this.uniforms.gradientBlur.value;
        },
        set: function (value)
        {
            this.uniforms.gradientBlur.value = value;
        }
    },

    /**
     * The X value to start the effect at.
     *
     * @member {Point}
     * @memberof TiltShiftAxisFilter#
     */
    start: {
        get: function ()
        {
            return this.uniforms.start.value;
        },
        set: function (value)
        {
            this.uniforms.start.value = value;
            this.updateDelta();
        }
    },

    /**
     * The X value to end the effect at.
     *
     * @member {Point}
     * @memberof TiltShiftAxisFilter#
     */
    end: {
        get: function ()
        {
            return this.uniforms.end.value;
        },
        set: function (value)
        {
            this.uniforms.end.value = value;
            this.updateDelta();
        }
    }
});

},{"../../core":29}],111:[function(require,module,exports){
var core = require('../../core'),
    TiltShiftXFilter = require('./TiltShiftXFilter'),
    TiltShiftYFilter = require('./TiltShiftYFilter');

/**
 * @author Vico @vicocotea
 * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/
 */

/**
 * A TiltShift Filter. Manages the pass of both a TiltShiftXFilter and TiltShiftYFilter.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function TiltShiftFilter()
{
    core.AbstractFilter.call(this);

    this.tiltShiftXFilter = new TiltShiftXFilter();
    this.tiltShiftYFilter = new TiltShiftYFilter();
}

TiltShiftFilter.prototype = Object.create(core.AbstractFilter.prototype);
TiltShiftFilter.prototype.constructor = TiltShiftFilter;
module.exports = TiltShiftFilter;

TiltShiftFilter.prototype.applyFilter = function (renderer, input, output)
{
    var renderTarget = renderer.filterManager.getRenderTarget(true);

    this.tiltShiftXFilter.applyFilter(renderer, input, renderTarget);

    this.tiltShiftYFilter.applyFilter(renderer, renderTarget, output);

    renderer.filterManager.returnRenderTarget(renderTarget);
};

Object.defineProperties(TiltShiftFilter.prototype, {
    /**
     * The strength of the blur.
     *
     * @member {number}
     * @memberof TiltShiftFilter#
     */
    blur: {
        get: function ()
        {
            return this.tiltShiftXFilter.blur;
        },
        set: function (value)
        {
            this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = value;
        }
    },

    /**
     * The strength of the gradient blur.
     *
     * @member {number}
     * @memberof TiltShiftFilter#
     */
    gradientBlur: {
        get: function ()
        {
            return this.tiltShiftXFilter.gradientBlur;
        },
        set: function (value)
        {
            this.tiltShiftXFilter.gradientBlur = this.tiltShiftYFilter.gradientBlur = value;
        }
    },

    /**
     * The Y value to start the effect at.
     *
     * @member {number}
     * @memberof TiltShiftFilter#
     */
    start: {
        get: function ()
        {
            return this.tiltShiftXFilter.start;
        },
        set: function (value)
        {
            this.tiltShiftXFilter.start = this.tiltShiftYFilter.start = value;
        }
    },

    /**
     * The Y value to end the effect at.
     *
     * @member {number}
     * @memberof TiltShiftFilter#
     */
    end: {
        get: function ()
        {
            return this.tiltShiftXFilter.end;
        },
        set: function (value)
        {
            this.tiltShiftXFilter.end = this.tiltShiftYFilter.end = value;
        }
    }
});

},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(require,module,exports){
var TiltShiftAxisFilter = require('./TiltShiftAxisFilter');

/**
 * @author Vico @vicocotea
 * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/
 */

/**
 * A TiltShiftXFilter.
 *
 * @class
 * @extends PIXI.TiltShiftAxisFilter
 * @memberof PIXI.filters
 */
function TiltShiftXFilter()
{
    TiltShiftAxisFilter.call(this);
}

TiltShiftXFilter.prototype = Object.create(TiltShiftAxisFilter.prototype);
TiltShiftXFilter.prototype.constructor = TiltShiftXFilter;
module.exports = TiltShiftXFilter;

/**
 * Updates the filter delta values.
 *
 */
TiltShiftXFilter.prototype.updateDelta = function ()
{
    var dx = this.uniforms.end.value.x - this.uniforms.start.value.x;
    var dy = this.uniforms.end.value.y - this.uniforms.start.value.y;
    var d = Math.sqrt(dx * dx + dy * dy);

    this.uniforms.delta.value.x = dx / d;
    this.uniforms.delta.value.y = dy / d;
};

},{"./TiltShiftAxisFilter":110}],113:[function(require,module,exports){
var TiltShiftAxisFilter = require('./TiltShiftAxisFilter');

/**
 * @author Vico @vicocotea
 * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/
 */

/**
 * A TiltShiftYFilter.
 *
 * @class
 * @extends PIXI.TiltShiftAxisFilter
 * @memberof PIXI.filters
 */
function TiltShiftYFilter()
{
    TiltShiftAxisFilter.call(this);
}

TiltShiftYFilter.prototype = Object.create(TiltShiftAxisFilter.prototype);
TiltShiftYFilter.prototype.constructor = TiltShiftYFilter;
module.exports = TiltShiftYFilter;

/**
 * Updates the filter delta values.
 *
 */
TiltShiftYFilter.prototype.updateDelta = function ()
{
    var dx = this.uniforms.end.value.x - this.uniforms.start.value.x;
    var dy = this.uniforms.end.value.y - this.uniforms.start.value.y;
    var d = Math.sqrt(dx * dx + dy * dy);

    this.uniforms.delta.value.x = -dy / d;
    this.uniforms.delta.value.y = dx / d;
};

},{"./TiltShiftAxisFilter":110}],114:[function(require,module,exports){
var core = require('../../core');
// @see https://github.com/substack/brfs/issues/25


/**
 * This filter applies a twist effect making display objects appear twisted in the given direction.
 *
 * @class
 * @extends PIXI.AbstractFilter
 * @memberof PIXI.filters
 */
function TwistFilter()
{
    core.AbstractFilter.call(this,
        // vertex shader
        null,
        // fragment shader
        "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",
        // custom uniforms
        {
            radius:     { type: '1f', value: 0.5 },
            angle:      { type: '1f', value: 5 },
            offset:     { type: 'v2', value: { x: 0.5, y: 0.5 } }
        }
    );
}

TwistFilter.prototype = Object.create(core.AbstractFilter.prototype);
TwistFilter.prototype.constructor = TwistFilter;
module.exports = TwistFilter;

Object.defineProperties(TwistFilter.prototype, {
    /**
     * This point describes the the offset of the twist.
     *
     * @member {Point}
     * @memberof TwistFilter#
     */
    offset: {
        get: function ()
        {
            return this.uniforms.offset.value;
        },
        set: function (value)
        {
            this.uniforms.offset.value = value;
        }
    },

    /**
     * This radius of the twist.
     *
     * @member {number}
     * @memberof TwistFilter#
     */
    radius: {
        get: function ()
        {
            return this.uniforms.radius.value;
        },
        set: function (value)
        {
            this.uniforms.radius.value = value;
        }
    },

    /**
     * This angle of the twist.
     *
     * @member {number}
     * @memberof TwistFilter#
     */
    angle: {
        get: function ()
        {
            return this.uniforms.angle.value;
        },
        set: function (value)
        {
            this.uniforms.angle.value = value;
        }
    }
});

},{"../../core":29}],115:[function(require,module,exports){
var core = require('../core');

/**
 * Holds all information related to an Interaction event
 *
 * @class
 * @memberof PIXI.interaction
 */
function InteractionData()
{
    /**
     * This point stores the global coords of where the touch/mouse event happened
     *
     * @member {Point}
     */
    this.global = new core.Point();

    /**
     * The target Sprite that was interacted with
     *
     * @member {Sprite}
     */
    this.target = null;

    /**
     * When passed to an event handler, this will be the original DOM Event that was captured
     *
     * @member {Event}
     */
    this.originalEvent = null;
}

InteractionData.prototype.constructor = InteractionData;
module.exports = InteractionData;

/**
 * This will return the local coordinates of the specified displayObject for this InteractionData
 *
 * @param displayObject {DisplayObject} The DisplayObject that you would like the local coords off
 * @param [point] {Point} A Point object in which to store the value, optional (otherwise will create a new point)
 * param [globalPos] {Point} A Point object containing your custom global coords, optional (otherwise will use the current global coords)
 * @return {Point} A point containing the coordinates of the InteractionData position relative to the DisplayObject
 */
InteractionData.prototype.getLocalPosition = function (displayObject, point, globalPos)
{
    var worldTransform = displayObject.worldTransform;
    var global = globalPos ? globalPos : this.global;

    // do a cheeky transform to get the mouse coords;
    var a00 = worldTransform.a, a01 = worldTransform.c, a02 = worldTransform.tx,
        a10 = worldTransform.b, a11 = worldTransform.d, a12 = worldTransform.ty,
        id = 1 / (a00 * a11 + a01 * -a10);

    point = point || new core.Point();

    point.x = a11 * id * global.x + -a01 * id * global.x + (a12 * a01 - a02 * a11) * id;
    point.y = a00 * id * global.y + -a10 * id * global.y + (-a12 * a00 + a02 * a10) * id;

    // set the mouse coords...
    return point;
};

},{"../core":29}],116:[function(require,module,exports){
var core = require('../core'),
    InteractionData = require('./InteractionData');

// Mix interactiveTarget into core.DisplayObject.prototype
Object.assign(
    core.DisplayObject.prototype,
    require('./interactiveTarget')
);

/**
 * The interaction manager deals with mouse and touch events. Any DisplayObject can be interactive
 * if its interactive parameter is set to true
 * This manager also supports multitouch.
 *
 * @class
 * @memberof PIXI.interaction
 * @param renderer {CanvasRenderer|WebGLRenderer} A reference to the current renderer
 * @param [options] {object}
 * @param [options.autoPreventDefault=true] {boolean} Should the manager automatically prevent default browser actions.
 * @param [options.interactionFrequency=10] {number} Frequency increases the interaction events will be checked.
 */
function InteractionManager(renderer, options)
{
    options = options || {};

    /**
     * The renderer this interaction manager works for.
     *
     * @member {SystemRenderer}
     */
    this.renderer = renderer;

    /**
     * Should default browser actions automatically be prevented.
     *
     * @member {boolean}
     * @default true
     */
    this.autoPreventDefault = options.autoPreventDefault !== undefined ? options.autoPreventDefault : true;

    /**
     * As this frequency increases the interaction events will be checked more often.
     *
     * @member {number}
     * @default 10
     */
    this.interactionFrequency = options.interactionFrequency || 10;

    /**
     * The mouse data
     *
     * @member {InteractionData}
     */
    this.mouse = new InteractionData();

    /**
     * An event data object to handle all the event tracking/dispatching
     *
     * @member {EventData}
     */
    this.eventData = {
        stopped: false,
        target: null,
        type: null,
        data: this.mouse,
        stopPropagation:function(){
            this.stopped = true;
        }
    };

    /**
     * Tiny little interactiveData pool !
     *
     * @member {Array}
     */
    this.interactiveDataPool = [];

    /**
     * The DOM element to bind to.
     *
     * @member {HTMLElement}
     * @private
     */
    this.interactionDOMElement = null;

    /**
     * Have events been attached to the dom element?
     *
     * @member {boolean}
     * @private
     */
    this.eventsAdded = false;

    //this will make it so that you don't have to call bind all the time

    /**
     * @member {Function}
     */
    this.onMouseUp = this.onMouseUp.bind(this);
    this.processMouseUp = this.processMouseUp.bind( this );


    /**
     * @member {Function}
     */
    this.onMouseDown = this.onMouseDown.bind(this);
    this.processMouseDown = this.processMouseDown.bind( this );

    /**
     * @member {Function}
     */
    this.onMouseMove = this.onMouseMove.bind( this );
    this.processMouseMove = this.processMouseMove.bind( this );

    /**
     * @member {Function}
     */
    this.onMouseOut = this.onMouseOut.bind(this);
    this.processMouseOverOut = this.processMouseOverOut.bind( this );


    /**
     * @member {Function}
     */
    this.onTouchStart = this.onTouchStart.bind(this);
    this.processTouchStart = this.processTouchStart.bind(this);

    /**
     * @member {Function}
     */
    this.onTouchEnd = this.onTouchEnd.bind(this);
    this.processTouchEnd = this.processTouchEnd.bind(this);

    /**
     * @member {Function}
     */
    this.onTouchMove = this.onTouchMove.bind(this);
    this.processTouchMove = this.processTouchMove.bind(this);

    /**
     * @member {number}
     */
    this.last = 0;

    /**
     * The css style of the cursor that is being used
     * @member {string}
     */
    this.currentCursorStyle = 'inherit';

    /**
     * Internal cached var
     * @member {Point}
     * @private
     */
    this._tempPoint = new core.Point();

    /**
     * The current resolution
     * @member {number}
     */
    this.resolution = 1;

    this.setTargetElement(this.renderer.view, this.renderer.resolution);
}

InteractionManager.prototype.constructor = InteractionManager;
module.exports = InteractionManager;

/**
 * Sets the DOM element which will receive mouse/touch events. This is useful for when you have
 * other DOM elements on top of the renderers Canvas element. With this you'll be bale to deletegate
 * another DOM element to receive those events.
 *
 * @param element {HTMLElement} the DOM element which will receive mouse and touch events.
 * @param [resolution=1] {number} THe resolution of the new element (relative to the canvas).
 * @private
 */
InteractionManager.prototype.setTargetElement = function (element, resolution)
{
    this.removeEvents();

    this.interactionDOMElement = element;

    this.resolution = resolution || 1;

    this.addEvents();
};

/**
 * Registers all the DOM events
 * @private
 */
InteractionManager.prototype.addEvents = function ()
{
    if (!this.interactionDOMElement)
    {
        return;
    }

    core.ticker.shared.add(this.update, this);

    if (window.navigator.msPointerEnabled)
    {
        this.interactionDOMElement.style['-ms-content-zooming'] = 'none';
        this.interactionDOMElement.style['-ms-touch-action'] = 'none';
    }

    window.document.addEventListener('mousemove',    this.onMouseMove, true);
    this.interactionDOMElement.addEventListener('mousedown',    this.onMouseDown, true);
    this.interactionDOMElement.addEventListener('mouseout',     this.onMouseOut, true);

    this.interactionDOMElement.addEventListener('touchstart',   this.onTouchStart, true);
    this.interactionDOMElement.addEventListener('touchend',     this.onTouchEnd, true);
    this.interactionDOMElement.addEventListener('touchmove',    this.onTouchMove, true);

    window.addEventListener('mouseup',  this.onMouseUp, true);

    this.eventsAdded = true;
};

/**
 * Removes all the DOM events that were previously registered
 * @private
 */
InteractionManager.prototype.removeEvents = function ()
{
    if (!this.interactionDOMElement)
    {
        return;
    }

    core.ticker.shared.remove(this.update);

    if (window.navigator.msPointerEnabled)
    {
        this.interactionDOMElement.style['-ms-content-zooming'] = '';
        this.interactionDOMElement.style['-ms-touch-action'] = '';
    }

    window.document.removeEventListener('mousemove', this.onMouseMove, true);
    this.interactionDOMElement.removeEventListener('mousedown', this.onMouseDown, true);
    this.interactionDOMElement.removeEventListener('mouseout',  this.onMouseOut, true);

    this.interactionDOMElement.removeEventListener('touchstart', this.onTouchStart, true);
    this.interactionDOMElement.removeEventListener('touchend',  this.onTouchEnd, true);
    this.interactionDOMElement.removeEventListener('touchmove', this.onTouchMove, true);

    this.interactionDOMElement = null;

    window.removeEventListener('mouseup',  this.onMouseUp, true);

    this.eventsAdded = false;
};

/**
 * Updates the state of interactive objects.
 * Invoked by a throttled ticker update from
 * {@link PIXI.ticker.shared}.
 *
 * @param deltaTime {number}
 */
InteractionManager.prototype.update = function (deltaTime)
{
    this._deltaTime += deltaTime;

    if (this._deltaTime < this.interactionFrequency)
    {
        return;
    }

    this._deltaTime = 0;

    if (!this.interactionDOMElement)
    {
        return;
    }

    // if the user move the mouse this check has already been dfone using the mouse move!
    if(this.didMove)
    {
        this.didMove = false;
        return;
    }

    this.cursor = 'inherit';

    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, true );

    if (this.currentCursorStyle !== this.cursor)
    {
        this.currentCursorStyle = this.cursor;
        this.interactionDOMElement.style.cursor = this.cursor;
    }

    //TODO
};

/**
 * Dispatches an event on the display object that was interacted with
 * @param displayObject {Container|Sprite|TilingSprite} the display object in question
 * @param eventString {string} the name of the event (e.g, mousedown)
 * @param eventData {EventData} the event data object
 * @private
 */
InteractionManager.prototype.dispatchEvent = function ( displayObject, eventString, eventData )
{
    if(!eventData.stopped)
    {
        eventData.target = displayObject;
        eventData.type = eventString;

        displayObject.emit( eventString, eventData );

        if( displayObject[eventString] )
        {
            displayObject[eventString]( eventData );
        }
    }
};

/**
 * Maps x and y coords from a DOM object and maps them correctly to the pixi view. The resulting value is stored in the point.
 * This takes into account the fact that the DOM element could be scaled and positioned anywhere on the screen.
 *
 * @param  {Point} point the point that the result will be stored in
 * @param  {number} x     the x coord of the position to map
 * @param  {number} y     the y coord of the position to map
 */
InteractionManager.prototype.mapPositionToPoint = function ( point, x, y )
{
    var rect = this.interactionDOMElement.getBoundingClientRect();
    point.x = ( ( x - rect.left ) * (this.interactionDOMElement.width  / rect.width  ) ) / this.resolution;
    point.y = ( ( y - rect.top  ) * (this.interactionDOMElement.height / rect.height ) ) / this.resolution;
};

/**
 * This function is provides a neat way of crawling through the scene graph and running a specified function on all interactive objects it finds.
 * It will also take care of hit testing the interactive objects and passes the hit across in the function.
 *
 * @param  {Point} point the point that is tested for collision
 * @param  {Container|Sprite|TilingSprite} displayObject the displayObject that will be hit test (recurcsivly crawls its children)
 * @param  {function} func the function that will be called on each interactive object. The displayObject and hit will be passed to the function
 * @param  {boolean} hitTest this indicates if the objects inside should be hit test against the point
 * @return {boolean} returns true if the displayObject hit the point
 */
InteractionManager.prototype.processInteractive = function (point, displayObject, func, hitTest, interactive )
{
    if(!displayObject.visible)
    {
        return false;
    }

    var children = displayObject.children;

    var hit = false;

    // if the object is interactive we must hit test all its children..
    interactive = interactive || displayObject.interactive;

    if(displayObject.interactiveChildren)
    {

        for (var i = children.length-1; i >= 0; i--)
        {
            if(! hit  && hitTest)
            {
                hit = this.processInteractive(point, children[i], func, true, interactive );
            }
            else
            {
                // now we know we can miss it all!
                this.processInteractive(point, children[i], func, false, false );
            }
        }

    }

    if(interactive)
    {
        if(hitTest)
        {
            if(displayObject.hitArea)
            {
                // lets use the hit object first!
                displayObject.worldTransform.applyInverse(point,  this._tempPoint);
                hit = displayObject.hitArea.contains( this._tempPoint.x, this._tempPoint.y );
            }
            else if(displayObject.containsPoint)
            {
                hit = displayObject.containsPoint(point);
            }
        }

        if(displayObject.interactive)
        {
            func(displayObject, hit);
        }
    }

    return hit;
};




/**
 * Is called when the mouse button is pressed down on the renderer element
 *
 * @param event {Event} The DOM event of a mouse button being pressed down
 * @private
 */
InteractionManager.prototype.onMouseDown = function (event)
{
    this.mouse.originalEvent = event;
    this.eventData.data = this.mouse;
    this.eventData.stopped = false;

    // Update internal mouse reference
    this.mapPositionToPoint( this.mouse.global, event.clientX, event.clientY);

    if (this.autoPreventDefault)
    {
        this.mouse.originalEvent.preventDefault();
    }

    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseDown, true );
};

/**
 * Processes the result of the mouse down check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the dispay object
 * @private
 */
InteractionManager.prototype.processMouseDown = function ( displayObject, hit )
{
    var e = this.mouse.originalEvent;

    var isRightButton = e.button === 2 || e.which === 3;

    if(hit)
    {
        displayObject[ isRightButton ? '_isRightDown' : '_isLeftDown' ] = true;
        this.dispatchEvent( displayObject, isRightButton ? 'rightdown' : 'mousedown', this.eventData );
    }
};



/**
 * Is called when the mouse button is released on the renderer element
 *
 * @param event {Event} The DOM event of a mouse button being released
 * @private
 */
InteractionManager.prototype.onMouseUp = function (event)
{
    this.mouse.originalEvent = event;
    this.eventData.data = this.mouse;
    this.eventData.stopped = false;

    // Update internal mouse reference
    this.mapPositionToPoint( this.mouse.global, event.clientX, event.clientY);

    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseUp, true );
};

/**
 * Processes the result of the mouse up check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processMouseUp = function ( displayObject, hit )
{
    var e = this.mouse.originalEvent;

    var isRightButton = e.button === 2 || e.which === 3;
    var isDown =  isRightButton ? '_isRightDown' : '_isLeftDown';

    if(hit)
    {
        this.dispatchEvent( displayObject, isRightButton ? 'rightup' : 'mouseup', this.eventData );

        if( displayObject[ isDown ] )
        {
            displayObject[ isDown ] = false;
            this.dispatchEvent( displayObject, isRightButton ? 'rightclick' : 'click', this.eventData );
        }
    }
    else
    {
        if( displayObject[ isDown ] )
        {
            displayObject[ isDown ] = false;
            this.dispatchEvent( displayObject, isRightButton ? 'rightupoutside' : 'mouseupoutside', this.eventData );
        }
    }
};


/**
 * Is called when the mouse moves across the renderer element
 *
 * @param event {Event} The DOM event of the mouse moving
 * @private
 */
InteractionManager.prototype.onMouseMove = function (event)
{
    this.mouse.originalEvent = event;
    this.eventData.data = this.mouse;
    this.eventData.stopped = false;

    this.mapPositionToPoint( this.mouse.global, event.clientX, event.clientY);

    this.didMove = true;

    this.cursor = 'inherit';

    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseMove, true );

    if (this.currentCursorStyle !== this.cursor)
    {
        this.currentCursorStyle = this.cursor;
        this.interactionDOMElement.style.cursor = this.cursor;
    }

    //TODO BUG for parents ineractive object (border order issue)
};

/**
 * Processes the result of the mouse move check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processMouseMove = function ( displayObject, hit )
{
    this.dispatchEvent( displayObject, 'mousemove', this.eventData);
    this.processMouseOverOut(displayObject, hit);
};


/**
 * Is called when the mouse is moved out of the renderer element
 *
 * @param event {Event} The DOM event of a mouse being moved out
 * @private
 */
InteractionManager.prototype.onMouseOut = function (event)
{
    this.mouse.originalEvent = event;
    this.eventData.stopped = false;

    // Update internal mouse reference
    this.mapPositionToPoint( this.mouse.global, event.clientX, event.clientY);

    this.interactionDOMElement.style.cursor = 'inherit';

    // TODO optimize by not check EVERY TIME! maybe half as often? //
    this.mapPositionToPoint( this.mouse.global, event.clientX, event.clientY );

    this.processInteractive( this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, false );
};

/**
 * Processes the result of the mouse over/out check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processMouseOverOut = function ( displayObject, hit )
{
    if(hit)
    {
        if(!displayObject._over)
        {
            displayObject._over = true;
            this.dispatchEvent( displayObject, 'mouseover', this.eventData );
        }

        if (displayObject.buttonMode)
        {
            this.cursor = displayObject.defaultCursor;
        }
    }
    else
    {
        if(displayObject._over)
        {
            displayObject._over = false;
            this.dispatchEvent( displayObject, 'mouseout', this.eventData);
        }
    }
};


/**
 * Is called when a touch is started on the renderer element
 *
 * @param event {Event} The DOM event of a touch starting on the renderer view
 * @private
 */
InteractionManager.prototype.onTouchStart = function (event)
{
    if (this.autoPreventDefault)
    {
        event.preventDefault();
    }

    var changedTouches = event.changedTouches;
    var cLength = changedTouches.length;

    for (var i=0; i < cLength; i++)
    {
        var touchEvent = changedTouches[i];
        //TODO POOL
        var touchData = this.getTouchData( touchEvent );

        touchData.originalEvent = event;

        this.eventData.data = touchData;
        this.eventData.stopped = false;

        this.processInteractive( touchData.global, this.renderer._lastObjectRendered, this.processTouchStart, true );

        this.returnTouchData( touchData );
    }
};

/**
 * Processes the result of a touch check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processTouchStart = function ( displayObject, hit )
{
    //console.log("hit" + hit)
    if(hit)
    {
        displayObject._touchDown = true;
        this.dispatchEvent( displayObject, 'touchstart', this.eventData );
    }
};


/**
 * Is called when a touch ends on the renderer element
 * @param event {Event} The DOM event of a touch ending on the renderer view
 *
 */
InteractionManager.prototype.onTouchEnd = function (event)
{
    if (this.autoPreventDefault)
    {
        event.preventDefault();
    }

    var changedTouches = event.changedTouches;
    var cLength = changedTouches.length;

    for (var i=0; i < cLength; i++)
    {
        var touchEvent = changedTouches[i];

        var touchData = this.getTouchData( touchEvent );

        touchData.originalEvent = event;

        //TODO this should be passed along.. no set
        this.eventData.data = touchData;
        this.eventData.stopped = false;


        this.processInteractive( touchData.global, this.renderer._lastObjectRendered, this.processTouchEnd, true );

        this.returnTouchData( touchData );
    }
};

/**
 * Processes the result of the end of a touch and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processTouchEnd = function ( displayObject, hit )
{
    if(hit)
    {
        this.dispatchEvent( displayObject, 'touchend', this.eventData );

        if( displayObject._touchDown )
        {
            displayObject._touchDown = false;
            this.dispatchEvent( displayObject, 'tap', this.eventData );
        }
    }
    else
    {
        if( displayObject._touchDown )
        {
            displayObject._touchDown = false;
            this.dispatchEvent( displayObject, 'touchendoutside', this.eventData );
        }
    }
};

/**
 * Is called when a touch is moved across the renderer element
 *
 * @param event {Event} The DOM event of a touch moving across the renderer view
 * @private
 */
InteractionManager.prototype.onTouchMove = function (event)
{
    if (this.autoPreventDefault)
    {
        event.preventDefault();
    }

    var changedTouches = event.changedTouches;
    var cLength = changedTouches.length;

    for (var i=0; i < cLength; i++)
    {
        var touchEvent = changedTouches[i];

        var touchData = this.getTouchData( touchEvent );

        touchData.originalEvent = event;

        this.eventData.data = touchData;
        this.eventData.stopped = false;

        this.processInteractive( touchData.global, this.renderer._lastObjectRendered, this.processTouchMove, false );

        this.returnTouchData( touchData );
    }
};

/**
 * Processes the result of a touch move check and dispatches the event if need be
 *
 * @param displayObject {Container|Sprite|TilingSprite} The display object that was tested
 * @param hit {boolean} the result of the hit test on the display object
 * @private
 */
InteractionManager.prototype.processTouchMove = function ( displayObject, hit )
{
    hit = hit;
    this.dispatchEvent( displayObject, 'touchmove', this.eventData);
};

/**
 * Grabs an interaction data object from the internal pool
 *
 * @param touchEvent {EventData} The touch event we need to pair with an interactionData object
 *
 * @private
 */
InteractionManager.prototype.getTouchData = function (touchEvent)
{
    var touchData = this.interactiveDataPool.pop();

    if(!touchData)
    {
        touchData = new InteractionData();
    }

    touchData.identifier = touchEvent.identifier;
    this.mapPositionToPoint( touchData.global, touchEvent.clientX, touchEvent.clientY );

    if(navigator.isCocoonJS)
    {
        touchData.global.x = touchData.global.x / this.resolution;
        touchData.global.y = touchData.global.y / this.resolution;
    }

    touchEvent.globalX = touchData.global.x;
    touchEvent.globalY = touchData.global.y;

    return touchData;
};

/**
 * Returns an interaction data object to the internal pool
 *
 * @param touchData {InteractionData} The touch data object we want to return to the pool
 *
 * @private
 */
InteractionManager.prototype.returnTouchData = function ( touchData )
{
    this.interactiveDataPool.push( touchData );
};

/**
 * Destroys the interaction manager
 */
InteractionManager.prototype.destroy = function () {
    this.removeEvents();

    this.renderer = null;

    this.mouse = null;

    this.eventData = null;

    this.interactiveDataPool = null;

    this.interactionDOMElement = null;

    this.onMouseUp = null;
    this.processMouseUp = null;


    this.onMouseDown = null;
    this.processMouseDown = null;

    this.onMouseMove = null;
    this.processMouseMove = null;

    this.onMouseOut = null;
    this.processMouseOverOut = null;


    this.onTouchStart = null;
    this.processTouchStart = null;

    this.onTouchEnd = null;
    this.processTouchEnd = null;

    this.onTouchMove = null;
    this.processTouchMove = null;

    this._tempPoint = null;
};

core.WebGLRenderer.registerPlugin('interaction', InteractionManager);
core.CanvasRenderer.registerPlugin('interaction', InteractionManager);

},{"../core":29,"./InteractionData":115,"./interactiveTarget":118}],117:[function(require,module,exports){
/**
 * @file        Main export of the PIXI interactions library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

/**
 * @namespace PIXI.interaction
 */
module.exports = {
    InteractionData:    require('./InteractionData'),
    InteractionManager: require('./InteractionManager'),
    interactiveTarget:  require('./interactiveTarget')
};

},{"./InteractionData":115,"./InteractionManager":116,"./interactiveTarget":118}],118:[function(require,module,exports){
/**
 * Default property values of interactive objects
 * used by {@link PIXI.interaction.InteractionManager}.
 *
 * @mixin
 * @memberof PIXI.interaction
 * @example
 *      function MyObject() {}
 *
 *      Object.assign(
 *          MyObject.prototype,
 *          PIXI.interaction.interactiveTarget
 *      );
 */
var interactiveTarget = {
    /**
     * @todo Needs docs.
     */
    interactive: false,
    /**
     * @todo Needs docs.
     */
    buttonMode: false,
    /**
     * @todo Needs docs.
     */
    interactiveChildren: true,
    /**
     * @todo Needs docs.
     */
    defaultCursor: 'pointer',

    // some internal checks..

    /**
     * @todo Needs docs.
     * @private
     */
    _over: false,
    /**
     * @todo Needs docs.
     * @private
     */
    _touchDown: false
};

module.exports = interactiveTarget;

},{}],119:[function(require,module,exports){
var Resource = require('resource-loader').Resource,
    core = require('../core'),
    extras = require('../extras'),
    path = require('path');


function parse(resource, texture) {
    var data = {};
    var info = resource.data.getElementsByTagName('info')[0];
    var common = resource.data.getElementsByTagName('common')[0];

    data.font = info.getAttribute('face');
    data.size = parseInt(info.getAttribute('size'), 10);
    data.lineHeight = parseInt(common.getAttribute('lineHeight'), 10);
    data.chars = {};

    //parse letters
    var letters = resource.data.getElementsByTagName('char');

    for (var i = 0; i < letters.length; i++)
    {
        var charCode = parseInt(letters[i].getAttribute('id'), 10);

        var textureRect = new core.Rectangle(
            parseInt(letters[i].getAttribute('x'), 10) + texture.frame.x,
            parseInt(letters[i].getAttribute('y'), 10) + texture.frame.y,
            parseInt(letters[i].getAttribute('width'), 10),
            parseInt(letters[i].getAttribute('height'), 10)
        );

        data.chars[charCode] = {
            xOffset: parseInt(letters[i].getAttribute('xoffset'), 10),
            yOffset: parseInt(letters[i].getAttribute('yoffset'), 10),
            xAdvance: parseInt(letters[i].getAttribute('xadvance'), 10),
            kerning: {},
            texture: new core.Texture(texture.baseTexture, textureRect)

        };
    }

    //parse kernings
    var kernings = resource.data.getElementsByTagName('kerning');
    for (i = 0; i < kernings.length; i++)
    {
        var first = parseInt(kernings[i].getAttribute('first'), 10);
        var second = parseInt(kernings[i].getAttribute('second'), 10);
        var amount = parseInt(kernings[i].getAttribute('amount'), 10);

        data.chars[second].kerning[first] = amount;
    }

    resource.bitmapFont = data;

    // I'm leaving this as a temporary fix so we can test the bitmap fonts in v3
    // but it's very likely to change
    extras.BitmapText.fonts[data.font] = data;
}


module.exports = function ()
{
    return function (resource, next)
    {
        // skip if no data or not xml data
        if (!resource.data || !resource.isXml)
        {
            return next();
        }

        // skip if not bitmap font data, using some silly duck-typing
        if (
            resource.data.getElementsByTagName('page').length === 0 ||
            resource.data.getElementsByTagName('info').length === 0 ||
            resource.data.getElementsByTagName('info')[0].getAttribute('face') === null
            )
        {
            return next();
        }

        var xmlUrl = path.dirname(resource.url);

        if (xmlUrl === '.') {
            xmlUrl = '';
        }

        if (this.baseUrl && xmlUrl) {
            // if baseurl has a trailing slash then add one to xmlUrl so the replace works below
            if (this.baseUrl.charAt(this.baseUrl.length - 1) === '/') {
                xmlUrl += '/';
            }

            // remove baseUrl from xmlUrl
            xmlUrl = xmlUrl.replace(this.baseUrl, '');
        }

        // if there is an xmlUrl now, it needs a trailing slash. Ensure that it does if the string isn't empty.
        if (xmlUrl && xmlUrl.charAt(xmlUrl.length - 1) !== '/') {
            xmlUrl += '/';
        }
        var textureUrl = xmlUrl + resource.data.getElementsByTagName('page')[0].getAttribute('file');
        if (core.utils.TextureCache[textureUrl]) {
            //reuse existing texture
            parse(resource, core.utils.TextureCache[textureUrl]);
            next();
        }
        else {
            var loadOptions = {
                crossOrigin: resource.crossOrigin,
                loadType: Resource.LOAD_TYPE.IMAGE
            };
            // load the texture for the font
            this.add(resource.name + '_image', textureUrl, loadOptions, function (res) {
                parse(resource, res.texture);
                next();
            });
        }
    };
};

},{"../core":29,"../extras":85,"path":3,"resource-loader":18}],120:[function(require,module,exports){
/**
 * @file        Main export of the PIXI loaders library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

/**
 * @namespace PIXI.loaders
 */
module.exports = {
    Loader:             require('./loader'),

    // parsers
    bitmapFontParser:   require('./bitmapFontParser'),
    spritesheetParser:  require('./spritesheetParser'),
    textureParser:      require('./textureParser'),
    Resource:           require('resource-loader').Resource
};

},{"./bitmapFontParser":119,"./loader":121,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],121:[function(require,module,exports){
var ResourceLoader = require('resource-loader'),
    textureParser = require('./textureParser'),
    spritesheetParser = require('./spritesheetParser'),
    bitmapFontParser = require('./bitmapFontParser');

/**
 *
 * The new loader, extends Resource Loader by Chad Engler : https://github.com/englercj/resource-loader
 *
 * ```js
 * var loader = PIXI.loader; // pixi exposes a premade instance for you to use.
 * //or
 * var loader = new PIXI.loaders.Loader(); // you can also create your own if you want
 *
 * loader.add('bunny',"data/bunny.png");
 *
 * loader.once('complete',onAssetsLoaded);
 *
 * loader.load();
 * ```
 *
 * @class
 * @extends PIXI.ResourceLoader
 * @memberof PIXI.loaders
 * @param [baseUrl=''] {string} The base url for all resources loaded by this loader.
 * @param [concurrency=10] {number} The number of resources to load concurrently.
 */
function Loader(baseUrl, concurrency)
{
    ResourceLoader.call(this, baseUrl, concurrency);

    for (var i = 0; i < Loader._pixiMiddleware.length; ++i) {
        this.use(Loader._pixiMiddleware[i]());
    }
}

Loader.prototype = Object.create(ResourceLoader.prototype);
Loader.prototype.constructor = Loader;

module.exports = Loader;

Loader._pixiMiddleware = [
    // parse any blob into more usable objects (e.g. Image)
    ResourceLoader.middleware.parsing.blob,
    // parse any Image objects into textures
    textureParser,
    // parse any spritesheet data into multiple textures
    spritesheetParser,
    // parse any spritesheet data into multiple textures
    bitmapFontParser
];

Loader.addPixiMiddleware = function (fn) {
    Loader._pixiMiddleware.push(fn);
};

// Add custom extentions
var Resource = ResourceLoader.Resource;

Resource.setExtensionXhrType('fnt', Resource.XHR_RESPONSE_TYPE.DOCUMENT);

},{"./bitmapFontParser":119,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],122:[function(require,module,exports){
var Resource = require('resource-loader').Resource,
    path = require('path'),
    core = require('../core');

module.exports = function ()
{
    return function (resource, next)
    {
        // skip if no data, its not json, or it isn't spritesheet data
        if (!resource.data || !resource.isJson || !resource.data.frames)
        {
            return next();
        }

        var loadOptions = {
            crossOrigin: resource.crossOrigin,
            loadType: Resource.LOAD_TYPE.IMAGE
        };

        var route = path.dirname(resource.url.replace(this.baseUrl, ''));

        var resolution = core.utils.getResolutionOfUrl( resource.url );

        // load the image for this sheet
        this.add(resource.name + '_image', route + '/' + resource.data.meta.image, loadOptions, function (res)
        {
            resource.textures = {};

            var frames = resource.data.frames;

            for (var i in frames)
            {
                var rect = frames[i].frame;

                if (rect)
                {
                    var size = null;
                    var trim = null;

                    if (frames[i].rotated) {
                        size = new core.Rectangle(rect.x, rect.y, rect.h, rect.w);
                    }
                    else {
                        size = new core.Rectangle(rect.x, rect.y, rect.w, rect.h);
                    }

                    //  Check to see if the sprite is trimmed
                    if (frames[i].trimmed)
                    {
                        trim = new core.Rectangle(
                            frames[i].spriteSourceSize.x / resolution,
                            frames[i].spriteSourceSize.y / resolution,
                            frames[i].sourceSize.w / resolution,
                            frames[i].sourceSize.h / resolution
                         );
                    }

                    // flip the width and height!
                    if (frames[i].rotated)
                    {
                        var temp = size.width;
                        size.width = size.height;
                        size.height = temp;
                    }

                    size.x /= resolution;
                    size.y /= resolution;
                    size.width /= resolution;
                    size.height /= resolution;

                    resource.textures[i] = new core.Texture(res.texture.baseTexture, size, size.clone(), trim, frames[i].rotated);

                    // lets also add the frame to pixi's global cache for fromFrame and fromImage functions
                    core.utils.TextureCache[i] = resource.textures[i];
                }
            }

            next();
        });
    };
};

},{"../core":29,"path":3,"resource-loader":18}],123:[function(require,module,exports){
var core = require('../core');

module.exports = function ()
{
    return function (resource, next)
    {
        // create a new texture if the data is an Image object
        if (resource.data && resource.isImage)
        {
            resource.texture = new core.Texture(new core.BaseTexture(resource.data, null, core.utils.getResolutionOfUrl(resource.url)));
            // lets also add the frame to pixi's global cache for fromFrame and fromImage fucntions
            core.utils.TextureCache[resource.url] = resource.texture;
        }

        next();
    };
};

},{"../core":29}],124:[function(require,module,exports){
var core = require('../core'),
    tempPoint = new core.Point(),
    tempPolygon = new core.Polygon();

/**
 * Base mesh class
 * @class
 * @extends PIXI.Container
 * @memberof PIXI.mesh
 * @param texture {Texture} The texture to use
 * @param [vertices] {Float32Arrif you want to specify the vertices
 * @param [uvs] {Float32Array} if you want to specify the uvs
 * @param [indices] {Uint16Array} if you want to specify the indices
 * @param [drawMode] {number} the drawMode, can be any of the Mesh.DRAW_MODES consts
 */
function Mesh(texture, vertices, uvs, indices, drawMode)
{
    core.Container.call(this);

    /**
     * The texture of the Mesh
     *
     * @member {Texture}
     * @private
     */
    this._texture = null;

    /**
     * The Uvs of the Mesh
     *
     * @member {Float32Array}
     */
    this.uvs = uvs || new Float32Array([0, 1,
        1, 1,
        1, 0,
        0, 1]);

    /**
     * An array of vertices
     *
     * @member {Float32Array}
     */
    this.vertices = vertices || new Float32Array([0, 0,
        100, 0,
        100, 100,
        0, 100]);

    /*
     * @member {Uint16Array} An array containing the indices of the vertices
     */
    //  TODO auto generate this based on draw mode!
    this.indices = indices || new Uint16Array([0, 1, 2, 3]);

    /**
     * Whether the Mesh is dirty or not
     *
     * @member {boolean}
     */
    this.dirty = true;

    /**
     * The blend mode to be applied to the sprite. Set to blendModes.NORMAL to remove any blend mode.
     *
     * @member {number}
     * @default CONST.BLEND_MODES.NORMAL;
     */
    this.blendMode = core.BLEND_MODES.NORMAL;

    /**
     * Triangles in canvas mode are automatically antialiased, use this value to force triangles to overlap a bit with each other.
     *
     * @member {number}
     */
    this.canvasPadding = 0;

    /**
     * The way the Mesh should be drawn, can be any of the Mesh.DRAW_MODES consts
     *
     * @member {number}
     */
    this.drawMode = drawMode || Mesh.DRAW_MODES.TRIANGLE_MESH;

    // run texture setter;
    this.texture = texture;
}

// constructor
Mesh.prototype = Object.create(core.Container.prototype);
Mesh.prototype.constructor = Mesh;
module.exports = Mesh;

Object.defineProperties(Mesh.prototype, {
    /**
     * The texture that the sprite is using
     *
     * @member {PIXI.Texture}
     * @memberof PIXI.mesh.Mesh#
     */
    texture: {
        get: function ()
        {
            return  this._texture;
        },
        set: function (value)
        {
            if (this._texture === value)
            {
                return;
            }

            this._texture = value;

            if (value)
            {
                // wait for the texture to load
                if (value.baseTexture.hasLoaded)
                {
                    this._onTextureUpdate();
                }
                else
                {
                    value.once('update', this._onTextureUpdate, this);
                }
            }
        }
    }
});

/**
 * Renders the object using the WebGL renderer
 *
 * @param renderer {WebGLRenderer} a reference to the WebGL renderer
 * @private
 */
Mesh.prototype._renderWebGL = function (renderer)
{
    renderer.setObjectRenderer(renderer.plugins.mesh);
    renderer.plugins.mesh.render(this);
};

/**
 * Renders the object using the Canvas renderer
 *
 * @param renderer {CanvasRenderer}
 * @private
 */
Mesh.prototype._renderCanvas = function (renderer)
{
    var context = renderer.context;

    var transform = this.worldTransform;

    if (renderer.roundPixels)
    {
        context.setTransform(transform.a, transform.b, transform.c, transform.d, transform.tx | 0, transform.ty | 0);
    }
    else
    {
        context.setTransform(transform.a, transform.b, transform.c, transform.d, transform.tx, transform.ty);
    }

    if (this.drawMode === Mesh.DRAW_MODES.TRIANGLE_MESH)
    {
        this._renderCanvasTriangleMesh(context);
    }
    else
    {
        this._renderCanvasTriangles(context);
    }
};

/**
 * Draws the object in Triangle Mesh mode using canvas
 *
 * @param context {CanvasRenderingContext2D} the current drawing context
 * @private
 */
Mesh.prototype._renderCanvasTriangleMesh = function (context)
{
    // draw triangles!!
    var vertices = this.vertices;
    var uvs = this.uvs;

    var length = vertices.length / 2;
    // this.count++;

    for (var i = 0; i < length - 2; i++)
    {
        // draw some triangles!
        var index = i * 2;
        this._renderCanvasDrawTriangle(context, vertices, uvs, index, (index + 2), (index + 4));
    }
};

/**
 * Draws the object in triangle mode using canvas
 *
 * @param context {CanvasRenderingContext2D} the current drawing context
 * @private
 */
Mesh.prototype._renderCanvasTriangles = function (context)
{
    // draw triangles!!
    var vertices = this.vertices;
    var uvs = this.uvs;
    var indices = this.indices;

    var length = indices.length;
    // this.count++;

    for (var i = 0; i < length; i += 3)
    {
        // draw some triangles!
        var index0 = indices[i] * 2, index1 = indices[i + 1] * 2, index2 = indices[i + 2] * 2;
        this._renderCanvasDrawTriangle(context, vertices, uvs, index0, index1, index2);
    }
};

/**
 * Draws one of the triangles that form this Mesh
 *
 * @param context {CanvasRenderingContext2D} the current drawing context
 * @param vertices {Float32Array} a reference to the vertices of the Mesh
 * @param uvs {Float32Array} a reference to the uvs of the Mesh
 * @param index0 {number} the index of the first vertex
 * @param index1 {number} the index of the second vertex
 * @param index2 {number} the index of the third vertex
 * @private
 */
Mesh.prototype._renderCanvasDrawTriangle = function (context, vertices, uvs, index0, index1, index2)
{
    var textureSource = this._texture.baseTexture.source;
    var textureWidth = this._texture.baseTexture.width;
    var textureHeight = this._texture.baseTexture.height;

    var x0 = vertices[index0], x1 = vertices[index1], x2 = vertices[index2];
    var y0 = vertices[index0 + 1], y1 = vertices[index1 + 1], y2 = vertices[index2 + 1];

    var u0 = uvs[index0] * textureWidth, u1 = uvs[index1] * textureWidth, u2 = uvs[index2] * textureWidth;
    var v0 = uvs[index0 + 1] * textureHeight, v1 = uvs[index1 + 1] * textureHeight, v2 = uvs[index2 + 1] * textureHeight;

    if (this.canvasPadding > 0)
    {
        var paddingX = this.canvasPadding / this.worldTransform.a;
        var paddingY = this.canvasPadding / this.worldTransform.d;
        var centerX = (x0 + x1 + x2) / 3;
        var centerY = (y0 + y1 + y2) / 3;

        var normX = x0 - centerX;
        var normY = y0 - centerY;

        var dist = Math.sqrt(normX * normX + normY * normY);
        x0 = centerX + (normX / dist) * (dist + paddingX);
        y0 = centerY + (normY / dist) * (dist + paddingY);

        //

        normX = x1 - centerX;
        normY = y1 - centerY;

        dist = Math.sqrt(normX * normX + normY * normY);
        x1 = centerX + (normX / dist) * (dist + paddingX);
        y1 = centerY + (normY / dist) * (dist + paddingY);

        normX = x2 - centerX;
        normY = y2 - centerY;

        dist = Math.sqrt(normX * normX + normY * normY);
        x2 = centerX + (normX / dist) * (dist + paddingX);
        y2 = centerY + (normY / dist) * (dist + paddingY);
    }

    context.save();
    context.beginPath();


    context.moveTo(x0, y0);
    context.lineTo(x1, y1);
    context.lineTo(x2, y2);

    context.closePath();

    context.clip();

    // Compute matrix transform
    var delta =  (u0 * v1)      + (v0 * u2)      + (u1 * v2)      - (v1 * u2)      - (v0 * u1)      - (u0 * v2);
    var deltaA = (x0 * v1)      + (v0 * x2)      + (x1 * v2)      - (v1 * x2)      - (v0 * x1)      - (x0 * v2);
    var deltaB = (u0 * x1)      + (x0 * u2)      + (u1 * x2)      - (x1 * u2)      - (x0 * u1)      - (u0 * x2);
    var deltaC = (u0 * v1 * x2) + (v0 * x1 * u2) + (x0 * u1 * v2) - (x0 * v1 * u2) - (v0 * u1 * x2) - (u0 * x1 * v2);
    var deltaD = (y0 * v1)      + (v0 * y2)      + (y1 * v2)      - (v1 * y2)      - (v0 * y1)      - (y0 * v2);
    var deltaE = (u0 * y1)      + (y0 * u2)      + (u1 * y2)      - (y1 * u2)      - (y0 * u1)      - (u0 * y2);
    var deltaF = (u0 * v1 * y2) + (v0 * y1 * u2) + (y0 * u1 * v2) - (y0 * v1 * u2) - (v0 * u1 * y2) - (u0 * y1 * v2);

    context.transform(deltaA / delta, deltaD / delta,
        deltaB / delta, deltaE / delta,
        deltaC / delta, deltaF / delta);

    context.drawImage(textureSource, 0, 0);
    context.restore();
};



/**
 * Renders a flat Mesh
 *
 * @param Mesh {Mesh} The Mesh to render
 * @private
 */
Mesh.prototype.renderMeshFlat = function (Mesh)
{
    var context = this.context;
    var vertices = Mesh.vertices;

    var length = vertices.length/2;
    // this.count++;

    context.beginPath();
    for (var i=1; i < length-2; i++)
    {
        // draw some triangles!
        var index = i*2;

        var x0 = vertices[index],   x1 = vertices[index+2], x2 = vertices[index+4];
        var y0 = vertices[index+1], y1 = vertices[index+3], y2 = vertices[index+5];

        context.moveTo(x0, y0);
        context.lineTo(x1, y1);
        context.lineTo(x2, y2);
    }

    context.fillStyle = '#FF0000';
    context.fill();
    context.closePath();
};

/*
 Mesh.prototype.setTexture = function (texture)
 {
 //TODO SET THE TEXTURES
 //TODO VISIBILITY
 //TODO SETTER

 // stop current texture
 this.texture = texture;
 this.width   = texture.frame.width;
 this.height  = texture.frame.height;
 this.updateFrame = true;
 };
 */

/**
 * When the texture is updated, this event will fire to update the scale and frame
 *
 * @param event
 * @private
 */
Mesh.prototype._onTextureUpdate = function ()
{
    this.updateFrame = true;
};

/**
 * Returns the bounds of the mesh as a rectangle. The bounds calculation takes the worldTransform into account.
 *
 * @param matrix {Matrix} the transformation matrix of the sprite
 * @return {Rectangle} the framing rectangle
 */
Mesh.prototype.getBounds = function (matrix)
{
    if (!this._currentBounds) {
        var worldTransform = matrix || this.worldTransform;

        var a = worldTransform.a;
        var b = worldTransform.b;
        var c = worldTransform.c;
        var d = worldTransform.d;
        var tx = worldTransform.tx;
        var ty = worldTransform.ty;

        var maxX = -Infinity;
        var maxY = -Infinity;

        var minX = Infinity;
        var minY = Infinity;

        var vertices = this.vertices;
        for (var i = 0, n = vertices.length; i < n; i += 2) {
            var rawX = vertices[i], rawY = vertices[i + 1];
            var x = (a * rawX) + (c * rawY) + tx;
            var y = (d * rawY) + (b * rawX) + ty;

            minX = x < minX ? x : minX;
            minY = y < minY ? y : minY;

            maxX = x > maxX ? x : maxX;
            maxY = y > maxY ? y : maxY;
        }

        if (minX === -Infinity || maxY === Infinity) {
            return core.Rectangle.EMPTY;
        }

        var bounds = this._bounds;

        bounds.x = minX;
        bounds.width = maxX - minX;

        bounds.y = minY;
        bounds.height = maxY - minY;

        // store a reference so that if this function gets called again in the render cycle we do not have to recalculate
        this._currentBounds = bounds;
    }

    return this._currentBounds;
};

/**
 * Tests if a point is inside this mesh. Works only for TRIANGLE_MESH
 *
 * @param point {Point} the point to test
 * @return {boolean} the result of the test
 */
Mesh.prototype.containsPoint = function( point ) {
    if (!this.getBounds().contains(point.x, point.y)) {
        return false;
    }
    this.worldTransform.applyInverse(point,  tempPoint);

    var vertices = this.vertices;
    var points = tempPolygon.points;
    var i, len;

    if (this.drawMode === Mesh.DRAW_MODES.TRIANGLES) {
        var indices = this.indices;
        len = this.indices.length;
        //TODO: inline this.
        for (i=0;i<len;i+=3) {
            var ind0 = indices[i]*2, ind1 = indices[i+1]*2, ind2 = indices[i+2]*2;
            points[0] = vertices[ind0];
            points[1] = vertices[ind0+1];
            points[2] = vertices[ind1];
            points[3] = vertices[ind1+1];
            points[4] = vertices[ind2];
            points[5] = vertices[ind2+1];
            if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {
                return true;
            }
        }
    } else {
        len = vertices.length;
        for (i=0;i<len;i+=6) {
            points[0] = vertices[i];
            points[1] = vertices[i+1];
            points[2] = vertices[i+2];
            points[3] = vertices[i+3];
            points[4] = vertices[i+4];
            points[5] = vertices[i+5];
            if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {
                return true;
            }
        }
    }
    return false;
};
/**
 * Different drawing buffer modes supported
 *
 * @static
 * @constant
 * @property {object} DRAW_MODES
 * @property {number} DRAW_MODES.TRIANGLE_MESH
 * @property {number} DRAW_MODES.TRIANGLES
 */
Mesh.DRAW_MODES = {
    TRIANGLE_MESH: 0,
    TRIANGLES: 1
};

},{"../core":29}],125:[function(require,module,exports){
var Mesh = require('./Mesh');
var core = require('../core');

/**
 * The rope allows you to draw a texture across several points and them manipulate these points
 *
 *```js
 * for (var i = 0; i < 20; i++) {
 *     points.push(new PIXI.Point(i * 50, 0));
 * };
 * var rope = new PIXI.Rope(PIXI.Texture.fromImage("snake.png"), points);
 *  ```
 *
 * @class
 * @extends PIXI.Mesh
 * @memberof PIXI.mesh
 * @param {Texture} texture - The texture to use on the rope.
 * @param {Array} points - An array of {Point} objects to construct this rope.
 *
 */
function Rope(texture, points)
{
    Mesh.call(this, texture);

    /*
     * @member {Array} An array of points that determine the rope
     */
    this.points = points;

    /*
     * @member {Float32Array} An array of vertices used to construct this rope.
     */
    this.vertices = new Float32Array(points.length * 4);

    /*
     * @member {Float32Array} The WebGL Uvs of the rope.
     */
    this.uvs = new Float32Array(points.length * 4);

    /*
     * @member {Float32Array} An array containing the color components
     */
    this.colors = new Float32Array(points.length * 2);

    /*
     * @member {Uint16Array} An array containing the indices of the vertices
     */
    this.indices = new Uint16Array(points.length * 2);

    /**
     * Tracker for if the rope is ready to be drawn. Needed because Mesh ctor can
     * call _onTextureUpdated which could call refresh too early.
     *
     * @member {boolean}
     * @private
     */
     this._ready = true;

     this.refresh();
}


// constructor
Rope.prototype = Object.create(Mesh.prototype);
Rope.prototype.constructor = Rope;
module.exports = Rope;

/**
 * Refreshes
 *
 */
Rope.prototype.refresh = function ()
{
    var points = this.points;

    // if too little points, or texture hasn't got UVs set yet just move on.
    if (points.length < 1 || !this._texture._uvs)
    {
        return;
    }

    var uvs = this.uvs;

    var indices = this.indices;
    var colors = this.colors;

    var textureUvs = this._texture._uvs;
    var offset = new core.Point(textureUvs.x0, textureUvs.y0);
    var factor = new core.Point(textureUvs.x2 - textureUvs.x0, textureUvs.y2 - textureUvs.y0);

    uvs[0] = 0 + offset.x;
    uvs[1] = 0 + offset.y;
    uvs[2] = 0 + offset.x;
    uvs[3] = 1 * factor.y + offset.y;

    colors[0] = 1;
    colors[1] = 1;

    indices[0] = 0;
    indices[1] = 1;

    var total = points.length,
        point, index, amount;

    for (var i = 1; i < total; i++)
    {
        point = points[i];
        index = i * 4;
        // time to do some smart drawing!
        amount = i / (total-1);

        uvs[index] = amount * factor.x + offset.x;
        uvs[index+1] = 0 + offset.y;

        uvs[index+2] = amount * factor.x + offset.x;
        uvs[index+3] = 1 * factor.y + offset.y;

        index = i * 2;
        colors[index] = 1;
        colors[index+1] = 1;

        index = i * 2;
        indices[index] = index;
        indices[index + 1] = index + 1;
    }

    this.dirty = true;
};

/**
 * Clear texture UVs when new texture is set
 *
 * @private
 */
Rope.prototype._onTextureUpdate = function ()
{
    Mesh.prototype._onTextureUpdate.call(this);

    // wait for the Rope ctor to finish before calling refresh
    if (this._ready) {
        this.refresh();
    }
};

/**
 * Updates the object transform for rendering
 *
 * @private
 */
Rope.prototype.updateTransform = function ()
{
    var points = this.points;

    if (points.length < 1)
    {
        return;
    }

    var lastPoint = points[0];
    var nextPoint;
    var perpX = 0;
    var perpY = 0;

    // this.count -= 0.2;

    var vertices = this.vertices;
    var total = points.length,
        point, index, ratio, perpLength, num;

    for (var i = 0; i < total; i++)
    {
        point = points[i];
        index = i * 4;

        if (i < points.length-1)
        {
            nextPoint = points[i+1];
        }
        else
        {
            nextPoint = point;
        }

        perpY = -(nextPoint.x - lastPoint.x);
        perpX = nextPoint.y - lastPoint.y;

        ratio = (1 - (i / (total-1))) * 10;

        if (ratio > 1)
        {
            ratio = 1;
        }

        perpLength = Math.sqrt(perpX * perpX + perpY * perpY);
        num = this._texture.height / 2; //(20 + Math.abs(Math.sin((i + this.count) * 0.3) * 50) )* ratio;
        perpX /= perpLength;
        perpY /= perpLength;

        perpX *= num;
        perpY *= num;

        vertices[index] = point.x + perpX;
        vertices[index+1] = point.y + perpY;
        vertices[index+2] = point.x - perpX;
        vertices[index+3] = point.y - perpY;

        lastPoint = point;
    }

    this.containerUpdateTransform();
};

},{"../core":29,"./Mesh":124}],126:[function(require,module,exports){
/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
 */

/**
 * @namespace PIXI.mesh
 */
module.exports = {
    Mesh:           require('./Mesh'),
    Rope:           require('./Rope'),
    MeshRenderer:   require('./webgl/MeshRenderer'),
    MeshShader:     require('./webgl/MeshShader')
};

},{"./Mesh":124,"./Rope":125,"./webgl/MeshRenderer":127,"./webgl/MeshShader":128}],127:[function(require,module,exports){
var core = require('../../core'),
    Mesh = require('../Mesh');

/**
 * @author Mat Groves
 *
 * Big thanks to the very clever Matt DesLauriers <mattdesl> https://github.com/mattdesl/
 * for creating the original pixi version!
 * Also a thanks to https://github.com/bchevalier for tweaking the tint and alpha so that they now share 4 bytes on the vertex buffer
 *
 * Heavily inspired by LibGDX's MeshRenderer:
 * https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/MeshRenderer.java
 */

/**
 *
 * @class
 * @private
 * @memberof PIXI.mesh
 * @extends PIXI.ObjectRenderer
 * @param renderer {WebGLRenderer} The renderer this sprite batch works for.
 */
function MeshRenderer(renderer)
{
    core.ObjectRenderer.call(this, renderer);


    /**
     * Holds the indices
     *
     * @member {Uint16Array}
     */
    this.indices = new Uint16Array(15000);

    //TODO this could be a single buffer shared amongst all renderers as we reuse this set up in most renderers
    for (var i=0, j=0; i < 15000; i += 6, j += 4)
    {
        this.indices[i + 0] = j + 0;
        this.indices[i + 1] = j + 1;
        this.indices[i + 2] = j + 2;
        this.indices[i + 3] = j + 0;
        this.indices[i + 4] = j + 2;
        this.indices[i + 5] = j + 3;
    }
}

MeshRenderer.prototype = Object.create(core.ObjectRenderer.prototype);
MeshRenderer.prototype.constructor = MeshRenderer;
module.exports = MeshRenderer;

core.WebGLRenderer.registerPlugin('mesh', MeshRenderer);

/**
 * Sets up the renderer context and necessary buffers.
 *
 * @private
 * @param gl {WebGLRenderingContext} the current WebGL drawing context
 */
MeshRenderer.prototype.onContextChange = function ()
{

};

/**
 * Renders the sprite object.
 *
 * @param mesh {Mesh} the mesh to render
 */
MeshRenderer.prototype.render = function (mesh)
{
    if(!mesh._vertexBuffer)
    {
        this._initWebGL(mesh);
    }

    var renderer = this.renderer,
        gl = renderer.gl,
        texture = mesh._texture.baseTexture,
        shader = renderer.shaderManager.plugins.meshShader;

    var drawMode = mesh.drawMode === Mesh.DRAW_MODES.TRIANGLE_MESH ? gl.TRIANGLE_STRIP : gl.TRIANGLES;

    renderer.blendModeManager.setBlendMode(mesh.blendMode);


    // set uniforms
    gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, false, mesh.worldTransform.toArray(true));

    gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, renderer.currentRenderTarget.projectionMatrix.toArray(true));
    gl.uniform1f(shader.uniforms.alpha._location, mesh.worldAlpha);

    if (!mesh.dirty)
    {

        gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer);
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, mesh.vertices);
        gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 0, 0);

        // update the uvs
        gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer);
        gl.vertexAttribPointer(shader.attributes.aTextureCoord, 2, gl.FLOAT, false, 0, 0);


        gl.activeTexture(gl.TEXTURE0);

       if (!texture._glTextures[gl.id])
        {
            this.renderer.updateTexture(texture);
        }
        else
        {
            // bind the current texture
            gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);
        }

        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer);
        gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, 0, mesh.indices);
    }
    else
    {

        mesh.dirty = false;
        gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.STATIC_DRAW);
        gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, false, 0, 0);

        // update the uvs
        gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, mesh.uvs, gl.STATIC_DRAW);
        gl.vertexAttribPointer(shader.attributes.aTextureCoord, 2, gl.FLOAT, false, 0, 0);

         gl.activeTexture(gl.TEXTURE0);

        if (!texture._glTextures[gl.id])
        {
            this.renderer.updateTexture(texture);
        }
        else
        {
            // bind the current texture
            gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);
        }

        // dont need to upload!
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer);
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, mesh.indices, gl.STATIC_DRAW);

    }

    gl.drawElements(drawMode, mesh.indices.length, gl.UNSIGNED_SHORT, 0);

};

/**
 * Prepares all the buffers to render this mesh
 * @param mesh {Mesh} the mesh to render
 */
MeshRenderer.prototype._initWebGL = function (mesh)
{
    // build the strip!
    var gl = this.renderer.gl;

    mesh._vertexBuffer = gl.createBuffer();
    mesh._indexBuffer = gl.createBuffer();
    mesh._uvBuffer = gl.createBuffer();



    gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.DYNAMIC_DRAW);

    gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer);
    gl.bufferData(gl.ARRAY_BUFFER,  mesh.uvs, gl.STATIC_DRAW);

    if(mesh.colors){
        mesh._colorBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, mesh._colorBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, mesh.colors, gl.STATIC_DRAW);
    }

    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, mesh.indices, gl.STATIC_DRAW);
};


/**
 * Empties the current batch.
 *
 */
MeshRenderer.prototype.flush = function ()
{

};

/**
 * Starts a new mesh renderer.
 *
 */
MeshRenderer.prototype.start = function ()
{
    var shader = this.renderer.shaderManager.plugins.meshShader;

    this.renderer.shaderManager.setShader(shader);
};

/**
 * Destroys the Mesh renderer
 *
 */
MeshRenderer.prototype.destroy = function ()
{
};

},{"../../core":29,"../Mesh":124}],128:[function(require,module,exports){
var core = require('../../core');

/**
 * @class
 * @extends PIXI.Shader
 * @memberof PIXI.mesh
 * @param shaderManager {ShaderManager} The WebGL shader manager this shader works for.
 */
function StripShader(shaderManager)
{
    core.Shader.call(this,
        shaderManager,
        // vertex shader
        [
            'precision lowp float;',
            'attribute vec2 aVertexPosition;',
            'attribute vec2 aTextureCoord;',

            'uniform mat3 translationMatrix;',
            'uniform mat3 projectionMatrix;',

            'varying vec2 vTextureCoord;',

            'void main(void){',
            '   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);',
            '   vTextureCoord = aTextureCoord;',
            '}'
        ].join('\n'),
        [
            'precision lowp float;',

            'varying vec2 vTextureCoord;',
            'uniform float alpha;',

            'uniform sampler2D uSampler;',

            'void main(void){',
            '   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;',
            '}'
        ].join('\n'),
        // custom uniforms
        {
            alpha:  { type: '1f', value: 0 },
            translationMatrix: { type: 'mat3', value: new Float32Array(9) },
            projectionMatrix: { type: 'mat3', value: new Float32Array(9) }
        },
        // custom attributes
        {
            aVertexPosition:0,
            aTextureCoord:0
        }
    );
}

StripShader.prototype = Object.create(core.Shader.prototype);
StripShader.prototype.constructor = StripShader;
module.exports = StripShader;

core.ShaderManager.registerPlugin('meshShader', StripShader);

},{"../../core":29}],129:[function(require,module,exports){
// References:
// https://github.com/sindresorhus/object-assign
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign

if (!Object.assign)
{
    Object.assign = require('object-assign');
}

},{"object-assign":12}],130:[function(require,module,exports){
require('./Object.assign');
require('./requestAnimationFrame');

},{"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(require,module,exports){
(function (global){
// References:
// http://paulirish.com/2011/requestanimationframe-for-smart-animating/
// https://gist.github.com/1579671
// http://updates.html5rocks.com/2012/05/requestAnimationFrame-API-now-with-sub-millisecond-precision
// https://gist.github.com/timhall/4078614
// https://github.com/Financial-Times/polyfill-service/tree/master/polyfills/requestAnimationFrame

// Expected to be used with Browserfiy
// Browserify automatically detects the use of `global` and passes the
// correct reference of `global`, `self`, and finally `window`

// Date.now
if (!(Date.now && Date.prototype.getTime)) {
    Date.now = function now() {
        return new Date().getTime();
    };
}

// performance.now
if (!(global.performance && global.performance.now)) {
    var startTime = Date.now();
    if (!global.performance) {
        global.performance = {};
    }
    global.performance.now = function () {
        return Date.now() - startTime;
    };
}

// requestAnimationFrame
var lastTime = Date.now();
var vendors = ['ms', 'moz', 'webkit', 'o'];

for(var x = 0; x < vendors.length && !global.requestAnimationFrame; ++x) {
    global.requestAnimationFrame = global[vendors[x] + 'RequestAnimationFrame'];
    global.cancelAnimationFrame = global[vendors[x] + 'CancelAnimationFrame'] ||
        global[vendors[x] + 'CancelRequestAnimationFrame'];
}

if (!global.requestAnimationFrame) {
    global.requestAnimationFrame = function (callback) {
        if (typeof callback !== 'function') {
            throw new TypeError(callback + 'is not a function');
        }

        var currentTime = Date.now(),
            delay = 16 + lastTime - currentTime;

        if (delay < 0) {
            delay = 0;
        }

        lastTime = currentTime;

        return setTimeout(function () {
            lastTime = Date.now();
            callback(performance.now());
        }, delay);
    };
}

if (!global.cancelAnimationFrame) {
    global.cancelAnimationFrame = function(id) {
        clearTimeout(id);
    };
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[1])(1)
});


//# sourceMappingURL=pixi.js.map
var CLOSURE_NO_DEPS=true;var COMPILED=false;var goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(val){return val!==void 0};
goog.exportPath_=function(name,opt_object,opt_objectToExportTo){var parts=name.split(".");var cur=opt_objectToExportTo||goog.global;if(!(parts[0]in cur)&&cur.execScript)cur.execScript("var "+parts[0]);for(var part;parts.length&&(part=parts.shift());)if(!parts.length&&goog.isDef(opt_object))cur[part]=opt_object;else if(cur[part])cur=cur[part];else cur=cur[part]={}};
goog.define=function(name,defaultValue){var value=defaultValue;if(!COMPILED)if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,name))value=goog.global.CLOSURE_UNCOMPILED_DEFINES[name];else if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,name))value=goog.global.CLOSURE_DEFINES[name];goog.exportPath_(name,value)};goog.define("goog.DEBUG",true);goog.define("goog.LOCALE","en");
goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",false);goog.provide=function(name){if(!COMPILED)if(goog.isProvided_(name))throw Error('Namespace "'+name+'" already declared.');goog.constructNamespace_(name)};
goog.constructNamespace_=function(name,opt_obj){if(!COMPILED){delete goog.implicitNamespaces_[name];var namespace=name;while(namespace=namespace.substring(0,namespace.lastIndexOf("."))){if(goog.getObjectByName(namespace))break;goog.implicitNamespaces_[namespace]=true}}goog.exportPath_(name,opt_obj)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(name){if(!goog.isString(name)||!name||name.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+name+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=name;if(!COMPILED){if(goog.isProvided_(name))throw Error('Namespace "'+name+'" already declared.');delete goog.implicitNamespaces_[name]}};
goog.module.get=function(name){return goog.module.getInternal_(name)};goog.module.getInternal_=function(name){if(!COMPILED)if(goog.isProvided_(name))return name in goog.loadedModules_?goog.loadedModules_[name]:goog.getObjectByName(name);else return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};
goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from "+"within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to "+"goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=true};
goog.setTestOnly=function(opt_message){if(goog.DISALLOW_TEST_ONLY_CODE){opt_message=opt_message||"";throw Error("Importing test-only code into non-debug environment"+(opt_message?": "+opt_message:"."));}};goog.forwardDeclare=function(name){};goog.forwardDeclare("Document");goog.forwardDeclare("HTMLScriptElement");goog.forwardDeclare("XMLHttpRequest");
if(!COMPILED){goog.isProvided_=function(name){return name in goog.loadedModules_||!goog.implicitNamespaces_[name]&&goog.isDefAndNotNull(goog.getObjectByName(name))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(name,opt_obj){var parts=name.split(".");var cur=opt_obj||goog.global;for(var part;part=parts.shift();)if(goog.isDefAndNotNull(cur[part]))cur=cur[part];else return null;return cur};
goog.globalize=function(obj,opt_global){var global=opt_global||goog.global;for(var x in obj)global[x]=obj[x]};
goog.addDependency=function(relPath,provides,requires,opt_isModule){if(goog.DEPENDENCIES_ENABLED){var provide,require;var path=relPath.replace(/\\/g,"/");var deps=goog.dependencies_;for(var i=0;provide=provides[i];i++){deps.nameToPath[provide]=path;deps.pathIsModule[path]=!!opt_isModule}for(var j=0;require=requires[j];j++){if(!(path in deps.requires))deps.requires[path]={};deps.requires[path][require]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(msg){if(goog.global.console)goog.global.console["error"](msg)};
goog.require=function(name){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_)goog.maybeProcessDeferredDep_(name);if(goog.isProvided_(name))if(goog.isInModuleLoader_())return goog.module.getInternal_(name);else return null;if(goog.ENABLE_DEBUG_LOADER){var path=goog.getPathFromDeps_(name);if(path){goog.writeScripts_(path);return null}}var errorMessage="goog.require could not find: "+name;goog.logToConsole_(errorMessage);throw Error(errorMessage);}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;
goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(ctor){ctor.getInstance=function(){if(ctor.instance_)return ctor.instance_;if(goog.DEBUG)goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=ctor;return ctor.instance_=new ctor}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);
goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var doc=goog.global.document;return doc!=null&&"write"in doc};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_())return;var doc=goog.global.document;var scripts=doc.getElementsByTagName("SCRIPT");for(var i=scripts.length-1;i>=0;--i){var script=
(scripts[i]);var src=script.src;var qmark=src.lastIndexOf("?");var l=qmark==-1?src.length:qmark;if(src.substr(l-7,7)=="base.js"){goog.basePath=src.substr(0,l-7);return}}};goog.importScript_=function(src,opt_sourceText){var importScript=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(importScript(src,opt_sourceText))goog.dependencies_.written[src]=true};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.importModule_=function(src){var bootstrap='goog.retrieveAndExecModule_("'+
src+'");';if(goog.importScript_("",bootstrap))goog.dependencies_.written[src]=true};goog.queuedModules_=[];goog.wrapModule_=function(srcUrl,scriptText){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON))return""+"goog.loadModule(function(exports) {"+'"use strict";'+scriptText+"\n"+";return exports"+"});"+"\n//# sourceURL\x3d"+srcUrl+"\n";else return""+"goog.loadModule("+goog.global.JSON.stringify(scriptText+"\n//# sourceURL\x3d"+srcUrl+"\n")+");"};goog.loadQueuedModules_=function(){var count=
goog.queuedModules_.length;if(count>0){var queue=goog.queuedModules_;goog.queuedModules_=[];for(var i=0;i<count;i++){var path=queue[i];goog.maybeProcessDeferredPath_(path)}}};goog.maybeProcessDeferredDep_=function(name){if(goog.isDeferredModule_(name)&&goog.allDepsAreAvailable_(name)){var path=goog.getPathFromDeps_(name);goog.maybeProcessDeferredPath_(goog.basePath+path)}};goog.isDeferredModule_=function(name){var path=goog.getPathFromDeps_(name);if(path&&goog.dependencies_.pathIsModule[path]){var abspath=
goog.basePath+path;return abspath in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(name){var path=goog.getPathFromDeps_(name);if(path&&path in goog.dependencies_.requires)for(var requireName in goog.dependencies_.requires[path])if(!goog.isProvided_(requireName)&&!goog.isDeferredModule_(requireName))return false;return true};goog.maybeProcessDeferredPath_=function(abspath){if(abspath in goog.dependencies_.deferred){var src=goog.dependencies_.deferred[abspath];delete goog.dependencies_.deferred[abspath];
goog.globalEval(src)}};goog.loadModuleFromUrl=function(url){goog.retrieveAndExecModule_(url)};goog.loadModule=function(moduleDef){var previousState=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareLegacyNamespace:false};var exports;if(goog.isFunction(moduleDef))exports=moduleDef.call(goog.global,{});else if(goog.isString(moduleDef))exports=goog.loadModuleFromSource_.call(goog.global,moduleDef);else throw Error("Invalid module definition");var moduleName=goog.moduleLoaderState_.moduleName;
if(!goog.isString(moduleName)||!moduleName)throw Error('Invalid module name "'+moduleName+'"');if(goog.moduleLoaderState_.declareLegacyNamespace)goog.constructNamespace_(moduleName,exports);else if(goog.SEAL_MODULE_EXPORTS&&Object.seal)Object.seal(exports);goog.loadedModules_[moduleName]=exports}finally{goog.moduleLoaderState_=previousState}};goog.loadModuleFromSource_=function(){var exports={};eval(arguments[0]);return exports};goog.writeScriptSrcNode_=function(src){goog.global.document.write('\x3cscript type\x3d"text/javascript" src\x3d"'+
src+'"\x3e\x3c/'+"script\x3e")};goog.appendScriptSrcNode_=function(src){var doc=goog.global.document;var scriptEl=(doc.createElement("script"));scriptEl.type="text/javascript";scriptEl.src=src;scriptEl.defer=false;scriptEl.async=false;doc.head.appendChild(scriptEl)};goog.writeScriptTag_=function(src,opt_sourceText){if(goog.inHtmlDocument_()){var doc=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&doc.readyState=="complete"){var isDeps=/\bdeps.js$/.test(src);if(isDeps)return false;
else throw Error('Cannot write "'+src+'" after document load');}var isOldIE=goog.IS_OLD_IE_;if(opt_sourceText===undefined)if(!isOldIE)if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING)goog.appendScriptSrcNode_(src);else goog.writeScriptSrcNode_(src);else{var state=" onreadystatechange\x3d'goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";doc.write('\x3cscript type\x3d"text/javascript" src\x3d"'+src+'"'+state+"\x3e\x3c/"+"script\x3e")}else doc.write('\x3cscript type\x3d"text/javascript"\x3e'+
opt_sourceText+"\x3c/"+"script\x3e");return true}else return false};goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(script,scriptIndex){if(script.readyState=="complete"&&goog.lastNonModuleScriptIndex_==scriptIndex)goog.loadQueuedModules_();return true};goog.writeScripts_=function(pathToLoad){var scripts=[];var seenScript={};var deps=goog.dependencies_;function visitNode(path){if(path in deps.written)return;if(path in deps.visited)return;deps.visited[path]=true;if(path in deps.requires)for(var requireName in deps.requires[path])if(!goog.isProvided_(requireName))if(requireName in
deps.nameToPath)visitNode(deps.nameToPath[requireName]);else throw Error("Undefined nameToPath for "+requireName);if(!(path in seenScript)){seenScript[path]=true;scripts.push(path)}}visitNode(pathToLoad);for(var i=0;i<scripts.length;i++){var path=scripts[i];goog.dependencies_.written[path]=true}var moduleState=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var i=0;i<scripts.length;i++){var path=scripts[i];if(path)if(!deps.pathIsModule[path])goog.importScript_(goog.basePath+path);else goog.importModule_(goog.basePath+
path);else{goog.moduleLoaderState_=moduleState;throw Error("Undefined script input");}}goog.moduleLoaderState_=moduleState};goog.getPathFromDeps_=function(rule){if(rule in goog.dependencies_.nameToPath)return goog.dependencies_.nameToPath[rule];else return null};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS)goog.importScript_(goog.basePath+"deps.js")}
goog.normalizePath_=function(path){var components=path.split("/");var i=0;while(i<components.length)if(components[i]==".")components.splice(i,1);else if(i&&components[i]==".."&&components[i-1]&&components[i-1]!="..")components.splice(--i,2);else i++;return components.join("/")};goog.loadFileSync_=function(src){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(src);else{var xhr=new goog.global["XMLHttpRequest"];xhr.open("get",src,false);xhr.send();return xhr.responseText}};
goog.retrieveAndExecModule_=function(src){if(!COMPILED){var originalPath=src;src=goog.normalizePath_(src);var importScript=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var scriptText=goog.loadFileSync_(src);if(scriptText!=null){var execModuleScript=goog.wrapModule_(src,scriptText);var isOldIE=goog.IS_OLD_IE_;if(isOldIE){goog.dependencies_.deferred[originalPath]=execModuleScript;goog.queuedModules_.push(originalPath)}else importScript(src,execModuleScript)}else throw new Error("load of "+
src+"failed");}};
goog.typeOf=function(value){var s=typeof value;if(s=="object")if(value){if(value instanceof Array)return"array";else if(value instanceof Object)return s;var className=Object.prototype.toString.call((value));if(className=="[object Window]")return"object";if(className=="[object Array]"||typeof value.length=="number"&&typeof value.splice!="undefined"&&typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("splice"))return"array";if(className=="[object Function]"||typeof value.call!=
"undefined"&&typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("call"))return"function"}else return"null";else if(s=="function"&&typeof value.call=="undefined")return"object";return s};goog.isNull=function(val){return val===null};goog.isDefAndNotNull=function(val){return val!=null};goog.isArray=function(val){return goog.typeOf(val)=="array"};goog.isArrayLike=function(val){var type=goog.typeOf(val);return type=="array"||type=="object"&&typeof val.length=="number"};
goog.isDateLike=function(val){return goog.isObject(val)&&typeof val.getFullYear=="function"};goog.isString=function(val){return typeof val=="string"};goog.isBoolean=function(val){return typeof val=="boolean"};goog.isNumber=function(val){return typeof val=="number"};goog.isFunction=function(val){return goog.typeOf(val)=="function"};goog.isObject=function(val){var type=typeof val;return type=="object"&&val!=null||type=="function"};
goog.getUid=function(obj){return obj[goog.UID_PROPERTY_]||(obj[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(obj){return!!obj[goog.UID_PROPERTY_]};goog.removeUid=function(obj){if("removeAttribute"in(obj))obj.removeAttribute(goog.UID_PROPERTY_);try{delete obj[goog.UID_PROPERTY_]}catch(ex){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1E9>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;
goog.cloneObject=function(obj){var type=goog.typeOf(obj);if(type=="object"||type=="array"){if(obj.clone)return obj.clone();var clone=type=="array"?[]:{};for(var key in obj)clone[key]=goog.cloneObject(obj[key]);return clone}return obj};goog.bindNative_=function(fn,selfObj,var_args){return(fn.call.apply(fn.bind,arguments))};
goog.bindJs_=function(fn,selfObj,var_args){if(!fn)throw new Error;if(arguments.length>2){var boundArgs=Array.prototype.slice.call(arguments,2);return function(){var newArgs=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(newArgs,boundArgs);return fn.apply(selfObj,newArgs)}}else return function(){return fn.apply(selfObj,arguments)}};
goog.bind=function(fn,selfObj,var_args){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1)goog.bind=goog.bindNative_;else goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};goog.partial=function(fn,var_args){var args=Array.prototype.slice.call(arguments,1);return function(){var newArgs=args.slice();newArgs.push.apply(newArgs,arguments);return fn.apply(this,newArgs)}};goog.mixin=function(target,source){for(var x in source)target[x]=source[x]};
goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(script){if(goog.global.execScript)goog.global.execScript(script,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _evalTest_ \x3d 1;");if(typeof goog.global["_evalTest_"]!="undefined"){try{delete goog.global["_evalTest_"]}catch(ignore){}goog.evalWorksForGlobals_=true}else goog.evalWorksForGlobals_=false}if(goog.evalWorksForGlobals_)goog.global.eval(script);else{var doc=goog.global.document;var scriptElt=(doc.createElement("SCRIPT"));
scriptElt.type="text/javascript";scriptElt.defer=false;scriptElt.appendChild(doc.createTextNode(script));doc.body.appendChild(scriptElt);doc.body.removeChild(scriptElt)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;
goog.getCssName=function(className,opt_modifier){var getMapping=function(cssName){return goog.cssNameMapping_[cssName]||cssName};var renameByParts=function(cssName){var parts=cssName.split("-");var mapped=[];for(var i=0;i<parts.length;i++)mapped.push(getMapping(parts[i]));return mapped.join("-")};var rename;if(goog.cssNameMapping_)rename=goog.cssNameMappingStyle_=="BY_WHOLE"?getMapping:renameByParts;else rename=function(a){return a};if(opt_modifier)return className+"-"+rename(opt_modifier);else return rename(className)};
goog.setCssNameMapping=function(mapping,opt_style){goog.cssNameMapping_=mapping;goog.cssNameMappingStyle_=opt_style};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING)goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING;goog.getMsg=function(str,opt_values){if(opt_values)str=str.replace(/\{\$([^}]+)}/g,function(match,key){return opt_values!=null&&key in opt_values?opt_values[key]:match});return str};goog.getMsgWithFallback=function(a,b){return a};
goog.exportSymbol=function(publicPath,object,opt_objectToExportTo){goog.exportPath_(publicPath,object,opt_objectToExportTo)};goog.exportProperty=function(object,publicName,symbol){object[publicName]=symbol};
goog.inherits=function(childCtor,parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;childCtor.superClass_=parentCtor.prototype;childCtor.prototype=new tempCtor;childCtor.prototype.constructor=childCtor;childCtor.base=function(me,methodName,var_args){var args=new Array(arguments.length-2);for(var i=2;i<arguments.length;i++)args[i-2]=arguments[i];return parentCtor.prototype[methodName].apply(me,args)}};
goog.base=function(me,opt_methodName,var_args){var caller=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!caller)throw Error("arguments.caller not defined.  goog.base() cannot be used "+"with strict mode code. See "+"http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(caller.superClass_){var ctorArgs=new Array(arguments.length-1);for(var i=1;i<arguments.length;i++)ctorArgs[i-1]=arguments[i];return caller.superClass_.constructor.apply(me,ctorArgs)}var args=new Array(arguments.length-
2);for(var i=2;i<arguments.length;i++)args[i-2]=arguments[i];var foundCaller=false;for(var ctor=me.constructor;ctor;ctor=ctor.superClass_&&ctor.superClass_.constructor)if(ctor.prototype[opt_methodName]===caller)foundCaller=true;else if(foundCaller)return ctor.prototype[opt_methodName].apply(me,args);if(me[opt_methodName]===caller)return me.constructor.prototype[opt_methodName].apply(me,args);else throw Error("goog.base called from a method of one name "+"to a method of a different name");};
goog.scope=function(fn){fn.call(goog.global)};if(!COMPILED)goog.global["COMPILED"]=COMPILED;
goog.defineClass=function(superClass,def){var constructor=def.constructor;var statics=def.statics;if(!constructor||constructor==Object.prototype.constructor)constructor=function(){throw Error("cannot instantiate an interface (no constructor defined).");};var cls=goog.defineClass.createSealingConstructor_(constructor,superClass);if(superClass)goog.inherits(cls,superClass);delete def.constructor;delete def.statics;goog.defineClass.applyProperties_(cls.prototype,def);if(statics!=null)if(statics instanceof
Function)statics(cls);else goog.defineClass.applyProperties_(cls,statics);return cls};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);
goog.defineClass.createSealingConstructor_=function(ctr,superClass){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(superClass&&superClass.prototype&&superClass.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return ctr;var wrappedCtr=function(){var instance=ctr.apply(this,arguments)||this;instance[goog.UID_PROPERTY_]=instance[goog.UID_PROPERTY_];if(this.constructor===wrappedCtr)Object.seal(instance);return instance};return wrappedCtr}return ctr};
goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(target,source){var key;for(key in source)if(Object.prototype.hasOwnProperty.call(source,key))target[key]=source[key];for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++){key=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];if(Object.prototype.hasOwnProperty.call(source,key))target[key]=source[key]}};
goog.tagUnsealableClass=function(ctr){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES)ctr.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.provide("goog.string");goog.provide("goog.string.Unicode");goog.define("goog.string.DETECT_DOUBLE_ESCAPING",false);goog.define("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",false);goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(str,prefix){return str.lastIndexOf(prefix,0)==0};goog.string.endsWith=function(str,suffix){var l=str.length-suffix.length;return l>=0&&str.indexOf(suffix,l)==l};
goog.string.caseInsensitiveStartsWith=function(str,prefix){return goog.string.caseInsensitiveCompare(prefix,str.substr(0,prefix.length))==0};goog.string.caseInsensitiveEndsWith=function(str,suffix){return goog.string.caseInsensitiveCompare(suffix,str.substr(str.length-suffix.length,suffix.length))==0};goog.string.caseInsensitiveEquals=function(str1,str2){return str1.toLowerCase()==str2.toLowerCase()};
goog.string.subs=function(str,var_args){var splitParts=str.split("%s");var returnString="";var subsArguments=Array.prototype.slice.call(arguments,1);while(subsArguments.length&&splitParts.length>1)returnString+=splitParts.shift()+subsArguments.shift();return returnString+splitParts.join("%s")};goog.string.collapseWhitespace=function(str){return str.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=function(str){return/^[\s\xa0]*$/.test(str)};
goog.string.isEmptyString=function(str){return str.length==0};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(str){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(str){return!/[^\t\n\r ]/.test(str)};goog.string.isAlpha=function(str){return!/[^a-zA-Z]/.test(str)};goog.string.isNumeric=function(str){return!/[^0-9]/.test(str)};
goog.string.isAlphaNumeric=function(str){return!/[^a-zA-Z0-9]/.test(str)};goog.string.isSpace=function(ch){return ch==" "};goog.string.isUnicodeChar=function(ch){return ch.length==1&&ch>=" "&&ch<="~"||ch>="\u0080"&&ch<="\ufffd"};goog.string.stripNewlines=function(str){return str.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(str){return str.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(str){return str.replace(/\xa0|\s/g," ")};
goog.string.normalizeSpaces=function(str){return str.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(str){return str.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(str){return str.replace(/^[\s\xa0]+/,"")};
goog.string.trimRight=function(str){return str.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(str1,str2){var test1=String(str1).toLowerCase();var test2=String(str2).toLowerCase();if(test1<test2)return-1;else if(test1==test2)return 0;else return 1};
goog.string.numberAwareCompare_=function(str1,str2,tokenizerRegExp){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;var tokens1=str1.toLowerCase().match(tokenizerRegExp);var tokens2=str2.toLowerCase().match(tokenizerRegExp);var count=Math.min(tokens1.length,tokens2.length);for(var i=0;i<count;i++){var a=tokens1[i];var b=tokens2[i];if(a!=b){var num1=parseInt(a,10);if(!isNaN(num1)){var num2=parseInt(b,10);if(!isNaN(num2)&&num1-num2)return num1-num2}return a<b?-1:1}}if(tokens1.length!=tokens2.length)return tokens1.length-
tokens2.length;return str1<str2?-1:1};goog.string.intAwareCompare=function(str1,str2){return goog.string.numberAwareCompare_(str1,str2,/\d+|\D+/g)};goog.string.floatAwareCompare=function(str1,str2){return goog.string.numberAwareCompare_(str1,str2,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(str){return encodeURIComponent(String(str))};goog.string.urlDecode=function(str){return decodeURIComponent(str.replace(/\+/g," "))};
goog.string.newLineToBr=function(str,opt_xml){return str.replace(/(\r\n|\r|\n)/g,opt_xml?"\x3cbr /\x3e":"\x3cbr\x3e")};
goog.string.htmlEscape=function(str,opt_isLikelyToContainHtmlChars){if(opt_isLikelyToContainHtmlChars){str=str.replace(goog.string.AMP_RE_,"\x26amp;").replace(goog.string.LT_RE_,"\x26lt;").replace(goog.string.GT_RE_,"\x26gt;").replace(goog.string.QUOT_RE_,"\x26quot;").replace(goog.string.SINGLE_QUOTE_RE_,"\x26#39;").replace(goog.string.NULL_RE_,"\x26#0;");if(goog.string.DETECT_DOUBLE_ESCAPING)str=str.replace(goog.string.E_RE_,"\x26#101;");return str}else{if(!goog.string.ALL_RE_.test(str))return str;
if(str.indexOf("\x26")!=-1)str=str.replace(goog.string.AMP_RE_,"\x26amp;");if(str.indexOf("\x3c")!=-1)str=str.replace(goog.string.LT_RE_,"\x26lt;");if(str.indexOf("\x3e")!=-1)str=str.replace(goog.string.GT_RE_,"\x26gt;");if(str.indexOf('"')!=-1)str=str.replace(goog.string.QUOT_RE_,"\x26quot;");if(str.indexOf("'")!=-1)str=str.replace(goog.string.SINGLE_QUOTE_RE_,"\x26#39;");if(str.indexOf("\x00")!=-1)str=str.replace(goog.string.NULL_RE_,"\x26#0;");if(goog.string.DETECT_DOUBLE_ESCAPING&&str.indexOf("e")!=
-1)str=str.replace(goog.string.E_RE_,"\x26#101;");return str}};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;
goog.string.unescapeEntities=function(str){if(goog.string.contains(str,"\x26"))if(!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global)return goog.string.unescapeEntitiesUsingDom_(str);else return goog.string.unescapePureXmlEntities_(str);return str};goog.string.unescapeEntitiesWithDocument=function(str,document){if(goog.string.contains(str,"\x26"))return goog.string.unescapeEntitiesUsingDom_(str,document);return str};
goog.string.unescapeEntitiesUsingDom_=function(str,opt_document){var seen={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'};var div;if(opt_document)div=opt_document.createElement("div");else div=goog.global.document.createElement("div");return str.replace(goog.string.HTML_ENTITY_PATTERN_,function(s,entity){var value=seen[s];if(value)return value;if(entity.charAt(0)=="#"){var n=Number("0"+entity.substr(1));if(!isNaN(n))value=String.fromCharCode(n)}if(!value){div.innerHTML=s+" ";
value=div.firstChild.nodeValue.slice(0,-1)}return seen[s]=value})};goog.string.unescapePureXmlEntities_=function(str){return str.replace(/&([^;]+);/g,function(s,entity){switch(entity){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if(entity.charAt(0)=="#"){var n=Number("0"+entity.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return s}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;
goog.string.whitespaceEscape=function(str,opt_xml){return goog.string.newLineToBr(str.replace(/  /g," \x26#160;"),opt_xml)};goog.string.preserveSpaces=function(str){return str.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(str,quoteChars){var length=quoteChars.length;for(var i=0;i<length;i++){var quoteChar=length==1?quoteChars:quoteChars.charAt(i);if(str.charAt(0)==quoteChar&&str.charAt(str.length-1)==quoteChar)return str.substring(1,str.length-1)}return str};
goog.string.truncate=function(str,chars,opt_protectEscapedCharacters){if(opt_protectEscapedCharacters)str=goog.string.unescapeEntities(str);if(str.length>chars)str=str.substring(0,chars-3)+"...";if(opt_protectEscapedCharacters)str=goog.string.htmlEscape(str);return str};
goog.string.truncateMiddle=function(str,chars,opt_protectEscapedCharacters,opt_trailingChars){if(opt_protectEscapedCharacters)str=goog.string.unescapeEntities(str);if(opt_trailingChars&&str.length>chars){if(opt_trailingChars>chars)opt_trailingChars=chars;var endPoint=str.length-opt_trailingChars;var startPoint=chars-opt_trailingChars;str=str.substring(0,startPoint)+"..."+str.substring(endPoint)}else if(str.length>chars){var half=Math.floor(chars/2);var endPos=str.length-half;half+=chars%2;str=str.substring(0,
half)+"..."+str.substring(endPos)}if(opt_protectEscapedCharacters)str=goog.string.htmlEscape(str);return str};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","\x3c":"\x3c"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(s){s=String(s);var sb=['"'];for(var i=0;i<s.length;i++){var ch=s.charAt(i);var cc=ch.charCodeAt(0);sb[i+1]=goog.string.specialEscapeChars_[ch]||(cc>31&&cc<127?ch:goog.string.escapeChar(ch))}sb.push('"');return sb.join("")};goog.string.escapeString=function(str){var sb=[];for(var i=0;i<str.length;i++)sb[i]=goog.string.escapeChar(str.charAt(i));return sb.join("")};
goog.string.escapeChar=function(c){if(c in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[c];if(c in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[c]=goog.string.specialEscapeChars_[c];var rv=c;var cc=c.charCodeAt(0);if(cc>31&&cc<127)rv=c;else{if(cc<256){rv="\\x";if(cc<16||cc>256)rv+="0"}else{rv="\\u";if(cc<4096)rv+="0"}rv+=cc.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[c]=rv};
goog.string.contains=function(str,subString){return str.indexOf(subString)!=-1};goog.string.caseInsensitiveContains=function(str,subString){return goog.string.contains(str.toLowerCase(),subString.toLowerCase())};goog.string.countOf=function(s,ss){return s&&ss?s.split(ss).length-1:0};goog.string.removeAt=function(s,index,stringLength){var resultStr=s;if(index>=0&&index<s.length&&stringLength>0)resultStr=s.substr(0,index)+s.substr(index+stringLength,s.length-index-stringLength);return resultStr};
goog.string.remove=function(s,ss){var re=new RegExp(goog.string.regExpEscape(ss),"");return s.replace(re,"")};goog.string.removeAll=function(s,ss){var re=new RegExp(goog.string.regExpEscape(ss),"g");return s.replace(re,"")};goog.string.regExpEscape=function(s){return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(string,length){return string.repeat(length)}:function(string,length){return(new Array(length+1)).join(string)};
goog.string.padNumber=function(num,length,opt_precision){var s=goog.isDef(opt_precision)?num.toFixed(opt_precision):String(num);var index=s.indexOf(".");if(index==-1)index=s.length;return goog.string.repeat("0",Math.max(0,length-index))+s};goog.string.makeSafe=function(obj){return obj==null?"":String(obj)};goog.string.buildString=function(var_args){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){var x=2147483648;return Math.floor(Math.random()*x).toString(36)+Math.abs(Math.floor(Math.random()*x)^goog.now()).toString(36)};
goog.string.compareVersions=function(version1,version2){var order=0;var v1Subs=goog.string.trim(String(version1)).split(".");var v2Subs=goog.string.trim(String(version2)).split(".");var subCount=Math.max(v1Subs.length,v2Subs.length);for(var subIdx=0;order==0&&subIdx<subCount;subIdx++){var v1Sub=v1Subs[subIdx]||"";var v2Sub=v2Subs[subIdx]||"";var v1CompParser=new RegExp("(\\d*)(\\D*)","g");var v2CompParser=new RegExp("(\\d*)(\\D*)","g");do{var v1Comp=v1CompParser.exec(v1Sub)||["","",""];var v2Comp=
v2CompParser.exec(v2Sub)||["","",""];if(v1Comp[0].length==0&&v2Comp[0].length==0)break;var v1CompNum=v1Comp[1].length==0?0:parseInt(v1Comp[1],10);var v2CompNum=v2Comp[1].length==0?0:parseInt(v2Comp[1],10);order=goog.string.compareElements_(v1CompNum,v2CompNum)||goog.string.compareElements_(v1Comp[2].length==0,v2Comp[2].length==0)||goog.string.compareElements_(v1Comp[2],v2Comp[2])}while(order==0)}return order};
goog.string.compareElements_=function(left,right){if(left<right)return-1;else if(left>right)return 1;return 0};goog.string.hashCode=function(str){var result=0;for(var i=0;i<str.length;++i)result=31*result+str.charCodeAt(i)>>>0;return result};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(str){var num=Number(str);if(num==0&&goog.string.isEmptyOrWhitespace(str))return NaN;return num};goog.string.isLowerCamelCase=function(str){return/^[a-z]+([A-Z][a-z]*)*$/.test(str)};goog.string.isUpperCamelCase=function(str){return/^([A-Z][a-z]*)+$/.test(str)};goog.string.toCamelCase=function(str){return String(str).replace(/\-([a-z])/g,function(all,match){return match.toUpperCase()})};goog.string.toSelectorCase=function(str){return String(str).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(str,opt_delimiters){var delimiters=goog.isString(opt_delimiters)?goog.string.regExpEscape(opt_delimiters):"\\s";delimiters=delimiters?"|["+delimiters+"]+":"";var regexp=new RegExp("(^"+delimiters+")([a-z])","g");return str.replace(regexp,function(all,p1,p2){return p1+p2.toUpperCase()})};goog.string.capitalize=function(str){return String(str.charAt(0)).toUpperCase()+String(str.substr(1)).toLowerCase()};
goog.string.parseInt=function(value){if(isFinite(value))value=String(value);if(goog.isString(value))return/^\s*-?0x/i.test(value)?parseInt(value,16):parseInt(value,10);return NaN};goog.string.splitLimit=function(str,separator,limit){var parts=str.split(separator);var returnVal=[];while(limit>0&&parts.length){returnVal.push(parts.shift());limit--}if(parts.length)returnVal.push(parts.join(separator));return returnVal};
goog.string.editDistance=function(a,b){var v0=[];var v1=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var i=0;i<b.length+1;i++)v0[i]=i;for(var i=0;i<a.length;i++){v1[0]=i+1;for(var j=0;j<b.length;j++){var cost=a[i]!=b[j];v1[j+1]=Math.min(v1[j]+1,v0[j+1]+1,v0[j]+cost)}for(var j=0;j<v0.length;j++)v0[j]=v1[j]}return v1[b.length]};goog.provide("goog.object");goog.object.forEach=function(obj,f,opt_obj){for(var key in obj)f.call(opt_obj,obj[key],key,obj)};goog.object.filter=function(obj,f,opt_obj){var res={};for(var key in obj)if(f.call(opt_obj,obj[key],key,obj))res[key]=obj[key];return res};goog.object.map=function(obj,f,opt_obj){var res={};for(var key in obj)res[key]=f.call(opt_obj,obj[key],key,obj);return res};goog.object.some=function(obj,f,opt_obj){for(var key in obj)if(f.call(opt_obj,obj[key],key,obj))return true;return false};
goog.object.every=function(obj,f,opt_obj){for(var key in obj)if(!f.call(opt_obj,obj[key],key,obj))return false;return true};goog.object.getCount=function(obj){var rv=0;for(var key in obj)rv++;return rv};goog.object.getAnyKey=function(obj){for(var key in obj)return key};goog.object.getAnyValue=function(obj){for(var key in obj)return obj[key]};goog.object.contains=function(obj,val){return goog.object.containsValue(obj,val)};
goog.object.getValues=function(obj){var res=[];var i=0;for(var key in obj)res[i++]=obj[key];return res};goog.object.getKeys=function(obj){var res=[];var i=0;for(var key in obj)res[i++]=key;return res};goog.object.getValueByKeys=function(obj,var_args){var isArrayLike=goog.isArrayLike(var_args);var keys=isArrayLike?var_args:arguments;for(var i=isArrayLike?0:1;i<keys.length;i++){obj=obj[keys[i]];if(!goog.isDef(obj))break}return obj};
goog.object.containsKey=function(obj,key){return obj!==null&&key in obj};goog.object.containsValue=function(obj,val){for(var key in obj)if(obj[key]==val)return true;return false};goog.object.findKey=function(obj,f,opt_this){for(var key in obj)if(f.call(opt_this,obj[key],key,obj))return key;return undefined};goog.object.findValue=function(obj,f,opt_this){var key=goog.object.findKey(obj,f,opt_this);return key&&obj[key]};goog.object.isEmpty=function(obj){for(var key in obj)return false;return true};
goog.object.clear=function(obj){for(var i in obj)delete obj[i]};goog.object.remove=function(obj,key){var rv;if(rv=key in(obj))delete obj[key];return rv};goog.object.add=function(obj,key,val){if(obj!==null&&key in obj)throw Error('The object already contains the key "'+key+'"');goog.object.set(obj,key,val)};goog.object.get=function(obj,key,opt_val){if(obj!==null&&key in obj)return obj[key];return opt_val};goog.object.set=function(obj,key,value){obj[key]=value};
goog.object.setIfUndefined=function(obj,key,value){return key in(obj)?obj[key]:obj[key]=value};goog.object.setWithReturnValueIfNotSet=function(obj,key,f){if(key in obj)return obj[key];var val=f();obj[key]=val;return val};goog.object.equals=function(a,b){for(var k in a)if(!(k in b)||a[k]!==b[k])return false;for(var k in b)if(!(k in a))return false;return true};goog.object.clone=function(obj){var res={};for(var key in obj)res[key]=obj[key];return res};
goog.object.unsafeClone=function(obj){var type=goog.typeOf(obj);if(type=="object"||type=="array"){if(goog.isFunction(obj.clone))return obj.clone();var clone=type=="array"?[]:{};for(var key in obj)clone[key]=goog.object.unsafeClone(obj[key]);return clone}return obj};goog.object.transpose=function(obj){var transposed={};for(var key in obj)transposed[obj[key]]=key;return transposed};
goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.object.extend=function(target,var_args){var key,source;for(var i=1;i<arguments.length;i++){source=arguments[i];for(key in source)target[key]=source[key];for(var j=0;j<goog.object.PROTOTYPE_FIELDS_.length;j++){key=goog.object.PROTOTYPE_FIELDS_[j];if(Object.prototype.hasOwnProperty.call(source,key))target[key]=source[key]}}};
goog.object.create=function(var_args){var argLength=arguments.length;if(argLength==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(argLength%2)throw Error("Uneven number of arguments");var rv={};for(var i=0;i<argLength;i+=2)rv[arguments[i]]=arguments[i+1];return rv};
goog.object.createSet=function(var_args){var argLength=arguments.length;if(argLength==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);var rv={};for(var i=0;i<argLength;i++)rv[arguments[i]]=true;return rv};goog.object.createImmutableView=function(obj){var result=obj;if(Object.isFrozen&&!Object.isFrozen(obj)){result=Object.create(obj);Object.freeze(result)}return result};goog.object.isImmutableView=function(obj){return!!Object.isFrozen&&Object.isFrozen(obj)};goog.provide("goog.string.StringBuffer");goog.string.StringBuffer=function(opt_a1,var_args){if(opt_a1!=null)this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(s){this.buffer_=""+s};goog.string.StringBuffer.prototype.append=function(a1,opt_a2,var_args){this.buffer_+=a1;if(opt_a2!=null)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this};
goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.provide("goog.debug.Error");goog.debug.Error=function(opt_msg){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var stack=(new Error).stack;if(stack)this.stack=stack}if(opt_msg)this.message=String(opt_msg);this.reportErrorToServer=true};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.provide("goog.dom.NodeType");goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.provide("goog.asserts");goog.provide("goog.asserts.AssertionError");goog.require("goog.debug.Error");goog.require("goog.dom.NodeType");goog.require("goog.string");goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG);goog.asserts.AssertionError=function(messagePattern,messageArgs){messageArgs.unshift(messagePattern);goog.debug.Error.call(this,goog.string.subs.apply(null,messageArgs));messageArgs.shift();this.messagePattern=messagePattern};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);
goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.doAssertFailure_=function(defaultMessage,defaultArgs,givenMessage,givenArgs){var message="Assertion failed";if(givenMessage){message+=": "+givenMessage;var args=givenArgs}else if(defaultMessage){message+=": "+defaultMessage;args=defaultArgs}var e=new goog.asserts.AssertionError(""+message,args||[]);goog.asserts.errorHandler_(e)};
goog.asserts.setErrorHandler=function(errorHandler){if(goog.asserts.ENABLE_ASSERTS)goog.asserts.errorHandler_=errorHandler};goog.asserts.assert=function(condition,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!condition)goog.asserts.doAssertFailure_("",null,opt_message,Array.prototype.slice.call(arguments,2));return condition};
goog.asserts.fail=function(opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS)goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(opt_message?": "+opt_message:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(value))goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertString=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isString(value))goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertFunction=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(value))goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertObject=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isObject(value))goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertArray=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isArray(value))goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertBoolean=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(value))goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertElement=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&(!goog.isObject(value)||value.nodeType!=goog.dom.NodeType.ELEMENT))goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertInstanceof=function(value,type,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!(value instanceof type))goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(type),goog.asserts.getType_(value)],opt_message,Array.prototype.slice.call(arguments,3));return value};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var key in Object.prototype)goog.asserts.fail(key+" should not be enumerable in Object.prototype.")};
goog.asserts.getType_=function(value){if(value instanceof Function)return value.displayName||value.name||"unknown type name";else if(value instanceof Object)return value.constructor.displayName||value.constructor.name||Object.prototype.toString.call(value);else return value===null?"null":typeof value};goog.provide("goog.array");goog.provide("goog.array.ArrayLike");goog.require("goog.asserts");goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE);goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",false);goog.array.ArrayLike;goog.array.peek=function(array){return array[array.length-1]};goog.array.last=goog.array.peek;goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(arr,obj,opt_fromIndex){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(arr,obj,opt_fromIndex)}:function(arr,obj,opt_fromIndex){var fromIndex=opt_fromIndex==null?0:opt_fromIndex<0?Math.max(0,arr.length+opt_fromIndex):opt_fromIndex;if(goog.isString(arr)){if(!goog.isString(obj)||obj.length!=1)return-1;return arr.indexOf(obj,fromIndex)}for(var i=
fromIndex;i<arr.length;i++)if(i in arr&&arr[i]===obj)return i;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(arr,obj,opt_fromIndex){goog.asserts.assert(arr.length!=null);var fromIndex=opt_fromIndex==null?arr.length-1:opt_fromIndex;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(arr,obj,fromIndex)}:function(arr,obj,opt_fromIndex){var fromIndex=opt_fromIndex==null?arr.length-1:opt_fromIndex;if(fromIndex<0)fromIndex=Math.max(0,arr.length+fromIndex);if(goog.isString(arr)){if(!goog.isString(obj)||
obj.length!=1)return-1;return arr.lastIndexOf(obj,fromIndex)}for(var i=fromIndex;i>=0;i--)if(i in arr&&arr[i]===obj)return i;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);goog.array.ARRAY_PROTOTYPE_.forEach.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2)f.call(opt_obj,arr2[i],i,arr)};
goog.array.forEachRight=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=l-1;i>=0;--i)if(i in arr2)f.call(opt_obj,arr2[i],i,arr)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.filter.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var res=[];var resLength=0;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2){var val=arr2[i];if(f.call(opt_obj,val,i,arr))res[resLength++]=val}return res};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.map.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var res=new Array(l);var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2)res[i]=f.call(opt_obj,arr2[i],i,arr);return res};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(arr,f,val,opt_obj){goog.asserts.assert(arr.length!=null);if(opt_obj)f=goog.bind(f,opt_obj);return goog.array.ARRAY_PROTOTYPE_.reduce.call(arr,f,val)}:function(arr,f,val,opt_obj){var rval=val;goog.array.forEach(arr,function(val,index){rval=f.call(opt_obj,rval,val,index,arr)});return rval};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(arr,f,val,opt_obj){goog.asserts.assert(arr.length!=null);if(opt_obj)f=goog.bind(f,opt_obj);return goog.array.ARRAY_PROTOTYPE_.reduceRight.call(arr,f,val)}:function(arr,f,val,opt_obj){var rval=val;goog.array.forEachRight(arr,function(val,index){rval=f.call(opt_obj,rval,val,index,arr)});return rval};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.some.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return true;return false};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.every.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&!f.call(opt_obj,arr2[i],i,arr))return false;return true};
goog.array.count=function(arr,f,opt_obj){var count=0;goog.array.forEach(arr,function(element,index,arr){if(f.call(opt_obj,element,index,arr))++count},opt_obj);return count};goog.array.find=function(arr,f,opt_obj){var i=goog.array.findIndex(arr,f,opt_obj);return i<0?null:goog.isString(arr)?arr.charAt(i):arr[i]};goog.array.findIndex=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return i;return-1};
goog.array.findRight=function(arr,f,opt_obj){var i=goog.array.findIndexRight(arr,f,opt_obj);return i<0?null:goog.isString(arr)?arr.charAt(i):arr[i]};goog.array.findIndexRight=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=l-1;i>=0;i--)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return i;return-1};goog.array.contains=function(arr,obj){return goog.array.indexOf(arr,obj)>=0};goog.array.isEmpty=function(arr){return arr.length==0};
goog.array.clear=function(arr){if(!goog.isArray(arr))for(var i=arr.length-1;i>=0;i--)delete arr[i];arr.length=0};goog.array.insert=function(arr,obj){if(!goog.array.contains(arr,obj))arr.push(obj)};goog.array.insertAt=function(arr,obj,opt_i){goog.array.splice(arr,opt_i,0,obj)};goog.array.insertArrayAt=function(arr,elementsToAdd,opt_i){goog.partial(goog.array.splice,arr,opt_i,0).apply(null,elementsToAdd)};
goog.array.insertBefore=function(arr,obj,opt_obj2){var i;if(arguments.length==2||(i=goog.array.indexOf(arr,opt_obj2))<0)arr.push(obj);else goog.array.insertAt(arr,obj,i)};goog.array.remove=function(arr,obj){var i=goog.array.indexOf(arr,obj);var rv;if(rv=i>=0)goog.array.removeAt(arr,i);return rv};goog.array.removeAt=function(arr,i){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.call(arr,i,1).length==1};
goog.array.removeIf=function(arr,f,opt_obj){var i=goog.array.findIndex(arr,f,opt_obj);if(i>=0){goog.array.removeAt(arr,i);return true}return false};goog.array.removeAllIf=function(arr,f,opt_obj){var removedCount=0;goog.array.forEachRight(arr,function(val,index){if(f.call(opt_obj,val,index,arr))if(goog.array.removeAt(arr,index))removedCount++});return removedCount};goog.array.concat=function(var_args){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};
goog.array.join=function(var_args){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(object){var length=object.length;if(length>0){var rv=new Array(length);for(var i=0;i<length;i++)rv[i]=object[i];return rv}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(arr1,var_args){for(var i=1;i<arguments.length;i++){var arr2=arguments[i];if(goog.isArrayLike(arr2)){var len1=arr1.length||0;var len2=arr2.length||0;arr1.length=len1+len2;for(var j=0;j<len2;j++)arr1[len1+j]=arr2[j]}else arr1.push(arr2)}};goog.array.splice=function(arr,index,howMany,var_args){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.apply(arr,goog.array.slice(arguments,1))};
goog.array.slice=function(arr,start,opt_end){goog.asserts.assert(arr.length!=null);if(arguments.length<=2)return goog.array.ARRAY_PROTOTYPE_.slice.call(arr,start);else return goog.array.ARRAY_PROTOTYPE_.slice.call(arr,start,opt_end)};
goog.array.removeDuplicates=function(arr,opt_rv,opt_hashFn){var returnArray=opt_rv||arr;var defaultHashFn=function(item){return goog.isObject(item)?"o"+goog.getUid(item):(typeof item).charAt(0)+item};var hashFn=opt_hashFn||defaultHashFn;var seen={},cursorInsert=0,cursorRead=0;while(cursorRead<arr.length){var current=arr[cursorRead++];var key=hashFn(current);if(!Object.prototype.hasOwnProperty.call(seen,key)){seen[key]=true;returnArray[cursorInsert++]=current}}returnArray.length=cursorInsert};
goog.array.binarySearch=function(arr,target,opt_compareFn){return goog.array.binarySearch_(arr,opt_compareFn||goog.array.defaultCompare,false,target)};goog.array.binarySelect=function(arr,evaluator,opt_obj){return goog.array.binarySearch_(arr,evaluator,true,undefined,opt_obj)};
goog.array.binarySearch_=function(arr,compareFn,isEvaluator,opt_target,opt_selfObj){var left=0;var right=arr.length;var found;while(left<right){var middle=left+right>>1;var compareResult;if(isEvaluator)compareResult=compareFn.call(opt_selfObj,arr[middle],middle,arr);else compareResult=compareFn(opt_target,arr[middle]);if(compareResult>0)left=middle+1;else{right=middle;found=!compareResult}}return found?left:~left};goog.array.sort=function(arr,opt_compareFn){arr.sort(opt_compareFn||goog.array.defaultCompare)};
goog.array.stableSort=function(arr,opt_compareFn){for(var i=0;i<arr.length;i++)arr[i]={index:i,value:arr[i]};var valueCompareFn=opt_compareFn||goog.array.defaultCompare;function stableCompareFn(obj1,obj2){return valueCompareFn(obj1.value,obj2.value)||obj1.index-obj2.index}goog.array.sort(arr,stableCompareFn);for(var i=0;i<arr.length;i++)arr[i]=arr[i].value};
goog.array.sortByKey=function(arr,keyFn,opt_compareFn){var keyCompareFn=opt_compareFn||goog.array.defaultCompare;goog.array.sort(arr,function(a,b){return keyCompareFn(keyFn(a),keyFn(b))})};goog.array.sortObjectsByKey=function(arr,key,opt_compareFn){goog.array.sortByKey(arr,function(obj){return obj[key]},opt_compareFn)};
goog.array.isSorted=function(arr,opt_compareFn,opt_strict){var compare=opt_compareFn||goog.array.defaultCompare;for(var i=1;i<arr.length;i++){var compareResult=compare(arr[i-1],arr[i]);if(compareResult>0||compareResult==0&&opt_strict)return false}return true};
goog.array.equals=function(arr1,arr2,opt_equalsFn){if(!goog.isArrayLike(arr1)||!goog.isArrayLike(arr2)||arr1.length!=arr2.length)return false;var l=arr1.length;var equalsFn=opt_equalsFn||goog.array.defaultCompareEquality;for(var i=0;i<l;i++)if(!equalsFn(arr1[i],arr2[i]))return false;return true};
goog.array.compare3=function(arr1,arr2,opt_compareFn){var compare=opt_compareFn||goog.array.defaultCompare;var l=Math.min(arr1.length,arr2.length);for(var i=0;i<l;i++){var result=compare(arr1[i],arr2[i]);if(result!=0)return result}return goog.array.defaultCompare(arr1.length,arr2.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};
goog.array.binaryInsert=function(array,value,opt_compareFn){var index=goog.array.binarySearch(array,value,opt_compareFn);if(index<0){goog.array.insertAt(array,value,-(index+1));return true}return false};goog.array.binaryRemove=function(array,value,opt_compareFn){var index=goog.array.binarySearch(array,value,opt_compareFn);return index>=0?goog.array.removeAt(array,index):false};
goog.array.bucket=function(array,sorter,opt_obj){var buckets={};for(var i=0;i<array.length;i++){var value=array[i];var key=sorter.call(opt_obj,value,i,array);if(goog.isDef(key)){var bucket=buckets[key]||(buckets[key]=[]);bucket.push(value)}}return buckets};goog.array.toObject=function(arr,keyFunc,opt_obj){var ret={};goog.array.forEach(arr,function(element,index){ret[keyFunc.call(opt_obj,element,index,arr)]=element});return ret};
goog.array.range=function(startOrEnd,opt_end,opt_step){var array=[];var start=0;var end=startOrEnd;var step=opt_step||1;if(opt_end!==undefined){start=startOrEnd;end=opt_end}if(step*(end-start)<0)return[];if(step>0)for(var i=start;i<end;i+=step)array.push(i);else for(var i=start;i>end;i+=step)array.push(i);return array};goog.array.repeat=function(value,n){var array=[];for(var i=0;i<n;i++)array[i]=value;return array};
goog.array.flatten=function(var_args){var CHUNK_SIZE=8192;var result=[];for(var i=0;i<arguments.length;i++){var element=arguments[i];if(goog.isArray(element))for(var c=0;c<element.length;c+=CHUNK_SIZE){var chunk=goog.array.slice(element,c,c+CHUNK_SIZE);var recurseResult=goog.array.flatten.apply(null,chunk);for(var r=0;r<recurseResult.length;r++)result.push(recurseResult[r])}else result.push(element)}return result};
goog.array.rotate=function(array,n){goog.asserts.assert(array.length!=null);if(array.length){n%=array.length;if(n>0)goog.array.ARRAY_PROTOTYPE_.unshift.apply(array,array.splice(-n,n));else if(n<0)goog.array.ARRAY_PROTOTYPE_.push.apply(array,array.splice(0,-n))}return array};
goog.array.moveItem=function(arr,fromIndex,toIndex){goog.asserts.assert(fromIndex>=0&&fromIndex<arr.length);goog.asserts.assert(toIndex>=0&&toIndex<arr.length);var removedItems=goog.array.ARRAY_PROTOTYPE_.splice.call(arr,fromIndex,1);goog.array.ARRAY_PROTOTYPE_.splice.call(arr,toIndex,0,removedItems[0])};
goog.array.zip=function(var_args){if(!arguments.length)return[];var result=[];var minLen=arguments[0].length;for(var i=1;i<arguments.length;i++)if(arguments[i].length<minLen)minLen=arguments[i].length;for(var i=0;i<minLen;i++){var value=[];for(var j=0;j<arguments.length;j++)value.push(arguments[j][i]);result.push(value)}return result};
goog.array.shuffle=function(arr,opt_randFn){var randFn=opt_randFn||Math.random;for(var i=arr.length-1;i>0;i--){var j=Math.floor(randFn()*(i+1));var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}};goog.array.copyByIndex=function(arr,index_arr){var result=[];goog.array.forEach(index_arr,function(index){result.push(arr[index])});return result};goog.provide("cljs.core");goog.require("goog.string");goog.require("goog.object");goog.require("goog.array");goog.require("goog.string.StringBuffer");cljs.core._STAR_clojurescript_version_STAR_="1.7.228";cljs.core._STAR_unchecked_if_STAR_=false;goog.define("cljs.core._STAR_target_STAR_","default");cljs.core._STAR_ns_STAR_=null;cljs.core._STAR_out_STAR_=null;cljs.core._STAR_assert_STAR_=true;
if(typeof cljs.core._STAR_print_fn_STAR_!=="undefined");else cljs.core._STAR_print_fn_STAR_=function cljs$core$_STAR_print_fn_STAR_(_){throw new Error("No *print-fn* fn set for evaluation environment");};if(typeof cljs.core._STAR_print_err_fn_STAR_!=="undefined");else cljs.core._STAR_print_err_fn_STAR_=function cljs$core$_STAR_print_err_fn_STAR_(_){throw new Error("No *print-err-fn* fn set for evaluation environment");};
cljs.core.set_print_fn_BANG_=function cljs$core$set_print_fn_BANG_(f){return cljs.core._STAR_print_fn_STAR_=f};cljs.core.set_print_err_fn_BANG_=function cljs$core$set_print_err_fn_BANG_(f){return cljs.core._STAR_print_err_fn_STAR_=f};cljs.core._STAR_flush_on_newline_STAR_=true;cljs.core._STAR_print_newline_STAR_=true;cljs.core._STAR_print_readably_STAR_=true;cljs.core._STAR_print_meta_STAR_=false;cljs.core._STAR_print_dup_STAR_=false;cljs.core._STAR_print_length_STAR_=null;
cljs.core._STAR_print_level_STAR_=null;if(typeof cljs.core._STAR_loaded_libs_STAR_!=="undefined");else cljs.core._STAR_loaded_libs_STAR_=null;
cljs.core.pr_opts=function cljs$core$pr_opts(){return new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",-151457939),cljs.core._STAR_flush_on_newline_STAR_,new cljs.core.Keyword(null,"readably","readably",1129599760),cljs.core._STAR_print_readably_STAR_,new cljs.core.Keyword(null,"meta","meta",1499536964),cljs.core._STAR_print_meta_STAR_,new cljs.core.Keyword(null,"dup","dup",556298533),cljs.core._STAR_print_dup_STAR_,new cljs.core.Keyword(null,
"print-length","print-length",1931866356),cljs.core._STAR_print_length_STAR_],null)};
cljs.core.enable_console_print_BANG_=function cljs$core$enable_console_print_BANG_(){cljs.core._STAR_print_newline_STAR_=false;cljs.core._STAR_print_fn_STAR_=function(){var G__8265__delegate=function(args){return console.log.apply(console,cljs.core.into_array.cljs$core$IFn$_invoke$arity$1?cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args):cljs.core.into_array.call(null,args))};var G__8265=function(var_args){var args=null;if(arguments.length>0){var G__8266__i=0,G__8266__a=new Array(arguments.length-
0);while(G__8266__i<G__8266__a.length){G__8266__a[G__8266__i]=arguments[G__8266__i+0];++G__8266__i}args=new cljs.core.IndexedSeq(G__8266__a,0)}return G__8265__delegate.call(this,args)};G__8265.cljs$lang$maxFixedArity=0;G__8265.cljs$lang$applyTo=function(arglist__8267){var args=cljs.core.seq(arglist__8267);return G__8265__delegate(args)};G__8265.cljs$core$IFn$_invoke$arity$variadic=G__8265__delegate;return G__8265}();cljs.core._STAR_print_err_fn_STAR_=function(){var G__8268__delegate=function(args){return console.error.apply(console,
cljs.core.into_array.cljs$core$IFn$_invoke$arity$1?cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args):cljs.core.into_array.call(null,args))};var G__8268=function(var_args){var args=null;if(arguments.length>0){var G__8269__i=0,G__8269__a=new Array(arguments.length-0);while(G__8269__i<G__8269__a.length){G__8269__a[G__8269__i]=arguments[G__8269__i+0];++G__8269__i}args=new cljs.core.IndexedSeq(G__8269__a,0)}return G__8268__delegate.call(this,args)};G__8268.cljs$lang$maxFixedArity=0;G__8268.cljs$lang$applyTo=
function(arglist__8270){var args=cljs.core.seq(arglist__8270);return G__8268__delegate(args)};G__8268.cljs$core$IFn$_invoke$arity$variadic=G__8268__delegate;return G__8268}();return null};cljs.core.truth_=function cljs$core$truth_(x){return x!=null&&x!==false};cljs.core.not_native=null;cljs.core.identical_QMARK_=function cljs$core$identical_QMARK_(x,y){return x===y};cljs.core.nil_QMARK_=function cljs$core$nil_QMARK_(x){return x==null};
cljs.core.array_QMARK_=function cljs$core$array_QMARK_(x){if(cljs.core._STAR_target_STAR_==="nodejs")return Array.isArray(x);else return x instanceof Array};cljs.core.number_QMARK_=function cljs$core$number_QMARK_(x){return typeof x==="number"};cljs.core.not=function cljs$core$not(x){if(x==null)return true;else if(x===false)return true;else return false};cljs.core.some_QMARK_=function cljs$core$some_QMARK_(x){return!(x==null)};
cljs.core.object_QMARK_=function cljs$core$object_QMARK_(x){if(!(x==null))return x.constructor===Object;else return false};cljs.core.string_QMARK_=function cljs$core$string_QMARK_(x){return goog.isString(x)};cljs.core.char_QMARK_=function cljs$core$char_QMARK_(x){return goog.string.isUnicodeChar(x)};cljs.core.native_satisfies_QMARK_=function cljs$core$native_satisfies_QMARK_(p,x){var x__$1=x==null?null:x;if(p[goog.typeOf(x__$1)])return true;else if(p["_"])return true;else return false};
cljs.core.is_proto_=function cljs$core$is_proto_(x){return x.constructor.prototype===x};cljs.core._STAR_main_cli_fn_STAR_=null;cljs.core.type=function cljs$core$type(x){if(x==null)return null;else return x.constructor};
cljs.core.missing_protocol=function cljs$core$missing_protocol(proto,obj){var ty=cljs.core.type(obj);var ty__$1=cljs.core.truth_(function(){var and__6144__auto__=ty;if(cljs.core.truth_(and__6144__auto__))return ty.cljs$lang$type;else return and__6144__auto__}())?ty.cljs$lang$ctorStr:goog.typeOf(obj);return new Error(["No protocol method ",proto," defined for type ",ty__$1,": ",obj].join(""))};
cljs.core.type__GT_str=function cljs$core$type__GT_str(ty){var temp__4655__auto__=ty.cljs$lang$ctorStr;if(cljs.core.truth_(temp__4655__auto__)){var s=temp__4655__auto__;return s}else return[cljs.core.str(ty)].join("")};cljs.core.load_file=function cljs$core$load_file(file){if(cljs.core.truth_(COMPILED))return null;else return goog.nodeGlobalRequire(file)};if(typeof Symbol!=="undefined"&&goog.typeOf(Symbol)==="function")cljs.core.ITER_SYMBOL=Symbol.iterator;else cljs.core.ITER_SYMBOL="@@iterator";
cljs.core.CHAR_MAP={"]":"_RBRACK_","'":"_SINGLEQUOTE_","\x3d":"_EQ_",'"':"_DOUBLEQUOTE_","!":"_BANG_","*":"_STAR_","%":"_PERCENT_","|":"_BAR_","~":"_TILDE_","/":"_SLASH_","\\":"_BSLASH_","-":"_","?":"_QMARK_","\x26":"_AMPERSAND_",":":"_COLON_","\x3c":"_LT_","{":"_LBRACE_","}":"_RBRACE_","[":"_LBRACK_","#":"_SHARP_","^":"_CARET_","+":"_PLUS_","@":"_CIRCA_","\x3e":"_GT_"};
cljs.core.DEMUNGE_MAP={"_RBRACE_":"}","_COLON_":":","_BANG_":"!","_QMARK_":"?","_BSLASH_":"\\\\","_SLASH_":"/","_PERCENT_":"%","_PLUS_":"+","_SHARP_":"#","_LBRACE_":"{","_BAR_":"|","_LBRACK_":"[","_EQ_":"\x3d","_":"-","_TILDE_":"~","_RBRACK_":"]","_GT_":"\x3e","_SINGLEQUOTE_":"'","_CIRCA_":"@","_AMPERSAND_":"\x26","_DOUBLEQUOTE_":'\\"',"_CARET_":"^","_LT_":"\x3c","_STAR_":"*"};cljs.core.DEMUNGE_PATTERN=null;
cljs.core.system_time=function cljs$core$system_time(){if(typeof performance!=="undefined"&&!(performance.now==null))return performance.now();else if(typeof process!=="undefined"&&!(process.hrtime==null)){var t=process.hrtime();return(t[0]*1E9+t[1])/1E6}else return(new Date).getTime()};
cljs.core.make_array=function cljs$core$make_array(var_args){var args8271=[];var len__7214__auto___8274=arguments.length;var i__7215__auto___8275=0;while(true){if(i__7215__auto___8275<len__7214__auto___8274){args8271.push(arguments[i__7215__auto___8275]);var G__8276=i__7215__auto___8275+1;i__7215__auto___8275=G__8276;continue}else;break}var G__8273=args8271.length;switch(G__8273){case 1:return cljs.core.make_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.make_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8271.length)].join(""));}};cljs.core.make_array.cljs$core$IFn$_invoke$arity$1=function(size){return new Array(size)};cljs.core.make_array.cljs$core$IFn$_invoke$arity$2=function(type,size){return new Array(size)};cljs.core.make_array.cljs$lang$maxFixedArity=2;
cljs.core.aclone=function cljs$core$aclone(arr){var len=arr.length;var new_arr=new Array(len);var n__7059__auto___8278=len;var i_8279=0;while(true){if(i_8279<n__7059__auto___8278){new_arr[i_8279]=arr[i_8279];var G__8280=i_8279+1;i_8279=G__8280;continue}else;break}return new_arr};cljs.core.array=function cljs$core$array(var_args){var a=new Array(arguments.length);var i=0;while(true){if(i<a.length){a[i]=arguments[i];var G__8281=i+1;i=G__8281;continue}else return a;break}};
cljs.core.aget=function cljs$core$aget(var_args){var args8282=[];var len__7214__auto___8291=arguments.length;var i__7215__auto___8292=0;while(true){if(i__7215__auto___8292<len__7214__auto___8291){args8282.push(arguments[i__7215__auto___8292]);var G__8293=i__7215__auto___8292+1;i__7215__auto___8292=G__8293;continue}else;break}var G__8287=args8282.length;switch(G__8287){case 2:return cljs.core.aget.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8282.slice(2),
0);return cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.aget.cljs$core$IFn$_invoke$arity$2=function(array,i){return array[i]};cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic=function(array,i,idxs){var G__8288=cljs.core.aget;var G__8289=array[i];var G__8290=idxs;return cljs.core.apply.cljs$core$IFn$_invoke$arity$3?cljs.core.apply.cljs$core$IFn$_invoke$arity$3(G__8288,G__8289,G__8290):cljs.core.apply.call(null,G__8288,G__8289,G__8290)};
cljs.core.aget.cljs$lang$applyTo=function(seq8283){var G__8284=cljs.core.first(seq8283);var seq8283__$1=cljs.core.next(seq8283);var G__8285=cljs.core.first(seq8283__$1);var seq8283__$2=cljs.core.next(seq8283__$1);return cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(G__8284,G__8285,seq8283__$2)};cljs.core.aget.cljs$lang$maxFixedArity=2;
cljs.core.aset=function cljs$core$aset(var_args){var args8295=[];var len__7214__auto___8306=arguments.length;var i__7215__auto___8307=0;while(true){if(i__7215__auto___8307<len__7214__auto___8306){args8295.push(arguments[i__7215__auto___8307]);var G__8308=i__7215__auto___8307+1;i__7215__auto___8307=G__8308;continue}else;break}var G__8301=args8295.length;switch(G__8301){case 3:return cljs.core.aset.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8295.slice(3),0);return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.aset.cljs$core$IFn$_invoke$arity$3=function(array,i,val){return array[i]=val};
cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic=function(array,idx,idx2,idxv){var G__8302=cljs.core.aset;var G__8303=array[idx];var G__8304=idx2;var G__8305=idxv;return cljs.core.apply.cljs$core$IFn$_invoke$arity$4?cljs.core.apply.cljs$core$IFn$_invoke$arity$4(G__8302,G__8303,G__8304,G__8305):cljs.core.apply.call(null,G__8302,G__8303,G__8304,G__8305)};
cljs.core.aset.cljs$lang$applyTo=function(seq8296){var G__8297=cljs.core.first(seq8296);var seq8296__$1=cljs.core.next(seq8296);var G__8298=cljs.core.first(seq8296__$1);var seq8296__$2=cljs.core.next(seq8296__$1);var G__8299=cljs.core.first(seq8296__$2);var seq8296__$3=cljs.core.next(seq8296__$2);return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(G__8297,G__8298,G__8299,seq8296__$3)};cljs.core.aset.cljs$lang$maxFixedArity=3;cljs.core.alength=function cljs$core$alength(array){return array.length};
cljs.core.into_array=function cljs$core$into_array(var_args){var args8310=[];var len__7214__auto___8316=arguments.length;var i__7215__auto___8317=0;while(true){if(i__7215__auto___8317<len__7214__auto___8316){args8310.push(arguments[i__7215__auto___8317]);var G__8318=i__7215__auto___8317+1;i__7215__auto___8317=G__8318;continue}else;break}var G__8312=args8310.length;switch(G__8312){case 1:return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8310.length)].join(""));}};cljs.core.into_array.cljs$core$IFn$_invoke$arity$1=function(aseq){return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(null,aseq)};
cljs.core.into_array.cljs$core$IFn$_invoke$arity$2=function(type,aseq){var G__8313=function(a,x){a.push(x);return a};var G__8314=[];var G__8315=aseq;return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(G__8313,G__8314,G__8315):cljs.core.reduce.call(null,G__8313,G__8314,G__8315)};cljs.core.into_array.cljs$lang$maxFixedArity=2;
cljs.core.js_invoke=function cljs$core$js_invoke(var_args){var args__7221__auto__=[];var len__7214__auto___8323=arguments.length;var i__7215__auto___8324=0;while(true){if(i__7215__auto___8324<len__7214__auto___8323){args__7221__auto__.push(arguments[i__7215__auto___8324]);var G__8325=i__7215__auto___8324+1;i__7215__auto___8324=G__8325;continue}else;break}var argseq__7222__auto__=2<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(2),0):null;return cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
arguments[1],argseq__7222__auto__)};cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic=function(obj,s,args){return obj[s].apply(obj,cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(args))};cljs.core.js_invoke.cljs$lang$maxFixedArity=2;
cljs.core.js_invoke.cljs$lang$applyTo=function(seq8320){var G__8321=cljs.core.first(seq8320);var seq8320__$1=cljs.core.next(seq8320);var G__8322=cljs.core.first(seq8320__$1);var seq8320__$2=cljs.core.next(seq8320__$1);return cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(G__8321,G__8322,seq8320__$2)};cljs.core.Fn=function(){};cljs.core.IFn=function(){};
cljs.core._invoke=function cljs$core$_invoke(var_args){var args8326=[];var len__7214__auto___8329=arguments.length;var i__7215__auto___8330=0;while(true){if(i__7215__auto___8330<len__7214__auto___8329){args8326.push(arguments[i__7215__auto___8330]);var G__8331=i__7215__auto___8330+1;i__7215__auto___8330=G__8331;continue}else;break}var G__8328=args8326.length;switch(G__8328){case 1:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);break;case 7:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$7(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);break;case 8:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$8(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);break;case 9:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$9(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],
arguments[7],arguments[8]);break;case 10:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$10(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);break;case 11:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$11(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);break;case 12:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$12(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);break;case 13:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$13(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);break;case 14:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$14(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13]);break;case 15:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$15(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);break;case 16:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$16(arguments[0],arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);break;case 17:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$17(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);break;case 18:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$18(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);break;case 19:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$19(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],
arguments[16],arguments[17],arguments[18]);break;case 20:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$20(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);break;case 21:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$21(arguments[0],arguments[1],arguments[2],arguments[3],
arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);break;case 22:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$22(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],
arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20],arguments[21]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8326.length)].join(""));}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$1=function(this$){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$1==null))return this$.cljs$core$IFn$_invoke$arity$1(this$);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(this$):m__6812__auto__.call(null,this$);else{var m__6812__auto____$1=cljs.core._invoke["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(this$):m__6812__auto____$1.call(null,this$);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$2=function(this$,a){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$2==null))return this$.cljs$core$IFn$_invoke$arity$2(this$,a);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(this$,a):m__6812__auto__.call(null,this$,a);else{var m__6812__auto____$1=cljs.core._invoke["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(this$,a):m__6812__auto____$1.call(null,this$,a);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$3=function(this$,a,b){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$3==null))return this$.cljs$core$IFn$_invoke$arity$3(this$,a,b);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$,a,b):m__6812__auto__.call(null,this$,a,b);else{var m__6812__auto____$1=
cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$,a,b):m__6812__auto____$1.call(null,this$,a,b);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$4=function(this$,a,b,c){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$4==null))return this$.cljs$core$IFn$_invoke$arity$4(this$,a,b,c);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$4?m__6812__auto__.cljs$core$IFn$_invoke$arity$4(this$,a,b,c):m__6812__auto__.call(null,this$,a,b,c);else{var m__6812__auto____$1=
cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4(this$,a,b,c):m__6812__auto____$1.call(null,this$,a,b,c);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$5=function(this$,a,b,c,d){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$5==null))return this$.cljs$core$IFn$_invoke$arity$5(this$,a,b,c,d);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$5?m__6812__auto__.cljs$core$IFn$_invoke$arity$5(this$,a,b,c,d):m__6812__auto__.call(null,this$,a,b,c,d);else{var m__6812__auto____$1=
cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5(this$,a,b,c,d):m__6812__auto____$1.call(null,this$,a,b,c,d);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$6=function(this$,a,b,c,d,e){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$6==null))return this$.cljs$core$IFn$_invoke$arity$6(this$,a,b,c,d,e);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$6?m__6812__auto__.cljs$core$IFn$_invoke$arity$6(this$,a,b,c,d,e):m__6812__auto__.call(null,this$,a,b,c,d,e);
else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$6?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$6(this$,a,b,c,d,e):m__6812__auto____$1.call(null,this$,a,b,c,d,e);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$7=function(this$,a,b,c,d,e,f){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$7==null))return this$.cljs$core$IFn$_invoke$arity$7(this$,a,b,c,d,e,f);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$7?m__6812__auto__.cljs$core$IFn$_invoke$arity$7(this$,a,b,c,d,e,f):m__6812__auto__.call(null,this$,a,b,c,
d,e,f);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$7?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$7(this$,a,b,c,d,e,f):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$8=function(this$,a,b,c,d,e,f,g){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$8==null))return this$.cljs$core$IFn$_invoke$arity$8(this$,a,b,c,d,e,f,g);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$8?m__6812__auto__.cljs$core$IFn$_invoke$arity$8(this$,a,b,c,d,e,f,g):m__6812__auto__.call(null,this$,
a,b,c,d,e,f,g);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$8?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$8(this$,a,b,c,d,e,f,g):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$9=function(this$,a,b,c,d,e,f,g,h){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$9==null))return this$.cljs$core$IFn$_invoke$arity$9(this$,a,b,c,d,e,f,g,h);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$9?m__6812__auto__.cljs$core$IFn$_invoke$arity$9(this$,a,b,c,d,e,f,g,h):m__6812__auto__.call(null,
this$,a,b,c,d,e,f,g,h);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$9?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$9(this$,a,b,c,d,e,f,g,h):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$10=function(this$,a,b,c,d,e,f,g,h,i){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$10==null))return this$.cljs$core$IFn$_invoke$arity$10(this$,a,b,c,d,e,f,g,h,i);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$10?m__6812__auto__.cljs$core$IFn$_invoke$arity$10(this$,a,b,c,d,e,f,g,h,i):m__6812__auto__.call(null,
this$,a,b,c,d,e,f,g,h,i);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$10?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$10(this$,a,b,c,d,e,f,g,h,i):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$11=function(this$,a,b,c,d,e,f,g,h,i,j){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$11==null))return this$.cljs$core$IFn$_invoke$arity$11(this$,a,b,c,d,e,f,g,h,i,j);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$11?m__6812__auto__.cljs$core$IFn$_invoke$arity$11(this$,a,b,c,d,e,f,g,h,i,j):m__6812__auto__.call(null,
this$,a,b,c,d,e,f,g,h,i,j);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$11?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$11(this$,a,b,c,d,e,f,g,h,i,j):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$12=function(this$,a,b,c,d,e,f,g,h,i,j,k){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$12==null))return this$.cljs$core$IFn$_invoke$arity$12(this$,a,b,c,d,e,f,g,h,i,j,k);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$12?m__6812__auto__.cljs$core$IFn$_invoke$arity$12(this$,a,b,c,d,e,f,g,h,i,j,k):m__6812__auto__.call(null,
this$,a,b,c,d,e,f,g,h,i,j,k);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$12?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$12(this$,a,b,c,d,e,f,g,h,i,j,k):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$13=function(this$,a,b,c,d,e,f,g,h,i,j,k,l){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$13==null))return this$.cljs$core$IFn$_invoke$arity$13(this$,a,b,c,d,e,f,g,h,i,j,k,l);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$13?m__6812__auto__.cljs$core$IFn$_invoke$arity$13(this$,a,b,c,d,e,f,g,h,i,j,k,
l):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$13?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$13(this$,a,b,c,d,e,f,g,h,i,j,k,l):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$14=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$14==null))return this$.cljs$core$IFn$_invoke$arity$14(this$,a,b,c,d,e,f,g,h,i,j,k,l,m);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$14?m__6812__auto__.cljs$core$IFn$_invoke$arity$14(this$,a,b,c,d,e,f,g,h,i,
j,k,l,m):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$14?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$14(this$,a,b,c,d,e,f,g,h,i,j,k,l,m):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$15=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$15==null))return this$.cljs$core$IFn$_invoke$arity$15(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$15?m__6812__auto__.cljs$core$IFn$_invoke$arity$15(this$,a,b,c,d,e,f,g,
h,i,j,k,l,m,n):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$15?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$15(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$16=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$16==null))return this$.cljs$core$IFn$_invoke$arity$16(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$16?m__6812__auto__.cljs$core$IFn$_invoke$arity$16(this$,a,b,c,d,e,
f,g,h,i,j,k,l,m,n,o):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$16?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$16(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$17=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$17==null))return this$.cljs$core$IFn$_invoke$arity$17(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$17?m__6812__auto__.cljs$core$IFn$_invoke$arity$17(this$,a,b,c,
d,e,f,g,h,i,j,k,l,m,n,o,p):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$17?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$17(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$18=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$18==null))return this$.cljs$core$IFn$_invoke$arity$18(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$18?m__6812__auto__.cljs$core$IFn$_invoke$arity$18(this$,a,
b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$18?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$18(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$19=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$19==null))return this$.cljs$core$IFn$_invoke$arity$19(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$19?m__6812__auto__.cljs$core$IFn$_invoke$arity$19(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$19?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$19(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$20=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$20==null))return this$.cljs$core$IFn$_invoke$arity$20(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$20?m__6812__auto__.cljs$core$IFn$_invoke$arity$20(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$20?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$20(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$21=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$21==null))return this$.cljs$core$IFn$_invoke$arity$21(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$21?m__6812__auto__.cljs$core$IFn$_invoke$arity$21(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$21?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$21(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);else throw cljs.core.missing_protocol("IFn.-invoke",this$);}}};
cljs.core._invoke.cljs$core$IFn$_invoke$arity$22=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){if(!(this$==null)&&!(this$.cljs$core$IFn$_invoke$arity$22==null))return this$.cljs$core$IFn$_invoke$arity$22(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._invoke[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$22?m__6812__auto__.cljs$core$IFn$_invoke$arity$22(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest):m__6812__auto__.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest);else{var m__6812__auto____$1=cljs.core._invoke["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$22?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$22(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest):m__6812__auto____$1.call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest);else throw cljs.core.missing_protocol("IFn.-invoke",
this$);}}};cljs.core._invoke.cljs$lang$maxFixedArity=22;cljs.core.ICloneable=function(){};
cljs.core._clone=function cljs$core$_clone(value){if(!(value==null)&&!(value.cljs$core$ICloneable$_clone$arity$1==null))return value.cljs$core$ICloneable$_clone$arity$1(value);else{var x__6811__auto__=value==null?null:value;var m__6812__auto__=cljs.core._clone[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(value):m__6812__auto__.call(null,value);else{var m__6812__auto____$1=cljs.core._clone["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(value):m__6812__auto____$1.call(null,value);else throw cljs.core.missing_protocol("ICloneable.-clone",value);}}};cljs.core.ICounted=function(){};
cljs.core._count=function cljs$core$_count(coll){if(!(coll==null)&&!(coll.cljs$core$ICounted$_count$arity$1==null))return coll.cljs$core$ICounted$_count$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._count[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._count["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("ICounted.-count",coll);}}};cljs.core.IEmptyableCollection=function(){};
cljs.core._empty=function cljs$core$_empty(coll){if(!(coll==null)&&!(coll.cljs$core$IEmptyableCollection$_empty$arity$1==null))return coll.cljs$core$IEmptyableCollection$_empty$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._empty[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._empty["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IEmptyableCollection.-empty",coll);}}};cljs.core.ICollection=function(){};
cljs.core._conj=function cljs$core$_conj(coll,o){if(!(coll==null)&&!(coll.cljs$core$ICollection$_conj$arity$2==null))return coll.cljs$core$ICollection$_conj$arity$2(coll,o);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._conj[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,o):m__6812__auto__.call(null,coll,o);else{var m__6812__auto____$1=cljs.core._conj["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,o):m__6812__auto____$1.call(null,coll,o);else throw cljs.core.missing_protocol("ICollection.-conj",coll);}}};cljs.core.IIndexed=function(){};
cljs.core._nth=function cljs$core$_nth(var_args){var args8333=[];var len__7214__auto___8336=arguments.length;var i__7215__auto___8337=0;while(true){if(i__7215__auto___8337<len__7214__auto___8336){args8333.push(arguments[i__7215__auto___8337]);var G__8338=i__7215__auto___8337+1;i__7215__auto___8337=G__8338;continue}else;break}var G__8335=args8333.length;switch(G__8335){case 2:return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8333.length)].join(""));}};
cljs.core._nth.cljs$core$IFn$_invoke$arity$2=function(coll,n){if(!(coll==null)&&!(coll.cljs$core$IIndexed$_nth$arity$2==null))return coll.cljs$core$IIndexed$_nth$arity$2(coll,n);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._nth[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,n):m__6812__auto__.call(null,coll,n);else{var m__6812__auto____$1=cljs.core._nth["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,n):m__6812__auto____$1.call(null,coll,n);else throw cljs.core.missing_protocol("IIndexed.-nth",coll);}}};
cljs.core._nth.cljs$core$IFn$_invoke$arity$3=function(coll,n,not_found){if(!(coll==null)&&!(coll.cljs$core$IIndexed$_nth$arity$3==null))return coll.cljs$core$IIndexed$_nth$arity$3(coll,n,not_found);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._nth[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,n,not_found):m__6812__auto__.call(null,coll,n,not_found);else{var m__6812__auto____$1=
cljs.core._nth["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,n,not_found):m__6812__auto____$1.call(null,coll,n,not_found);else throw cljs.core.missing_protocol("IIndexed.-nth",coll);}}};cljs.core._nth.cljs$lang$maxFixedArity=3;cljs.core.ASeq=function(){};cljs.core.ISeq=function(){};
cljs.core._first=function cljs$core$_first(coll){if(!(coll==null)&&!(coll.cljs$core$ISeq$_first$arity$1==null))return coll.cljs$core$ISeq$_first$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._first[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._first["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("ISeq.-first",coll);}}};
cljs.core._rest=function cljs$core$_rest(coll){if(!(coll==null)&&!(coll.cljs$core$ISeq$_rest$arity$1==null))return coll.cljs$core$ISeq$_rest$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._rest[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._rest["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("ISeq.-rest",coll);}}};cljs.core.INext=function(){};
cljs.core._next=function cljs$core$_next(coll){if(!(coll==null)&&!(coll.cljs$core$INext$_next$arity$1==null))return coll.cljs$core$INext$_next$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._next[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._next["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("INext.-next",coll);}}};cljs.core.ILookup=function(){};
cljs.core._lookup=function cljs$core$_lookup(var_args){var args8340=[];var len__7214__auto___8343=arguments.length;var i__7215__auto___8344=0;while(true){if(i__7215__auto___8344<len__7214__auto___8343){args8340.push(arguments[i__7215__auto___8344]);var G__8345=i__7215__auto___8344+1;i__7215__auto___8344=G__8345;continue}else;break}var G__8342=args8340.length;switch(G__8342){case 2:return cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8340.length)].join(""));}};
cljs.core._lookup.cljs$core$IFn$_invoke$arity$2=function(o,k){if(!(o==null)&&!(o.cljs$core$ILookup$_lookup$arity$2==null))return o.cljs$core$ILookup$_lookup$arity$2(o,k);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._lookup[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,k):m__6812__auto__.call(null,o,k);else{var m__6812__auto____$1=cljs.core._lookup["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,k):m__6812__auto____$1.call(null,o,k);else throw cljs.core.missing_protocol("ILookup.-lookup",o);}}};
cljs.core._lookup.cljs$core$IFn$_invoke$arity$3=function(o,k,not_found){if(!(o==null)&&!(o.cljs$core$ILookup$_lookup$arity$3==null))return o.cljs$core$ILookup$_lookup$arity$3(o,k,not_found);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._lookup[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o,k,not_found):m__6812__auto__.call(null,o,k,not_found);else{var m__6812__auto____$1=
cljs.core._lookup["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o,k,not_found):m__6812__auto____$1.call(null,o,k,not_found);else throw cljs.core.missing_protocol("ILookup.-lookup",o);}}};cljs.core._lookup.cljs$lang$maxFixedArity=3;cljs.core.IAssociative=function(){};
cljs.core._contains_key_QMARK_=function cljs$core$_contains_key_QMARK_(coll,k){if(!(coll==null)&&!(coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2==null))return coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2(coll,k);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._contains_key_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,k):m__6812__auto__.call(null,
coll,k);else{var m__6812__auto____$1=cljs.core._contains_key_QMARK_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,k):m__6812__auto____$1.call(null,coll,k);else throw cljs.core.missing_protocol("IAssociative.-contains-key?",coll);}}};
cljs.core._assoc=function cljs$core$_assoc(coll,k,v){if(!(coll==null)&&!(coll.cljs$core$IAssociative$_assoc$arity$3==null))return coll.cljs$core$IAssociative$_assoc$arity$3(coll,k,v);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._assoc[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,k,v):m__6812__auto__.call(null,coll,k,v);else{var m__6812__auto____$1=cljs.core._assoc["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,k,v):m__6812__auto____$1.call(null,coll,k,v);else throw cljs.core.missing_protocol("IAssociative.-assoc",coll);}}};cljs.core.IMap=function(){};
cljs.core._dissoc=function cljs$core$_dissoc(coll,k){if(!(coll==null)&&!(coll.cljs$core$IMap$_dissoc$arity$2==null))return coll.cljs$core$IMap$_dissoc$arity$2(coll,k);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._dissoc[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,k):m__6812__auto__.call(null,coll,k);else{var m__6812__auto____$1=cljs.core._dissoc["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,k):m__6812__auto____$1.call(null,coll,k);else throw cljs.core.missing_protocol("IMap.-dissoc",coll);}}};cljs.core.IMapEntry=function(){};
cljs.core._key=function cljs$core$_key(coll){if(!(coll==null)&&!(coll.cljs$core$IMapEntry$_key$arity$1==null))return coll.cljs$core$IMapEntry$_key$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._key[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._key["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IMapEntry.-key",coll);}}};
cljs.core._val=function cljs$core$_val(coll){if(!(coll==null)&&!(coll.cljs$core$IMapEntry$_val$arity$1==null))return coll.cljs$core$IMapEntry$_val$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._val[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._val["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IMapEntry.-val",coll);}}};cljs.core.ISet=function(){};
cljs.core._disjoin=function cljs$core$_disjoin(coll,v){if(!(coll==null)&&!(coll.cljs$core$ISet$_disjoin$arity$2==null))return coll.cljs$core$ISet$_disjoin$arity$2(coll,v);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._disjoin[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,v):m__6812__auto__.call(null,coll,v);else{var m__6812__auto____$1=cljs.core._disjoin["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,v):m__6812__auto____$1.call(null,coll,v);else throw cljs.core.missing_protocol("ISet.-disjoin",coll);}}};cljs.core.IStack=function(){};
cljs.core._peek=function cljs$core$_peek(coll){if(!(coll==null)&&!(coll.cljs$core$IStack$_peek$arity$1==null))return coll.cljs$core$IStack$_peek$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._peek[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._peek["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IStack.-peek",coll);}}};
cljs.core._pop=function cljs$core$_pop(coll){if(!(coll==null)&&!(coll.cljs$core$IStack$_pop$arity$1==null))return coll.cljs$core$IStack$_pop$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._pop[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._pop["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IStack.-pop",coll);}}};cljs.core.IVector=function(){};
cljs.core._assoc_n=function cljs$core$_assoc_n(coll,n,val){if(!(coll==null)&&!(coll.cljs$core$IVector$_assoc_n$arity$3==null))return coll.cljs$core$IVector$_assoc_n$arity$3(coll,n,val);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._assoc_n[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,n,val):m__6812__auto__.call(null,coll,n,val);else{var m__6812__auto____$1=
cljs.core._assoc_n["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,n,val):m__6812__auto____$1.call(null,coll,n,val);else throw cljs.core.missing_protocol("IVector.-assoc-n",coll);}}};cljs.core.IDeref=function(){};
cljs.core._deref=function cljs$core$_deref(o){if(!(o==null)&&!(o.cljs$core$IDeref$_deref$arity$1==null))return o.cljs$core$IDeref$_deref$arity$1(o);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._deref[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto__.call(null,o);else{var m__6812__auto____$1=cljs.core._deref["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?
m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto____$1.call(null,o);else throw cljs.core.missing_protocol("IDeref.-deref",o);}}};cljs.core.IDerefWithTimeout=function(){};
cljs.core._deref_with_timeout=function cljs$core$_deref_with_timeout(o,msec,timeout_val){if(!(o==null)&&!(o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3==null))return o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3(o,msec,timeout_val);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._deref_with_timeout[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o,
msec,timeout_val):m__6812__auto__.call(null,o,msec,timeout_val);else{var m__6812__auto____$1=cljs.core._deref_with_timeout["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o,msec,timeout_val):m__6812__auto____$1.call(null,o,msec,timeout_val);else throw cljs.core.missing_protocol("IDerefWithTimeout.-deref-with-timeout",o);}}};cljs.core.IMeta=function(){};
cljs.core._meta=function cljs$core$_meta(o){if(!(o==null)&&!(o.cljs$core$IMeta$_meta$arity$1==null))return o.cljs$core$IMeta$_meta$arity$1(o);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._meta[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto__.call(null,o);else{var m__6812__auto____$1=cljs.core._meta["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?
m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto____$1.call(null,o);else throw cljs.core.missing_protocol("IMeta.-meta",o);}}};cljs.core.IWithMeta=function(){};
cljs.core._with_meta=function cljs$core$_with_meta(o,meta){if(!(o==null)&&!(o.cljs$core$IWithMeta$_with_meta$arity$2==null))return o.cljs$core$IWithMeta$_with_meta$arity$2(o,meta);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._with_meta[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,meta):m__6812__auto__.call(null,o,meta);else{var m__6812__auto____$1=cljs.core._with_meta["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,meta):m__6812__auto____$1.call(null,o,meta);else throw cljs.core.missing_protocol("IWithMeta.-with-meta",o);}}};cljs.core.IReduce=function(){};
cljs.core._reduce=function cljs$core$_reduce(var_args){var args8347=[];var len__7214__auto___8350=arguments.length;var i__7215__auto___8351=0;while(true){if(i__7215__auto___8351<len__7214__auto___8350){args8347.push(arguments[i__7215__auto___8351]);var G__8352=i__7215__auto___8351+1;i__7215__auto___8351=G__8352;continue}else;break}var G__8349=args8347.length;switch(G__8349){case 2:return cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8347.length)].join(""));}};
cljs.core._reduce.cljs$core$IFn$_invoke$arity$2=function(coll,f){if(!(coll==null)&&!(coll.cljs$core$IReduce$_reduce$arity$2==null))return coll.cljs$core$IReduce$_reduce$arity$2(coll,f);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._reduce[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,f):m__6812__auto__.call(null,coll,f);else{var m__6812__auto____$1=cljs.core._reduce["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,f):m__6812__auto____$1.call(null,coll,f);else throw cljs.core.missing_protocol("IReduce.-reduce",coll);}}};
cljs.core._reduce.cljs$core$IFn$_invoke$arity$3=function(coll,f,start){if(!(coll==null)&&!(coll.cljs$core$IReduce$_reduce$arity$3==null))return coll.cljs$core$IReduce$_reduce$arity$3(coll,f,start);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._reduce[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,f,start):m__6812__auto__.call(null,coll,f,start);else{var m__6812__auto____$1=
cljs.core._reduce["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,f,start):m__6812__auto____$1.call(null,coll,f,start);else throw cljs.core.missing_protocol("IReduce.-reduce",coll);}}};cljs.core._reduce.cljs$lang$maxFixedArity=3;cljs.core.IKVReduce=function(){};
cljs.core._kv_reduce=function cljs$core$_kv_reduce(coll,f,init){if(!(coll==null)&&!(coll.cljs$core$IKVReduce$_kv_reduce$arity$3==null))return coll.cljs$core$IKVReduce$_kv_reduce$arity$3(coll,f,init);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._kv_reduce[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,f,init):m__6812__auto__.call(null,coll,f,init);else{var m__6812__auto____$1=
cljs.core._kv_reduce["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,f,init):m__6812__auto____$1.call(null,coll,f,init);else throw cljs.core.missing_protocol("IKVReduce.-kv-reduce",coll);}}};cljs.core.IEquiv=function(){};
cljs.core._equiv=function cljs$core$_equiv(o,other){if(!(o==null)&&!(o.cljs$core$IEquiv$_equiv$arity$2==null))return o.cljs$core$IEquiv$_equiv$arity$2(o,other);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._equiv[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,other):m__6812__auto__.call(null,o,other);else{var m__6812__auto____$1=cljs.core._equiv["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,other):m__6812__auto____$1.call(null,o,other);else throw cljs.core.missing_protocol("IEquiv.-equiv",o);}}};cljs.core.IHash=function(){};
cljs.core._hash=function cljs$core$_hash(o){if(!(o==null)&&!(o.cljs$core$IHash$_hash$arity$1==null))return o.cljs$core$IHash$_hash$arity$1(o);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._hash[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto__.call(null,o);else{var m__6812__auto____$1=cljs.core._hash["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?
m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto____$1.call(null,o);else throw cljs.core.missing_protocol("IHash.-hash",o);}}};cljs.core.ISeqable=function(){};
cljs.core._seq=function cljs$core$_seq(o){if(!(o==null)&&!(o.cljs$core$ISeqable$_seq$arity$1==null))return o.cljs$core$ISeqable$_seq$arity$1(o);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._seq[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto__.call(null,o);else{var m__6812__auto____$1=cljs.core._seq["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?
m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(o):m__6812__auto____$1.call(null,o);else throw cljs.core.missing_protocol("ISeqable.-seq",o);}}};cljs.core.ISequential=function(){};cljs.core.IList=function(){};cljs.core.IRecord=function(){};cljs.core.IReversible=function(){};
cljs.core._rseq=function cljs$core$_rseq(coll){if(!(coll==null)&&!(coll.cljs$core$IReversible$_rseq$arity$1==null))return coll.cljs$core$IReversible$_rseq$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._rseq[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._rseq["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IReversible.-rseq",coll);}}};cljs.core.ISorted=function(){};
cljs.core._sorted_seq=function cljs$core$_sorted_seq(coll,ascending_QMARK_){if(!(coll==null)&&!(coll.cljs$core$ISorted$_sorted_seq$arity$2==null))return coll.cljs$core$ISorted$_sorted_seq$arity$2(coll,ascending_QMARK_);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._sorted_seq[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,ascending_QMARK_):m__6812__auto__.call(null,
coll,ascending_QMARK_);else{var m__6812__auto____$1=cljs.core._sorted_seq["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,ascending_QMARK_):m__6812__auto____$1.call(null,coll,ascending_QMARK_);else throw cljs.core.missing_protocol("ISorted.-sorted-seq",coll);}}};
cljs.core._sorted_seq_from=function cljs$core$_sorted_seq_from(coll,k,ascending_QMARK_){if(!(coll==null)&&!(coll.cljs$core$ISorted$_sorted_seq_from$arity$3==null))return coll.cljs$core$ISorted$_sorted_seq_from$arity$3(coll,k,ascending_QMARK_);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._sorted_seq_from[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(coll,k,ascending_QMARK_):
m__6812__auto__.call(null,coll,k,ascending_QMARK_);else{var m__6812__auto____$1=cljs.core._sorted_seq_from["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(coll,k,ascending_QMARK_):m__6812__auto____$1.call(null,coll,k,ascending_QMARK_);else throw cljs.core.missing_protocol("ISorted.-sorted-seq-from",coll);}}};
cljs.core._entry_key=function cljs$core$_entry_key(coll,entry){if(!(coll==null)&&!(coll.cljs$core$ISorted$_entry_key$arity$2==null))return coll.cljs$core$ISorted$_entry_key$arity$2(coll,entry);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._entry_key[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(coll,entry):m__6812__auto__.call(null,coll,entry);else{var m__6812__auto____$1=
cljs.core._entry_key["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(coll,entry):m__6812__auto____$1.call(null,coll,entry);else throw cljs.core.missing_protocol("ISorted.-entry-key",coll);}}};
cljs.core._comparator=function cljs$core$_comparator(coll){if(!(coll==null)&&!(coll.cljs$core$ISorted$_comparator$arity$1==null))return coll.cljs$core$ISorted$_comparator$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._comparator[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._comparator["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("ISorted.-comparator",coll);}}};cljs.core.IWriter=function(){};
cljs.core._write=function cljs$core$_write(writer,s){if(!(writer==null)&&!(writer.cljs$core$IWriter$_write$arity$2==null))return writer.cljs$core$IWriter$_write$arity$2(writer,s);else{var x__6811__auto__=writer==null?null:writer;var m__6812__auto__=cljs.core._write[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(writer,s):m__6812__auto__.call(null,writer,s);else{var m__6812__auto____$1=cljs.core._write["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(writer,s):m__6812__auto____$1.call(null,writer,s);else throw cljs.core.missing_protocol("IWriter.-write",writer);}}};
cljs.core._flush=function cljs$core$_flush(writer){if(!(writer==null)&&!(writer.cljs$core$IWriter$_flush$arity$1==null))return writer.cljs$core$IWriter$_flush$arity$1(writer);else{var x__6811__auto__=writer==null?null:writer;var m__6812__auto__=cljs.core._flush[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(writer):m__6812__auto__.call(null,writer);else{var m__6812__auto____$1=cljs.core._flush["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(writer):m__6812__auto____$1.call(null,writer);else throw cljs.core.missing_protocol("IWriter.-flush",writer);}}};cljs.core.IPrintWithWriter=function(){};
cljs.core._pr_writer=function cljs$core$_pr_writer(o,writer,opts){if(!(o==null)&&!(o.cljs$core$IPrintWithWriter$_pr_writer$arity$3==null))return o.cljs$core$IPrintWithWriter$_pr_writer$arity$3(o,writer,opts);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._pr_writer[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o,writer,opts):m__6812__auto__.call(null,o,writer,opts);
else{var m__6812__auto____$1=cljs.core._pr_writer["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o,writer,opts):m__6812__auto____$1.call(null,o,writer,opts);else throw cljs.core.missing_protocol("IPrintWithWriter.-pr-writer",o);}}};cljs.core.IPending=function(){};
cljs.core._realized_QMARK_=function cljs$core$_realized_QMARK_(x){if(!(x==null)&&!(x.cljs$core$IPending$_realized_QMARK_$arity$1==null))return x.cljs$core$IPending$_realized_QMARK_$arity$1(x);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._realized_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto__.call(null,x);else{var m__6812__auto____$1=cljs.core._realized_QMARK_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto____$1.call(null,x);else throw cljs.core.missing_protocol("IPending.-realized?",x);}}};cljs.core.IWatchable=function(){};
cljs.core._notify_watches=function cljs$core$_notify_watches(this$,oldval,newval){if(!(this$==null)&&!(this$.cljs$core$IWatchable$_notify_watches$arity$3==null))return this$.cljs$core$IWatchable$_notify_watches$arity$3(this$,oldval,newval);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._notify_watches[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$,oldval,
newval):m__6812__auto__.call(null,this$,oldval,newval);else{var m__6812__auto____$1=cljs.core._notify_watches["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$,oldval,newval):m__6812__auto____$1.call(null,this$,oldval,newval);else throw cljs.core.missing_protocol("IWatchable.-notify-watches",this$);}}};
cljs.core._add_watch=function cljs$core$_add_watch(this$,key,f){if(!(this$==null)&&!(this$.cljs$core$IWatchable$_add_watch$arity$3==null))return this$.cljs$core$IWatchable$_add_watch$arity$3(this$,key,f);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._add_watch[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(this$,key,f):m__6812__auto__.call(null,this$,key,f);
else{var m__6812__auto____$1=cljs.core._add_watch["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(this$,key,f):m__6812__auto____$1.call(null,this$,key,f);else throw cljs.core.missing_protocol("IWatchable.-add-watch",this$);}}};
cljs.core._remove_watch=function cljs$core$_remove_watch(this$,key){if(!(this$==null)&&!(this$.cljs$core$IWatchable$_remove_watch$arity$2==null))return this$.cljs$core$IWatchable$_remove_watch$arity$2(this$,key);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core._remove_watch[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(this$,key):m__6812__auto__.call(null,this$,
key);else{var m__6812__auto____$1=cljs.core._remove_watch["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(this$,key):m__6812__auto____$1.call(null,this$,key);else throw cljs.core.missing_protocol("IWatchable.-remove-watch",this$);}}};cljs.core.IEditableCollection=function(){};
cljs.core._as_transient=function cljs$core$_as_transient(coll){if(!(coll==null)&&!(coll.cljs$core$IEditableCollection$_as_transient$arity$1==null))return coll.cljs$core$IEditableCollection$_as_transient$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._as_transient[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);
else{var m__6812__auto____$1=cljs.core._as_transient["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IEditableCollection.-as-transient",coll);}}};cljs.core.ITransientCollection=function(){};
cljs.core._conj_BANG_=function cljs$core$_conj_BANG_(tcoll,val){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2==null))return tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2(tcoll,val);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._conj_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll,val):m__6812__auto__.call(null,
tcoll,val);else{var m__6812__auto____$1=cljs.core._conj_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll,val):m__6812__auto____$1.call(null,tcoll,val);else throw cljs.core.missing_protocol("ITransientCollection.-conj!",tcoll);}}};
cljs.core._persistent_BANG_=function cljs$core$_persistent_BANG_(tcoll){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1==null))return tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(tcoll);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._persistent_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(tcoll):m__6812__auto__.call(null,
tcoll);else{var m__6812__auto____$1=cljs.core._persistent_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(tcoll):m__6812__auto____$1.call(null,tcoll);else throw cljs.core.missing_protocol("ITransientCollection.-persistent!",tcoll);}}};cljs.core.ITransientAssociative=function(){};
cljs.core._assoc_BANG_=function cljs$core$_assoc_BANG_(tcoll,key,val){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3==null))return tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(tcoll,key,val);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._assoc_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(tcoll,key,val):
m__6812__auto__.call(null,tcoll,key,val);else{var m__6812__auto____$1=cljs.core._assoc_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(tcoll,key,val):m__6812__auto____$1.call(null,tcoll,key,val);else throw cljs.core.missing_protocol("ITransientAssociative.-assoc!",tcoll);}}};cljs.core.ITransientMap=function(){};
cljs.core._dissoc_BANG_=function cljs$core$_dissoc_BANG_(tcoll,key){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2==null))return tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2(tcoll,key);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._dissoc_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll,key):m__6812__auto__.call(null,
tcoll,key);else{var m__6812__auto____$1=cljs.core._dissoc_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll,key):m__6812__auto____$1.call(null,tcoll,key);else throw cljs.core.missing_protocol("ITransientMap.-dissoc!",tcoll);}}};cljs.core.ITransientVector=function(){};
cljs.core._assoc_n_BANG_=function cljs$core$_assoc_n_BANG_(tcoll,n,val){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3==null))return tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3(tcoll,n,val);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._assoc_n_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(tcoll,n,val):m__6812__auto__.call(null,
tcoll,n,val);else{var m__6812__auto____$1=cljs.core._assoc_n_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(tcoll,n,val):m__6812__auto____$1.call(null,tcoll,n,val);else throw cljs.core.missing_protocol("ITransientVector.-assoc-n!",tcoll);}}};
cljs.core._pop_BANG_=function cljs$core$_pop_BANG_(tcoll){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1==null))return tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1(tcoll);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._pop_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(tcoll):m__6812__auto__.call(null,tcoll);else{var m__6812__auto____$1=
cljs.core._pop_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(tcoll):m__6812__auto____$1.call(null,tcoll);else throw cljs.core.missing_protocol("ITransientVector.-pop!",tcoll);}}};cljs.core.ITransientSet=function(){};
cljs.core._disjoin_BANG_=function cljs$core$_disjoin_BANG_(tcoll,v){if(!(tcoll==null)&&!(tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2==null))return tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2(tcoll,v);else{var x__6811__auto__=tcoll==null?null:tcoll;var m__6812__auto__=cljs.core._disjoin_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(tcoll,v):m__6812__auto__.call(null,
tcoll,v);else{var m__6812__auto____$1=cljs.core._disjoin_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(tcoll,v):m__6812__auto____$1.call(null,tcoll,v);else throw cljs.core.missing_protocol("ITransientSet.-disjoin!",tcoll);}}};cljs.core.IComparable=function(){};
cljs.core._compare=function cljs$core$_compare(x,y){if(!(x==null)&&!(x.cljs$core$IComparable$_compare$arity$2==null))return x.cljs$core$IComparable$_compare$arity$2(x,y);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._compare[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(x,y):m__6812__auto__.call(null,x,y);else{var m__6812__auto____$1=cljs.core._compare["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(x,y):m__6812__auto____$1.call(null,x,y);else throw cljs.core.missing_protocol("IComparable.-compare",x);}}};cljs.core.IChunk=function(){};
cljs.core._drop_first=function cljs$core$_drop_first(coll){if(!(coll==null)&&!(coll.cljs$core$IChunk$_drop_first$arity$1==null))return coll.cljs$core$IChunk$_drop_first$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._drop_first[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._drop_first["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IChunk.-drop-first",coll);}}};cljs.core.IChunkedSeq=function(){};
cljs.core._chunked_first=function cljs$core$_chunked_first(coll){if(!(coll==null)&&!(coll.cljs$core$IChunkedSeq$_chunked_first$arity$1==null))return coll.cljs$core$IChunkedSeq$_chunked_first$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._chunked_first[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=
cljs.core._chunked_first["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IChunkedSeq.-chunked-first",coll);}}};
cljs.core._chunked_rest=function cljs$core$_chunked_rest(coll){if(!(coll==null)&&!(coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1==null))return coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._chunked_rest[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=
cljs.core._chunked_rest["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IChunkedSeq.-chunked-rest",coll);}}};cljs.core.IChunkedNext=function(){};
cljs.core._chunked_next=function cljs$core$_chunked_next(coll){if(!(coll==null)&&!(coll.cljs$core$IChunkedNext$_chunked_next$arity$1==null))return coll.cljs$core$IChunkedNext$_chunked_next$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._chunked_next[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=
cljs.core._chunked_next["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IChunkedNext.-chunked-next",coll);}}};cljs.core.INamed=function(){};
cljs.core._name=function cljs$core$_name(x){if(!(x==null)&&!(x.cljs$core$INamed$_name$arity$1==null))return x.cljs$core$INamed$_name$arity$1(x);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._name[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto__.call(null,x);else{var m__6812__auto____$1=cljs.core._name["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?
m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto____$1.call(null,x);else throw cljs.core.missing_protocol("INamed.-name",x);}}};
cljs.core._namespace=function cljs$core$_namespace(x){if(!(x==null)&&!(x.cljs$core$INamed$_namespace$arity$1==null))return x.cljs$core$INamed$_namespace$arity$1(x);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._namespace[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto__.call(null,x);else{var m__6812__auto____$1=cljs.core._namespace["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto____$1.call(null,x);else throw cljs.core.missing_protocol("INamed.-namespace",x);}}};cljs.core.IAtom=function(){};cljs.core.IReset=function(){};
cljs.core._reset_BANG_=function cljs$core$_reset_BANG_(o,new_value){if(!(o==null)&&!(o.cljs$core$IReset$_reset_BANG_$arity$2==null))return o.cljs$core$IReset$_reset_BANG_$arity$2(o,new_value);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._reset_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,new_value):m__6812__auto__.call(null,o,new_value);else{var m__6812__auto____$1=
cljs.core._reset_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,new_value):m__6812__auto____$1.call(null,o,new_value);else throw cljs.core.missing_protocol("IReset.-reset!",o);}}};cljs.core.ISwap=function(){};
cljs.core._swap_BANG_=function cljs$core$_swap_BANG_(var_args){var args8354=[];var len__7214__auto___8357=arguments.length;var i__7215__auto___8358=0;while(true){if(i__7215__auto___8358<len__7214__auto___8357){args8354.push(arguments[i__7215__auto___8358]);var G__8359=i__7215__auto___8358+1;i__7215__auto___8358=G__8359;continue}else;break}var G__8356=args8354.length;switch(G__8356){case 2:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8354.length)].join(""));}};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2=function(o,f){if(!(o==null)&&!(o.cljs$core$ISwap$_swap_BANG_$arity$2==null))return o.cljs$core$ISwap$_swap_BANG_$arity$2(o,f);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,f):m__6812__auto__.call(null,o,f);else{var m__6812__auto____$1=cljs.core._swap_BANG_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,f):m__6812__auto____$1.call(null,o,f);else throw cljs.core.missing_protocol("ISwap.-swap!",o);}}};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3=function(o,f,a){if(!(o==null)&&!(o.cljs$core$ISwap$_swap_BANG_$arity$3==null))return o.cljs$core$ISwap$_swap_BANG_$arity$3(o,f,a);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(o,f,a):m__6812__auto__.call(null,o,f,a);else{var m__6812__auto____$1=cljs.core._swap_BANG_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(o,f,a):m__6812__auto____$1.call(null,o,f,a);else throw cljs.core.missing_protocol("ISwap.-swap!",o);}}};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4=function(o,f,a,b){if(!(o==null)&&!(o.cljs$core$ISwap$_swap_BANG_$arity$4==null))return o.cljs$core$ISwap$_swap_BANG_$arity$4(o,f,a,b);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$4?m__6812__auto__.cljs$core$IFn$_invoke$arity$4(o,f,a,b):m__6812__auto__.call(null,o,f,a,b);else{var m__6812__auto____$1=cljs.core._swap_BANG_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$4(o,f,a,b):m__6812__auto____$1.call(null,o,f,a,b);else throw cljs.core.missing_protocol("ISwap.-swap!",o);}}};
cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5=function(o,f,a,b,xs){if(!(o==null)&&!(o.cljs$core$ISwap$_swap_BANG_$arity$5==null))return o.cljs$core$ISwap$_swap_BANG_$arity$5(o,f,a,b,xs);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._swap_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$5?m__6812__auto__.cljs$core$IFn$_invoke$arity$5(o,f,a,b,xs):m__6812__auto__.call(null,o,f,a,b,xs);else{var m__6812__auto____$1=
cljs.core._swap_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$5(o,f,a,b,xs):m__6812__auto____$1.call(null,o,f,a,b,xs);else throw cljs.core.missing_protocol("ISwap.-swap!",o);}}};cljs.core._swap_BANG_.cljs$lang$maxFixedArity=5;cljs.core.IVolatile=function(){};
cljs.core._vreset_BANG_=function cljs$core$_vreset_BANG_(o,new_value){if(!(o==null)&&!(o.cljs$core$IVolatile$_vreset_BANG_$arity$2==null))return o.cljs$core$IVolatile$_vreset_BANG_$arity$2(o,new_value);else{var x__6811__auto__=o==null?null:o;var m__6812__auto__=cljs.core._vreset_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(o,new_value):m__6812__auto__.call(null,o,new_value);else{var m__6812__auto____$1=
cljs.core._vreset_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(o,new_value):m__6812__auto____$1.call(null,o,new_value);else throw cljs.core.missing_protocol("IVolatile.-vreset!",o);}}};cljs.core.IIterable=function(){};
cljs.core._iterator=function cljs$core$_iterator(coll){if(!(coll==null)&&!(coll.cljs$core$IIterable$_iterator$arity$1==null))return coll.cljs$core$IIterable$_iterator$arity$1(coll);else{var x__6811__auto__=coll==null?null:coll;var m__6812__auto__=cljs.core._iterator[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto__.call(null,coll);else{var m__6812__auto____$1=cljs.core._iterator["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(coll):m__6812__auto____$1.call(null,coll);else throw cljs.core.missing_protocol("IIterable.-iterator",coll);}}};cljs.core.StringBufferWriter=function(sb){this.sb=sb;this.cljs$lang$protocol_mask$partition0$=1073741824;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_write$arity$2=function(_,s){var self__=this;var ___$1=this;return self__.sb.append(s)};cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_flush$arity$1=function(_){var self__=this;var ___$1=this;return null};cljs.core.StringBufferWriter.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"sb","sb",-1249746442,null)],null)};
cljs.core.StringBufferWriter.cljs$lang$type=true;cljs.core.StringBufferWriter.cljs$lang$ctorStr="cljs.core/StringBufferWriter";cljs.core.StringBufferWriter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/StringBufferWriter")};cljs.core.__GT_StringBufferWriter=function cljs$core$__GT_StringBufferWriter(sb){return new cljs.core.StringBufferWriter(sb)};
cljs.core.pr_str_STAR_=function cljs$core$pr_str_STAR_(obj){var sb=new goog.string.StringBuffer;var writer=new cljs.core.StringBufferWriter(sb);obj.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null,writer,cljs.core.pr_opts());writer.cljs$core$IWriter$_flush$arity$1(null);return[cljs.core.str(sb)].join("")};cljs.core.int_rotate_left=function cljs$core$int_rotate_left(x,n){return x<<n|x>>>-n};
if(typeof Math.imul!=="undefined"&&!(Math.imul(4294967295,5)===0))cljs.core.imul=function cljs$core$imul(a,b){return Math.imul(a,b)};else cljs.core.imul=function cljs$core$imul(a,b){var ah=a>>>16&65535;var al=a&65535;var bh=b>>>16&65535;var bl=b&65535;return al*bl+(ah*bl+al*bh<<16>>>0)|0};cljs.core.m3_seed=0;cljs.core.m3_C1=3432918353|0;cljs.core.m3_C2=461845907|0;
cljs.core.m3_mix_K1=function cljs$core$m3_mix_K1(k1){return cljs.core.imul(cljs.core.int_rotate_left(cljs.core.imul(k1|0,cljs.core.m3_C1),15),cljs.core.m3_C2)};cljs.core.m3_mix_H1=function cljs$core$m3_mix_H1(h1,k1){return cljs.core.imul(cljs.core.int_rotate_left((h1|0)^(k1|0),13),5)+(3864292196|0)|0};
cljs.core.m3_fmix=function cljs$core$m3_fmix(h1,len){var h1__$1=h1|0;var h1__$2=h1__$1^len;var h1__$3=h1__$2^h1__$2>>>16;var h1__$4=cljs.core.imul(h1__$3,2246822507|0);var h1__$5=h1__$4^h1__$4>>>13;var h1__$6=cljs.core.imul(h1__$5,3266489909|0);return h1__$6^h1__$6>>>16};cljs.core.m3_hash_int=function cljs$core$m3_hash_int(in$){if(in$===0)return in$;else{var k1=cljs.core.m3_mix_K1(in$);var h1=cljs.core.m3_mix_H1(cljs.core.m3_seed,k1);return cljs.core.m3_fmix(h1,4)}};
cljs.core.m3_hash_unencoded_chars=function cljs$core$m3_hash_unencoded_chars(in$){var h1=function(){var i=1;var h1=cljs.core.m3_seed;while(true){if(i<in$.length){var G__8361=i+2;var G__8362=cljs.core.m3_mix_H1(h1,cljs.core.m3_mix_K1(in$.charCodeAt(i-1)|in$.charCodeAt(i)<<16));i=G__8361;h1=G__8362;continue}else return h1;break}}();var h1__$1=(in$.length&1)===1?h1^cljs.core.m3_mix_K1(in$.charCodeAt(in$.length-1)):h1;return cljs.core.m3_fmix(h1__$1,cljs.core.imul(2,in$.length))};
cljs.core.string_hash_cache={};cljs.core.string_hash_cache_count=0;cljs.core.hash_string_STAR_=function cljs$core$hash_string_STAR_(s){if(!(s==null)){var len=s.length;if(len>0){var i=0;var hash=0;while(true){if(i<len){var G__8365=i+1;var G__8366=cljs.core.imul(31,hash)+s.charCodeAt(i);i=G__8365;hash=G__8366;continue}else return hash;break}}else return 0}else return 0};
cljs.core.add_to_string_hash_cache=function cljs$core$add_to_string_hash_cache(k){var h=cljs.core.hash_string_STAR_(k);cljs.core.string_hash_cache[k]=h;cljs.core.string_hash_cache_count=cljs.core.string_hash_cache_count+1;return h};cljs.core.hash_string=function cljs$core$hash_string(k){if(cljs.core.string_hash_cache_count>255){cljs.core.string_hash_cache={};cljs.core.string_hash_cache_count=0}else;var h=cljs.core.string_hash_cache[k];if(typeof h==="number")return h;else return cljs.core.add_to_string_hash_cache(k)};
cljs.core.hash=function cljs$core$hash(o){if(!(o==null)?o.cljs$lang$protocol_mask$partition0$&4194304||o.cljs$core$IHash$?true:false:false)return o.cljs$core$IHash$_hash$arity$1(null);else if(typeof o==="number")return Math.floor(o)%2147483647;else if(o===true)return 1;else if(o===false)return 0;else if(typeof o==="string")return cljs.core.m3_hash_int(cljs.core.hash_string(o));else if(o instanceof Date)return o.valueOf();else if(o==null)return 0;else return cljs.core._hash(o)};
cljs.core.hash_combine=function cljs$core$hash_combine(seed,hash){return seed^hash+2654435769+(seed<<6)+(seed>>2)};cljs.core.instance_QMARK_=function cljs$core$instance_QMARK_(c,x){return x instanceof c};cljs.core.symbol_QMARK_=function cljs$core$symbol_QMARK_(x){return x instanceof cljs.core.Symbol};cljs.core.hash_symbol=function cljs$core$hash_symbol(sym){return cljs.core.hash_combine(cljs.core.m3_hash_unencoded_chars(sym.name),cljs.core.hash_string(sym.ns))};
cljs.core.compare_symbols=function cljs$core$compare_symbols(a,b){if(a.str===b.str)return 0;else if(cljs.core.truth_(function(){var and__6144__auto__=cljs.core.not(a.ns);if(and__6144__auto__)return b.ns;else return and__6144__auto__}()))return-1;else if(cljs.core.truth_(a.ns))if(cljs.core.not(b.ns))return 1;else{var nsc=function(){var G__8379=a.ns;var G__8380=b.ns;return goog.array.defaultCompare(G__8379,G__8380)}();if(0===nsc){var G__8381=a.name;var G__8382=b.name;return goog.array.defaultCompare(G__8381,
G__8382)}else return nsc}else{var G__8383=a.name;var G__8384=b.name;return goog.array.defaultCompare(G__8383,G__8384)}};cljs.core.Symbol=function(ns,name,str,_hash,_meta){this.ns=ns;this.name=name;this.str=str;this._hash=_hash;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=2154168321;this.cljs$lang$protocol_mask$partition1$=4096};cljs.core.Symbol.prototype.toString=function(){var self__=this;var _=this;return self__.str};
cljs.core.Symbol.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.Symbol.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;if(other instanceof cljs.core.Symbol)return self__.str===other.str;else return false};
cljs.core.Symbol.prototype.call=function(){var G__8386=null;var G__8386__2=function(self__,coll){var self__=this;var self____$1=this;var sym=self____$1;return cljs.core.get.cljs$core$IFn$_invoke$arity$2?cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll,sym):cljs.core.get.call(null,coll,sym)};var G__8386__3=function(self__,coll,not_found){var self__=this;var self____$1=this;var sym=self____$1;return cljs.core.get.cljs$core$IFn$_invoke$arity$3?cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll,sym,not_found):
cljs.core.get.call(null,coll,sym,not_found)};G__8386=function(self__,coll,not_found){switch(arguments.length){case 2:return G__8386__2.call(this,self__,coll);case 3:return G__8386__3.call(this,self__,coll,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__8386.cljs$core$IFn$_invoke$arity$2=G__8386__2;G__8386.cljs$core$IFn$_invoke$arity$3=G__8386__3;return G__8386}();
cljs.core.Symbol.prototype.apply=function(self__,args8385){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args8385)))};cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$1=function(coll){var self__=this;var sym=this;return cljs.core.get.cljs$core$IFn$_invoke$arity$2?cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll,sym):cljs.core.get.call(null,coll,sym)};
cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$2=function(coll,not_found){var self__=this;var sym=this;return cljs.core.get.cljs$core$IFn$_invoke$arity$3?cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll,sym,not_found):cljs.core.get.call(null,coll,sym,not_found)};cljs.core.Symbol.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__._meta};
cljs.core.Symbol.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_,new_meta){var self__=this;var ___$1=this;return new cljs.core.Symbol(self__.ns,self__.name,self__.str,self__._hash,new_meta)};cljs.core.Symbol.prototype.cljs$core$IHash$_hash$arity$1=function(sym){var self__=this;var sym__$1=this;var h__6591__auto__=self__._hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_symbol(sym__$1);self__._hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.Symbol.prototype.cljs$core$INamed$_name$arity$1=function(_){var self__=this;var ___$1=this;return self__.name};cljs.core.Symbol.prototype.cljs$core$INamed$_namespace$arity$1=function(_){var self__=this;var ___$1=this;return self__.ns};cljs.core.Symbol.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(o,writer,_){var self__=this;var o__$1=this;return cljs.core._write(writer,self__.str)};
cljs.core.Symbol.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ns","ns",2082130287,null),new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"str","str",-1564826950,null),cljs.core.with_meta(new cljs.core.Symbol(null,"_hash","_hash",-2130838312,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,
"_meta","_meta",-1716892533,null)],null)};cljs.core.Symbol.cljs$lang$type=true;cljs.core.Symbol.cljs$lang$ctorStr="cljs.core/Symbol";cljs.core.Symbol.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Symbol")};cljs.core.__GT_Symbol=function cljs$core$__GT_Symbol(ns,name,str,_hash,_meta){return new cljs.core.Symbol(ns,name,str,_hash,_meta)};
cljs.core.symbol=function cljs$core$symbol(var_args){var args8387=[];var len__7214__auto___8390=arguments.length;var i__7215__auto___8391=0;while(true){if(i__7215__auto___8391<len__7214__auto___8390){args8387.push(arguments[i__7215__auto___8391]);var G__8392=i__7215__auto___8391+1;i__7215__auto___8391=G__8392;continue}else;break}var G__8389=args8387.length;switch(G__8389){case 1:return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8387.length)].join(""));}};cljs.core.symbol.cljs$core$IFn$_invoke$arity$1=function(name){if(name instanceof cljs.core.Symbol)return name;else{var idx=name.indexOf("/");if(idx===-1)return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(null,name);else return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(name.substring(0,idx),name.substring(idx+1,name.length))}};
cljs.core.symbol.cljs$core$IFn$_invoke$arity$2=function(ns,name){var sym_str=!(ns==null)?[cljs.core.str(ns),cljs.core.str("/"),cljs.core.str(name)].join(""):name;return new cljs.core.Symbol(ns,name,sym_str,null,null)};cljs.core.symbol.cljs$lang$maxFixedArity=2;cljs.core.Var=function(val,sym,_meta){this.val=val;this.sym=sym;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=2523137;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.Var.prototype.isMacro=function(){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).cljs$lang$macro};cljs.core.Var.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)};
cljs.core.Var.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__._meta};cljs.core.Var.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_,new_meta){var self__=this;var ___$1=this;return new cljs.core.Var(self__.val,self__.sym,new_meta)};
cljs.core.Var.prototype.cljs$core$IEquiv$_equiv$arity$2=function(this$,other){var self__=this;var this$__$1=this;if(other instanceof cljs.core.Var){var G__8395=this$__$1.sym;var G__8396=other.sym;return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2?cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(G__8395,G__8396):cljs.core._EQ_.call(null,G__8395,G__8396)}else return false};cljs.core.Var.prototype.cljs$core$Fn$=true;
cljs.core.Var.prototype.call=function(){var G__8441=null;var G__8441__1=function(self__){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null)};var G__8441__2=function(self__,a){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a)};var G__8441__3=function(self__,
a,b){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b)};var G__8441__4=function(self__,a,b,c){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c)};var G__8441__5=function(self__,a,b,c,d){var self__=this;var self____$1=this;var _=self____$1;
return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d)};var G__8441__6=function(self__,a,b,c,d,e){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e)};var G__8441__7=function(self__,a,b,c,d,e,f){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?
self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f)};var G__8441__8=function(self__,a,b,c,d,e,f,g){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g)};var G__8441__9=function(self__,a,b,c,d,e,f,g,h){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():
self__.val.call(null)).call(null,a,b,c,d,e,f,g,h)};var G__8441__10=function(self__,a,b,c,d,e,f,g,h,i){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i)};var G__8441__11=function(self__,a,b,c,d,e,f,g,h,i,j){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,
a,b,c,d,e,f,g,h,i,j)};var G__8441__12=function(self__,a,b,c,d,e,f,g,h,i,j,k){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k)};var G__8441__13=function(self__,a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,
a,b,c,d,e,f,g,h,i,j,k,l)};var G__8441__14=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};var G__8441__15=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,
a,b,c,d,e,f,g,h,i,j,k,l,m,n)};var G__8441__16=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};var G__8441__17=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():
self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};var G__8441__18=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};var G__8441__19=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?
self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};var G__8441__20=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var self____$1=this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};var G__8441__21=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var self____$1=
this;var _=self____$1;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};var G__8441__22=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=this;var self____$1=this;var _=self____$1;var G__8397=self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null);var G__8398=a;var G__8399=b;var G__8400=c;var G__8401=d;var G__8402=
e;var G__8403=f;var G__8404=g;var G__8405=h;var G__8406=i;var G__8407=j;var G__8408=k;var G__8409=l;var G__8410=m;var G__8411=n;var G__8412=o;var G__8413=p;var G__8414=q;var G__8415=r;var G__8416=s;var G__8417=t;var G__8418=rest;return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(G__8397,G__8398,G__8399,G__8400,G__8401,G__8402,G__8403,G__8404,G__8405,G__8406,G__8407,G__8408,G__8409,G__8410,G__8411,G__8412,G__8413,G__8414,G__8415,G__8416,G__8417,G__8418):
cljs.core.apply.call(null,G__8397,G__8398,G__8399,G__8400,G__8401,G__8402,G__8403,G__8404,G__8405,G__8406,G__8407,G__8408,G__8409,G__8410,G__8411,G__8412,G__8413,G__8414,G__8415,G__8416,G__8417,G__8418)};G__8441=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){switch(arguments.length){case 1:return G__8441__1.call(this,self__);case 2:return G__8441__2.call(this,self__,a);case 3:return G__8441__3.call(this,self__,a,b);case 4:return G__8441__4.call(this,self__,a,b,c);case 5:return G__8441__5.call(this,
self__,a,b,c,d);case 6:return G__8441__6.call(this,self__,a,b,c,d,e);case 7:return G__8441__7.call(this,self__,a,b,c,d,e,f);case 8:return G__8441__8.call(this,self__,a,b,c,d,e,f,g);case 9:return G__8441__9.call(this,self__,a,b,c,d,e,f,g,h);case 10:return G__8441__10.call(this,self__,a,b,c,d,e,f,g,h,i);case 11:return G__8441__11.call(this,self__,a,b,c,d,e,f,g,h,i,j);case 12:return G__8441__12.call(this,self__,a,b,c,d,e,f,g,h,i,j,k);case 13:return G__8441__13.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,
l);case 14:return G__8441__14.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m);case 15:return G__8441__15.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n);case 16:return G__8441__16.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);case 17:return G__8441__17.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);case 18:return G__8441__18.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);case 19:return G__8441__19.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);case 20:return G__8441__20.call(this,self__,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);case 21:return G__8441__21.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);case 22:return G__8441__22.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest)}throw new Error("Invalid arity: "+arguments.length);};G__8441.cljs$core$IFn$_invoke$arity$1=G__8441__1;G__8441.cljs$core$IFn$_invoke$arity$2=G__8441__2;G__8441.cljs$core$IFn$_invoke$arity$3=G__8441__3;G__8441.cljs$core$IFn$_invoke$arity$4=G__8441__4;G__8441.cljs$core$IFn$_invoke$arity$5=
G__8441__5;G__8441.cljs$core$IFn$_invoke$arity$6=G__8441__6;G__8441.cljs$core$IFn$_invoke$arity$7=G__8441__7;G__8441.cljs$core$IFn$_invoke$arity$8=G__8441__8;G__8441.cljs$core$IFn$_invoke$arity$9=G__8441__9;G__8441.cljs$core$IFn$_invoke$arity$10=G__8441__10;G__8441.cljs$core$IFn$_invoke$arity$11=G__8441__11;G__8441.cljs$core$IFn$_invoke$arity$12=G__8441__12;G__8441.cljs$core$IFn$_invoke$arity$13=G__8441__13;G__8441.cljs$core$IFn$_invoke$arity$14=G__8441__14;G__8441.cljs$core$IFn$_invoke$arity$15=
G__8441__15;G__8441.cljs$core$IFn$_invoke$arity$16=G__8441__16;G__8441.cljs$core$IFn$_invoke$arity$17=G__8441__17;G__8441.cljs$core$IFn$_invoke$arity$18=G__8441__18;G__8441.cljs$core$IFn$_invoke$arity$19=G__8441__19;G__8441.cljs$core$IFn$_invoke$arity$20=G__8441__20;G__8441.cljs$core$IFn$_invoke$arity$21=G__8441__21;G__8441.cljs$core$IFn$_invoke$arity$22=G__8441__22;return G__8441}();
cljs.core.Var.prototype.apply=function(self__,args8394){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args8394)))};cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$0=function(){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$1=function(a){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a)};cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$2=function(a,b){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$3=function(a,b,c){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c)};cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$4=function(a,b,c,d){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$5=function(a,b,c,d,e){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e)};cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$6=function(a,b,c,d,e,f){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$7=function(a,b,c,d,e,f,g){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g)};cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$8=function(a,b,c,d,e,f,g,h){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$9=function(a,b,c,d,e,f,g,h,i){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$10=function(a,b,c,d,e,f,g,h,i,j){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$11=function(a,b,c,d,e,f,g,h,i,j,k){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$12=function(a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$13=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$14=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$15=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$16=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$17=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$18=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$19=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$20=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var _=this;return(self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null)).call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};
cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$21=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=this;var _=this;var G__8419=self__.val.cljs$core$IFn$_invoke$arity$0?self__.val.cljs$core$IFn$_invoke$arity$0():self__.val.call(null);var G__8420=a;var G__8421=b;var G__8422=c;var G__8423=d;var G__8424=e;var G__8425=f;var G__8426=g;var G__8427=h;var G__8428=i;var G__8429=j;var G__8430=k;var G__8431=l;var G__8432=m;var G__8433=n;var G__8434=o;var G__8435=p;var G__8436=q;var G__8437=
r;var G__8438=s;var G__8439=t;var G__8440=rest;return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(G__8419,G__8420,G__8421,G__8422,G__8423,G__8424,G__8425,G__8426,G__8427,G__8428,G__8429,G__8430,G__8431,G__8432,G__8433,G__8434,G__8435,G__8436,G__8437,G__8438,G__8439,G__8440):cljs.core.apply.call(null,G__8419,G__8420,G__8421,G__8422,G__8423,G__8424,G__8425,G__8426,G__8427,G__8428,G__8429,G__8430,G__8431,G__8432,G__8433,G__8434,G__8435,G__8436,G__8437,
G__8438,G__8439,G__8440)};cljs.core.Var.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"sym","sym",195671222,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)};cljs.core.Var.cljs$lang$type=true;cljs.core.Var.cljs$lang$ctorStr="cljs.core/Var";
cljs.core.Var.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Var")};cljs.core.__GT_Var=function cljs$core$__GT_Var(val,sym,_meta){return new cljs.core.Var(val,sym,_meta)};cljs.core.var_QMARK_=function cljs$core$var_QMARK_(v){return v instanceof cljs.core.Var};
cljs.core.iterable_QMARK_=function cljs$core$iterable_QMARK_(x){if(!(x==null))if(false||x.cljs$core$IIterable$)return true;else if(!x.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_(cljs.core.IIterable,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IIterable,x)};cljs.core.clone=function cljs$core$clone(value){return cljs.core._clone(value)};
cljs.core.cloneable_QMARK_=function cljs$core$cloneable_QMARK_(value){if(!(value==null))if(value.cljs$lang$protocol_mask$partition1$&8192||value.cljs$core$ICloneable$)return true;else if(!value.cljs$lang$protocol_mask$partition1$)return cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable,value);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable,value)};
cljs.core.seq=function cljs$core$seq(coll){if(coll==null)return null;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&8388608||coll.cljs$core$ISeqable$?true:false:false)return coll.cljs$core$ISeqable$_seq$arity$1(null);else if(cljs.core.array_QMARK_(coll))if(coll.length===0)return null;else return new cljs.core.IndexedSeq(coll,0);else if(typeof coll==="string")if(coll.length===0)return null;else return new cljs.core.IndexedSeq(coll,0);else if(cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,
coll))return cljs.core._seq(coll);else throw new Error([cljs.core.str(coll),cljs.core.str(" is not ISeqable")].join(""));};cljs.core.first=function cljs$core$first(coll){if(coll==null)return null;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&64||coll.cljs$core$ISeq$?true:false:false)return coll.cljs$core$ISeq$_first$arity$1(null);else{var s=cljs.core.seq(coll);if(s==null)return null;else return cljs.core._first(s)}};
cljs.core.rest=function cljs$core$rest(coll){if(!(coll==null))if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&64||coll.cljs$core$ISeq$?true:false:false)return coll.cljs$core$ISeq$_rest$arity$1(null);else{var s=cljs.core.seq(coll);if(s)return cljs.core._rest(s);else return cljs.core.List.EMPTY}else return cljs.core.List.EMPTY};
cljs.core.next=function cljs$core$next(coll){if(coll==null)return null;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&128||coll.cljs$core$INext$?true:false:false)return coll.cljs$core$INext$_next$arity$1(null);else return cljs.core.seq(cljs.core.rest(coll))};
cljs.core._EQ_=function cljs$core$_EQ_(var_args){var args8454=[];var len__7214__auto___8460=arguments.length;var i__7215__auto___8461=0;while(true){if(i__7215__auto___8461<len__7214__auto___8460){args8454.push(arguments[i__7215__auto___8461]);var G__8462=i__7215__auto___8461+1;i__7215__auto___8461=G__8462;continue}else;break}var G__8459=args8454.length;switch(G__8459){case 1:return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8454.slice(2),0);return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2=function(x,y){if(x==null)return y==null;else return x===y||cljs.core._equiv(x,y)};
cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x,y))if(cljs.core.next(more)){var G__8464=y;var G__8465=cljs.core.first(more);var G__8466=cljs.core.next(more);x=G__8464;y=G__8465;more=G__8466;continue}else return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(y,cljs.core.first(more));else return false;break}};
cljs.core._EQ_.cljs$lang$applyTo=function(seq8455){var G__8456=cljs.core.first(seq8455);var seq8455__$1=cljs.core.next(seq8455);var G__8457=cljs.core.first(seq8455__$1);var seq8455__$2=cljs.core.next(seq8455__$1);return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8456,G__8457,seq8455__$2)};cljs.core._EQ_.cljs$lang$maxFixedArity=2;cljs.core.ES6Iterator=function(s){this.s=s};
cljs.core.ES6Iterator.prototype.next=function(){var self__=this;var _=this;if(!(self__.s==null)){var x=cljs.core.first(self__.s);self__.s=cljs.core.next(self__.s);return{"value":x,"done":false}}else return{"value":null,"done":true}};
cljs.core.ES6Iterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ES6Iterator.cljs$lang$type=true;cljs.core.ES6Iterator.cljs$lang$ctorStr="cljs.core/ES6Iterator";
cljs.core.ES6Iterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ES6Iterator")};cljs.core.__GT_ES6Iterator=function cljs$core$__GT_ES6Iterator(s){return new cljs.core.ES6Iterator(s)};cljs.core.es6_iterator=function cljs$core$es6_iterator(coll){return new cljs.core.ES6Iterator(cljs.core.seq(coll))};
cljs.core.ES6IteratorSeq=function(value,iter,_rest){this.value=value;this.iter=iter;this._rest=_rest;this.cljs$lang$protocol_mask$partition0$=8388672;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_first$arity$1=function(_){var self__=this;var ___$1=this;return self__.value};
cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(_){var self__=this;var ___$1=this;if(self__._rest==null)self__._rest=cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1(self__.iter):cljs.core.es6_iterator_seq.call(null,self__.iter);else;return self__._rest};
cljs.core.ES6IteratorSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"value","value",1946509744,null),new cljs.core.Symbol(null,"iter","iter",-1346195486,null),cljs.core.with_meta(new cljs.core.Symbol(null,"_rest","_rest",-2100466189,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ES6IteratorSeq.cljs$lang$type=true;
cljs.core.ES6IteratorSeq.cljs$lang$ctorStr="cljs.core/ES6IteratorSeq";cljs.core.ES6IteratorSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ES6IteratorSeq")};cljs.core.__GT_ES6IteratorSeq=function cljs$core$__GT_ES6IteratorSeq(value,iter,_rest){return new cljs.core.ES6IteratorSeq(value,iter,_rest)};
cljs.core.es6_iterator_seq=function cljs$core$es6_iterator_seq(iter){var v=iter.next();if(cljs.core.truth_(v.done))return cljs.core.List.EMPTY;else return new cljs.core.ES6IteratorSeq(v.value,iter,null)};cljs.core.mix_collection_hash=function cljs$core$mix_collection_hash(hash_basis,count){var h1=cljs.core.m3_seed;var k1=cljs.core.m3_mix_K1(hash_basis);var h1__$1=cljs.core.m3_mix_H1(h1,k1);return cljs.core.m3_fmix(h1__$1,count)};
cljs.core.hash_ordered_coll=function cljs$core$hash_ordered_coll(coll){var n=0;var hash_code=1;var coll__$1=cljs.core.seq(coll);while(true){if(!(coll__$1==null)){var G__8467=n+1;var G__8468=cljs.core.imul(31,hash_code)+cljs.core.hash(cljs.core.first(coll__$1))|0;var G__8469=cljs.core.next(coll__$1);n=G__8467;hash_code=G__8468;coll__$1=G__8469;continue}else return cljs.core.mix_collection_hash(hash_code,n);break}};cljs.core.empty_ordered_hash=cljs.core.mix_collection_hash(1,0);
cljs.core.hash_unordered_coll=function cljs$core$hash_unordered_coll(coll){var n=0;var hash_code=0;var coll__$1=cljs.core.seq(coll);while(true){if(!(coll__$1==null)){var G__8470=n+1;var G__8471=hash_code+cljs.core.hash(cljs.core.first(coll__$1))|0;var G__8472=cljs.core.next(coll__$1);n=G__8470;hash_code=G__8471;coll__$1=G__8472;continue}else return cljs.core.mix_collection_hash(hash_code,n);break}};cljs.core.empty_unordered_hash=cljs.core.mix_collection_hash(0,0);cljs.core.ICounted["null"]=true;
cljs.core._count["null"]=function(_){return 0};Date.prototype.cljs$core$IEquiv$=true;Date.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var o__$1=this;return other instanceof Date&&o__$1.valueOf()===other.valueOf()};Date.prototype.cljs$core$IComparable$=true;
Date.prototype.cljs$core$IComparable$_compare$arity$2=function(this$,other){var this$__$1=this;if(other instanceof Date){var G__8473=this$__$1.valueOf();var G__8474=other.valueOf();return goog.array.defaultCompare(G__8473,G__8474)}else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(this$__$1),cljs.core.str(" to "),cljs.core.str(other)].join(""));};cljs.core.IEquiv["number"]=true;cljs.core._equiv["number"]=function(x,o){return x===o};cljs.core.Fn["function"]=true;
cljs.core.IMeta["function"]=true;cljs.core._meta["function"]=function(_){return null};cljs.core.IHash["_"]=true;cljs.core._hash["_"]=function(o){return goog.getUid(o)};cljs.core.inc=function cljs$core$inc(x){return x+1};cljs.core.Reduced=function(val){this.val=val;this.cljs$lang$protocol_mask$partition0$=32768;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.Reduced.prototype.cljs$core$IDeref$_deref$arity$1=function(o){var self__=this;var o__$1=this;return self__.val};
cljs.core.Reduced.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null)],null)};cljs.core.Reduced.cljs$lang$type=true;cljs.core.Reduced.cljs$lang$ctorStr="cljs.core/Reduced";cljs.core.Reduced.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Reduced")};cljs.core.__GT_Reduced=function cljs$core$__GT_Reduced(val){return new cljs.core.Reduced(val)};
cljs.core.reduced=function cljs$core$reduced(x){return new cljs.core.Reduced(x)};cljs.core.reduced_QMARK_=function cljs$core$reduced_QMARK_(r){return r instanceof cljs.core.Reduced};cljs.core.ensure_reduced=function cljs$core$ensure_reduced(x){if(cljs.core.reduced_QMARK_(x))return x;else return cljs.core.reduced(x)};
cljs.core.unreduced=function cljs$core$unreduced(x){if(cljs.core.reduced_QMARK_(x))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(x):cljs.core.deref.call(null,x);else return x};cljs.core.deref=function cljs$core$deref(o){return cljs.core._deref(o)};
cljs.core.ci_reduce=function cljs$core$ci_reduce(var_args){var args8475=[];var len__7214__auto___8484=arguments.length;var i__7215__auto___8485=0;while(true){if(i__7215__auto___8485<len__7214__auto___8484){args8475.push(arguments[i__7215__auto___8485]);var G__8486=i__7215__auto___8485+1;i__7215__auto___8485=G__8486;continue}else;break}var G__8477=args8475.length;switch(G__8477){case 2:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8475.length)].join(""));}};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2=function(cicoll,f){var cnt=cljs.core._count(cicoll);if(cnt===0)return f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null);else{var val=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll,0);var n=1;while(true){if(n<cnt){var nval=function(){var G__8478=val;var G__8479=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll,n);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8478,G__8479):f.call(null,G__8478,
G__8479)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8488=nval;var G__8489=n+1;val=G__8488;n=G__8489;continue}}else return val;break}}};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3=function(cicoll,f,val){var cnt=cljs.core._count(cicoll);var val__$1=val;var n=0;while(true){if(n<cnt){var nval=function(){var G__8480=val__$1;var G__8481=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll,n);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8480,G__8481):f.call(null,G__8480,G__8481)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8490=nval;var G__8491=n+1;val__$1=G__8490;n=G__8491;
continue}}else return val__$1;break}};
cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4=function(cicoll,f,val,idx){var cnt=cljs.core._count(cicoll);var val__$1=val;var n=idx;while(true){if(n<cnt){var nval=function(){var G__8482=val__$1;var G__8483=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(cicoll,n);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8482,G__8483):f.call(null,G__8482,G__8483)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8492=nval;var G__8493=n+1;val__$1=G__8492;
n=G__8493;continue}}else return val__$1;break}};cljs.core.ci_reduce.cljs$lang$maxFixedArity=4;
cljs.core.array_reduce=function cljs$core$array_reduce(var_args){var args8494=[];var len__7214__auto___8503=arguments.length;var i__7215__auto___8504=0;while(true){if(i__7215__auto___8504<len__7214__auto___8503){args8494.push(arguments[i__7215__auto___8504]);var G__8505=i__7215__auto___8504+1;i__7215__auto___8504=G__8505;continue}else;break}var G__8496=args8494.length;switch(G__8496){case 2:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8494.length)].join(""));}};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2=function(arr,f){var cnt=arr.length;if(arr.length===0)return f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null);else{var val=arr[0];var n=1;while(true){if(n<cnt){var nval=function(){var G__8497=val;var G__8498=arr[n];return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8497,G__8498):f.call(null,G__8497,G__8498)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8507=nval;
var G__8508=n+1;val=G__8507;n=G__8508;continue}}else return val;break}}};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3=function(arr,f,val){var cnt=arr.length;var val__$1=val;var n=0;while(true){if(n<cnt){var nval=function(){var G__8499=val__$1;var G__8500=arr[n];return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8499,G__8500):f.call(null,G__8499,G__8500)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8509=nval;var G__8510=n+1;val__$1=G__8509;n=G__8510;continue}}else return val__$1;break}};
cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4=function(arr,f,val,idx){var cnt=arr.length;var val__$1=val;var n=idx;while(true){if(n<cnt){var nval=function(){var G__8501=val__$1;var G__8502=arr[n];return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8501,G__8502):f.call(null,G__8501,G__8502)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8511=nval;var G__8512=n+1;val__$1=G__8511;n=G__8512;continue}}else return val__$1;break}};
cljs.core.array_reduce.cljs$lang$maxFixedArity=4;cljs.core.counted_QMARK_=function cljs$core$counted_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&2||x.cljs$core$ICounted$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ICounted,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ICounted,x)};
cljs.core.indexed_QMARK_=function cljs$core$indexed_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&16||x.cljs$core$IIndexed$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,x)};cljs.core.IndexedSeqIterator=function(arr,i){this.arr=arr;this.i=i};
cljs.core.IndexedSeqIterator.prototype.hasNext=function(){var self__=this;var _=this;return self__.i<self__.arr.length};cljs.core.IndexedSeqIterator.prototype.next=function(){var self__=this;var _=this;var ret=self__.arr[self__.i];self__.i=self__.i+1;return ret};
cljs.core.IndexedSeqIterator.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.IndexedSeqIterator.cljs$lang$type=true;cljs.core.IndexedSeqIterator.cljs$lang$ctorStr="cljs.core/IndexedSeqIterator";
cljs.core.IndexedSeqIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/IndexedSeqIterator")};cljs.core.__GT_IndexedSeqIterator=function cljs$core$__GT_IndexedSeqIterator(arr,i){return new cljs.core.IndexedSeqIterator(arr,i)};cljs.core.IndexedSeq=function(arr,i){this.arr=arr;this.i=i;this.cljs$lang$protocol_mask$partition0$=166199550;this.cljs$lang$protocol_mask$partition1$=8192};
cljs.core.IndexedSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.IndexedSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;var i__$1=n+self__.i;if(i__$1<self__.arr.length)return self__.arr[i__$1];else return null};
cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;var i__$1=n+self__.i;if(i__$1<self__.arr.length)return self__.arr[i__$1];else return not_found};cljs.core.IndexedSeq.prototype.cljs$core$IIterable$=true;cljs.core.IndexedSeq.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.IndexedSeqIterator(self__.arr,self__.i)};
cljs.core.IndexedSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.IndexedSeq(self__.arr,self__.i)};cljs.core.IndexedSeq.prototype.cljs$core$INext$_next$arity$1=function(_){var self__=this;var ___$1=this;if(self__.i+1<self__.arr.length)return new cljs.core.IndexedSeq(self__.arr,self__.i+1);else return null};
cljs.core.IndexedSeq.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;var x__6487__auto__=0;var y__6488__auto__=self__.arr.length-self__.i;return x__6487__auto__>y__6488__auto__?x__6487__auto__:y__6488__auto__};cljs.core.IndexedSeq.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;var c=cljs.core._count(coll__$1);if(c>0)return new cljs.core.RSeq(coll__$1,c-1,null);else return null};
cljs.core.IndexedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_ordered_coll(coll__$1)};cljs.core.IndexedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2?cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(coll__$1,other):cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.IndexedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.List.EMPTY};cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr,f,self__.arr[self__.i],self__.i+1)};
cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr,f,start,self__.i)};cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(_){var self__=this;var ___$1=this;return self__.arr[self__.i]};
cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(_){var self__=this;var ___$1=this;if(self__.i+1<self__.arr.length)return new cljs.core.IndexedSeq(self__.arr,self__.i+1);else return cljs.core.List.EMPTY};cljs.core.IndexedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.i<self__.arr.length)return this$__$1;else return null};
cljs.core.IndexedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.cljs$core$IFn$_invoke$arity$2?cljs.core.cons.cljs$core$IFn$_invoke$arity$2(o,coll__$1):cljs.core.cons.call(null,o,coll__$1)};cljs.core.IndexedSeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null)],null)};
cljs.core.IndexedSeq.cljs$lang$type=true;cljs.core.IndexedSeq.cljs$lang$ctorStr="cljs.core/IndexedSeq";cljs.core.IndexedSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/IndexedSeq")};cljs.core.__GT_IndexedSeq=function cljs$core$__GT_IndexedSeq(arr,i){return new cljs.core.IndexedSeq(arr,i)};cljs.core.IndexedSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.prim_seq=function cljs$core$prim_seq(var_args){var args8517=[];var len__7214__auto___8520=arguments.length;var i__7215__auto___8521=0;while(true){if(i__7215__auto___8521<len__7214__auto___8520){args8517.push(arguments[i__7215__auto___8521]);var G__8522=i__7215__auto___8521+1;i__7215__auto___8521=G__8522;continue}else;break}var G__8519=args8517.length;switch(G__8519){case 1:return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8517.length)].join(""));}};cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1=function(prim){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(prim,0)};cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2=function(prim,i){if(i<prim.length)return new cljs.core.IndexedSeq(prim,i);else return null};cljs.core.prim_seq.cljs$lang$maxFixedArity=2;
cljs.core.array_seq=function cljs$core$array_seq(var_args){var args8524=[];var len__7214__auto___8527=arguments.length;var i__7215__auto___8528=0;while(true){if(i__7215__auto___8528<len__7214__auto___8527){args8524.push(arguments[i__7215__auto___8528]);var G__8529=i__7215__auto___8528+1;i__7215__auto___8528=G__8529;continue}else;break}var G__8526=args8524.length;switch(G__8526){case 1:return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8524.length)].join(""));}};cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1=function(array){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(array,0)};cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2=function(array,i){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(array,i)};cljs.core.array_seq.cljs$lang$maxFixedArity=2;
cljs.core.RSeq=function(ci,i,meta){this.ci=ci;this.i=i;this.meta=meta;this.cljs$lang$protocol_mask$partition0$=32374990;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.RSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.RSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.RSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.RSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.RSeq(self__.ci,self__.i,self__.meta)};cljs.core.RSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i>0)return new cljs.core.RSeq(self__.ci,self__.i-1,null);else return null};
cljs.core.RSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.i+1};cljs.core.RSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_ordered_coll(coll__$1)};
cljs.core.RSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2?cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(coll__$1,other):cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.RSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;var G__8531=cljs.core.List.EMPTY;var G__8532=self__.meta;return cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2?cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2(G__8531,G__8532):cljs.core.with_meta.call(null,G__8531,G__8532)};
cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(col,f){var self__=this;var col__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2?cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,col__$1):cljs.core.seq_reduce.call(null,f,col__$1)};
cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(col,f,start){var self__=this;var col__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,col__$1):cljs.core.seq_reduce.call(null,f,start,col__$1)};cljs.core.RSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.ci,self__.i)};
cljs.core.RSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i>0)return new cljs.core.RSeq(self__.ci,self__.i-1,null);else return cljs.core.List.EMPTY};cljs.core.RSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.RSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.RSeq(self__.ci,self__.i,new_meta)};
cljs.core.RSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.cljs$core$IFn$_invoke$arity$2?cljs.core.cons.cljs$core$IFn$_invoke$arity$2(o,coll__$1):cljs.core.cons.call(null,o,coll__$1)};
cljs.core.RSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ci","ci",2049808339,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)};cljs.core.RSeq.cljs$lang$type=true;cljs.core.RSeq.cljs$lang$ctorStr="cljs.core/RSeq";
cljs.core.RSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/RSeq")};cljs.core.__GT_RSeq=function cljs$core$__GT_RSeq(ci,i,meta){return new cljs.core.RSeq(ci,i,meta)};cljs.core.RSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.second=function cljs$core$second(coll){return cljs.core.first(cljs.core.next(coll))};
cljs.core.ffirst=function cljs$core$ffirst(coll){return cljs.core.first(cljs.core.first(coll))};cljs.core.nfirst=function cljs$core$nfirst(coll){return cljs.core.next(cljs.core.first(coll))};cljs.core.fnext=function cljs$core$fnext(coll){return cljs.core.first(cljs.core.next(coll))};cljs.core.nnext=function cljs$core$nnext(coll){return cljs.core.next(cljs.core.next(coll))};
cljs.core.last=function cljs$core$last(s){while(true){var sn=cljs.core.next(s);if(!(sn==null)){var G__8533=sn;s=G__8533;continue}else return cljs.core.first(s);break}};cljs.core.IEquiv["_"]=true;cljs.core._equiv["_"]=function(x,o){return x===o};
cljs.core.conj=function cljs$core$conj(var_args){var args8534=[];var len__7214__auto___8540=arguments.length;var i__7215__auto___8541=0;while(true){if(i__7215__auto___8541<len__7214__auto___8540){args8534.push(arguments[i__7215__auto___8541]);var G__8542=i__7215__auto___8541+1;i__7215__auto___8541=G__8542;continue}else;break}var G__8539=args8534.length;switch(G__8539){case 0:return cljs.core.conj.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.conj.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8534.slice(2),0);return cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.conj.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.PersistentVector.EMPTY};cljs.core.conj.cljs$core$IFn$_invoke$arity$1=function(coll){return coll};
cljs.core.conj.cljs$core$IFn$_invoke$arity$2=function(coll,x){if(!(coll==null))return cljs.core._conj(coll,x);else return cljs.core._conj(cljs.core.List.EMPTY,x)};
cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic=function(coll,x,xs){while(true){if(cljs.core.truth_(xs)){var G__8544=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(coll,x);var G__8545=cljs.core.first(xs);var G__8546=cljs.core.next(xs);coll=G__8544;x=G__8545;xs=G__8546;continue}else return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(coll,x);break}};
cljs.core.conj.cljs$lang$applyTo=function(seq8535){var G__8536=cljs.core.first(seq8535);var seq8535__$1=cljs.core.next(seq8535);var G__8537=cljs.core.first(seq8535__$1);var seq8535__$2=cljs.core.next(seq8535__$1);return cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(G__8536,G__8537,seq8535__$2)};cljs.core.conj.cljs$lang$maxFixedArity=2;cljs.core.empty=function cljs$core$empty(coll){if(coll==null)return null;else return cljs.core._empty(coll)};
cljs.core.accumulating_seq_count=function cljs$core$accumulating_seq_count(coll){var s=cljs.core.seq(coll);var acc=0;while(true){if(cljs.core.counted_QMARK_(s))return acc+cljs.core._count(s);else{var G__8547=cljs.core.next(s);var G__8548=acc+1;s=G__8547;acc=G__8548;continue}break}};
cljs.core.count=function cljs$core$count(coll){if(!(coll==null))if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&2||coll.cljs$core$ICounted$?true:false:false)return coll.cljs$core$ICounted$_count$arity$1(null);else if(cljs.core.array_QMARK_(coll))return coll.length;else if(typeof coll==="string")return coll.length;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&8388608||coll.cljs$core$ISeqable$?true:false:false)return cljs.core.accumulating_seq_count(coll);else return cljs.core._count(coll);
else return 0};
cljs.core.linear_traversal_nth=function cljs$core$linear_traversal_nth(var_args){var args8553=[];var len__7214__auto___8556=arguments.length;var i__7215__auto___8557=0;while(true){if(i__7215__auto___8557<len__7214__auto___8556){args8553.push(arguments[i__7215__auto___8557]);var G__8558=i__7215__auto___8557+1;i__7215__auto___8557=G__8558;continue}else;break}var G__8555=args8553.length;switch(G__8555){case 2:return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8553.length)].join(""));}};
cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2=function(coll,n){while(true){if(coll==null)throw new Error("Index out of bounds");else if(n===0)if(cljs.core.seq(coll))return cljs.core.first(coll);else throw new Error("Index out of bounds");else if(cljs.core.indexed_QMARK_(coll))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll,n);else if(cljs.core.seq(coll)){var G__8560=cljs.core.next(coll);var G__8561=n-1;coll=G__8560;n=G__8561;continue}else throw new Error("Index out of bounds");
break}};
cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3=function(coll,n,not_found){while(true){if(coll==null)return not_found;else if(n===0)if(cljs.core.seq(coll))return cljs.core.first(coll);else return not_found;else if(cljs.core.indexed_QMARK_(coll))return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll,n,not_found);else if(cljs.core.seq(coll)){var G__8562=cljs.core.next(coll);var G__8563=n-1;var G__8564=not_found;coll=G__8562;n=G__8563;not_found=G__8564;continue}else return not_found;break}};
cljs.core.linear_traversal_nth.cljs$lang$maxFixedArity=3;
cljs.core.nth=function cljs$core$nth(var_args){var args8565=[];var len__7214__auto___8572=arguments.length;var i__7215__auto___8573=0;while(true){if(i__7215__auto___8573<len__7214__auto___8572){args8565.push(arguments[i__7215__auto___8573]);var G__8574=i__7215__auto___8573+1;i__7215__auto___8573=G__8574;continue}else;break}var G__8567=args8565.length;switch(G__8567){case 2:return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.nth.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8565.length)].join(""));}};
cljs.core.nth.cljs$core$IFn$_invoke$arity$2=function(coll,n){if(!(typeof n==="number"))throw new Error("index argument to nth must be a number");else if(coll==null)return coll;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&16||coll.cljs$core$IIndexed$?true:false:false)return coll.cljs$core$IIndexed$_nth$arity$2(null,n);else if(cljs.core.array_QMARK_(coll))if(n<coll.length)return coll[n];else return null;else if(typeof coll==="string")if(n<coll.length)return coll.charAt(n);else return null;
else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&64||coll.cljs$core$ISeq$?true:false:false)return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(coll,n);else if(cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,coll))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll,n);else throw new Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str(cljs.core.type(coll)))].join(""));};
cljs.core.nth.cljs$core$IFn$_invoke$arity$3=function(coll,n,not_found){if(!(typeof n==="number"))throw new Error("index argument to nth must be a number.");else if(coll==null)return not_found;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&16||coll.cljs$core$IIndexed$?true:false:false)return coll.cljs$core$IIndexed$_nth$arity$3(null,n,not_found);else if(cljs.core.array_QMARK_(coll))if(n<coll.length)return coll[n];else return not_found;else if(typeof coll==="string")if(n<coll.length)return coll.charAt(n);
else return not_found;else if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&64||coll.cljs$core$ISeq$?true:false:false)return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(coll,n,not_found);else if(cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,coll))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll,n);else throw new Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str(cljs.core.type(coll)))].join(""));};
cljs.core.nth.cljs$lang$maxFixedArity=3;cljs.core.nthrest=function cljs$core$nthrest(coll,n){var n__$1=n;var xs=coll;while(true){if(n__$1>0&&cljs.core.seq(xs)){var G__8576=n__$1-1;var G__8577=cljs.core.rest(xs);n__$1=G__8576;xs=G__8577;continue}else return xs;break}};
cljs.core.get=function cljs$core$get(var_args){var args8578=[];var len__7214__auto___8583=arguments.length;var i__7215__auto___8584=0;while(true){if(i__7215__auto___8584<len__7214__auto___8583){args8578.push(arguments[i__7215__auto___8584]);var G__8585=i__7215__auto___8584+1;i__7215__auto___8584=G__8585;continue}else;break}var G__8580=args8578.length;switch(G__8580){case 2:return cljs.core.get.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.get.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8578.length)].join(""));}};
cljs.core.get.cljs$core$IFn$_invoke$arity$2=function(o,k){if(o==null)return null;else if(!(o==null)?o.cljs$lang$protocol_mask$partition0$&256||o.cljs$core$ILookup$?true:false:false)return o.cljs$core$ILookup$_lookup$arity$2(null,k);else if(cljs.core.array_QMARK_(o))if(k<o.length)return o[k|0];else return null;else if(typeof o==="string")if(k<o.length)return o[k|0];else return null;else if(cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,o))return cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(o,
k);else return null};
cljs.core.get.cljs$core$IFn$_invoke$arity$3=function(o,k,not_found){if(!(o==null))if(!(o==null)?o.cljs$lang$protocol_mask$partition0$&256||o.cljs$core$ILookup$?true:false:false)return o.cljs$core$ILookup$_lookup$arity$3(null,k,not_found);else if(cljs.core.array_QMARK_(o))if(k<o.length)return o[k];else return not_found;else if(typeof o==="string")if(k<o.length)return o[k];else return not_found;else if(cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,o))return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(o,k,
not_found);else return not_found;else return not_found};cljs.core.get.cljs$lang$maxFixedArity=3;
cljs.core.assoc=function cljs$core$assoc(var_args){var args8587=[];var len__7214__auto___8594=arguments.length;var i__7215__auto___8595=0;while(true){if(i__7215__auto___8595<len__7214__auto___8594){args8587.push(arguments[i__7215__auto___8595]);var G__8596=i__7215__auto___8595+1;i__7215__auto___8595=G__8596;continue}else;break}var G__8593=args8587.length;switch(G__8593){case 3:return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8587.slice(3),0);return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.assoc.cljs$core$IFn$_invoke$arity$3=function(coll,k,v){if(!(coll==null))return cljs.core._assoc(coll,k,v);else return cljs.core.PersistentHashMap.fromArrays([k],[v])};
cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic=function(coll,k,v,kvs){while(true){var ret=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(coll,k,v);if(cljs.core.truth_(kvs)){var G__8598=ret;var G__8599=cljs.core.first(kvs);var G__8600=cljs.core.second(kvs);var G__8601=cljs.core.nnext(kvs);coll=G__8598;k=G__8599;v=G__8600;kvs=G__8601;continue}else return ret;break}};
cljs.core.assoc.cljs$lang$applyTo=function(seq8588){var G__8589=cljs.core.first(seq8588);var seq8588__$1=cljs.core.next(seq8588);var G__8590=cljs.core.first(seq8588__$1);var seq8588__$2=cljs.core.next(seq8588__$1);var G__8591=cljs.core.first(seq8588__$2);var seq8588__$3=cljs.core.next(seq8588__$2);return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(G__8589,G__8590,G__8591,seq8588__$3)};cljs.core.assoc.cljs$lang$maxFixedArity=3;
cljs.core.dissoc=function cljs$core$dissoc(var_args){var args8602=[];var len__7214__auto___8608=arguments.length;var i__7215__auto___8609=0;while(true){if(i__7215__auto___8609<len__7214__auto___8608){args8602.push(arguments[i__7215__auto___8609]);var G__8610=i__7215__auto___8609+1;i__7215__auto___8609=G__8610;continue}else;break}var G__8607=args8602.length;switch(G__8607){case 1:return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8602.slice(2),0);return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1=function(coll){return coll};cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2=function(coll,k){if(coll==null)return null;else return cljs.core._dissoc(coll,k)};
cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic=function(coll,k,ks){while(true){if(coll==null)return null;else{var ret=cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(coll,k);if(cljs.core.truth_(ks)){var G__8612=ret;var G__8613=cljs.core.first(ks);var G__8614=cljs.core.next(ks);coll=G__8612;k=G__8613;ks=G__8614;continue}else return ret}break}};
cljs.core.dissoc.cljs$lang$applyTo=function(seq8603){var G__8604=cljs.core.first(seq8603);var seq8603__$1=cljs.core.next(seq8603);var G__8605=cljs.core.first(seq8603__$1);var seq8603__$2=cljs.core.next(seq8603__$1);return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__8604,G__8605,seq8603__$2)};cljs.core.dissoc.cljs$lang$maxFixedArity=2;
cljs.core.fn_QMARK_=function cljs$core$fn_QMARK_(f){var or__6156__auto__=goog.isFunction(f);if(or__6156__auto__)return or__6156__auto__;else if(!(f==null))if(false||f.cljs$core$Fn$)return true;else if(!f.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_(cljs.core.Fn,f);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.Fn,f)};
cljs.core.MetaFn=function(afn,meta){this.afn=afn;this.meta=meta;this.cljs$lang$protocol_mask$partition0$=393217;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.MetaFn.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__.meta};cljs.core.MetaFn.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_,new_meta){var self__=this;var ___$1=this;return new cljs.core.MetaFn(self__.afn,new_meta)};cljs.core.MetaFn.prototype.cljs$core$Fn$=true;
cljs.core.MetaFn.prototype.call=function(){var G__8620=null;var G__8620__1=function(self__){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$0?self__.afn.cljs$core$IFn$_invoke$arity$0():self__.afn.call(null)};var G__8620__2=function(self__,a){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$1?self__.afn.cljs$core$IFn$_invoke$arity$1(a):self__.afn.call(null,a)};var G__8620__3=function(self__,a,b){var self__=
this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$2?self__.afn.cljs$core$IFn$_invoke$arity$2(a,b):self__.afn.call(null,a,b)};var G__8620__4=function(self__,a,b,c){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$3?self__.afn.cljs$core$IFn$_invoke$arity$3(a,b,c):self__.afn.call(null,a,b,c)};var G__8620__5=function(self__,a,b,c,d){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$4?
self__.afn.cljs$core$IFn$_invoke$arity$4(a,b,c,d):self__.afn.call(null,a,b,c,d)};var G__8620__6=function(self__,a,b,c,d,e){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$5?self__.afn.cljs$core$IFn$_invoke$arity$5(a,b,c,d,e):self__.afn.call(null,a,b,c,d,e)};var G__8620__7=function(self__,a,b,c,d,e,f){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$6?self__.afn.cljs$core$IFn$_invoke$arity$6(a,b,c,
d,e,f):self__.afn.call(null,a,b,c,d,e,f)};var G__8620__8=function(self__,a,b,c,d,e,f,g){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$7?self__.afn.cljs$core$IFn$_invoke$arity$7(a,b,c,d,e,f,g):self__.afn.call(null,a,b,c,d,e,f,g)};var G__8620__9=function(self__,a,b,c,d,e,f,g,h){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$8?self__.afn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):self__.afn.call(null,
a,b,c,d,e,f,g,h)};var G__8620__10=function(self__,a,b,c,d,e,f,g,h,i){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$9?self__.afn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):self__.afn.call(null,a,b,c,d,e,f,g,h,i)};var G__8620__11=function(self__,a,b,c,d,e,f,g,h,i,j){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$10?self__.afn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,i,j):self__.afn.call(null,
a,b,c,d,e,f,g,h,i,j)};var G__8620__12=function(self__,a,b,c,d,e,f,g,h,i,j,k){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$11?self__.afn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k)};var G__8620__13=function(self__,a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$12?self__.afn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,
g,h,i,j,k,l):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l)};var G__8620__14=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$13?self__.afn.cljs$core$IFn$_invoke$arity$13(a,b,c,d,e,f,g,h,i,j,k,l,m):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};var G__8620__15=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$14?
self__.afn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,i,j,k,l,m,n):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)};var G__8620__16=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$15?self__.afn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};var G__8620__17=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var self____$1=
this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$16?self__.afn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};var G__8620__18=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$17?self__.afn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};
var G__8620__19=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$18?self__.afn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};var G__8620__20=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$19?self__.afn.cljs$core$IFn$_invoke$arity$19(a,
b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};var G__8620__21=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var self____$1=this;var _=self____$1;return self__.afn.cljs$core$IFn$_invoke$arity$20?self__.afn.cljs$core$IFn$_invoke$arity$20(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};var G__8620__22=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=
this;var self____$1=this;var _=self____$1;return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(self__.afn,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest):cljs.core.apply.call(null,self__.afn,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest)};G__8620=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){switch(arguments.length){case 1:return G__8620__1.call(this,self__);case 2:return G__8620__2.call(this,self__,a);case 3:return G__8620__3.call(this,
self__,a,b);case 4:return G__8620__4.call(this,self__,a,b,c);case 5:return G__8620__5.call(this,self__,a,b,c,d);case 6:return G__8620__6.call(this,self__,a,b,c,d,e);case 7:return G__8620__7.call(this,self__,a,b,c,d,e,f);case 8:return G__8620__8.call(this,self__,a,b,c,d,e,f,g);case 9:return G__8620__9.call(this,self__,a,b,c,d,e,f,g,h);case 10:return G__8620__10.call(this,self__,a,b,c,d,e,f,g,h,i);case 11:return G__8620__11.call(this,self__,a,b,c,d,e,f,g,h,i,j);case 12:return G__8620__12.call(this,
self__,a,b,c,d,e,f,g,h,i,j,k);case 13:return G__8620__13.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l);case 14:return G__8620__14.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m);case 15:return G__8620__15.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n);case 16:return G__8620__16.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);case 17:return G__8620__17.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);case 18:return G__8620__18.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);case 19:return G__8620__19.call(this,
self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);case 20:return G__8620__20.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);case 21:return G__8620__21.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);case 22:return G__8620__22.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest)}throw new Error("Invalid arity: "+arguments.length);};G__8620.cljs$core$IFn$_invoke$arity$1=G__8620__1;G__8620.cljs$core$IFn$_invoke$arity$2=G__8620__2;G__8620.cljs$core$IFn$_invoke$arity$3=G__8620__3;
G__8620.cljs$core$IFn$_invoke$arity$4=G__8620__4;G__8620.cljs$core$IFn$_invoke$arity$5=G__8620__5;G__8620.cljs$core$IFn$_invoke$arity$6=G__8620__6;G__8620.cljs$core$IFn$_invoke$arity$7=G__8620__7;G__8620.cljs$core$IFn$_invoke$arity$8=G__8620__8;G__8620.cljs$core$IFn$_invoke$arity$9=G__8620__9;G__8620.cljs$core$IFn$_invoke$arity$10=G__8620__10;G__8620.cljs$core$IFn$_invoke$arity$11=G__8620__11;G__8620.cljs$core$IFn$_invoke$arity$12=G__8620__12;G__8620.cljs$core$IFn$_invoke$arity$13=G__8620__13;G__8620.cljs$core$IFn$_invoke$arity$14=
G__8620__14;G__8620.cljs$core$IFn$_invoke$arity$15=G__8620__15;G__8620.cljs$core$IFn$_invoke$arity$16=G__8620__16;G__8620.cljs$core$IFn$_invoke$arity$17=G__8620__17;G__8620.cljs$core$IFn$_invoke$arity$18=G__8620__18;G__8620.cljs$core$IFn$_invoke$arity$19=G__8620__19;G__8620.cljs$core$IFn$_invoke$arity$20=G__8620__20;G__8620.cljs$core$IFn$_invoke$arity$21=G__8620__21;G__8620.cljs$core$IFn$_invoke$arity$22=G__8620__22;return G__8620}();
cljs.core.MetaFn.prototype.apply=function(self__,args8619){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args8619)))};cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$0=function(){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$0?self__.afn.cljs$core$IFn$_invoke$arity$0():self__.afn.call(null)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$1=function(a){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$1?self__.afn.cljs$core$IFn$_invoke$arity$1(a):self__.afn.call(null,a)};cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$2=function(a,b){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$2?self__.afn.cljs$core$IFn$_invoke$arity$2(a,b):self__.afn.call(null,a,b)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$3=function(a,b,c){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$3?self__.afn.cljs$core$IFn$_invoke$arity$3(a,b,c):self__.afn.call(null,a,b,c)};cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$4=function(a,b,c,d){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$4?self__.afn.cljs$core$IFn$_invoke$arity$4(a,b,c,d):self__.afn.call(null,a,b,c,d)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$5=function(a,b,c,d,e){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$5?self__.afn.cljs$core$IFn$_invoke$arity$5(a,b,c,d,e):self__.afn.call(null,a,b,c,d,e)};cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$6=function(a,b,c,d,e,f){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$6?self__.afn.cljs$core$IFn$_invoke$arity$6(a,b,c,d,e,f):self__.afn.call(null,a,b,c,d,e,f)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$7=function(a,b,c,d,e,f,g){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$7?self__.afn.cljs$core$IFn$_invoke$arity$7(a,b,c,d,e,f,g):self__.afn.call(null,a,b,c,d,e,f,g)};cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$8=function(a,b,c,d,e,f,g,h){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$8?self__.afn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):self__.afn.call(null,a,b,c,d,e,f,g,h)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$9=function(a,b,c,d,e,f,g,h,i){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$9?self__.afn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):self__.afn.call(null,a,b,c,d,e,f,g,h,i)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$10=function(a,b,c,d,e,f,g,h,i,j){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$10?self__.afn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,i,j):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$11=function(a,b,c,d,e,f,g,h,i,j,k){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$11?self__.afn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$12=function(a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$12?self__.afn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,g,h,i,j,k,l):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$13=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$13?self__.afn.cljs$core$IFn$_invoke$arity$13(a,b,c,d,e,f,g,h,i,j,k,l,m):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$14=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$14?self__.afn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,i,j,k,l,m,n):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$15=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$15?self__.afn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$16=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$16?self__.afn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$17=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$17?self__.afn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$18=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$18?self__.afn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$19=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$19?self__.afn.cljs$core$IFn$_invoke$arity$19(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$20=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var _=this;return self__.afn.cljs$core$IFn$_invoke$arity$20?self__.afn.cljs$core$IFn$_invoke$arity$20(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):self__.afn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};
cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$21=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=this;var _=this;return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(self__.afn,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest):cljs.core.apply.call(null,self__.afn,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest)};
cljs.core.MetaFn.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"afn","afn",216963467,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)};cljs.core.MetaFn.cljs$lang$type=true;cljs.core.MetaFn.cljs$lang$ctorStr="cljs.core/MetaFn";cljs.core.MetaFn.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/MetaFn")};
cljs.core.__GT_MetaFn=function cljs$core$__GT_MetaFn(afn,meta){return new cljs.core.MetaFn(afn,meta)};cljs.core.with_meta=function cljs$core$with_meta(o,meta){if(goog.isFunction(o))return new cljs.core.MetaFn(o,meta);else if(o==null)return null;else return cljs.core._with_meta(o,meta)};
cljs.core.meta=function cljs$core$meta(o){if(function(){var and__6144__auto__=!(o==null);if(and__6144__auto__)if(!(o==null))if(o.cljs$lang$protocol_mask$partition0$&131072||o.cljs$core$IMeta$)return true;else if(!o.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,o);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,o);else return and__6144__auto__}())return cljs.core._meta(o);else return null};
cljs.core.peek=function cljs$core$peek(coll){if(coll==null)return null;else return cljs.core._peek(coll)};cljs.core.pop=function cljs$core$pop(coll){if(coll==null)return null;else return cljs.core._pop(coll)};
cljs.core.disj=function cljs$core$disj(var_args){var args8625=[];var len__7214__auto___8631=arguments.length;var i__7215__auto___8632=0;while(true){if(i__7215__auto___8632<len__7214__auto___8631){args8625.push(arguments[i__7215__auto___8632]);var G__8633=i__7215__auto___8632+1;i__7215__auto___8632=G__8633;continue}else;break}var G__8630=args8625.length;switch(G__8630){case 1:return cljs.core.disj.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.disj.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8625.slice(2),0);return cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.disj.cljs$core$IFn$_invoke$arity$1=function(coll){return coll};cljs.core.disj.cljs$core$IFn$_invoke$arity$2=function(coll,k){if(coll==null)return null;else return cljs.core._disjoin(coll,k)};
cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic=function(coll,k,ks){while(true){if(coll==null)return null;else{var ret=cljs.core.disj.cljs$core$IFn$_invoke$arity$2(coll,k);if(cljs.core.truth_(ks)){var G__8635=ret;var G__8636=cljs.core.first(ks);var G__8637=cljs.core.next(ks);coll=G__8635;k=G__8636;ks=G__8637;continue}else return ret}break}};
cljs.core.disj.cljs$lang$applyTo=function(seq8626){var G__8627=cljs.core.first(seq8626);var seq8626__$1=cljs.core.next(seq8626);var G__8628=cljs.core.first(seq8626__$1);var seq8626__$2=cljs.core.next(seq8626__$1);return cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(G__8627,G__8628,seq8626__$2)};cljs.core.disj.cljs$lang$maxFixedArity=2;cljs.core.empty_QMARK_=function cljs$core$empty_QMARK_(coll){return coll==null||cljs.core.not(cljs.core.seq(coll))};
cljs.core.coll_QMARK_=function cljs$core$coll_QMARK_(x){if(x==null)return false;else if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&8||x.cljs$core$ICollection$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ICollection,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ICollection,x)};
cljs.core.set_QMARK_=function cljs$core$set_QMARK_(x){if(x==null)return false;else if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&4096||x.cljs$core$ISet$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ISet,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ISet,x)};
cljs.core.associative_QMARK_=function cljs$core$associative_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&512||x.cljs$core$IAssociative$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative,x)};
cljs.core.sequential_QMARK_=function cljs$core$sequential_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&16777216||x.cljs$core$ISequential$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ISequential,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ISequential,x)};
cljs.core.sorted_QMARK_=function cljs$core$sorted_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&268435456||x.cljs$core$ISorted$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ISorted,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ISorted,x)};
cljs.core.reduceable_QMARK_=function cljs$core$reduceable_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&524288||x.cljs$core$IReduce$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,x)};
cljs.core.map_QMARK_=function cljs$core$map_QMARK_(x){if(x==null)return false;else if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&1024||x.cljs$core$IMap$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IMap,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IMap,x)};
cljs.core.record_QMARK_=function cljs$core$record_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&67108864||x.cljs$core$IRecord$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IRecord,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IRecord,x)};
cljs.core.vector_QMARK_=function cljs$core$vector_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&16384||x.cljs$core$IVector$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IVector,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IVector,x)};
cljs.core.chunked_seq_QMARK_=function cljs$core$chunked_seq_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition1$&512||x.cljs$core$IChunkedSeq$)return true;else return false;else return false};
cljs.core.js_obj=function cljs$core$js_obj(var_args){var args8658=[];var len__7214__auto___8664=arguments.length;var i__7215__auto___8665=0;while(true){if(i__7215__auto___8665<len__7214__auto___8664){args8658.push(arguments[i__7215__auto___8665]);var G__8666=i__7215__auto___8665+1;i__7215__auto___8665=G__8666;continue}else;break}var G__8661=args8658.length;switch(G__8661){case 0:return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0();break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8658.slice(0),
0);return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(argseq__7233__auto__)}};cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0=function(){return{}};cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic=function(keyvals){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(goog.object.create,keyvals):cljs.core.apply.call(null,goog.object.create,keyvals)};cljs.core.js_obj.cljs$lang$applyTo=function(seq8659){return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq8659))};
cljs.core.js_obj.cljs$lang$maxFixedArity=0;cljs.core.js_keys=function cljs$core$js_keys(obj){var keys=[];var G__8670_8672=obj;var G__8671_8673=function(G__8670_8672,keys){return function(val,key,obj__$1){return keys.push(key)}}(G__8670_8672,keys);goog.object.forEach(G__8670_8672,G__8671_8673);return keys};cljs.core.js_delete=function cljs$core$js_delete(obj,key){return delete obj[key]};
cljs.core.array_copy=function cljs$core$array_copy(from,i,to,j,len){var i__$1=i;var j__$1=j;var len__$1=len;while(true){if(len__$1===0)return to;else{to[j__$1]=from[i__$1];var G__8674=i__$1+1;var G__8675=j__$1+1;var G__8676=len__$1-1;i__$1=G__8674;j__$1=G__8675;len__$1=G__8676;continue}break}};
cljs.core.array_copy_downward=function cljs$core$array_copy_downward(from,i,to,j,len){var i__$1=i+(len-1);var j__$1=j+(len-1);var len__$1=len;while(true){if(len__$1===0)return to;else{to[j__$1]=from[i__$1];var G__8677=i__$1-1;var G__8678=j__$1-1;var G__8679=len__$1-1;i__$1=G__8677;j__$1=G__8678;len__$1=G__8679;continue}break}};cljs.core.lookup_sentinel={};cljs.core.false_QMARK_=function cljs$core$false_QMARK_(x){return x===false};
cljs.core.true_QMARK_=function cljs$core$true_QMARK_(x){return x===true};cljs.core.undefined_QMARK_=function cljs$core$undefined_QMARK_(x){return void 0===x};
cljs.core.seq_QMARK_=function cljs$core$seq_QMARK_(s){if(s==null)return false;else if(!(s==null))if(s.cljs$lang$protocol_mask$partition0$&64||s.cljs$core$ISeq$)return true;else if(!s.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,s);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,s)};
cljs.core.seqable_QMARK_=function cljs$core$seqable_QMARK_(s){if(!(s==null))if(s.cljs$lang$protocol_mask$partition0$&8388608||s.cljs$core$ISeqable$)return true;else if(!s.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,s);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,s)};cljs.core.boolean$=function cljs$core$boolean(x){if(x==null)return false;else if(x===false)return false;else return true};
cljs.core.ifn_QMARK_=function cljs$core$ifn_QMARK_(f){var or__6156__auto__=cljs.core.fn_QMARK_(f);if(or__6156__auto__)return or__6156__auto__;else if(!(f==null))if(f.cljs$lang$protocol_mask$partition0$&1||f.cljs$core$IFn$)return true;else if(!f.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IFn,f);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IFn,f)};
cljs.core.integer_QMARK_=function cljs$core$integer_QMARK_(n){return typeof n==="number"&&!isNaN(n)&&!(n===Infinity)&&parseFloat(n)===parseInt(n,10)};cljs.core.contains_QMARK_=function cljs$core$contains_QMARK_(coll,v){if(cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll,v,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return false;else return true};
cljs.core.find=function cljs$core$find(coll,k){if(!(coll==null)&&cljs.core.associative_QMARK_(coll)&&cljs.core.contains_QMARK_(coll,k))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll,k)],null);else return null};
cljs.core.distinct_QMARK_=function cljs$core$distinct_QMARK_(var_args){var args8690=[];var len__7214__auto___8696=arguments.length;var i__7215__auto___8697=0;while(true){if(i__7215__auto___8697<len__7214__auto___8696){args8690.push(arguments[i__7215__auto___8697]);var G__8698=i__7215__auto___8697+1;i__7215__auto___8697=G__8698;continue}else;break}var G__8695=args8690.length;switch(G__8695){case 1:return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8690.slice(2),0);return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2=function(x,y){return!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x,y)};
cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){if(!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x,y)){var s=cljs.core.PersistentHashSet.fromArray([x,y],true);var xs=more;while(true){var x__$1=cljs.core.first(xs);var etc=cljs.core.next(xs);if(cljs.core.truth_(xs))if(cljs.core.contains_QMARK_(s,x__$1))return false;else{var G__8700=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(s,x__$1);var G__8701=etc;s=G__8700;xs=G__8701;continue}else return true;break}}else return false};
cljs.core.distinct_QMARK_.cljs$lang$applyTo=function(seq8691){var G__8692=cljs.core.first(seq8691);var seq8691__$1=cljs.core.next(seq8691);var G__8693=cljs.core.first(seq8691__$1);var seq8691__$2=cljs.core.next(seq8691__$1);return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(G__8692,G__8693,seq8691__$2)};cljs.core.distinct_QMARK_.cljs$lang$maxFixedArity=2;
cljs.core.compare=function cljs$core$compare(x,y){if(x===y)return 0;else if(x==null)return-1;else if(y==null)return 1;else if(typeof x==="number")if(typeof y==="number")return goog.array.defaultCompare(x,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x),cljs.core.str(" to "),cljs.core.str(y)].join(""));else if(!(x==null)?x.cljs$lang$protocol_mask$partition1$&2048||x.cljs$core$IComparable$?true:!x.cljs$lang$protocol_mask$partition1$?cljs.core.native_satisfies_QMARK_(cljs.core.IComparable,
x):false:cljs.core.native_satisfies_QMARK_(cljs.core.IComparable,x))return cljs.core._compare(x,y);else if((typeof x==="string"||cljs.core.array_QMARK_(x)||x===true||x===false)&&cljs.core.type(x)===cljs.core.type(y))return goog.array.defaultCompare(x,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x),cljs.core.str(" to "),cljs.core.str(y)].join(""));};
cljs.core.compare_indexed=function cljs$core$compare_indexed(var_args){var args8704=[];var len__7214__auto___8707=arguments.length;var i__7215__auto___8708=0;while(true){if(i__7215__auto___8708<len__7214__auto___8707){args8704.push(arguments[i__7215__auto___8708]);var G__8709=i__7215__auto___8708+1;i__7215__auto___8708=G__8709;continue}else;break}var G__8706=args8704.length;switch(G__8706){case 2:return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 4:return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8704.length)].join(""));}};cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2=function(xs,ys){var xl=cljs.core.count(xs);var yl=cljs.core.count(ys);if(xl<yl)return-1;else if(xl>yl)return 1;else if(xl===0)return 0;else return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(xs,ys,xl,0)};
cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4=function(xs,ys,len,n){while(true){var d=cljs.core.compare(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(xs,n),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(ys,n));if(d===0&&n+1<len){var G__8711=xs;var G__8712=ys;var G__8713=len;var G__8714=n+1;xs=G__8711;ys=G__8712;len=G__8713;n=G__8714;continue}else return d;break}};cljs.core.compare_indexed.cljs$lang$maxFixedArity=4;
cljs.core.fn__GT_comparator=function cljs$core$fn__GT_comparator(f){if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(f,cljs.core.compare))return cljs.core.compare;else return function(x,y){var r=f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y);if(typeof r==="number")return r;else if(cljs.core.truth_(r))return-1;else if(cljs.core.truth_(f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(y,x):f.call(null,y,x)))return 1;else return 0}};
cljs.core.sort=function cljs$core$sort(var_args){var args8715=[];var len__7214__auto___8720=arguments.length;var i__7215__auto___8721=0;while(true){if(i__7215__auto___8721<len__7214__auto___8720){args8715.push(arguments[i__7215__auto___8721]);var G__8722=i__7215__auto___8721+1;i__7215__auto___8721=G__8722;continue}else;break}var G__8717=args8715.length;switch(G__8717){case 1:return cljs.core.sort.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8715.length)].join(""));}};cljs.core.sort.cljs$core$IFn$_invoke$arity$1=function(coll){return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(cljs.core.compare,coll)};
cljs.core.sort.cljs$core$IFn$_invoke$arity$2=function(comp,coll){if(cljs.core.seq(coll)){var a=cljs.core.to_array.cljs$core$IFn$_invoke$arity$1?cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.to_array.call(null,coll);var G__8718_8724=a;var G__8719_8725=cljs.core.fn__GT_comparator(comp);goog.array.stableSort(G__8718_8724,G__8719_8725);return cljs.core.seq(a)}else return cljs.core.List.EMPTY};cljs.core.sort.cljs$lang$maxFixedArity=2;
cljs.core.sort_by=function cljs$core$sort_by(var_args){var args8726=[];var len__7214__auto___8729=arguments.length;var i__7215__auto___8730=0;while(true){if(i__7215__auto___8730<len__7214__auto___8729){args8726.push(arguments[i__7215__auto___8730]);var G__8731=i__7215__auto___8730+1;i__7215__auto___8730=G__8731;continue}else;break}var G__8728=args8726.length;switch(G__8728){case 2:return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8726.length)].join(""));}};cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2=function(keyfn,coll){return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(keyfn,cljs.core.compare,coll)};
cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3=function(keyfn,comp,coll){return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(function(x,y){return cljs.core.fn__GT_comparator(comp).call(null,keyfn.cljs$core$IFn$_invoke$arity$1?keyfn.cljs$core$IFn$_invoke$arity$1(x):keyfn.call(null,x),keyfn.cljs$core$IFn$_invoke$arity$1?keyfn.cljs$core$IFn$_invoke$arity$1(y):keyfn.call(null,y))},coll)};cljs.core.sort_by.cljs$lang$maxFixedArity=3;
cljs.core.seq_reduce=function cljs$core$seq_reduce(var_args){var args8733=[];var len__7214__auto___8741=arguments.length;var i__7215__auto___8742=0;while(true){if(i__7215__auto___8742<len__7214__auto___8741){args8733.push(arguments[i__7215__auto___8742]);var G__8743=i__7215__auto___8742+1;i__7215__auto___8742=G__8743;continue}else;break}var G__8735=args8733.length;switch(G__8735){case 2:return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8733.length)].join(""));}};
cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2=function(f,coll){var temp__4655__auto__=cljs.core.seq(coll);if(temp__4655__auto__){var s=temp__4655__auto__;var G__8736=f;var G__8737=cljs.core.first(s);var G__8738=cljs.core.next(s);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(G__8736,G__8737,G__8738):cljs.core.reduce.call(null,G__8736,G__8737,G__8738)}else return f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null)};
cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3=function(f,val,coll){var val__$1=val;var coll__$1=cljs.core.seq(coll);while(true){if(coll__$1){var nval=function(){var G__8739=val__$1;var G__8740=cljs.core.first(coll__$1);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__8739,G__8740):f.call(null,G__8739,G__8740)}();if(cljs.core.reduced_QMARK_(nval))return cljs.core.deref(nval);else{var G__8745=nval;var G__8746=cljs.core.next(coll__$1);val__$1=G__8745;coll__$1=G__8746;continue}}else return val__$1;
break}};cljs.core.seq_reduce.cljs$lang$maxFixedArity=3;cljs.core.shuffle=function cljs$core$shuffle(coll){var a=cljs.core.to_array.cljs$core$IFn$_invoke$arity$1?cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.to_array.call(null,coll);goog.array.shuffle(a);return cljs.core.vec.cljs$core$IFn$_invoke$arity$1?cljs.core.vec.cljs$core$IFn$_invoke$arity$1(a):cljs.core.vec.call(null,a)};
cljs.core.reduce=function cljs$core$reduce(var_args){var args8747=[];var len__7214__auto___8752=arguments.length;var i__7215__auto___8753=0;while(true){if(i__7215__auto___8753<len__7214__auto___8752){args8747.push(arguments[i__7215__auto___8753]);var G__8754=i__7215__auto___8753+1;i__7215__auto___8753=G__8754;continue}else;break}var G__8749=args8747.length;switch(G__8749){case 2:return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8747.length)].join(""));}};
cljs.core.reduce.cljs$core$IFn$_invoke$arity$2=function(f,coll){if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&524288||coll.cljs$core$IReduce$?true:false:false)return coll.cljs$core$IReduce$_reduce$arity$2(null,f);else if(cljs.core.array_QMARK_(coll))return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(coll,f);else if(typeof coll==="string")return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(coll,f);else if(cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,coll))return cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(coll,
f);else return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll)};
cljs.core.reduce.cljs$core$IFn$_invoke$arity$3=function(f,val,coll){if(!(coll==null)?coll.cljs$lang$protocol_mask$partition0$&524288||coll.cljs$core$IReduce$?true:false:false)return coll.cljs$core$IReduce$_reduce$arity$3(null,f,val);else if(cljs.core.array_QMARK_(coll))return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(coll,f,val);else if(typeof coll==="string")return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(coll,f,val);else if(cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,
coll))return cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(coll,f,val);else return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,val,coll)};cljs.core.reduce.cljs$lang$maxFixedArity=3;cljs.core.reduce_kv=function cljs$core$reduce_kv(f,init,coll){if(!(coll==null))return cljs.core._kv_reduce(coll,f,init);else return init};cljs.core.identity=function cljs$core$identity(x){return x};
cljs.core.completing=function cljs$core$completing(var_args){var args8756=[];var len__7214__auto___8759=arguments.length;var i__7215__auto___8760=0;while(true){if(i__7215__auto___8760<len__7214__auto___8759){args8756.push(arguments[i__7215__auto___8760]);var G__8761=i__7215__auto___8760+1;i__7215__auto___8760=G__8761;continue}else;break}var G__8758=args8756.length;switch(G__8758){case 1:return cljs.core.completing.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8756.length)].join(""));}};cljs.core.completing.cljs$core$IFn$_invoke$arity$1=function(f){return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(f,cljs.core.identity)};
cljs.core.completing.cljs$core$IFn$_invoke$arity$2=function(f,cf){return function(){var G__8763=null;var G__8763__0=function(){return f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null)};var G__8763__1=function(x){return cf.cljs$core$IFn$_invoke$arity$1?cf.cljs$core$IFn$_invoke$arity$1(x):cf.call(null,x)};var G__8763__2=function(x,y){return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y)};G__8763=function(x,y){switch(arguments.length){case 0:return G__8763__0.call(this);
case 1:return G__8763__1.call(this,x);case 2:return G__8763__2.call(this,x,y)}throw new Error("Invalid arity: "+arguments.length);};G__8763.cljs$core$IFn$_invoke$arity$0=G__8763__0;G__8763.cljs$core$IFn$_invoke$arity$1=G__8763__1;G__8763.cljs$core$IFn$_invoke$arity$2=G__8763__2;return G__8763}()};cljs.core.completing.cljs$lang$maxFixedArity=2;
cljs.core.transduce=function cljs$core$transduce(var_args){var args8764=[];var len__7214__auto___8767=arguments.length;var i__7215__auto___8768=0;while(true){if(i__7215__auto___8768<len__7214__auto___8767){args8764.push(arguments[i__7215__auto___8768]);var G__8769=i__7215__auto___8768+1;i__7215__auto___8768=G__8769;continue}else;break}var G__8766=args8764.length;switch(G__8766){case 3:return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args8764.length)].join(""));}};cljs.core.transduce.cljs$core$IFn$_invoke$arity$3=function(xform,f,coll){return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform,f,f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null),coll)};
cljs.core.transduce.cljs$core$IFn$_invoke$arity$4=function(xform,f,init,coll){var f__$1=xform.cljs$core$IFn$_invoke$arity$1?xform.cljs$core$IFn$_invoke$arity$1(f):xform.call(null,f);var ret=cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(f__$1,init,coll);return f__$1.cljs$core$IFn$_invoke$arity$1?f__$1.cljs$core$IFn$_invoke$arity$1(ret):f__$1.call(null,ret)};cljs.core.transduce.cljs$lang$maxFixedArity=4;
cljs.core._PLUS_=function cljs$core$_PLUS_(var_args){var args8771=[];var len__7214__auto___8777=arguments.length;var i__7215__auto___8778=0;while(true){if(i__7215__auto___8778<len__7214__auto___8777){args8771.push(arguments[i__7215__auto___8778]);var G__8779=i__7215__auto___8778+1;i__7215__auto___8778=G__8779;continue}else;break}var G__8776=args8771.length;switch(G__8776){case 0:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8771.slice(2),0);return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0=function(){return 0};cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1=function(x){return x};cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x+y};
cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._PLUS_,x+y,more)};cljs.core._PLUS_.cljs$lang$applyTo=function(seq8772){var G__8773=cljs.core.first(seq8772);var seq8772__$1=cljs.core.next(seq8772);var G__8774=cljs.core.first(seq8772__$1);var seq8772__$2=cljs.core.next(seq8772__$1);return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(G__8773,G__8774,seq8772__$2)};
cljs.core._PLUS_.cljs$lang$maxFixedArity=2;
cljs.core._=function cljs$core$_(var_args){var args8781=[];var len__7214__auto___8787=arguments.length;var i__7215__auto___8788=0;while(true){if(i__7215__auto___8788<len__7214__auto___8787){args8781.push(arguments[i__7215__auto___8788]);var G__8789=i__7215__auto___8788+1;i__7215__auto___8788=G__8789;continue}else;break}var G__8786=args8781.length;switch(G__8786){case 1:return cljs.core._.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8781.slice(2),0);return cljs.core._.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._.cljs$core$IFn$_invoke$arity$1=function(x){return-x};cljs.core._.cljs$core$IFn$_invoke$arity$2=function(x,y){return x-y};cljs.core._.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._,x-y,more)};
cljs.core._.cljs$lang$applyTo=function(seq8782){var G__8783=cljs.core.first(seq8782);var seq8782__$1=cljs.core.next(seq8782);var G__8784=cljs.core.first(seq8782__$1);var seq8782__$2=cljs.core.next(seq8782__$1);return cljs.core._.cljs$core$IFn$_invoke$arity$variadic(G__8783,G__8784,seq8782__$2)};cljs.core._.cljs$lang$maxFixedArity=2;
cljs.core._STAR_=function cljs$core$_STAR_(var_args){var args8791=[];var len__7214__auto___8797=arguments.length;var i__7215__auto___8798=0;while(true){if(i__7215__auto___8798<len__7214__auto___8797){args8791.push(arguments[i__7215__auto___8798]);var G__8799=i__7215__auto___8798+1;i__7215__auto___8798=G__8799;continue}else;break}var G__8796=args8791.length;switch(G__8796){case 0:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8791.slice(2),0);return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0=function(){return 1};cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1=function(x){return x};cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x*y};
cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._STAR_,x*y,more)};cljs.core._STAR_.cljs$lang$applyTo=function(seq8792){var G__8793=cljs.core.first(seq8792);var seq8792__$1=cljs.core.next(seq8792);var G__8794=cljs.core.first(seq8792__$1);var seq8792__$2=cljs.core.next(seq8792__$1);return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(G__8793,G__8794,seq8792__$2)};
cljs.core._STAR_.cljs$lang$maxFixedArity=2;
cljs.core._SLASH_=function cljs$core$_SLASH_(var_args){var args8801=[];var len__7214__auto___8807=arguments.length;var i__7215__auto___8808=0;while(true){if(i__7215__auto___8808<len__7214__auto___8807){args8801.push(arguments[i__7215__auto___8808]);var G__8809=i__7215__auto___8808+1;i__7215__auto___8808=G__8809;continue}else;break}var G__8806=args8801.length;switch(G__8806){case 1:return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8801.slice(2),0);return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1=function(x){return 1/x};cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x/y};
cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._SLASH_,x/y,more)};cljs.core._SLASH_.cljs$lang$applyTo=function(seq8802){var G__8803=cljs.core.first(seq8802);var seq8802__$1=cljs.core.next(seq8802);var G__8804=cljs.core.first(seq8802__$1);var seq8802__$2=cljs.core.next(seq8802__$1);return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(G__8803,G__8804,seq8802__$2)};
cljs.core._SLASH_.cljs$lang$maxFixedArity=2;
cljs.core._LT_=function cljs$core$_LT_(var_args){var args8811=[];var len__7214__auto___8817=arguments.length;var i__7215__auto___8818=0;while(true){if(i__7215__auto___8818<len__7214__auto___8817){args8811.push(arguments[i__7215__auto___8818]);var G__8819=i__7215__auto___8818+1;i__7215__auto___8818=G__8819;continue}else;break}var G__8816=args8811.length;switch(G__8816){case 1:return cljs.core._LT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8811.slice(2),0);return cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._LT_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._LT_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x<y};
cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(x<y)if(cljs.core.next(more)){var G__8821=y;var G__8822=cljs.core.first(more);var G__8823=cljs.core.next(more);x=G__8821;y=G__8822;more=G__8823;continue}else return y<cljs.core.first(more);else return false;break}};
cljs.core._LT_.cljs$lang$applyTo=function(seq8812){var G__8813=cljs.core.first(seq8812);var seq8812__$1=cljs.core.next(seq8812);var G__8814=cljs.core.first(seq8812__$1);var seq8812__$2=cljs.core.next(seq8812__$1);return cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(G__8813,G__8814,seq8812__$2)};cljs.core._LT_.cljs$lang$maxFixedArity=2;
cljs.core._LT__EQ_=function cljs$core$_LT__EQ_(var_args){var args8824=[];var len__7214__auto___8830=arguments.length;var i__7215__auto___8831=0;while(true){if(i__7215__auto___8831<len__7214__auto___8830){args8824.push(arguments[i__7215__auto___8831]);var G__8832=i__7215__auto___8831+1;i__7215__auto___8831=G__8832;continue}else;break}var G__8829=args8824.length;switch(G__8829){case 1:return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8824.slice(2),0);return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x<=y};
cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(x<=y)if(cljs.core.next(more)){var G__8834=y;var G__8835=cljs.core.first(more);var G__8836=cljs.core.next(more);x=G__8834;y=G__8835;more=G__8836;continue}else return y<=cljs.core.first(more);else return false;break}};
cljs.core._LT__EQ_.cljs$lang$applyTo=function(seq8825){var G__8826=cljs.core.first(seq8825);var seq8825__$1=cljs.core.next(seq8825);var G__8827=cljs.core.first(seq8825__$1);var seq8825__$2=cljs.core.next(seq8825__$1);return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8826,G__8827,seq8825__$2)};cljs.core._LT__EQ_.cljs$lang$maxFixedArity=2;
cljs.core._GT_=function cljs$core$_GT_(var_args){var args8837=[];var len__7214__auto___8843=arguments.length;var i__7215__auto___8844=0;while(true){if(i__7215__auto___8844<len__7214__auto___8843){args8837.push(arguments[i__7215__auto___8844]);var G__8845=i__7215__auto___8844+1;i__7215__auto___8844=G__8845;continue}else;break}var G__8842=args8837.length;switch(G__8842){case 1:return cljs.core._GT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._GT_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8837.slice(2),0);return cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._GT_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._GT_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x>y};
cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(x>y)if(cljs.core.next(more)){var G__8847=y;var G__8848=cljs.core.first(more);var G__8849=cljs.core.next(more);x=G__8847;y=G__8848;more=G__8849;continue}else return y>cljs.core.first(more);else return false;break}};
cljs.core._GT_.cljs$lang$applyTo=function(seq8838){var G__8839=cljs.core.first(seq8838);var seq8838__$1=cljs.core.next(seq8838);var G__8840=cljs.core.first(seq8838__$1);var seq8838__$2=cljs.core.next(seq8838__$1);return cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(G__8839,G__8840,seq8838__$2)};cljs.core._GT_.cljs$lang$maxFixedArity=2;
cljs.core._GT__EQ_=function cljs$core$_GT__EQ_(var_args){var args8850=[];var len__7214__auto___8856=arguments.length;var i__7215__auto___8857=0;while(true){if(i__7215__auto___8857<len__7214__auto___8856){args8850.push(arguments[i__7215__auto___8857]);var G__8858=i__7215__auto___8857+1;i__7215__auto___8857=G__8858;continue}else;break}var G__8855=args8850.length;switch(G__8855){case 1:return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8850.slice(2),0);return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2=function(x,y){return x>=y};
cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(x>=y)if(cljs.core.next(more)){var G__8860=y;var G__8861=cljs.core.first(more);var G__8862=cljs.core.next(more);x=G__8860;y=G__8861;more=G__8862;continue}else return y>=cljs.core.first(more);else return false;break}};
cljs.core._GT__EQ_.cljs$lang$applyTo=function(seq8851){var G__8852=cljs.core.first(seq8851);var seq8851__$1=cljs.core.next(seq8851);var G__8853=cljs.core.first(seq8851__$1);var seq8851__$2=cljs.core.next(seq8851__$1);return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8852,G__8853,seq8851__$2)};cljs.core._GT__EQ_.cljs$lang$maxFixedArity=2;cljs.core.dec=function cljs$core$dec(x){return x-1};
cljs.core.max=function cljs$core$max(var_args){var args8863=[];var len__7214__auto___8869=arguments.length;var i__7215__auto___8870=0;while(true){if(i__7215__auto___8870<len__7214__auto___8869){args8863.push(arguments[i__7215__auto___8870]);var G__8871=i__7215__auto___8870+1;i__7215__auto___8870=G__8871;continue}else;break}var G__8868=args8863.length;switch(G__8868){case 1:return cljs.core.max.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.max.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8863.slice(2),0);return cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.max.cljs$core$IFn$_invoke$arity$1=function(x){return x};cljs.core.max.cljs$core$IFn$_invoke$arity$2=function(x,y){var x__6487__auto__=x;var y__6488__auto__=y;return x__6487__auto__>y__6488__auto__?x__6487__auto__:y__6488__auto__};
cljs.core.max.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.max,function(){var x__6487__auto__=x;var y__6488__auto__=y;return x__6487__auto__>y__6488__auto__?x__6487__auto__:y__6488__auto__}(),more)};
cljs.core.max.cljs$lang$applyTo=function(seq8864){var G__8865=cljs.core.first(seq8864);var seq8864__$1=cljs.core.next(seq8864);var G__8866=cljs.core.first(seq8864__$1);var seq8864__$2=cljs.core.next(seq8864__$1);return cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(G__8865,G__8866,seq8864__$2)};cljs.core.max.cljs$lang$maxFixedArity=2;
cljs.core.min=function cljs$core$min(var_args){var args8873=[];var len__7214__auto___8879=arguments.length;var i__7215__auto___8880=0;while(true){if(i__7215__auto___8880<len__7214__auto___8879){args8873.push(arguments[i__7215__auto___8880]);var G__8881=i__7215__auto___8880+1;i__7215__auto___8880=G__8881;continue}else;break}var G__8878=args8873.length;switch(G__8878){case 1:return cljs.core.min.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.min.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8873.slice(2),0);return cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.min.cljs$core$IFn$_invoke$arity$1=function(x){return x};cljs.core.min.cljs$core$IFn$_invoke$arity$2=function(x,y){var x__6494__auto__=x;var y__6495__auto__=y;return x__6494__auto__<y__6495__auto__?x__6494__auto__:y__6495__auto__};
cljs.core.min.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.min,function(){var x__6494__auto__=x;var y__6495__auto__=y;return x__6494__auto__<y__6495__auto__?x__6494__auto__:y__6495__auto__}(),more)};
cljs.core.min.cljs$lang$applyTo=function(seq8874){var G__8875=cljs.core.first(seq8874);var seq8874__$1=cljs.core.next(seq8874);var G__8876=cljs.core.first(seq8874__$1);var seq8874__$2=cljs.core.next(seq8874__$1);return cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(G__8875,G__8876,seq8874__$2)};cljs.core.min.cljs$lang$maxFixedArity=2;cljs.core.byte$=function cljs$core$byte(x){return x};
cljs.core.char$=function cljs$core$char(x){if(typeof x==="number")return String.fromCharCode(x);else if(typeof x==="string"&&x.length===1)return x;else throw new Error("Argument to char must be a character or number");};cljs.core.short$=function cljs$core$short(x){return x};cljs.core.float$=function cljs$core$float(x){return x};cljs.core.double$=function cljs$core$double(x){return x};cljs.core.unchecked_byte=function cljs$core$unchecked_byte(x){return x};cljs.core.unchecked_char=function cljs$core$unchecked_char(x){return x};
cljs.core.unchecked_short=function cljs$core$unchecked_short(x){return x};cljs.core.unchecked_float=function cljs$core$unchecked_float(x){return x};cljs.core.unchecked_double=function cljs$core$unchecked_double(x){return x};
cljs.core.unchecked_add=function cljs$core$unchecked_add(var_args){var args8883=[];var len__7214__auto___8889=arguments.length;var i__7215__auto___8890=0;while(true){if(i__7215__auto___8890<len__7214__auto___8889){args8883.push(arguments[i__7215__auto___8890]);var G__8891=i__7215__auto___8890+1;i__7215__auto___8890=G__8891;continue}else;break}var G__8888=args8883.length;switch(G__8888){case 0:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8883.slice(2),0);return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0=function(){return 0};cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1=function(x){return x};
cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2=function(x,y){return x+y};cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add,x+y,more)};
cljs.core.unchecked_add.cljs$lang$applyTo=function(seq8884){var G__8885=cljs.core.first(seq8884);var seq8884__$1=cljs.core.next(seq8884);var G__8886=cljs.core.first(seq8884__$1);var seq8884__$2=cljs.core.next(seq8884__$1);return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(G__8885,G__8886,seq8884__$2)};cljs.core.unchecked_add.cljs$lang$maxFixedArity=2;
cljs.core.unchecked_add_int=function cljs$core$unchecked_add_int(var_args){var args8893=[];var len__7214__auto___8899=arguments.length;var i__7215__auto___8900=0;while(true){if(i__7215__auto___8900<len__7214__auto___8899){args8893.push(arguments[i__7215__auto___8900]);var G__8901=i__7215__auto___8900+1;i__7215__auto___8900=G__8901;continue}else;break}var G__8898=args8893.length;switch(G__8898){case 0:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8893.slice(2),0);return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0=function(){return 0};cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1=function(x){return x};
cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2=function(x,y){return x+y};cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add_int,x+y,more)};
cljs.core.unchecked_add_int.cljs$lang$applyTo=function(seq8894){var G__8895=cljs.core.first(seq8894);var seq8894__$1=cljs.core.next(seq8894);var G__8896=cljs.core.first(seq8894__$1);var seq8894__$2=cljs.core.next(seq8894__$1);return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(G__8895,G__8896,seq8894__$2)};cljs.core.unchecked_add_int.cljs$lang$maxFixedArity=2;cljs.core.unchecked_dec=function cljs$core$unchecked_dec(x){return x-1};
cljs.core.unchecked_dec_int=function cljs$core$unchecked_dec_int(x){return x-1};
cljs.core.unchecked_divide_int=function cljs$core$unchecked_divide_int(var_args){var args8903=[];var len__7214__auto___8909=arguments.length;var i__7215__auto___8910=0;while(true){if(i__7215__auto___8910<len__7214__auto___8909){args8903.push(arguments[i__7215__auto___8910]);var G__8911=i__7215__auto___8910+1;i__7215__auto___8910=G__8911;continue}else;break}var G__8908=args8903.length;switch(G__8908){case 1:return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8903.slice(2),0);return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1=function(x){return 1/x};cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2=function(x,y){return x/y};
cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_divide_int,x/y,more)};
cljs.core.unchecked_divide_int.cljs$lang$applyTo=function(seq8904){var G__8905=cljs.core.first(seq8904);var seq8904__$1=cljs.core.next(seq8904);var G__8906=cljs.core.first(seq8904__$1);var seq8904__$2=cljs.core.next(seq8904__$1);return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(G__8905,G__8906,seq8904__$2)};cljs.core.unchecked_divide_int.cljs$lang$maxFixedArity=2;cljs.core.unchecked_inc=function cljs$core$unchecked_inc(x){return x+1};
cljs.core.unchecked_inc_int=function cljs$core$unchecked_inc_int(x){return x+1};
cljs.core.unchecked_multiply=function cljs$core$unchecked_multiply(var_args){var args8913=[];var len__7214__auto___8919=arguments.length;var i__7215__auto___8920=0;while(true){if(i__7215__auto___8920<len__7214__auto___8919){args8913.push(arguments[i__7215__auto___8920]);var G__8921=i__7215__auto___8920+1;i__7215__auto___8920=G__8921;continue}else;break}var G__8918=args8913.length;switch(G__8918){case 0:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8913.slice(2),0);return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0=function(){return 1};cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1=function(x){return x};
cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2=function(x,y){return x*y};cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply,x*y,more)};
cljs.core.unchecked_multiply.cljs$lang$applyTo=function(seq8914){var G__8915=cljs.core.first(seq8914);var seq8914__$1=cljs.core.next(seq8914);var G__8916=cljs.core.first(seq8914__$1);var seq8914__$2=cljs.core.next(seq8914__$1);return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(G__8915,G__8916,seq8914__$2)};cljs.core.unchecked_multiply.cljs$lang$maxFixedArity=2;
cljs.core.unchecked_multiply_int=function cljs$core$unchecked_multiply_int(var_args){var args8923=[];var len__7214__auto___8929=arguments.length;var i__7215__auto___8930=0;while(true){if(i__7215__auto___8930<len__7214__auto___8929){args8923.push(arguments[i__7215__auto___8930]);var G__8931=i__7215__auto___8930+1;i__7215__auto___8930=G__8931;continue}else;break}var G__8928=args8923.length;switch(G__8928){case 0:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8923.slice(2),0);return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0=function(){return 1};cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1=function(x){return x};
cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2=function(x,y){return x*y};cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply_int,x*y,more)};
cljs.core.unchecked_multiply_int.cljs$lang$applyTo=function(seq8924){var G__8925=cljs.core.first(seq8924);var seq8924__$1=cljs.core.next(seq8924);var G__8926=cljs.core.first(seq8924__$1);var seq8924__$2=cljs.core.next(seq8924__$1);return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(G__8925,G__8926,seq8924__$2)};cljs.core.unchecked_multiply_int.cljs$lang$maxFixedArity=2;cljs.core.unchecked_negate=function cljs$core$unchecked_negate(x){return-x};
cljs.core.unchecked_negate_int=function cljs$core$unchecked_negate_int(x){return-x};cljs.core.unchecked_remainder_int=function cljs$core$unchecked_remainder_int(x,n){return cljs.core.mod.cljs$core$IFn$_invoke$arity$2?cljs.core.mod.cljs$core$IFn$_invoke$arity$2(x,n):cljs.core.mod.call(null,x,n)};
cljs.core.unchecked_subtract=function cljs$core$unchecked_subtract(var_args){var args8933=[];var len__7214__auto___8939=arguments.length;var i__7215__auto___8940=0;while(true){if(i__7215__auto___8940<len__7214__auto___8939){args8933.push(arguments[i__7215__auto___8940]);var G__8941=i__7215__auto___8940+1;i__7215__auto___8940=G__8941;continue}else;break}var G__8938=args8933.length;switch(G__8938){case 1:return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8933.slice(2),0);return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1=function(x){return-x};cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2=function(x,y){return x-y};
cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract,x-y,more)};cljs.core.unchecked_subtract.cljs$lang$applyTo=function(seq8934){var G__8935=cljs.core.first(seq8934);var seq8934__$1=cljs.core.next(seq8934);var G__8936=cljs.core.first(seq8934__$1);var seq8934__$2=cljs.core.next(seq8934__$1);return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(G__8935,G__8936,seq8934__$2)};
cljs.core.unchecked_subtract.cljs$lang$maxFixedArity=2;
cljs.core.unchecked_subtract_int=function cljs$core$unchecked_subtract_int(var_args){var args8943=[];var len__7214__auto___8949=arguments.length;var i__7215__auto___8950=0;while(true){if(i__7215__auto___8950<len__7214__auto___8949){args8943.push(arguments[i__7215__auto___8950]);var G__8951=i__7215__auto___8950+1;i__7215__auto___8950=G__8951;continue}else;break}var G__8948=args8943.length;switch(G__8948){case 1:return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;
case 2:return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8943.slice(2),0);return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1=function(x){return-x};cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2=function(x,y){return x-y};
cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract_int,x-y,more)};
cljs.core.unchecked_subtract_int.cljs$lang$applyTo=function(seq8944){var G__8945=cljs.core.first(seq8944);var seq8944__$1=cljs.core.next(seq8944);var G__8946=cljs.core.first(seq8944__$1);var seq8944__$2=cljs.core.next(seq8944__$1);return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(G__8945,G__8946,seq8944__$2)};cljs.core.unchecked_subtract_int.cljs$lang$maxFixedArity=2;cljs.core.fix=function cljs$core$fix(q){if(q>=0)return Math.floor(q);else return Math.ceil(q)};
cljs.core.int$=function cljs$core$int(x){return x|0};cljs.core.unchecked_int=function cljs$core$unchecked_int(x){return cljs.core.fix(x)};cljs.core.long$=function cljs$core$long(x){return cljs.core.fix(x)};cljs.core.unchecked_long=function cljs$core$unchecked_long(x){return cljs.core.fix(x)};cljs.core.booleans=function cljs$core$booleans(x){return x};cljs.core.bytes=function cljs$core$bytes(x){return x};cljs.core.chars=function cljs$core$chars(x){return x};cljs.core.shorts=function cljs$core$shorts(x){return x};
cljs.core.ints=function cljs$core$ints(x){return x};cljs.core.floats=function cljs$core$floats(x){return x};cljs.core.doubles=function cljs$core$doubles(x){return x};cljs.core.longs=function cljs$core$longs(x){return x};cljs.core.js_mod=function cljs$core$js_mod(n,d){return n%d};cljs.core.mod=function cljs$core$mod(n,d){return(n%d+d)%d};cljs.core.quot=function cljs$core$quot(n,d){var rem=n%d;return cljs.core.fix((n-rem)/d)};
cljs.core.rem=function cljs$core$rem(n,d){var q=cljs.core.quot(n,d);return n-d*q};
cljs.core.bit_xor=function cljs$core$bit_xor(var_args){var args8953=[];var len__7214__auto___8959=arguments.length;var i__7215__auto___8960=0;while(true){if(i__7215__auto___8960<len__7214__auto___8959){args8953.push(arguments[i__7215__auto___8960]);var G__8961=i__7215__auto___8960+1;i__7215__auto___8960=G__8961;continue}else;break}var G__8958=args8953.length;switch(G__8958){case 2:return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8953.slice(2),0);return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2=function(x,y){return x^y};cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_xor,x^y,more)};
cljs.core.bit_xor.cljs$lang$applyTo=function(seq8954){var G__8955=cljs.core.first(seq8954);var seq8954__$1=cljs.core.next(seq8954);var G__8956=cljs.core.first(seq8954__$1);var seq8954__$2=cljs.core.next(seq8954__$1);return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(G__8955,G__8956,seq8954__$2)};cljs.core.bit_xor.cljs$lang$maxFixedArity=2;
cljs.core.bit_and=function cljs$core$bit_and(var_args){var args8963=[];var len__7214__auto___8969=arguments.length;var i__7215__auto___8970=0;while(true){if(i__7215__auto___8970<len__7214__auto___8969){args8963.push(arguments[i__7215__auto___8970]);var G__8971=i__7215__auto___8970+1;i__7215__auto___8970=G__8971;continue}else;break}var G__8968=args8963.length;switch(G__8968){case 2:return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8963.slice(2),0);return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2=function(x,y){return x&y};cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and,x&y,more)};
cljs.core.bit_and.cljs$lang$applyTo=function(seq8964){var G__8965=cljs.core.first(seq8964);var seq8964__$1=cljs.core.next(seq8964);var G__8966=cljs.core.first(seq8964__$1);var seq8964__$2=cljs.core.next(seq8964__$1);return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(G__8965,G__8966,seq8964__$2)};cljs.core.bit_and.cljs$lang$maxFixedArity=2;
cljs.core.bit_or=function cljs$core$bit_or(var_args){var args8973=[];var len__7214__auto___8979=arguments.length;var i__7215__auto___8980=0;while(true){if(i__7215__auto___8980<len__7214__auto___8979){args8973.push(arguments[i__7215__auto___8980]);var G__8981=i__7215__auto___8980+1;i__7215__auto___8980=G__8981;continue}else;break}var G__8978=args8973.length;switch(G__8978){case 2:return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8973.slice(2),0);return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2=function(x,y){return x|y};cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_or,x|y,more)};
cljs.core.bit_or.cljs$lang$applyTo=function(seq8974){var G__8975=cljs.core.first(seq8974);var seq8974__$1=cljs.core.next(seq8974);var G__8976=cljs.core.first(seq8974__$1);var seq8974__$2=cljs.core.next(seq8974__$1);return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(G__8975,G__8976,seq8974__$2)};cljs.core.bit_or.cljs$lang$maxFixedArity=2;
cljs.core.bit_and_not=function cljs$core$bit_and_not(var_args){var args8983=[];var len__7214__auto___8989=arguments.length;var i__7215__auto___8990=0;while(true){if(i__7215__auto___8990<len__7214__auto___8989){args8983.push(arguments[i__7215__auto___8990]);var G__8991=i__7215__auto___8990+1;i__7215__auto___8990=G__8991;continue}else;break}var G__8988=args8983.length;switch(G__8988){case 2:return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args8983.slice(2),0);return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2=function(x,y){return x&~y};cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and_not,x&~y,more)};
cljs.core.bit_and_not.cljs$lang$applyTo=function(seq8984){var G__8985=cljs.core.first(seq8984);var seq8984__$1=cljs.core.next(seq8984);var G__8986=cljs.core.first(seq8984__$1);var seq8984__$2=cljs.core.next(seq8984__$1);return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(G__8985,G__8986,seq8984__$2)};cljs.core.bit_and_not.cljs$lang$maxFixedArity=2;cljs.core.bit_clear=function cljs$core$bit_clear(x,n){return x&~(1<<n)};cljs.core.bit_flip=function cljs$core$bit_flip(x,n){return x^1<<n};
cljs.core.bit_not=function cljs$core$bit_not(x){return~x};cljs.core.bit_set=function cljs$core$bit_set(x,n){return x|1<<n};cljs.core.bit_test=function cljs$core$bit_test(x,n){return(x&1<<n)!=0};cljs.core.bit_shift_left=function cljs$core$bit_shift_left(x,n){return x<<n};cljs.core.bit_shift_right=function cljs$core$bit_shift_right(x,n){return x>>n};cljs.core.bit_shift_right_zero_fill=function cljs$core$bit_shift_right_zero_fill(x,n){return x>>>n};
cljs.core.unsigned_bit_shift_right=function cljs$core$unsigned_bit_shift_right(x,n){return x>>>n};cljs.core.bit_count=function cljs$core$bit_count(v){var v__$1=v-(v>>1&1431655765);var v__$2=(v__$1&858993459)+(v__$1>>2&858993459);return(v__$2+(v__$2>>4)&252645135)*16843009>>24};
cljs.core._EQ__EQ_=function cljs$core$_EQ__EQ_(var_args){var args8993=[];var len__7214__auto___8999=arguments.length;var i__7215__auto___9000=0;while(true){if(i__7215__auto___9000<len__7214__auto___8999){args8993.push(arguments[i__7215__auto___9000]);var G__9001=i__7215__auto___9000+1;i__7215__auto___9000=G__9001;continue}else;break}var G__8998=args8993.length;switch(G__8998){case 1:return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args8993.slice(2),0);return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1=function(x){return true};cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2=function(x,y){return cljs.core._equiv(x,y)};
cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){while(true){if(x===y)if(cljs.core.next(more)){var G__9003=y;var G__9004=cljs.core.first(more);var G__9005=cljs.core.next(more);x=G__9003;y=G__9004;more=G__9005;continue}else return y===cljs.core.first(more);else return false;break}};
cljs.core._EQ__EQ_.cljs$lang$applyTo=function(seq8994){var G__8995=cljs.core.first(seq8994);var seq8994__$1=cljs.core.next(seq8994);var G__8996=cljs.core.first(seq8994__$1);var seq8994__$2=cljs.core.next(seq8994__$1);return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(G__8995,G__8996,seq8994__$2)};cljs.core._EQ__EQ_.cljs$lang$maxFixedArity=2;cljs.core.pos_QMARK_=function cljs$core$pos_QMARK_(n){return n>0};cljs.core.zero_QMARK_=function cljs$core$zero_QMARK_(n){return n===0};
cljs.core.neg_QMARK_=function cljs$core$neg_QMARK_(x){return x<0};cljs.core.nthnext=function cljs$core$nthnext(coll,n){var n__$1=n;var xs=cljs.core.seq(coll);while(true){if(xs&&n__$1>0){var G__9006=n__$1-1;var G__9007=cljs.core.next(xs);n__$1=G__9006;xs=G__9007;continue}else return xs;break}};
cljs.core.str=function cljs$core$str(var_args){var args9008=[];var len__7214__auto___9013=arguments.length;var i__7215__auto___9014=0;while(true){if(i__7215__auto___9014<len__7214__auto___9013){args9008.push(arguments[i__7215__auto___9014]);var G__9015=i__7215__auto___9014+1;i__7215__auto___9014=G__9015;continue}else;break}var G__9012=args9008.length;switch(G__9012){case 0:return cljs.core.str.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9008.slice(1),0);return cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7233__auto__)}};cljs.core.str.cljs$core$IFn$_invoke$arity$0=function(){return""};cljs.core.str.cljs$core$IFn$_invoke$arity$1=function(x){if(x==null)return"";else return[x].join("")};
cljs.core.str.cljs$core$IFn$_invoke$arity$variadic=function(x,ys){var sb=new goog.string.StringBuffer([cljs.core.str(x)].join(""));var more=ys;while(true){if(cljs.core.truth_(more)){var G__9017=sb.append([cljs.core.str(cljs.core.first(more))].join(""));var G__9018=cljs.core.next(more);sb=G__9017;more=G__9018;continue}else return sb.toString();break}};
cljs.core.str.cljs$lang$applyTo=function(seq9009){var G__9010=cljs.core.first(seq9009);var seq9009__$1=cljs.core.next(seq9009);return cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(G__9010,seq9009__$1)};cljs.core.str.cljs$lang$maxFixedArity=1;
cljs.core.subs=function cljs$core$subs(var_args){var args9019=[];var len__7214__auto___9022=arguments.length;var i__7215__auto___9023=0;while(true){if(i__7215__auto___9023<len__7214__auto___9022){args9019.push(arguments[i__7215__auto___9023]);var G__9024=i__7215__auto___9023+1;i__7215__auto___9023=G__9024;continue}else;break}var G__9021=args9019.length;switch(G__9021){case 2:return cljs.core.subs.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.subs.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9019.length)].join(""));}};cljs.core.subs.cljs$core$IFn$_invoke$arity$2=function(s,start){return s.substring(start)};cljs.core.subs.cljs$core$IFn$_invoke$arity$3=function(s,start,end){return s.substring(start,end)};cljs.core.subs.cljs$lang$maxFixedArity=3;
cljs.core.equiv_sequential=function cljs$core$equiv_sequential(x,y){return cljs.core.boolean$(cljs.core.sequential_QMARK_(y)?cljs.core.counted_QMARK_(x)&&cljs.core.counted_QMARK_(y)&&!(cljs.core.count(x)===cljs.core.count(y))?false:function(){var xs=cljs.core.seq(x);var ys=cljs.core.seq(y);while(true){if(xs==null)return ys==null;else if(ys==null)return false;else if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(xs),cljs.core.first(ys))){var G__9026=cljs.core.next(xs);var G__9027=cljs.core.next(ys);
xs=G__9026;ys=G__9027;continue}else return false;break}}():null)};cljs.core.hash_coll=function cljs$core$hash_coll(coll){if(cljs.core.seq(coll)){var res=cljs.core.hash(cljs.core.first(coll));var s=cljs.core.next(coll);while(true){if(s==null)return res;else{var G__9028=cljs.core.hash_combine(res,cljs.core.hash(cljs.core.first(s)));var G__9029=cljs.core.next(s);res=G__9028;s=G__9029;continue}break}}else return 0};
cljs.core.hash_imap=function cljs$core$hash_imap(m){var h=0;var s=cljs.core.seq(m);while(true){if(s){var e=cljs.core.first(s);var G__9030=(h+(cljs.core.hash(cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(e):cljs.core.key.call(null,e))^cljs.core.hash(cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(e):cljs.core.val.call(null,e))))%4503599627370496;var G__9031=cljs.core.next(s);h=G__9030;s=G__9031;continue}else return h;
break}};cljs.core.hash_iset=function cljs$core$hash_iset(s){var h=0;var s__$1=cljs.core.seq(s);while(true){if(s__$1){var e=cljs.core.first(s__$1);var G__9032=(h+cljs.core.hash(e))%4503599627370496;var G__9033=cljs.core.next(s__$1);h=G__9032;s__$1=G__9033;continue}else return h;break}};
cljs.core.extend_object_BANG_=function cljs$core$extend_object_BANG_(obj,fn_map){var seq__9040_9046=cljs.core.seq(fn_map);var chunk__9041_9047=null;var count__9042_9048=0;var i__9043_9049=0;while(true){if(i__9043_9049<count__9042_9048){var vec__9044_9050=chunk__9041_9047.cljs$core$IIndexed$_nth$arity$2(null,i__9043_9049);var key_name_9051=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9044_9050,0,null);var f_9052=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9044_9050,1,null);var str_name_9053=
cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(key_name_9051):cljs.core.name.call(null,key_name_9051);obj[str_name_9053]=f_9052;var G__9054=seq__9040_9046;var G__9055=chunk__9041_9047;var G__9056=count__9042_9048;var G__9057=i__9043_9049+1;seq__9040_9046=G__9054;chunk__9041_9047=G__9055;count__9042_9048=G__9056;i__9043_9049=G__9057;continue}else{var temp__4657__auto___9058=cljs.core.seq(seq__9040_9046);if(temp__4657__auto___9058){var seq__9040_9059__$1=temp__4657__auto___9058;
if(cljs.core.chunked_seq_QMARK_(seq__9040_9059__$1)){var c__6959__auto___9060=cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1?cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1(seq__9040_9059__$1):cljs.core.chunk_first.call(null,seq__9040_9059__$1);var G__9061=cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1?cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1(seq__9040_9059__$1):cljs.core.chunk_rest.call(null,seq__9040_9059__$1);var G__9062=c__6959__auto___9060;var G__9063=cljs.core.count(c__6959__auto___9060);
var G__9064=0;seq__9040_9046=G__9061;chunk__9041_9047=G__9062;count__9042_9048=G__9063;i__9043_9049=G__9064;continue}else{var vec__9045_9065=cljs.core.first(seq__9040_9059__$1);var key_name_9066=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9045_9065,0,null);var f_9067=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9045_9065,1,null);var str_name_9068=cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(key_name_9066):cljs.core.name.call(null,key_name_9066);
obj[str_name_9068]=f_9067;var G__9069=cljs.core.next(seq__9040_9059__$1);var G__9070=null;var G__9071=0;var G__9072=0;seq__9040_9046=G__9069;chunk__9041_9047=G__9070;count__9042_9048=G__9071;i__9043_9049=G__9072;continue}}else;}break}return obj};cljs.core.List=function(meta,first,rest,count,__hash){this.meta=meta;this.first=first;this.rest=rest;this.count=count;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=65937646;this.cljs$lang$protocol_mask$partition1$=8192};
cljs.core.List.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.List.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.List.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.List.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.List(self__.meta,self__.first,self__.rest,self__.count,self__.__hash)};cljs.core.List.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.count===1)return null;else return self__.rest};cljs.core.List.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.count};
cljs.core.List.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};cljs.core.List.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._rest(coll__$1)};
cljs.core.List.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.List.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.List.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.List.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};cljs.core.List.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.count===1)return cljs.core.List.EMPTY;else return self__.rest};
cljs.core.List.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.List.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.List(meta__$1,self__.first,self__.rest,self__.count,self__.__hash)};
cljs.core.List.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.List(self__.meta,o,coll__$1,self__.count+1,null)};
cljs.core.List.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"rest","rest",398835108,null),new cljs.core.Symbol(null,"count","count",-514511684,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.List.cljs$lang$type=true;cljs.core.List.cljs$lang$ctorStr="cljs.core/List";cljs.core.List.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/List")};cljs.core.__GT_List=function cljs$core$__GT_List(meta,first,rest,count,__hash){return new cljs.core.List(meta,first,rest,count,__hash)};
cljs.core.list_QMARK_=function cljs$core$list_QMARK_(x){if(!(x==null))if(x.cljs$lang$protocol_mask$partition0$&33554432||x.cljs$core$IList$)return true;else if(!x.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IList,x);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IList,x)};cljs.core.List.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.EmptyList=function(meta){this.meta=meta;this.cljs$lang$protocol_mask$partition0$=65937614;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.EmptyList.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.EmptyList.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.EmptyList.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.EmptyList.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.EmptyList(self__.meta)};cljs.core.EmptyList.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;return null};
cljs.core.EmptyList.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return 0};cljs.core.EmptyList.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;throw new Error("Can't pop empty list");};
cljs.core.EmptyList.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.empty_ordered_hash};cljs.core.EmptyList.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;if(cljs.core.list_QMARK_(other)||cljs.core.sequential_QMARK_(other))return cljs.core.seq(other)==null;else return false};
cljs.core.EmptyList.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.EmptyList.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.List.EMPTY};
cljs.core.EmptyList.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.EmptyList(meta__$1)};cljs.core.EmptyList.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.List(self__.meta,o,null,1,null)};
cljs.core.EmptyList.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)};cljs.core.EmptyList.cljs$lang$type=true;cljs.core.EmptyList.cljs$lang$ctorStr="cljs.core/EmptyList";cljs.core.EmptyList.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/EmptyList")};cljs.core.__GT_EmptyList=function cljs$core$__GT_EmptyList(meta){return new cljs.core.EmptyList(meta)};
cljs.core.List.EMPTY=new cljs.core.EmptyList(null);cljs.core.EmptyList.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.reversible_QMARK_=function cljs$core$reversible_QMARK_(coll){if(!(coll==null))if(coll.cljs$lang$protocol_mask$partition0$&134217728||coll.cljs$core$IReversible$)return true;else if(!coll.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_(cljs.core.IReversible,coll);else return false;else return cljs.core.native_satisfies_QMARK_(cljs.core.IReversible,coll)};cljs.core.rseq=function cljs$core$rseq(rev){return cljs.core._rseq(rev)};
cljs.core.reverse=function cljs$core$reverse(coll){if(cljs.core.reversible_QMARK_(coll))return cljs.core.rseq(coll);else return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,cljs.core.List.EMPTY,coll)};
cljs.core.list=function cljs$core$list(var_args){var args__7221__auto__=[];var len__7214__auto___9078=arguments.length;var i__7215__auto___9079=0;while(true){if(i__7215__auto___9079<len__7214__auto___9078){args__7221__auto__.push(arguments[i__7215__auto___9079]);var G__9080=i__7215__auto___9079+1;i__7215__auto___9079=G__9080;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.list.cljs$core$IFn$_invoke$arity$variadic=function(xs){var arr=xs instanceof cljs.core.IndexedSeq&&xs.i===0?xs.arr:function(){var arr=[];var xs__$1=xs;while(true){if(!(xs__$1==null)){arr.push(xs__$1.cljs$core$ISeq$_first$arity$1(null));var G__9081=xs__$1.cljs$core$INext$_next$arity$1(null);xs__$1=G__9081;continue}else return arr;break}}();var i=arr.length;var r=cljs.core.List.EMPTY;while(true){if(i>0){var G__9082=i-1;var G__9083=r.cljs$core$ICollection$_conj$arity$2(null,arr[i-1]);i=G__9082;
r=G__9083;continue}else return r;break}};cljs.core.list.cljs$lang$maxFixedArity=0;cljs.core.list.cljs$lang$applyTo=function(seq9077){return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq9077))};cljs.core.Cons=function(meta,first,rest,__hash){this.meta=meta;this.first=first;this.rest=rest;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=65929452;this.cljs$lang$protocol_mask$partition1$=8192};
cljs.core.Cons.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.Cons.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.Cons.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.Cons.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Cons(self__.meta,self__.first,self__.rest,self__.__hash)};cljs.core.Cons.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.rest==null)return null;else return cljs.core.seq(self__.rest)};
cljs.core.Cons.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.Cons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.Cons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.Cons.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};cljs.core.Cons.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.rest==null)return cljs.core.List.EMPTY;else return self__.rest};
cljs.core.Cons.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.Cons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.Cons(meta__$1,self__.first,self__.rest,self__.__hash)};cljs.core.Cons.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.Cons(null,o,coll__$1,null)};
cljs.core.Cons.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"rest","rest",398835108,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.Cons.cljs$lang$type=true;cljs.core.Cons.cljs$lang$ctorStr="cljs.core/Cons";cljs.core.Cons.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Cons")};cljs.core.__GT_Cons=function cljs$core$__GT_Cons(meta,first,rest,__hash){return new cljs.core.Cons(meta,first,rest,__hash)};cljs.core.Cons.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.cons=function cljs$core$cons(x,coll){if(function(){var or__6156__auto__=coll==null;if(or__6156__auto__)return or__6156__auto__;else if(!(coll==null))if(coll.cljs$lang$protocol_mask$partition0$&64||coll.cljs$core$ISeq$)return true;else return false;else return false}())return new cljs.core.Cons(null,x,coll,null);else return new cljs.core.Cons(null,x,cljs.core.seq(coll),null)};cljs.core.hash_keyword=function cljs$core$hash_keyword(k){return cljs.core.hash_symbol(k)+2654435769|0};
cljs.core.compare_keywords=function cljs$core$compare_keywords(a,b){if(a.fqn===b.fqn)return 0;else if(cljs.core.truth_(function(){var and__6144__auto__=cljs.core.not(a.ns);if(and__6144__auto__)return b.ns;else return and__6144__auto__}()))return-1;else if(cljs.core.truth_(a.ns))if(cljs.core.not(b.ns))return 1;else{var nsc=function(){var G__9094=a.ns;var G__9095=b.ns;return goog.array.defaultCompare(G__9094,G__9095)}();if(0===nsc){var G__9096=a.name;var G__9097=b.name;return goog.array.defaultCompare(G__9096,
G__9097)}else return nsc}else{var G__9098=a.name;var G__9099=b.name;return goog.array.defaultCompare(G__9098,G__9099)}};cljs.core.Keyword=function(ns,name,fqn,_hash){this.ns=ns;this.name=name;this.fqn=fqn;this._hash=_hash;this.cljs$lang$protocol_mask$partition0$=2153775105;this.cljs$lang$protocol_mask$partition1$=4096};cljs.core.Keyword.prototype.toString=function(){var self__=this;var _=this;return[cljs.core.str(":"),cljs.core.str(self__.fqn)].join("")};
cljs.core.Keyword.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.Keyword.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;if(other instanceof cljs.core.Keyword)return self__.fqn===other.fqn;else return false};
cljs.core.Keyword.prototype.call=function(){var G__9101=null;var G__9101__2=function(self__,coll){var self__=this;var self____$1=this;var kw=self____$1;return cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll,kw)};var G__9101__3=function(self__,coll,not_found){var self__=this;var self____$1=this;var kw=self____$1;return cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll,kw,not_found)};G__9101=function(self__,coll,not_found){switch(arguments.length){case 2:return G__9101__2.call(this,self__,coll);case 3:return G__9101__3.call(this,
self__,coll,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__9101.cljs$core$IFn$_invoke$arity$2=G__9101__2;G__9101.cljs$core$IFn$_invoke$arity$3=G__9101__3;return G__9101}();cljs.core.Keyword.prototype.apply=function(self__,args9100){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args9100)))};
cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$1=function(coll){var self__=this;var kw=this;return cljs.core.get.cljs$core$IFn$_invoke$arity$2(coll,kw)};cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$2=function(coll,not_found){var self__=this;var kw=this;return cljs.core.get.cljs$core$IFn$_invoke$arity$3(coll,kw,not_found)};
cljs.core.Keyword.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;var h__6591__auto__=self__._hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_keyword(this$__$1);self__._hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.Keyword.prototype.cljs$core$INamed$_name$arity$1=function(_){var self__=this;var ___$1=this;return self__.name};
cljs.core.Keyword.prototype.cljs$core$INamed$_namespace$arity$1=function(_){var self__=this;var ___$1=this;return self__.ns};cljs.core.Keyword.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(o,writer,_){var self__=this;var o__$1=this;return cljs.core._write(writer,[cljs.core.str(":"),cljs.core.str(self__.fqn)].join(""))};
cljs.core.Keyword.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ns","ns",2082130287,null),new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"fqn","fqn",-1749334463,null),cljs.core.with_meta(new cljs.core.Symbol(null,"_hash","_hash",-2130838312,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.Keyword.cljs$lang$type=true;cljs.core.Keyword.cljs$lang$ctorStr="cljs.core/Keyword";cljs.core.Keyword.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Keyword")};cljs.core.__GT_Keyword=function cljs$core$__GT_Keyword(ns,name,fqn,_hash){return new cljs.core.Keyword(ns,name,fqn,_hash)};cljs.core.keyword_QMARK_=function cljs$core$keyword_QMARK_(x){return x instanceof cljs.core.Keyword};
cljs.core.keyword_identical_QMARK_=function cljs$core$keyword_identical_QMARK_(x,y){if(x===y)return true;else if(x instanceof cljs.core.Keyword&&y instanceof cljs.core.Keyword)return x.fqn===y.fqn;else return false};cljs.core.symbol_identical_QMARK_=function cljs$core$symbol_identical_QMARK_(x,y){if(x===y)return true;else if(x instanceof cljs.core.Symbol&&y instanceof cljs.core.Symbol)return x.str===y.str;else return false};
cljs.core.namespace=function cljs$core$namespace(x){if(!(x==null)?x.cljs$lang$protocol_mask$partition1$&4096||x.cljs$core$INamed$?true:false:false)return x.cljs$core$INamed$_namespace$arity$1(null);else throw new Error([cljs.core.str("Doesn't support namespace: "),cljs.core.str(x)].join(""));};
cljs.core.keyword=function cljs$core$keyword(var_args){var args9104=[];var len__7214__auto___9107=arguments.length;var i__7215__auto___9108=0;while(true){if(i__7215__auto___9108<len__7214__auto___9107){args9104.push(arguments[i__7215__auto___9108]);var G__9109=i__7215__auto___9108+1;i__7215__auto___9108=G__9109;continue}else;break}var G__9106=args9104.length;switch(G__9106){case 1:return cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.keyword.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9104.length)].join(""));}};
cljs.core.keyword.cljs$core$IFn$_invoke$arity$1=function(name){if(name instanceof cljs.core.Keyword)return name;else if(name instanceof cljs.core.Symbol)return new cljs.core.Keyword(cljs.core.namespace(name),cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(name):cljs.core.name.call(null,name),name.str,null);else if(typeof name==="string"){var parts=name.split("/");if(parts.length===2)return new cljs.core.Keyword(parts[0],parts[1],name,null);else return new cljs.core.Keyword(null,
parts[0],name,null)}else return null};cljs.core.keyword.cljs$core$IFn$_invoke$arity$2=function(ns,name){return new cljs.core.Keyword(ns,name,[cljs.core.str(cljs.core.truth_(ns)?[cljs.core.str(ns),cljs.core.str("/")].join(""):null),cljs.core.str(name)].join(""),null)};cljs.core.keyword.cljs$lang$maxFixedArity=2;
cljs.core.LazySeq=function(meta,fn,s,__hash){this.meta=meta;this.fn=fn;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32374988;this.cljs$lang$protocol_mask$partition1$=1};cljs.core.LazySeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.LazySeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.LazySeq.prototype.sval=function(){var self__=this;var coll=this;if(self__.fn==null)return self__.s;else{self__.s=self__.fn.cljs$core$IFn$_invoke$arity$0?self__.fn.cljs$core$IFn$_invoke$arity$0():self__.fn.call(null);self__.fn=null;return self__.s}};cljs.core.LazySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.LazySeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq(coll__$1);if(self__.s==null)return null;else return cljs.core.next(self__.s)};cljs.core.LazySeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.LazySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};cljs.core.LazySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.LazySeq.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(x){var self__=this;var x__$1=this;return cljs.core.not(self__.fn)};
cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};
cljs.core.LazySeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq(coll__$1);if(self__.s==null)return null;else return cljs.core.first(self__.s)};cljs.core.LazySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq(coll__$1);if(!(self__.s==null))return cljs.core.rest(self__.s);else return cljs.core.List.EMPTY};
cljs.core.LazySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;coll__$1.sval();if(self__.s==null)return null;else{var ls=self__.s;while(true){if(ls instanceof cljs.core.LazySeq){var G__9111=ls.sval();ls=G__9111;continue}else{self__.s=ls;return cljs.core.seq(self__.s)}break}}};
cljs.core.LazySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.LazySeq(meta__$1,self__.fn,self__.s,self__.__hash)};cljs.core.LazySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.LazySeq.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),cljs.core.with_meta(new cljs.core.Symbol(null,"fn","fn",465265323,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.LazySeq.cljs$lang$type=true;cljs.core.LazySeq.cljs$lang$ctorStr="cljs.core/LazySeq";cljs.core.LazySeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/LazySeq")};
cljs.core.__GT_LazySeq=function cljs$core$__GT_LazySeq(meta,fn,s,__hash){return new cljs.core.LazySeq(meta,fn,s,__hash)};cljs.core.LazySeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.ChunkBuffer=function(buf,end){this.buf=buf;this.end=end;this.cljs$lang$protocol_mask$partition0$=2;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.ChunkBuffer.prototype.add=function(o){var self__=this;var _=this;self__.buf[self__.end]=o;return self__.end=self__.end+1};cljs.core.ChunkBuffer.prototype.chunk=function(o){var self__=this;var _=this;var ret=new cljs.core.ArrayChunk(self__.buf,0,self__.end);self__.buf=null;return ret};cljs.core.ChunkBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;return self__.end};
cljs.core.ChunkBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],
null)};cljs.core.ChunkBuffer.cljs$lang$type=true;cljs.core.ChunkBuffer.cljs$lang$ctorStr="cljs.core/ChunkBuffer";cljs.core.ChunkBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ChunkBuffer")};cljs.core.__GT_ChunkBuffer=function cljs$core$__GT_ChunkBuffer(buf,end){return new cljs.core.ChunkBuffer(buf,end)};
cljs.core.chunk_buffer=function cljs$core$chunk_buffer(capacity){return new cljs.core.ChunkBuffer(new Array(capacity),0)};cljs.core.ArrayChunk=function(arr,off,end){this.arr=arr;this.off=off;this.end=end;this.cljs$lang$protocol_mask$partition0$=524306;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.ArrayChunk.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;return self__.end-self__.off};
cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,i){var self__=this;var coll__$1=this;return self__.arr[self__.off+i]};cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,i,not_found){var self__=this;var coll__$1=this;if(i>=0&&i<self__.end-self__.off)return self__.arr[self__.off+i];else return not_found};cljs.core.ArrayChunk.prototype.cljs$core$IChunk$=true;
cljs.core.ArrayChunk.prototype.cljs$core$IChunk$_drop_first$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off===self__.end)throw new Error("-drop-first of empty chunk");else return new cljs.core.ArrayChunk(self__.arr,self__.off+1,self__.end)};cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr,f,self__.arr[self__.off],self__.off+1)};
cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(self__.arr,f,start,self__.off)};
cljs.core.ArrayChunk.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"off","off",-2047994980,null),new cljs.core.Symbol(null,"end","end",1372345569,null)],null)};cljs.core.ArrayChunk.cljs$lang$type=true;cljs.core.ArrayChunk.cljs$lang$ctorStr="cljs.core/ArrayChunk";
cljs.core.ArrayChunk.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayChunk")};cljs.core.__GT_ArrayChunk=function cljs$core$__GT_ArrayChunk(arr,off,end){return new cljs.core.ArrayChunk(arr,off,end)};
cljs.core.array_chunk=function cljs$core$array_chunk(var_args){var args9112=[];var len__7214__auto___9115=arguments.length;var i__7215__auto___9116=0;while(true){if(i__7215__auto___9116<len__7214__auto___9115){args9112.push(arguments[i__7215__auto___9116]);var G__9117=i__7215__auto___9116+1;i__7215__auto___9116=G__9117;continue}else;break}var G__9114=args9112.length;switch(G__9114){case 1:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9112.length)].join(""));}};cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1=function(arr){return new cljs.core.ArrayChunk(arr,0,arr.length)};cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2=function(arr,off){return new cljs.core.ArrayChunk(arr,off,arr.length)};
cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3=function(arr,off,end){return new cljs.core.ArrayChunk(arr,off,end)};cljs.core.array_chunk.cljs$lang$maxFixedArity=3;cljs.core.ChunkedCons=function(chunk,more,meta,__hash){this.chunk=chunk;this.more=more;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=31850732;this.cljs$lang$protocol_mask$partition1$=1536};cljs.core.ChunkedCons.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.ChunkedCons.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.ChunkedCons.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.ChunkedCons.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core._count(self__.chunk)>1)return new cljs.core.ChunkedCons(cljs.core._drop_first(self__.chunk),self__.more,self__.meta,null);else{var more__$1=cljs.core._seq(self__.more);if(more__$1==null)return null;else return more__$1}};
cljs.core.ChunkedCons.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.ChunkedCons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.ChunkedCons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.chunk,0)};
cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core._count(self__.chunk)>1)return new cljs.core.ChunkedCons(cljs.core._drop_first(self__.chunk),self__.more,self__.meta,null);else if(self__.more==null)return cljs.core.List.EMPTY;else return self__.more};cljs.core.ChunkedCons.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.chunk};cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.more==null)return cljs.core.List.EMPTY;else return self__.more};
cljs.core.ChunkedCons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,m){var self__=this;var coll__$1=this;return new cljs.core.ChunkedCons(self__.chunk,self__.more,m,self__.__hash)};cljs.core.ChunkedCons.prototype.cljs$core$ICollection$_conj$arity$2=function(this$,o){var self__=this;var this$__$1=this;return cljs.core.cons(o,this$__$1)};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.more==null)return null;else return self__.more};
cljs.core.ChunkedCons.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"chunk","chunk",449371907,null),new cljs.core.Symbol(null,"more","more",-418290273,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.ChunkedCons.cljs$lang$type=true;cljs.core.ChunkedCons.cljs$lang$ctorStr="cljs.core/ChunkedCons";cljs.core.ChunkedCons.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ChunkedCons")};cljs.core.__GT_ChunkedCons=function cljs$core$__GT_ChunkedCons(chunk,more,meta,__hash){return new cljs.core.ChunkedCons(chunk,more,meta,__hash)};
cljs.core.ChunkedCons.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.chunk_cons=function cljs$core$chunk_cons(chunk,rest){if(cljs.core._count(chunk)===0)return rest;else return new cljs.core.ChunkedCons(chunk,rest,null,null)};cljs.core.chunk_append=function cljs$core$chunk_append(b,x){return b.add(x)};cljs.core.chunk=function cljs$core$chunk(b){return b.chunk()};cljs.core.chunk_first=function cljs$core$chunk_first(s){return cljs.core._chunked_first(s)};
cljs.core.chunk_rest=function cljs$core$chunk_rest(s){return cljs.core._chunked_rest(s)};cljs.core.chunk_next=function cljs$core$chunk_next(s){if(!(s==null)?s.cljs$lang$protocol_mask$partition1$&1024||s.cljs$core$IChunkedNext$?true:false:false)return cljs.core._chunked_next(s);else return cljs.core.seq(cljs.core._chunked_rest(s))};
cljs.core.to_array=function cljs$core$to_array(s){var ary=[];var s__$1=s;while(true){if(cljs.core.seq(s__$1)){ary.push(cljs.core.first(s__$1));var G__9121=cljs.core.next(s__$1);s__$1=G__9121;continue}else return ary;break}};
cljs.core.to_array_2d=function cljs$core$to_array_2d(coll){var ret=new Array(cljs.core.count(coll));var i_9122=0;var xs_9123=cljs.core.seq(coll);while(true){if(xs_9123){ret[i_9122]=cljs.core.to_array(cljs.core.first(xs_9123));var G__9124=i_9122+1;var G__9125=cljs.core.next(xs_9123);i_9122=G__9124;xs_9123=G__9125;continue}else;break}return ret};
cljs.core.int_array=function cljs$core$int_array(var_args){var args9126=[];var len__7214__auto___9129=arguments.length;var i__7215__auto___9130=0;while(true){if(i__7215__auto___9130<len__7214__auto___9129){args9126.push(arguments[i__7215__auto___9130]);var G__9131=i__7215__auto___9130+1;i__7215__auto___9130=G__9131;continue}else;break}var G__9128=args9126.length;switch(G__9128){case 1:return cljs.core.int_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9126.length)].join(""));}};cljs.core.int_array.cljs$core$IFn$_invoke$arity$1=function(size_or_seq){if(typeof size_or_seq==="number")return cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(size_or_seq,null);else return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq)};
cljs.core.int_array.cljs$core$IFn$_invoke$arity$2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_(init_val_or_seq)){var s=cljs.core.seq(init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first(s__$1);var G__9133=i+1;var G__9134=cljs.core.next(s__$1);i=G__9133;s__$1=G__9134;continue}else return a;break}}else{var n__7059__auto___9135=size;var i_9136=0;while(true){if(i_9136<n__7059__auto___9135){a[i_9136]=init_val_or_seq;var G__9137=i_9136+
1;i_9136=G__9137;continue}else;break}return a}};cljs.core.int_array.cljs$lang$maxFixedArity=2;
cljs.core.long_array=function cljs$core$long_array(var_args){var args9138=[];var len__7214__auto___9141=arguments.length;var i__7215__auto___9142=0;while(true){if(i__7215__auto___9142<len__7214__auto___9141){args9138.push(arguments[i__7215__auto___9142]);var G__9143=i__7215__auto___9142+1;i__7215__auto___9142=G__9143;continue}else;break}var G__9140=args9138.length;switch(G__9140){case 1:return cljs.core.long_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9138.length)].join(""));}};cljs.core.long_array.cljs$core$IFn$_invoke$arity$1=function(size_or_seq){if(typeof size_or_seq==="number")return cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(size_or_seq,null);else return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq)};
cljs.core.long_array.cljs$core$IFn$_invoke$arity$2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_(init_val_or_seq)){var s=cljs.core.seq(init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first(s__$1);var G__9145=i+1;var G__9146=cljs.core.next(s__$1);i=G__9145;s__$1=G__9146;continue}else return a;break}}else{var n__7059__auto___9147=size;var i_9148=0;while(true){if(i_9148<n__7059__auto___9147){a[i_9148]=init_val_or_seq;var G__9149=i_9148+
1;i_9148=G__9149;continue}else;break}return a}};cljs.core.long_array.cljs$lang$maxFixedArity=2;
cljs.core.double_array=function cljs$core$double_array(var_args){var args9150=[];var len__7214__auto___9153=arguments.length;var i__7215__auto___9154=0;while(true){if(i__7215__auto___9154<len__7214__auto___9153){args9150.push(arguments[i__7215__auto___9154]);var G__9155=i__7215__auto___9154+1;i__7215__auto___9154=G__9155;continue}else;break}var G__9152=args9150.length;switch(G__9152){case 1:return cljs.core.double_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9150.length)].join(""));}};cljs.core.double_array.cljs$core$IFn$_invoke$arity$1=function(size_or_seq){if(typeof size_or_seq==="number")return cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(size_or_seq,null);else return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq)};
cljs.core.double_array.cljs$core$IFn$_invoke$arity$2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_(init_val_or_seq)){var s=cljs.core.seq(init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first(s__$1);var G__9157=i+1;var G__9158=cljs.core.next(s__$1);i=G__9157;s__$1=G__9158;continue}else return a;break}}else{var n__7059__auto___9159=size;var i_9160=0;while(true){if(i_9160<n__7059__auto___9159){a[i_9160]=init_val_or_seq;var G__9161=i_9160+
1;i_9160=G__9161;continue}else;break}return a}};cljs.core.double_array.cljs$lang$maxFixedArity=2;
cljs.core.object_array=function cljs$core$object_array(var_args){var args9162=[];var len__7214__auto___9165=arguments.length;var i__7215__auto___9166=0;while(true){if(i__7215__auto___9166<len__7214__auto___9165){args9162.push(arguments[i__7215__auto___9166]);var G__9167=i__7215__auto___9166+1;i__7215__auto___9166=G__9167;continue}else;break}var G__9164=args9162.length;switch(G__9164){case 1:return cljs.core.object_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9162.length)].join(""));}};cljs.core.object_array.cljs$core$IFn$_invoke$arity$1=function(size_or_seq){if(typeof size_or_seq==="number")return cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(size_or_seq,null);else return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(size_or_seq)};
cljs.core.object_array.cljs$core$IFn$_invoke$arity$2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_(init_val_or_seq)){var s=cljs.core.seq(init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first(s__$1);var G__9169=i+1;var G__9170=cljs.core.next(s__$1);i=G__9169;s__$1=G__9170;continue}else return a;break}}else{var n__7059__auto___9171=size;var i_9172=0;while(true){if(i_9172<n__7059__auto___9171){a[i_9172]=init_val_or_seq;var G__9173=i_9172+
1;i_9172=G__9173;continue}else;break}return a}};cljs.core.object_array.cljs$lang$maxFixedArity=2;cljs.core.bounded_count=function cljs$core$bounded_count(s,n){if(cljs.core.counted_QMARK_(s))return cljs.core.count(s);else{var s__$1=s;var i=n;var sum=0;while(true){if(i>0&&cljs.core.seq(s__$1)){var G__9174=cljs.core.next(s__$1);var G__9175=i-1;var G__9176=sum+1;s__$1=G__9174;i=G__9175;sum=G__9176;continue}else return sum;break}}};
cljs.core.spread=function cljs$core$spread(arglist){if(arglist==null)return null;else if(cljs.core.next(arglist)==null)return cljs.core.seq(cljs.core.first(arglist));else return cljs.core.cons(cljs.core.first(arglist),cljs$core$spread(cljs.core.next(arglist)))};
cljs.core.concat=function cljs$core$concat(var_args){var args9178=[];var len__7214__auto___9190=arguments.length;var i__7215__auto___9191=0;while(true){if(i__7215__auto___9191<len__7214__auto___9190){args9178.push(arguments[i__7215__auto___9191]);var G__9192=i__7215__auto___9191+1;i__7215__auto___9191=G__9192;continue}else;break}var G__9183=args9178.length;switch(G__9183){case 0:return cljs.core.concat.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.concat.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9178.slice(2),0);return cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.concat.cljs$core$IFn$_invoke$arity$0=function(){return new cljs.core.LazySeq(null,function(){return null},null,null)};
cljs.core.concat.cljs$core$IFn$_invoke$arity$1=function(x){return new cljs.core.LazySeq(null,function(){return x},null,null)};
cljs.core.concat.cljs$core$IFn$_invoke$arity$2=function(x,y){return new cljs.core.LazySeq(null,function(){var s=cljs.core.seq(x);if(s)if(cljs.core.chunked_seq_QMARK_(s))return cljs.core.chunk_cons(cljs.core.chunk_first(s),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.chunk_rest(s),y));else return cljs.core.cons(cljs.core.first(s),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(s),y));else return y},null,null)};
cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic=function(x,y,zs){var cat=function cljs$core$cat(xys,zs__$1){return new cljs.core.LazySeq(null,function(){var xys__$1=cljs.core.seq(xys);if(xys__$1)if(cljs.core.chunked_seq_QMARK_(xys__$1))return cljs.core.chunk_cons(cljs.core.chunk_first(xys__$1),cljs$core$cat(cljs.core.chunk_rest(xys__$1),zs__$1));else return cljs.core.cons(cljs.core.first(xys__$1),cljs$core$cat(cljs.core.rest(xys__$1),zs__$1));else if(cljs.core.truth_(zs__$1))return cljs$core$cat(cljs.core.first(zs__$1),
cljs.core.next(zs__$1));else return null},null,null)};return cat(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(x,y),zs)};cljs.core.concat.cljs$lang$applyTo=function(seq9179){var G__9180=cljs.core.first(seq9179);var seq9179__$1=cljs.core.next(seq9179);var G__9181=cljs.core.first(seq9179__$1);var seq9179__$2=cljs.core.next(seq9179__$1);return cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(G__9180,G__9181,seq9179__$2)};cljs.core.concat.cljs$lang$maxFixedArity=2;
cljs.core.list_STAR_=function cljs$core$list_STAR_(var_args){var args9194=[];var len__7214__auto___9202=arguments.length;var i__7215__auto___9203=0;while(true){if(i__7215__auto___9203<len__7214__auto___9202){args9194.push(arguments[i__7215__auto___9203]);var G__9204=i__7215__auto___9203+1;i__7215__auto___9203=G__9204;continue}else;break}var G__9201=args9194.length;switch(G__9201){case 1:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9194.slice(4),0);return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],argseq__7233__auto__)}};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1=function(args){return cljs.core.seq(args)};cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2=function(a,args){return cljs.core.cons(a,args)};cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3=function(a,b,args){return cljs.core.cons(a,cljs.core.cons(b,args))};cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4=function(a,b,c,args){return cljs.core.cons(a,cljs.core.cons(b,cljs.core.cons(c,args)))};
cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic=function(a,b,c,d,more){return cljs.core.cons(a,cljs.core.cons(b,cljs.core.cons(c,cljs.core.cons(d,cljs.core.spread(more)))))};
cljs.core.list_STAR_.cljs$lang$applyTo=function(seq9195){var G__9196=cljs.core.first(seq9195);var seq9195__$1=cljs.core.next(seq9195);var G__9197=cljs.core.first(seq9195__$1);var seq9195__$2=cljs.core.next(seq9195__$1);var G__9198=cljs.core.first(seq9195__$2);var seq9195__$3=cljs.core.next(seq9195__$2);var G__9199=cljs.core.first(seq9195__$3);var seq9195__$4=cljs.core.next(seq9195__$3);return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(G__9196,G__9197,G__9198,G__9199,seq9195__$4)};
cljs.core.list_STAR_.cljs$lang$maxFixedArity=4;cljs.core.transient$=function cljs$core$transient(coll){return cljs.core._as_transient(coll)};cljs.core.persistent_BANG_=function cljs$core$persistent_BANG_(tcoll){return cljs.core._persistent_BANG_(tcoll)};
cljs.core.conj_BANG_=function cljs$core$conj_BANG_(var_args){var args9206=[];var len__7214__auto___9212=arguments.length;var i__7215__auto___9213=0;while(true){if(i__7215__auto___9213<len__7214__auto___9212){args9206.push(arguments[i__7215__auto___9213]);var G__9214=i__7215__auto___9213+1;i__7215__auto___9213=G__9214;continue}else;break}var G__9211=args9206.length;switch(G__9211){case 0:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9206.slice(2),0);return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.transient$(cljs.core.PersistentVector.EMPTY)};cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1=function(coll){return coll};
cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2=function(tcoll,val){return cljs.core._conj_BANG_(tcoll,val)};cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(tcoll,val,vals){while(true){var ntcoll=cljs.core._conj_BANG_(tcoll,val);if(cljs.core.truth_(vals)){var G__9216=ntcoll;var G__9217=cljs.core.first(vals);var G__9218=cljs.core.next(vals);tcoll=G__9216;val=G__9217;vals=G__9218;continue}else return ntcoll;break}};
cljs.core.conj_BANG_.cljs$lang$applyTo=function(seq9207){var G__9208=cljs.core.first(seq9207);var seq9207__$1=cljs.core.next(seq9207);var G__9209=cljs.core.first(seq9207__$1);var seq9207__$2=cljs.core.next(seq9207__$1);return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9208,G__9209,seq9207__$2)};cljs.core.conj_BANG_.cljs$lang$maxFixedArity=2;
cljs.core.assoc_BANG_=function cljs$core$assoc_BANG_(var_args){var args9219=[];var len__7214__auto___9226=arguments.length;var i__7215__auto___9227=0;while(true){if(i__7215__auto___9227<len__7214__auto___9226){args9219.push(arguments[i__7215__auto___9227]);var G__9228=i__7215__auto___9227+1;i__7215__auto___9227=G__9228;continue}else;break}var G__9225=args9219.length;switch(G__9225){case 3:return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args9219.slice(3),0);return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3=function(tcoll,key,val){return cljs.core._assoc_BANG_(tcoll,key,val)};
cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(tcoll,key,val,kvs){while(true){var ntcoll=cljs.core._assoc_BANG_(tcoll,key,val);if(cljs.core.truth_(kvs)){var G__9230=ntcoll;var G__9231=cljs.core.first(kvs);var G__9232=cljs.core.second(kvs);var G__9233=cljs.core.nnext(kvs);tcoll=G__9230;key=G__9231;val=G__9232;kvs=G__9233;continue}else return ntcoll;break}};
cljs.core.assoc_BANG_.cljs$lang$applyTo=function(seq9220){var G__9221=cljs.core.first(seq9220);var seq9220__$1=cljs.core.next(seq9220);var G__9222=cljs.core.first(seq9220__$1);var seq9220__$2=cljs.core.next(seq9220__$1);var G__9223=cljs.core.first(seq9220__$2);var seq9220__$3=cljs.core.next(seq9220__$2);return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9221,G__9222,G__9223,seq9220__$3)};cljs.core.assoc_BANG_.cljs$lang$maxFixedArity=3;
cljs.core.dissoc_BANG_=function cljs$core$dissoc_BANG_(var_args){var args9234=[];var len__7214__auto___9240=arguments.length;var i__7215__auto___9241=0;while(true){if(i__7215__auto___9241<len__7214__auto___9240){args9234.push(arguments[i__7215__auto___9241]);var G__9242=i__7215__auto___9241+1;i__7215__auto___9241=G__9242;continue}else;break}var G__9239=args9234.length;switch(G__9239){case 2:return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args9234.slice(2),0);return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2=function(tcoll,key){return cljs.core._dissoc_BANG_(tcoll,key)};
cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(tcoll,key,ks){while(true){var ntcoll=cljs.core._dissoc_BANG_(tcoll,key);if(cljs.core.truth_(ks)){var G__9244=ntcoll;var G__9245=cljs.core.first(ks);var G__9246=cljs.core.next(ks);tcoll=G__9244;key=G__9245;ks=G__9246;continue}else return ntcoll;break}};
cljs.core.dissoc_BANG_.cljs$lang$applyTo=function(seq9235){var G__9236=cljs.core.first(seq9235);var seq9235__$1=cljs.core.next(seq9235);var G__9237=cljs.core.first(seq9235__$1);var seq9235__$2=cljs.core.next(seq9235__$1);return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9236,G__9237,seq9235__$2)};cljs.core.dissoc_BANG_.cljs$lang$maxFixedArity=2;cljs.core.pop_BANG_=function cljs$core$pop_BANG_(tcoll){return cljs.core._pop_BANG_(tcoll)};
cljs.core.disj_BANG_=function cljs$core$disj_BANG_(var_args){var args9247=[];var len__7214__auto___9253=arguments.length;var i__7215__auto___9254=0;while(true){if(i__7215__auto___9254<len__7214__auto___9253){args9247.push(arguments[i__7215__auto___9254]);var G__9255=i__7215__auto___9254+1;i__7215__auto___9254=G__9255;continue}else;break}var G__9252=args9247.length;switch(G__9252){case 2:return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args9247.slice(2),0);return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2=function(tcoll,val){return cljs.core._disjoin_BANG_(tcoll,val)};
cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(tcoll,val,vals){while(true){var ntcoll=cljs.core._disjoin_BANG_(tcoll,val);if(cljs.core.truth_(vals)){var G__9257=ntcoll;var G__9258=cljs.core.first(vals);var G__9259=cljs.core.next(vals);tcoll=G__9257;val=G__9258;vals=G__9259;continue}else return ntcoll;break}};
cljs.core.disj_BANG_.cljs$lang$applyTo=function(seq9248){var G__9249=cljs.core.first(seq9248);var seq9248__$1=cljs.core.next(seq9248);var G__9250=cljs.core.first(seq9248__$1);var seq9248__$2=cljs.core.next(seq9248__$1);return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9249,G__9250,seq9248__$2)};cljs.core.disj_BANG_.cljs$lang$maxFixedArity=2;
cljs.core.apply_to=function cljs$core$apply_to(f,argc,args){var args__$1=cljs.core.seq(args);if(argc===0)return f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null);else{var a7103=cljs.core._first(args__$1);var args__$2=cljs.core._rest(args__$1);if(argc===1)if(f.cljs$core$IFn$_invoke$arity$1)return f.cljs$core$IFn$_invoke$arity$1(a7103);else return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(a7103):f.call(null,a7103);else{var b7104=cljs.core._first(args__$2);
var args__$3=cljs.core._rest(args__$2);if(argc===2)if(f.cljs$core$IFn$_invoke$arity$2)return f.cljs$core$IFn$_invoke$arity$2(a7103,b7104);else return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(a7103,b7104):f.call(null,a7103,b7104);else{var c7105=cljs.core._first(args__$3);var args__$4=cljs.core._rest(args__$3);if(argc===3)if(f.cljs$core$IFn$_invoke$arity$3)return f.cljs$core$IFn$_invoke$arity$3(a7103,b7104,c7105);else return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(a7103,
b7104,c7105):f.call(null,a7103,b7104,c7105);else{var d7106=cljs.core._first(args__$4);var args__$5=cljs.core._rest(args__$4);if(argc===4)if(f.cljs$core$IFn$_invoke$arity$4)return f.cljs$core$IFn$_invoke$arity$4(a7103,b7104,c7105,d7106);else return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(a7103,b7104,c7105,d7106):f.call(null,a7103,b7104,c7105,d7106);else{var e7107=cljs.core._first(args__$5);var args__$6=cljs.core._rest(args__$5);if(argc===5)if(f.cljs$core$IFn$_invoke$arity$5)return f.cljs$core$IFn$_invoke$arity$5(a7103,
b7104,c7105,d7106,e7107);else return f.cljs$core$IFn$_invoke$arity$5?f.cljs$core$IFn$_invoke$arity$5(a7103,b7104,c7105,d7106,e7107):f.call(null,a7103,b7104,c7105,d7106,e7107);else{var f7108=cljs.core._first(args__$6);var args__$7=cljs.core._rest(args__$6);if(argc===6)if(f.cljs$core$IFn$_invoke$arity$6)return f.cljs$core$IFn$_invoke$arity$6(a7103,b7104,c7105,d7106,e7107,f7108);else return f.cljs$core$IFn$_invoke$arity$6?f.cljs$core$IFn$_invoke$arity$6(a7103,b7104,c7105,d7106,e7107,f7108):f.call(null,
a7103,b7104,c7105,d7106,e7107,f7108);else{var g7109=cljs.core._first(args__$7);var args__$8=cljs.core._rest(args__$7);if(argc===7)if(f.cljs$core$IFn$_invoke$arity$7)return f.cljs$core$IFn$_invoke$arity$7(a7103,b7104,c7105,d7106,e7107,f7108,g7109);else return f.cljs$core$IFn$_invoke$arity$7?f.cljs$core$IFn$_invoke$arity$7(a7103,b7104,c7105,d7106,e7107,f7108,g7109):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109);else{var h7110=cljs.core._first(args__$8);var args__$9=cljs.core._rest(args__$8);
if(argc===8)if(f.cljs$core$IFn$_invoke$arity$8)return f.cljs$core$IFn$_invoke$arity$8(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110);else return f.cljs$core$IFn$_invoke$arity$8?f.cljs$core$IFn$_invoke$arity$8(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110);else{var i7111=cljs.core._first(args__$9);var args__$10=cljs.core._rest(args__$9);if(argc===9)if(f.cljs$core$IFn$_invoke$arity$9)return f.cljs$core$IFn$_invoke$arity$9(a7103,b7104,
c7105,d7106,e7107,f7108,g7109,h7110,i7111);else return f.cljs$core$IFn$_invoke$arity$9?f.cljs$core$IFn$_invoke$arity$9(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111);else{var j7112=cljs.core._first(args__$10);var args__$11=cljs.core._rest(args__$10);if(argc===10)if(f.cljs$core$IFn$_invoke$arity$10)return f.cljs$core$IFn$_invoke$arity$10(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112);else return f.cljs$core$IFn$_invoke$arity$10?
f.cljs$core$IFn$_invoke$arity$10(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112);else{var k7113=cljs.core._first(args__$11);var args__$12=cljs.core._rest(args__$11);if(argc===11)if(f.cljs$core$IFn$_invoke$arity$11)return f.cljs$core$IFn$_invoke$arity$11(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113);else return f.cljs$core$IFn$_invoke$arity$11?f.cljs$core$IFn$_invoke$arity$11(a7103,b7104,c7105,
d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113);else{var l7114=cljs.core._first(args__$12);var args__$13=cljs.core._rest(args__$12);if(argc===12)if(f.cljs$core$IFn$_invoke$arity$12)return f.cljs$core$IFn$_invoke$arity$12(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114);else return f.cljs$core$IFn$_invoke$arity$12?f.cljs$core$IFn$_invoke$arity$12(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,
j7112,k7113,l7114):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114);else{var m7115=cljs.core._first(args__$13);var args__$14=cljs.core._rest(args__$13);if(argc===13)if(f.cljs$core$IFn$_invoke$arity$13)return f.cljs$core$IFn$_invoke$arity$13(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115);else return f.cljs$core$IFn$_invoke$arity$13?f.cljs$core$IFn$_invoke$arity$13(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,
m7115):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115);else{var n7116=cljs.core._first(args__$14);var args__$15=cljs.core._rest(args__$14);if(argc===14)if(f.cljs$core$IFn$_invoke$arity$14)return f.cljs$core$IFn$_invoke$arity$14(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116);else return f.cljs$core$IFn$_invoke$arity$14?f.cljs$core$IFn$_invoke$arity$14(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,
m7115,n7116):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116);else{var o7117=cljs.core._first(args__$15);var args__$16=cljs.core._rest(args__$15);if(argc===15)if(f.cljs$core$IFn$_invoke$arity$15)return f.cljs$core$IFn$_invoke$arity$15(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117);else return f.cljs$core$IFn$_invoke$arity$15?f.cljs$core$IFn$_invoke$arity$15(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,
j7112,k7113,l7114,m7115,n7116,o7117):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117);else{var p7118=cljs.core._first(args__$16);var args__$17=cljs.core._rest(args__$16);if(argc===16)if(f.cljs$core$IFn$_invoke$arity$16)return f.cljs$core$IFn$_invoke$arity$16(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118);else return f.cljs$core$IFn$_invoke$arity$16?f.cljs$core$IFn$_invoke$arity$16(a7103,b7104,c7105,
d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118);else{var q7119=cljs.core._first(args__$17);var args__$18=cljs.core._rest(args__$17);if(argc===17)if(f.cljs$core$IFn$_invoke$arity$17)return f.cljs$core$IFn$_invoke$arity$17(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119);else return f.cljs$core$IFn$_invoke$arity$17?
f.cljs$core$IFn$_invoke$arity$17(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119);else{var r7120=cljs.core._first(args__$18);var args__$19=cljs.core._rest(args__$18);if(argc===18)if(f.cljs$core$IFn$_invoke$arity$18)return f.cljs$core$IFn$_invoke$arity$18(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,
n7116,o7117,p7118,q7119,r7120);else return f.cljs$core$IFn$_invoke$arity$18?f.cljs$core$IFn$_invoke$arity$18(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120);else{var s7121=cljs.core._first(args__$19);var args__$20=cljs.core._rest(args__$19);if(argc===19)if(f.cljs$core$IFn$_invoke$arity$19)return f.cljs$core$IFn$_invoke$arity$19(a7103,
b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120,s7121);else return f.cljs$core$IFn$_invoke$arity$19?f.cljs$core$IFn$_invoke$arity$19(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120,s7121):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120,s7121);else{var t7122=cljs.core._first(args__$20);var args__$21=cljs.core._rest(args__$20);
if(argc===20)if(f.cljs$core$IFn$_invoke$arity$20)return f.cljs$core$IFn$_invoke$arity$20(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120,s7121,t7122);else return f.cljs$core$IFn$_invoke$arity$20?f.cljs$core$IFn$_invoke$arity$20(a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,o7117,p7118,q7119,r7120,s7121,t7122):f.call(null,a7103,b7104,c7105,d7106,e7107,f7108,g7109,h7110,i7111,j7112,k7113,l7114,m7115,n7116,
o7117,p7118,q7119,r7120,s7121,t7122);else throw new Error("Only up to 20 arguments supported on functions");}}}}}}}}}}}}}}}}}}}}};
cljs.core.apply=function cljs$core$apply(var_args){var args9260=[];var len__7214__auto___9269=arguments.length;var i__7215__auto___9270=0;while(true){if(i__7215__auto___9270<len__7214__auto___9269){args9260.push(arguments[i__7215__auto___9270]);var G__9271=i__7215__auto___9270+1;i__7215__auto___9270=G__9271;continue}else;break}var G__9268=args9260.length;switch(G__9268){case 2:return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9260.slice(5),0);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],argseq__7233__auto__)}};
cljs.core.apply.cljs$core$IFn$_invoke$arity$2=function(f,args){var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count(args,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to(f,bc,args);else return f.cljs$lang$applyTo(args)}else return f.apply(f,cljs.core.to_array(args))};
cljs.core.apply.cljs$core$IFn$_invoke$arity$3=function(f,x,args){var arglist=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(x,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count(arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to(f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array(arglist))};
cljs.core.apply.cljs$core$IFn$_invoke$arity$4=function(f,x,y,args){var arglist=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(x,y,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count(arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to(f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array(arglist))};
cljs.core.apply.cljs$core$IFn$_invoke$arity$5=function(f,x,y,z,args){var arglist=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(x,y,z,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count(arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to(f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array(arglist))};
cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic=function(f,a,b,c,d,args){var arglist=cljs.core.cons(a,cljs.core.cons(b,cljs.core.cons(c,cljs.core.cons(d,cljs.core.spread(args)))));var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count(arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to(f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array(arglist))};
cljs.core.apply.cljs$lang$applyTo=function(seq9261){var G__9262=cljs.core.first(seq9261);var seq9261__$1=cljs.core.next(seq9261);var G__9263=cljs.core.first(seq9261__$1);var seq9261__$2=cljs.core.next(seq9261__$1);var G__9264=cljs.core.first(seq9261__$2);var seq9261__$3=cljs.core.next(seq9261__$2);var G__9265=cljs.core.first(seq9261__$3);var seq9261__$4=cljs.core.next(seq9261__$3);var G__9266=cljs.core.first(seq9261__$4);var seq9261__$5=cljs.core.next(seq9261__$4);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(G__9262,
G__9263,G__9264,G__9265,G__9266,seq9261__$5)};cljs.core.apply.cljs$lang$maxFixedArity=5;
cljs.core.vary_meta=function cljs$core$vary_meta(var_args){var args9273=[];var len__7214__auto___9298=arguments.length;var i__7215__auto___9299=0;while(true){if(i__7215__auto___9299<len__7214__auto___9298){args9273.push(arguments[i__7215__auto___9299]);var G__9300=i__7215__auto___9299+1;i__7215__auto___9299=G__9300;continue}else;break}var G__9282=args9273.length;switch(G__9282){case 2:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9273.slice(6),
0);return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],argseq__7233__auto__)}};cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2=function(obj,f){return cljs.core.with_meta(obj,function(){var G__9283=cljs.core.meta(obj);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9283):f.call(null,G__9283)}())};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3=function(obj,f,a){return cljs.core.with_meta(obj,function(){var G__9284=cljs.core.meta(obj);var G__9285=a;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9284,G__9285):f.call(null,G__9284,G__9285)}())};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4=function(obj,f,a,b){return cljs.core.with_meta(obj,function(){var G__9286=cljs.core.meta(obj);var G__9287=a;var G__9288=b;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9286,G__9287,G__9288):f.call(null,G__9286,G__9287,G__9288)}())};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5=function(obj,f,a,b,c){return cljs.core.with_meta(obj,function(){var G__9289=cljs.core.meta(obj);var G__9290=a;var G__9291=b;var G__9292=c;return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(G__9289,G__9290,G__9291,G__9292):f.call(null,G__9289,G__9290,G__9291,G__9292)}())};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6=function(obj,f,a,b,c,d){return cljs.core.with_meta(obj,function(){var G__9293=cljs.core.meta(obj);var G__9294=a;var G__9295=b;var G__9296=c;var G__9297=d;return f.cljs$core$IFn$_invoke$arity$5?f.cljs$core$IFn$_invoke$arity$5(G__9293,G__9294,G__9295,G__9296,G__9297):f.call(null,G__9293,G__9294,G__9295,G__9296,G__9297)}())};
cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic=function(obj,f,a,b,c,d,args){return cljs.core.with_meta(obj,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,cljs.core.meta(obj),a,b,c,cljs.core.array_seq([d,args],0)))};
cljs.core.vary_meta.cljs$lang$applyTo=function(seq9274){var G__9275=cljs.core.first(seq9274);var seq9274__$1=cljs.core.next(seq9274);var G__9276=cljs.core.first(seq9274__$1);var seq9274__$2=cljs.core.next(seq9274__$1);var G__9277=cljs.core.first(seq9274__$2);var seq9274__$3=cljs.core.next(seq9274__$2);var G__9278=cljs.core.first(seq9274__$3);var seq9274__$4=cljs.core.next(seq9274__$3);var G__9279=cljs.core.first(seq9274__$4);var seq9274__$5=cljs.core.next(seq9274__$4);var G__9280=cljs.core.first(seq9274__$5);
var seq9274__$6=cljs.core.next(seq9274__$5);return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(G__9275,G__9276,G__9277,G__9278,G__9279,G__9280,seq9274__$6)};cljs.core.vary_meta.cljs$lang$maxFixedArity=6;
cljs.core.not_EQ_=function cljs$core$not_EQ_(var_args){var args9302=[];var len__7214__auto___9308=arguments.length;var i__7215__auto___9309=0;while(true){if(i__7215__auto___9309<len__7214__auto___9308){args9302.push(arguments[i__7215__auto___9309]);var G__9310=i__7215__auto___9309+1;i__7215__auto___9309=G__9310;continue}else;break}var G__9307=args9302.length;switch(G__9307){case 1:return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9302.slice(2),0);return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1=function(x){return false};cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2=function(x,y){return!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x,y)};
cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic=function(x,y,more){return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core._EQ_,x,y,more))};cljs.core.not_EQ_.cljs$lang$applyTo=function(seq9303){var G__9304=cljs.core.first(seq9303);var seq9303__$1=cljs.core.next(seq9303);var G__9305=cljs.core.first(seq9303__$1);var seq9303__$2=cljs.core.next(seq9303__$1);return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(G__9304,G__9305,seq9303__$2)};
cljs.core.not_EQ_.cljs$lang$maxFixedArity=2;cljs.core.not_empty=function cljs$core$not_empty(coll){if(cljs.core.seq(coll))return coll;else return null};
cljs.core.nil_iter=function cljs$core$nil_iter(){if(typeof cljs.core.t_cljs$core9315!=="undefined");else{cljs.core.t_cljs$core9315=function(nil_iter,meta9316){this.nil_iter=nil_iter;this.meta9316=meta9316;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.t_cljs$core9315.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_9317,meta9316__$1){var self__=this;var _9317__$1=this;return new cljs.core.t_cljs$core9315(self__.nil_iter,meta9316__$1)};
cljs.core.t_cljs$core9315.prototype.cljs$core$IMeta$_meta$arity$1=function(_9317){var self__=this;var _9317__$1=this;return self__.meta9316};cljs.core.t_cljs$core9315.prototype.hasNext=function(){var self__=this;var _=this;return false};cljs.core.t_cljs$core9315.prototype.next=function(){var self__=this;var _=this;return new Error("No such element")};cljs.core.t_cljs$core9315.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};cljs.core.t_cljs$core9315.getBasis=
function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"nil-iter","nil-iter",1101030523,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(cljs.core.PersistentVector.EMPTY))],null)),new cljs.core.Symbol(null,"meta9316","meta9316",64763819,null)],null)};cljs.core.t_cljs$core9315.cljs$lang$type=
true;cljs.core.t_cljs$core9315.cljs$lang$ctorStr="cljs.core/t_cljs$core9315";cljs.core.t_cljs$core9315.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/t_cljs$core9315")};cljs.core.__GT_t_cljs$core9315=function cljs$core$nil_iter_$___GT_t_cljs$core9315(nil_iter__$1,meta9316){return new cljs.core.t_cljs$core9315(nil_iter__$1,meta9316)}}return new cljs.core.t_cljs$core9315(cljs$core$nil_iter,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.StringIter=function(s,i){this.s=s;this.i=i};cljs.core.StringIter.prototype.hasNext=function(){var self__=this;var _=this;return self__.i<self__.s.length};cljs.core.StringIter.prototype.next=function(){var self__=this;var _=this;var ret=self__.s.charAt(self__.i);self__.i=self__.i+1;return ret};cljs.core.StringIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.StringIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.StringIter.cljs$lang$type=true;cljs.core.StringIter.cljs$lang$ctorStr="cljs.core/StringIter";
cljs.core.StringIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/StringIter")};cljs.core.__GT_StringIter=function cljs$core$__GT_StringIter(s,i){return new cljs.core.StringIter(s,i)};cljs.core.string_iter=function cljs$core$string_iter(x){return new cljs.core.StringIter(x,0)};cljs.core.ArrayIter=function(arr,i){this.arr=arr;this.i=i};
cljs.core.ArrayIter.prototype.hasNext=function(){var self__=this;var _=this;return self__.i<self__.arr.length};cljs.core.ArrayIter.prototype.next=function(){var self__=this;var _=this;var ret=self__.arr[self__.i];self__.i=self__.i+1;return ret};cljs.core.ArrayIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.ArrayIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ArrayIter.cljs$lang$type=true;cljs.core.ArrayIter.cljs$lang$ctorStr="cljs.core/ArrayIter";
cljs.core.ArrayIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayIter")};cljs.core.__GT_ArrayIter=function cljs$core$__GT_ArrayIter(arr,i){return new cljs.core.ArrayIter(arr,i)};cljs.core.array_iter=function cljs$core$array_iter(x){return new cljs.core.ArrayIter(x,0)};cljs.core.INIT={};cljs.core.START={};cljs.core.SeqIter=function(_seq,_next){this._seq=_seq;this._next=_next};
cljs.core.SeqIter.prototype.hasNext=function(){var self__=this;var _=this;if(self__._seq===cljs.core.INIT){self__._seq=cljs.core.START;self__._next=cljs.core.seq(self__._next)}else if(self__._seq===self__._next)self__._next=cljs.core.next(self__._seq);else;return!(self__._next==null)};cljs.core.SeqIter.prototype.next=function(){var self__=this;var this$=this;if(cljs.core.not(this$.hasNext()))throw new Error("No such element");else{self__._seq=self__._next;return cljs.core.first(self__._next)}};
cljs.core.SeqIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.SeqIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"_seq","_seq",-449557847,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"_next","_next",101877036,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],
null)};cljs.core.SeqIter.cljs$lang$type=true;cljs.core.SeqIter.cljs$lang$ctorStr="cljs.core/SeqIter";cljs.core.SeqIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/SeqIter")};cljs.core.__GT_SeqIter=function cljs$core$__GT_SeqIter(_seq,_next){return new cljs.core.SeqIter(_seq,_next)};cljs.core.seq_iter=function cljs$core$seq_iter(coll){return new cljs.core.SeqIter(cljs.core.INIT,coll)};
cljs.core.iter=function cljs$core$iter(coll){if(coll==null)return cljs.core.nil_iter();else if(typeof coll==="string")return cljs.core.string_iter(coll);else if(cljs.core.array_QMARK_(coll))return cljs.core.array_iter(coll);else if(cljs.core.iterable_QMARK_(coll))return cljs.core._iterator(coll);else if(cljs.core.seqable_QMARK_(coll))return cljs.core.seq_iter(coll);else throw new Error([cljs.core.str("Cannot create iterator from "),cljs.core.str(coll)].join(""));};
cljs.core.lazy_transformer=function cljs$core$lazy_transformer(stepper){return new cljs.core.LazyTransformer(stepper,null,null,null)};cljs.core.Stepper=function(xform,iter){this.xform=xform;this.iter=iter};
cljs.core.Stepper.prototype.step=function(lt){var self__=this;var this$=this;while(true){if(cljs.core.truth_(function(){var and__6144__auto__=!(lt.stepper==null);if(and__6144__auto__)return self__.iter.hasNext();else return and__6144__auto__}()))if(cljs.core.reduced_QMARK_(function(){var G__9318=lt;var G__9319=self__.iter.next();return self__.xform.cljs$core$IFn$_invoke$arity$2?self__.xform.cljs$core$IFn$_invoke$arity$2(G__9318,G__9319):self__.xform.call(null,G__9318,G__9319)}()))if(lt.rest==null);
else lt.rest.stepper=null;else continue;else;break}if(lt.stepper==null)return null;else return self__.xform.cljs$core$IFn$_invoke$arity$1?self__.xform.cljs$core$IFn$_invoke$arity$1(lt):self__.xform.call(null,lt)};cljs.core.Stepper.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"iter","iter",-1346195486,null)],null)};cljs.core.Stepper.cljs$lang$type=true;
cljs.core.Stepper.cljs$lang$ctorStr="cljs.core/Stepper";cljs.core.Stepper.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Stepper")};cljs.core.__GT_Stepper=function cljs$core$__GT_Stepper(xform,iter){return new cljs.core.Stepper(xform,iter)};
cljs.core.stepper=function cljs$core$stepper(xform,iter){var stepfn=function(){var cljs$core$stepper_$_stepfn=null;var cljs$core$stepper_$_stepfn__1=function(result){var lt=cljs.core.reduced_QMARK_(result)?cljs.core.deref(result):result;lt.stepper=null;return result};var cljs$core$stepper_$_stepfn__2=function(result,input){var lt=result;lt.first=input;lt.rest=cljs.core.lazy_transformer(lt.stepper);lt.stepper=null;return lt.rest};cljs$core$stepper_$_stepfn=function(result,input){switch(arguments.length){case 1:return cljs$core$stepper_$_stepfn__1.call(this,
result);case 2:return cljs$core$stepper_$_stepfn__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$stepper_$_stepfn.cljs$core$IFn$_invoke$arity$1=cljs$core$stepper_$_stepfn__1;cljs$core$stepper_$_stepfn.cljs$core$IFn$_invoke$arity$2=cljs$core$stepper_$_stepfn__2;return cljs$core$stepper_$_stepfn}();return new cljs.core.Stepper(xform.cljs$core$IFn$_invoke$arity$1?xform.cljs$core$IFn$_invoke$arity$1(stepfn):xform.call(null,stepfn),iter)};
cljs.core.MultiStepper=function(xform,iters,nexts){this.xform=xform;this.iters=iters;this.nexts=nexts};cljs.core.MultiStepper.prototype.hasNext=function(){var self__=this;var _=this;var iters__$1=cljs.core.seq(self__.iters);while(true){if(!(iters__$1==null)){var iter=cljs.core.first(iters__$1);if(cljs.core.not(iter.hasNext()))return false;else{var G__9320=cljs.core.next(iters__$1);iters__$1=G__9320;continue}}else return true;break}};
cljs.core.MultiStepper.prototype.next=function(){var self__=this;var _=this;var n__7059__auto___9321=self__.iters.length;var i_9322=0;while(true){if(i_9322<n__7059__auto___9321){self__.nexts[i_9322]=self__.iters[i_9322].next();var G__9323=i_9322+1;i_9322=G__9323;continue}else;break}return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(self__.nexts,0)};
cljs.core.MultiStepper.prototype.step=function(lt){var self__=this;var this$=this;while(true){if(cljs.core.truth_(function(){var and__6144__auto__=!(lt.stepper==null);if(and__6144__auto__)return this$.hasNext();else return and__6144__auto__}()))if(cljs.core.reduced_QMARK_(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(self__.xform,cljs.core.cons(lt,this$.next()))))if(lt.rest==null);else lt.rest.stepper=null;else continue;else;break}if(lt.stepper==null)return null;else return self__.xform.cljs$core$IFn$_invoke$arity$1?
self__.xform.cljs$core$IFn$_invoke$arity$1(lt):self__.xform.call(null,lt)};cljs.core.MultiStepper.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"iters","iters",719353031,null),new cljs.core.Symbol(null,"nexts","nexts",-1683579407,null)],null)};cljs.core.MultiStepper.cljs$lang$type=true;cljs.core.MultiStepper.cljs$lang$ctorStr="cljs.core/MultiStepper";
cljs.core.MultiStepper.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/MultiStepper")};cljs.core.__GT_MultiStepper=function cljs$core$__GT_MultiStepper(xform,iters,nexts){return new cljs.core.MultiStepper(xform,iters,nexts)};
cljs.core.multi_stepper=function cljs$core$multi_stepper(var_args){var args9324=[];var len__7214__auto___9327=arguments.length;var i__7215__auto___9328=0;while(true){if(i__7215__auto___9328<len__7214__auto___9327){args9324.push(arguments[i__7215__auto___9328]);var G__9329=i__7215__auto___9328+1;i__7215__auto___9328=G__9329;continue}else;break}var G__9326=args9324.length;switch(G__9326){case 2:return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9324.length)].join(""));}};cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2=function(xform,iters){return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(xform,iters,new Array(iters.length))};
cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3=function(xform,iters,nexts){var stepfn=function(){var cljs$core$stepfn=null;var cljs$core$stepfn__1=function(result){var lt=cljs.core.reduced_QMARK_(result)?cljs.core.deref(result):result;lt.stepper=null;return lt};var cljs$core$stepfn__2=function(result,input){var lt=result;lt.first=input;lt.rest=cljs.core.lazy_transformer(lt.stepper);lt.stepper=null;return lt.rest};cljs$core$stepfn=function(result,input){switch(arguments.length){case 1:return cljs$core$stepfn__1.call(this,
result);case 2:return cljs$core$stepfn__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$stepfn.cljs$core$IFn$_invoke$arity$1=cljs$core$stepfn__1;cljs$core$stepfn.cljs$core$IFn$_invoke$arity$2=cljs$core$stepfn__2;return cljs$core$stepfn}();return new cljs.core.MultiStepper(xform.cljs$core$IFn$_invoke$arity$1?xform.cljs$core$IFn$_invoke$arity$1(stepfn):xform.call(null,stepfn),iters,nexts)};cljs.core.multi_stepper.cljs$lang$maxFixedArity=3;
cljs.core.LazyTransformer=function(stepper,first,rest,meta){this.stepper=stepper;this.first=first;this.rest=rest;this.meta=meta;this.cljs$lang$protocol_mask$partition0$=31719628;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.LazyTransformer.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(this$,new_meta){var self__=this;var this$__$1=this;return new cljs.core.LazyTransformer(self__.stepper,self__.first,self__.rest,new_meta)};
cljs.core.LazyTransformer.prototype.cljs$core$ICollection$_conj$arity$2=function(this$,o){var self__=this;var this$__$1=this;return cljs.core.cons(o,cljs.core._seq(this$__$1))};cljs.core.LazyTransformer.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core.List.EMPTY};
cljs.core.LazyTransformer.prototype.cljs$core$IEquiv$_equiv$arity$2=function(this$,other){var self__=this;var this$__$1=this;var s=cljs.core._seq(this$__$1);if(!(s==null))return cljs.core.equiv_sequential(this$__$1,other);else return cljs.core.sequential_QMARK_(other)&&cljs.core.seq(other)==null};cljs.core.LazyTransformer.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core.hash_ordered_coll(this$__$1)};
cljs.core.LazyTransformer.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.stepper==null);else self__.stepper.step(this$__$1);if(self__.rest==null)return null;else return this$__$1};cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_first$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.stepper==null);else cljs.core._seq(this$__$1);if(self__.rest==null)return null;else return self__.first};
cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_rest$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.stepper==null);else cljs.core._seq(this$__$1);if(self__.rest==null)return cljs.core.List.EMPTY;else return self__.rest};cljs.core.LazyTransformer.prototype.cljs$core$INext$_next$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.stepper==null);else cljs.core._seq(this$__$1);if(self__.rest==null)return null;else return cljs.core._seq(self__.rest)};
cljs.core.LazyTransformer.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"stepper","stepper",1159163296,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),
true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"rest","rest",398835108,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)};cljs.core.LazyTransformer.cljs$lang$type=true;cljs.core.LazyTransformer.cljs$lang$ctorStr="cljs.core/LazyTransformer";
cljs.core.LazyTransformer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/LazyTransformer")};cljs.core.__GT_LazyTransformer=function cljs$core$__GT_LazyTransformer(stepper,first,rest,meta){return new cljs.core.LazyTransformer(stepper,first,rest,meta)};cljs.core.LazyTransformer.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.LazyTransformer.create=function(xform,coll){return new cljs.core.LazyTransformer(cljs.core.stepper(xform,cljs.core.iter(coll)),null,null,null)};
cljs.core.LazyTransformer.createMulti=function(xform,colls){var iters=[];var seq__9331_9335=cljs.core.seq(colls);var chunk__9332_9336=null;var count__9333_9337=0;var i__9334_9338=0;while(true){if(i__9334_9338<count__9333_9337){var coll_9339=chunk__9332_9336.cljs$core$IIndexed$_nth$arity$2(null,i__9334_9338);iters.push(cljs.core.iter(coll_9339));var G__9340=seq__9331_9335;var G__9341=chunk__9332_9336;var G__9342=count__9333_9337;var G__9343=i__9334_9338+1;seq__9331_9335=G__9340;chunk__9332_9336=G__9341;
count__9333_9337=G__9342;i__9334_9338=G__9343;continue}else{var temp__4657__auto___9344=cljs.core.seq(seq__9331_9335);if(temp__4657__auto___9344){var seq__9331_9345__$1=temp__4657__auto___9344;if(cljs.core.chunked_seq_QMARK_(seq__9331_9345__$1)){var c__6959__auto___9346=cljs.core.chunk_first(seq__9331_9345__$1);var G__9347=cljs.core.chunk_rest(seq__9331_9345__$1);var G__9348=c__6959__auto___9346;var G__9349=cljs.core.count(c__6959__auto___9346);var G__9350=0;seq__9331_9335=G__9347;chunk__9332_9336=
G__9348;count__9333_9337=G__9349;i__9334_9338=G__9350;continue}else{var coll_9351=cljs.core.first(seq__9331_9345__$1);iters.push(cljs.core.iter(coll_9351));var G__9352=cljs.core.next(seq__9331_9345__$1);var G__9353=null;var G__9354=0;var G__9355=0;seq__9331_9335=G__9352;chunk__9332_9336=G__9353;count__9333_9337=G__9354;i__9334_9338=G__9355;continue}}else;}break}return new cljs.core.LazyTransformer(cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(xform,iters,new Array(iters.length)),null,null,
null)};
cljs.core.sequence=function cljs$core$sequence(var_args){var args9356=[];var len__7214__auto___9362=arguments.length;var i__7215__auto___9363=0;while(true){if(i__7215__auto___9363<len__7214__auto___9362){args9356.push(arguments[i__7215__auto___9363]);var G__9364=i__7215__auto___9363+1;i__7215__auto___9363=G__9364;continue}else;break}var G__9361=args9356.length;switch(G__9361){case 1:return cljs.core.sequence.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9356.slice(2),0);return cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};cljs.core.sequence.cljs$core$IFn$_invoke$arity$1=function(coll){if(cljs.core.seq_QMARK_(coll))return coll;else{var or__6156__auto__=cljs.core.seq(coll);if(or__6156__auto__)return or__6156__auto__;else return cljs.core.List.EMPTY}};
cljs.core.sequence.cljs$core$IFn$_invoke$arity$2=function(xform,coll){return cljs.core.LazyTransformer.create(xform,coll)};cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic=function(xform,coll,colls){return cljs.core.LazyTransformer.createMulti(xform,cljs.core.to_array(cljs.core.cons(coll,colls)))};
cljs.core.sequence.cljs$lang$applyTo=function(seq9357){var G__9358=cljs.core.first(seq9357);var seq9357__$1=cljs.core.next(seq9357);var G__9359=cljs.core.first(seq9357__$1);var seq9357__$2=cljs.core.next(seq9357__$1);return cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(G__9358,G__9359,seq9357__$2)};cljs.core.sequence.cljs$lang$maxFixedArity=2;
cljs.core.every_QMARK_=function cljs$core$every_QMARK_(pred,coll){while(true){if(cljs.core.seq(coll)==null)return true;else if(cljs.core.truth_(function(){var G__9367=cljs.core.first(coll);return pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(G__9367):pred.call(null,G__9367)}())){var G__9368=pred;var G__9369=cljs.core.next(coll);pred=G__9368;coll=G__9369;continue}else return false;break}};
cljs.core.not_every_QMARK_=function cljs$core$not_every_QMARK_(pred,coll){return!cljs.core.every_QMARK_(pred,coll)};
cljs.core.some=function cljs$core$some(pred,coll){while(true){if(cljs.core.seq(coll)){var or__6156__auto__=function(){var G__9373=cljs.core.first(coll);return pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(G__9373):pred.call(null,G__9373)}();if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var G__9374=pred;var G__9375=cljs.core.next(coll);pred=G__9374;coll=G__9375;continue}}else return null;break}};
cljs.core.not_any_QMARK_=function cljs$core$not_any_QMARK_(pred,coll){return cljs.core.not(cljs.core.some(pred,coll))};cljs.core.even_QMARK_=function cljs$core$even_QMARK_(n){if(cljs.core.integer_QMARK_(n))return(n&1)===0;else throw new Error([cljs.core.str("Argument must be an integer: "),cljs.core.str(n)].join(""));};cljs.core.odd_QMARK_=function cljs$core$odd_QMARK_(n){return!cljs.core.even_QMARK_(n)};
cljs.core.complement=function cljs$core$complement(f){return function(){var G__9376=null;var G__9376__0=function(){return cljs.core.not(f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null))};var G__9376__1=function(x){return cljs.core.not(f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x))};var G__9376__2=function(x,y){return cljs.core.not(f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y))};var G__9376__3=
function(){var G__9377__delegate=function(x,y,zs){return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(f,x,y,zs))};var G__9377=function(x,y,var_args){var zs=null;if(arguments.length>2){var G__9378__i=0,G__9378__a=new Array(arguments.length-2);while(G__9378__i<G__9378__a.length){G__9378__a[G__9378__i]=arguments[G__9378__i+2];++G__9378__i}zs=new cljs.core.IndexedSeq(G__9378__a,0)}return G__9377__delegate.call(this,x,y,zs)};G__9377.cljs$lang$maxFixedArity=2;G__9377.cljs$lang$applyTo=function(arglist__9379){var x=
cljs.core.first(arglist__9379);arglist__9379=cljs.core.next(arglist__9379);var y=cljs.core.first(arglist__9379);var zs=cljs.core.rest(arglist__9379);return G__9377__delegate(x,y,zs)};G__9377.cljs$core$IFn$_invoke$arity$variadic=G__9377__delegate;return G__9377}();G__9376=function(x,y,var_args){var zs=var_args;switch(arguments.length){case 0:return G__9376__0.call(this);case 1:return G__9376__1.call(this,x);case 2:return G__9376__2.call(this,x,y);default:var G__9380=null;if(arguments.length>2){var G__9381__i=
0,G__9381__a=new Array(arguments.length-2);while(G__9381__i<G__9381__a.length){G__9381__a[G__9381__i]=arguments[G__9381__i+2];++G__9381__i}G__9380=new cljs.core.IndexedSeq(G__9381__a,0)}return G__9376__3.cljs$core$IFn$_invoke$arity$variadic(x,y,G__9380)}throw new Error("Invalid arity: "+arguments.length);};G__9376.cljs$lang$maxFixedArity=2;G__9376.cljs$lang$applyTo=G__9376__3.cljs$lang$applyTo;G__9376.cljs$core$IFn$_invoke$arity$0=G__9376__0;G__9376.cljs$core$IFn$_invoke$arity$1=G__9376__1;G__9376.cljs$core$IFn$_invoke$arity$2=
G__9376__2;G__9376.cljs$core$IFn$_invoke$arity$variadic=G__9376__3.cljs$core$IFn$_invoke$arity$variadic;return G__9376}()};
cljs.core.constantly=function cljs$core$constantly(x){return function(){var G__9382__delegate=function(args){return x};var G__9382=function(var_args){var args=null;if(arguments.length>0){var G__9383__i=0,G__9383__a=new Array(arguments.length-0);while(G__9383__i<G__9383__a.length){G__9383__a[G__9383__i]=arguments[G__9383__i+0];++G__9383__i}args=new cljs.core.IndexedSeq(G__9383__a,0)}return G__9382__delegate.call(this,args)};G__9382.cljs$lang$maxFixedArity=0;G__9382.cljs$lang$applyTo=function(arglist__9384){var args=
cljs.core.seq(arglist__9384);return G__9382__delegate(args)};G__9382.cljs$core$IFn$_invoke$arity$variadic=G__9382__delegate;return G__9382}()};
cljs.core.comp=function cljs$core$comp(var_args){var args9385=[];var len__7214__auto___9412=arguments.length;var i__7215__auto___9413=0;while(true){if(i__7215__auto___9413<len__7214__auto___9412){args9385.push(arguments[i__7215__auto___9413]);var G__9414=i__7215__auto___9413+1;i__7215__auto___9413=G__9414;continue}else;break}var G__9391=args9385.length;switch(G__9391){case 0:return cljs.core.comp.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.comp.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.comp.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9385.slice(3),0);return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.comp.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.identity};
cljs.core.comp.cljs$core$IFn$_invoke$arity$1=function(f){return f};
cljs.core.comp.cljs$core$IFn$_invoke$arity$2=function(f,g){return function(){var G__9416=null;var G__9416__0=function(){var G__9392=g.cljs$core$IFn$_invoke$arity$0?g.cljs$core$IFn$_invoke$arity$0():g.call(null);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9392):f.call(null,G__9392)};var G__9416__1=function(x){var G__9393=g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(x):g.call(null,x);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9393):
f.call(null,G__9393)};var G__9416__2=function(x,y){var G__9394=g.cljs$core$IFn$_invoke$arity$2?g.cljs$core$IFn$_invoke$arity$2(x,y):g.call(null,x,y);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9394):f.call(null,G__9394)};var G__9416__3=function(x,y,z){var G__9395=g.cljs$core$IFn$_invoke$arity$3?g.cljs$core$IFn$_invoke$arity$3(x,y,z):g.call(null,x,y,z);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9395):f.call(null,G__9395)};var G__9416__4=
function(){var G__9417__delegate=function(x,y,z,args){var G__9396=cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g,x,y,z,args);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9396):f.call(null,G__9396)};var G__9417=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9418__i=0,G__9418__a=new Array(arguments.length-3);while(G__9418__i<G__9418__a.length){G__9418__a[G__9418__i]=arguments[G__9418__i+3];++G__9418__i}args=new cljs.core.IndexedSeq(G__9418__a,0)}return G__9417__delegate.call(this,
x,y,z,args)};G__9417.cljs$lang$maxFixedArity=3;G__9417.cljs$lang$applyTo=function(arglist__9419){var x=cljs.core.first(arglist__9419);arglist__9419=cljs.core.next(arglist__9419);var y=cljs.core.first(arglist__9419);arglist__9419=cljs.core.next(arglist__9419);var z=cljs.core.first(arglist__9419);var args=cljs.core.rest(arglist__9419);return G__9417__delegate(x,y,z,args)};G__9417.cljs$core$IFn$_invoke$arity$variadic=G__9417__delegate;return G__9417}();G__9416=function(x,y,z,var_args){var args=var_args;
switch(arguments.length){case 0:return G__9416__0.call(this);case 1:return G__9416__1.call(this,x);case 2:return G__9416__2.call(this,x,y);case 3:return G__9416__3.call(this,x,y,z);default:var G__9420=null;if(arguments.length>3){var G__9421__i=0,G__9421__a=new Array(arguments.length-3);while(G__9421__i<G__9421__a.length){G__9421__a[G__9421__i]=arguments[G__9421__i+3];++G__9421__i}G__9420=new cljs.core.IndexedSeq(G__9421__a,0)}return G__9416__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9420)}throw new Error("Invalid arity: "+
arguments.length);};G__9416.cljs$lang$maxFixedArity=3;G__9416.cljs$lang$applyTo=G__9416__4.cljs$lang$applyTo;G__9416.cljs$core$IFn$_invoke$arity$0=G__9416__0;G__9416.cljs$core$IFn$_invoke$arity$1=G__9416__1;G__9416.cljs$core$IFn$_invoke$arity$2=G__9416__2;G__9416.cljs$core$IFn$_invoke$arity$3=G__9416__3;G__9416.cljs$core$IFn$_invoke$arity$variadic=G__9416__4.cljs$core$IFn$_invoke$arity$variadic;return G__9416}()};
cljs.core.comp.cljs$core$IFn$_invoke$arity$3=function(f,g,h){return function(){var G__9422=null;var G__9422__0=function(){var G__9398=function(){var G__9399=h.cljs$core$IFn$_invoke$arity$0?h.cljs$core$IFn$_invoke$arity$0():h.call(null);return g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(G__9399):g.call(null,G__9399)}();return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9398):f.call(null,G__9398)};var G__9422__1=function(x){var G__9401=function(){var G__9402=
h.cljs$core$IFn$_invoke$arity$1?h.cljs$core$IFn$_invoke$arity$1(x):h.call(null,x);return g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(G__9402):g.call(null,G__9402)}();return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9401):f.call(null,G__9401)};var G__9422__2=function(x,y){var G__9404=function(){var G__9405=h.cljs$core$IFn$_invoke$arity$2?h.cljs$core$IFn$_invoke$arity$2(x,y):h.call(null,x,y);return g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(G__9405):
g.call(null,G__9405)}();return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9404):f.call(null,G__9404)};var G__9422__3=function(x,y,z){var G__9407=function(){var G__9408=h.cljs$core$IFn$_invoke$arity$3?h.cljs$core$IFn$_invoke$arity$3(x,y,z):h.call(null,x,y,z);return g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(G__9408):g.call(null,G__9408)}();return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9407):f.call(null,G__9407)};var G__9422__4=
function(){var G__9423__delegate=function(x,y,z,args){var G__9410=function(){var G__9411=cljs.core.apply.cljs$core$IFn$_invoke$arity$5(h,x,y,z,args);return g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(G__9411):g.call(null,G__9411)}();return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9410):f.call(null,G__9410)};var G__9423=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9424__i=0,G__9424__a=new Array(arguments.length-3);while(G__9424__i<
G__9424__a.length){G__9424__a[G__9424__i]=arguments[G__9424__i+3];++G__9424__i}args=new cljs.core.IndexedSeq(G__9424__a,0)}return G__9423__delegate.call(this,x,y,z,args)};G__9423.cljs$lang$maxFixedArity=3;G__9423.cljs$lang$applyTo=function(arglist__9425){var x=cljs.core.first(arglist__9425);arglist__9425=cljs.core.next(arglist__9425);var y=cljs.core.first(arglist__9425);arglist__9425=cljs.core.next(arglist__9425);var z=cljs.core.first(arglist__9425);var args=cljs.core.rest(arglist__9425);return G__9423__delegate(x,
y,z,args)};G__9423.cljs$core$IFn$_invoke$arity$variadic=G__9423__delegate;return G__9423}();G__9422=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__9422__0.call(this);case 1:return G__9422__1.call(this,x);case 2:return G__9422__2.call(this,x,y);case 3:return G__9422__3.call(this,x,y,z);default:var G__9426=null;if(arguments.length>3){var G__9427__i=0,G__9427__a=new Array(arguments.length-3);while(G__9427__i<G__9427__a.length){G__9427__a[G__9427__i]=arguments[G__9427__i+
3];++G__9427__i}G__9426=new cljs.core.IndexedSeq(G__9427__a,0)}return G__9422__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9426)}throw new Error("Invalid arity: "+arguments.length);};G__9422.cljs$lang$maxFixedArity=3;G__9422.cljs$lang$applyTo=G__9422__4.cljs$lang$applyTo;G__9422.cljs$core$IFn$_invoke$arity$0=G__9422__0;G__9422.cljs$core$IFn$_invoke$arity$1=G__9422__1;G__9422.cljs$core$IFn$_invoke$arity$2=G__9422__2;G__9422.cljs$core$IFn$_invoke$arity$3=G__9422__3;G__9422.cljs$core$IFn$_invoke$arity$variadic=
G__9422__4.cljs$core$IFn$_invoke$arity$variadic;return G__9422}()};
cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic=function(f1,f2,f3,fs){var fs__$1=cljs.core.reverse(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(f1,f2,f3,fs));return function(fs__$1){return function(){var G__9428__delegate=function(args){var ret=cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.first(fs__$1),args);var fs__$2=cljs.core.next(fs__$1);while(true){if(fs__$2){var G__9429=cljs.core.first(fs__$2).call(null,ret);var G__9430=cljs.core.next(fs__$2);ret=G__9429;fs__$2=G__9430;
continue}else return ret;break}};var G__9428=function(var_args){var args=null;if(arguments.length>0){var G__9431__i=0,G__9431__a=new Array(arguments.length-0);while(G__9431__i<G__9431__a.length){G__9431__a[G__9431__i]=arguments[G__9431__i+0];++G__9431__i}args=new cljs.core.IndexedSeq(G__9431__a,0)}return G__9428__delegate.call(this,args)};G__9428.cljs$lang$maxFixedArity=0;G__9428.cljs$lang$applyTo=function(arglist__9432){var args=cljs.core.seq(arglist__9432);return G__9428__delegate(args)};G__9428.cljs$core$IFn$_invoke$arity$variadic=
G__9428__delegate;return G__9428}()}(fs__$1)};cljs.core.comp.cljs$lang$applyTo=function(seq9386){var G__9387=cljs.core.first(seq9386);var seq9386__$1=cljs.core.next(seq9386);var G__9388=cljs.core.first(seq9386__$1);var seq9386__$2=cljs.core.next(seq9386__$1);var G__9389=cljs.core.first(seq9386__$2);var seq9386__$3=cljs.core.next(seq9386__$2);return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(G__9387,G__9388,G__9389,seq9386__$3)};cljs.core.comp.cljs$lang$maxFixedArity=3;
cljs.core.partial=function cljs$core$partial(var_args){var args9433=[];var len__7214__auto___9441=arguments.length;var i__7215__auto___9442=0;while(true){if(i__7215__auto___9442<len__7214__auto___9441){args9433.push(arguments[i__7215__auto___9442]);var G__9443=i__7215__auto___9442+1;i__7215__auto___9442=G__9443;continue}else;break}var G__9440=args9433.length;switch(G__9440){case 1:return cljs.core.partial.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.partial.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.partial.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.partial.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9433.slice(4),0);return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],argseq__7233__auto__)}};
cljs.core.partial.cljs$core$IFn$_invoke$arity$1=function(f){return f};
cljs.core.partial.cljs$core$IFn$_invoke$arity$2=function(f,arg1){return function(){var G__9445=null;var G__9445__0=function(){return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(arg1):f.call(null,arg1)};var G__9445__1=function(x){return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(arg1,x):f.call(null,arg1,x)};var G__9445__2=function(x,y){return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(arg1,x,y):f.call(null,arg1,x,y)};var G__9445__3=function(x,
y,z){return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(arg1,x,y,z):f.call(null,arg1,x,y,z)};var G__9445__4=function(){var G__9446__delegate=function(x,y,z,args){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,arg1,x,y,z,cljs.core.array_seq([args],0))};var G__9446=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9447__i=0,G__9447__a=new Array(arguments.length-3);while(G__9447__i<G__9447__a.length){G__9447__a[G__9447__i]=arguments[G__9447__i+3];
++G__9447__i}args=new cljs.core.IndexedSeq(G__9447__a,0)}return G__9446__delegate.call(this,x,y,z,args)};G__9446.cljs$lang$maxFixedArity=3;G__9446.cljs$lang$applyTo=function(arglist__9448){var x=cljs.core.first(arglist__9448);arglist__9448=cljs.core.next(arglist__9448);var y=cljs.core.first(arglist__9448);arglist__9448=cljs.core.next(arglist__9448);var z=cljs.core.first(arglist__9448);var args=cljs.core.rest(arglist__9448);return G__9446__delegate(x,y,z,args)};G__9446.cljs$core$IFn$_invoke$arity$variadic=
G__9446__delegate;return G__9446}();G__9445=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__9445__0.call(this);case 1:return G__9445__1.call(this,x);case 2:return G__9445__2.call(this,x,y);case 3:return G__9445__3.call(this,x,y,z);default:var G__9449=null;if(arguments.length>3){var G__9450__i=0,G__9450__a=new Array(arguments.length-3);while(G__9450__i<G__9450__a.length){G__9450__a[G__9450__i]=arguments[G__9450__i+3];++G__9450__i}G__9449=new cljs.core.IndexedSeq(G__9450__a,
0)}return G__9445__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9449)}throw new Error("Invalid arity: "+arguments.length);};G__9445.cljs$lang$maxFixedArity=3;G__9445.cljs$lang$applyTo=G__9445__4.cljs$lang$applyTo;G__9445.cljs$core$IFn$_invoke$arity$0=G__9445__0;G__9445.cljs$core$IFn$_invoke$arity$1=G__9445__1;G__9445.cljs$core$IFn$_invoke$arity$2=G__9445__2;G__9445.cljs$core$IFn$_invoke$arity$3=G__9445__3;G__9445.cljs$core$IFn$_invoke$arity$variadic=G__9445__4.cljs$core$IFn$_invoke$arity$variadic;
return G__9445}()};
cljs.core.partial.cljs$core$IFn$_invoke$arity$3=function(f,arg1,arg2){return function(){var G__9451=null;var G__9451__0=function(){return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(arg1,arg2):f.call(null,arg1,arg2)};var G__9451__1=function(x){return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(arg1,arg2,x):f.call(null,arg1,arg2,x)};var G__9451__2=function(x,y){return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(arg1,arg2,x,y):f.call(null,
arg1,arg2,x,y)};var G__9451__3=function(x,y,z){return f.cljs$core$IFn$_invoke$arity$5?f.cljs$core$IFn$_invoke$arity$5(arg1,arg2,x,y,z):f.call(null,arg1,arg2,x,y,z)};var G__9451__4=function(){var G__9452__delegate=function(x,y,z,args){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,arg1,arg2,x,y,cljs.core.array_seq([z,args],0))};var G__9452=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9453__i=0,G__9453__a=new Array(arguments.length-3);while(G__9453__i<G__9453__a.length){G__9453__a[G__9453__i]=
arguments[G__9453__i+3];++G__9453__i}args=new cljs.core.IndexedSeq(G__9453__a,0)}return G__9452__delegate.call(this,x,y,z,args)};G__9452.cljs$lang$maxFixedArity=3;G__9452.cljs$lang$applyTo=function(arglist__9454){var x=cljs.core.first(arglist__9454);arglist__9454=cljs.core.next(arglist__9454);var y=cljs.core.first(arglist__9454);arglist__9454=cljs.core.next(arglist__9454);var z=cljs.core.first(arglist__9454);var args=cljs.core.rest(arglist__9454);return G__9452__delegate(x,y,z,args)};G__9452.cljs$core$IFn$_invoke$arity$variadic=
G__9452__delegate;return G__9452}();G__9451=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__9451__0.call(this);case 1:return G__9451__1.call(this,x);case 2:return G__9451__2.call(this,x,y);case 3:return G__9451__3.call(this,x,y,z);default:var G__9455=null;if(arguments.length>3){var G__9456__i=0,G__9456__a=new Array(arguments.length-3);while(G__9456__i<G__9456__a.length){G__9456__a[G__9456__i]=arguments[G__9456__i+3];++G__9456__i}G__9455=new cljs.core.IndexedSeq(G__9456__a,
0)}return G__9451__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9455)}throw new Error("Invalid arity: "+arguments.length);};G__9451.cljs$lang$maxFixedArity=3;G__9451.cljs$lang$applyTo=G__9451__4.cljs$lang$applyTo;G__9451.cljs$core$IFn$_invoke$arity$0=G__9451__0;G__9451.cljs$core$IFn$_invoke$arity$1=G__9451__1;G__9451.cljs$core$IFn$_invoke$arity$2=G__9451__2;G__9451.cljs$core$IFn$_invoke$arity$3=G__9451__3;G__9451.cljs$core$IFn$_invoke$arity$variadic=G__9451__4.cljs$core$IFn$_invoke$arity$variadic;
return G__9451}()};
cljs.core.partial.cljs$core$IFn$_invoke$arity$4=function(f,arg1,arg2,arg3){return function(){var G__9457=null;var G__9457__0=function(){return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(arg1,arg2,arg3):f.call(null,arg1,arg2,arg3)};var G__9457__1=function(x){return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(arg1,arg2,arg3,x):f.call(null,arg1,arg2,arg3,x)};var G__9457__2=function(x,y){return f.cljs$core$IFn$_invoke$arity$5?f.cljs$core$IFn$_invoke$arity$5(arg1,arg2,
arg3,x,y):f.call(null,arg1,arg2,arg3,x,y)};var G__9457__3=function(x,y,z){return f.cljs$core$IFn$_invoke$arity$6?f.cljs$core$IFn$_invoke$arity$6(arg1,arg2,arg3,x,y,z):f.call(null,arg1,arg2,arg3,x,y,z)};var G__9457__4=function(){var G__9458__delegate=function(x,y,z,args){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,arg1,arg2,arg3,x,cljs.core.array_seq([y,z,args],0))};var G__9458=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9459__i=0,G__9459__a=new Array(arguments.length-
3);while(G__9459__i<G__9459__a.length){G__9459__a[G__9459__i]=arguments[G__9459__i+3];++G__9459__i}args=new cljs.core.IndexedSeq(G__9459__a,0)}return G__9458__delegate.call(this,x,y,z,args)};G__9458.cljs$lang$maxFixedArity=3;G__9458.cljs$lang$applyTo=function(arglist__9460){var x=cljs.core.first(arglist__9460);arglist__9460=cljs.core.next(arglist__9460);var y=cljs.core.first(arglist__9460);arglist__9460=cljs.core.next(arglist__9460);var z=cljs.core.first(arglist__9460);var args=cljs.core.rest(arglist__9460);
return G__9458__delegate(x,y,z,args)};G__9458.cljs$core$IFn$_invoke$arity$variadic=G__9458__delegate;return G__9458}();G__9457=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__9457__0.call(this);case 1:return G__9457__1.call(this,x);case 2:return G__9457__2.call(this,x,y);case 3:return G__9457__3.call(this,x,y,z);default:var G__9461=null;if(arguments.length>3){var G__9462__i=0,G__9462__a=new Array(arguments.length-3);while(G__9462__i<G__9462__a.length){G__9462__a[G__9462__i]=
arguments[G__9462__i+3];++G__9462__i}G__9461=new cljs.core.IndexedSeq(G__9462__a,0)}return G__9457__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9461)}throw new Error("Invalid arity: "+arguments.length);};G__9457.cljs$lang$maxFixedArity=3;G__9457.cljs$lang$applyTo=G__9457__4.cljs$lang$applyTo;G__9457.cljs$core$IFn$_invoke$arity$0=G__9457__0;G__9457.cljs$core$IFn$_invoke$arity$1=G__9457__1;G__9457.cljs$core$IFn$_invoke$arity$2=G__9457__2;G__9457.cljs$core$IFn$_invoke$arity$3=G__9457__3;G__9457.cljs$core$IFn$_invoke$arity$variadic=
G__9457__4.cljs$core$IFn$_invoke$arity$variadic;return G__9457}()};
cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic=function(f,arg1,arg2,arg3,more){return function(){var G__9463__delegate=function(args){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,arg1,arg2,arg3,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(more,args))};var G__9463=function(var_args){var args=null;if(arguments.length>0){var G__9464__i=0,G__9464__a=new Array(arguments.length-0);while(G__9464__i<G__9464__a.length){G__9464__a[G__9464__i]=arguments[G__9464__i+0];++G__9464__i}args=new cljs.core.IndexedSeq(G__9464__a,
0)}return G__9463__delegate.call(this,args)};G__9463.cljs$lang$maxFixedArity=0;G__9463.cljs$lang$applyTo=function(arglist__9465){var args=cljs.core.seq(arglist__9465);return G__9463__delegate(args)};G__9463.cljs$core$IFn$_invoke$arity$variadic=G__9463__delegate;return G__9463}()};
cljs.core.partial.cljs$lang$applyTo=function(seq9434){var G__9435=cljs.core.first(seq9434);var seq9434__$1=cljs.core.next(seq9434);var G__9436=cljs.core.first(seq9434__$1);var seq9434__$2=cljs.core.next(seq9434__$1);var G__9437=cljs.core.first(seq9434__$2);var seq9434__$3=cljs.core.next(seq9434__$2);var G__9438=cljs.core.first(seq9434__$3);var seq9434__$4=cljs.core.next(seq9434__$3);return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(G__9435,G__9436,G__9437,G__9438,seq9434__$4)};
cljs.core.partial.cljs$lang$maxFixedArity=4;
cljs.core.fnil=function cljs$core$fnil(var_args){var args9466=[];var len__7214__auto___9485=arguments.length;var i__7215__auto___9486=0;while(true){if(i__7215__auto___9486<len__7214__auto___9485){args9466.push(arguments[i__7215__auto___9486]);var G__9487=i__7215__auto___9486+1;i__7215__auto___9486=G__9487;continue}else;break}var G__9468=args9466.length;switch(G__9468){case 2:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9466.length)].join(""));}};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$2=function(f,x){return function(){var G__9489=null;var G__9489__1=function(a){var G__9469=a==null?x:a;return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9469):f.call(null,G__9469)};var G__9489__2=function(a,b){var G__9470=a==null?x:a;var G__9471=b;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9470,G__9471):f.call(null,G__9470,G__9471)};var G__9489__3=function(a,b,c){var G__9472=a==null?x:a;var G__9473=b;
var G__9474=c;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9472,G__9473,G__9474):f.call(null,G__9472,G__9473,G__9474)};var G__9489__4=function(){var G__9490__delegate=function(a,b,c,ds){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,a==null?x:a,b,c,ds)};var G__9490=function(a,b,c,var_args){var ds=null;if(arguments.length>3){var G__9491__i=0,G__9491__a=new Array(arguments.length-3);while(G__9491__i<G__9491__a.length){G__9491__a[G__9491__i]=arguments[G__9491__i+
3];++G__9491__i}ds=new cljs.core.IndexedSeq(G__9491__a,0)}return G__9490__delegate.call(this,a,b,c,ds)};G__9490.cljs$lang$maxFixedArity=3;G__9490.cljs$lang$applyTo=function(arglist__9492){var a=cljs.core.first(arglist__9492);arglist__9492=cljs.core.next(arglist__9492);var b=cljs.core.first(arglist__9492);arglist__9492=cljs.core.next(arglist__9492);var c=cljs.core.first(arglist__9492);var ds=cljs.core.rest(arglist__9492);return G__9490__delegate(a,b,c,ds)};G__9490.cljs$core$IFn$_invoke$arity$variadic=
G__9490__delegate;return G__9490}();G__9489=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 1:return G__9489__1.call(this,a);case 2:return G__9489__2.call(this,a,b);case 3:return G__9489__3.call(this,a,b,c);default:var G__9493=null;if(arguments.length>3){var G__9494__i=0,G__9494__a=new Array(arguments.length-3);while(G__9494__i<G__9494__a.length){G__9494__a[G__9494__i]=arguments[G__9494__i+3];++G__9494__i}G__9493=new cljs.core.IndexedSeq(G__9494__a,0)}return G__9489__4.cljs$core$IFn$_invoke$arity$variadic(a,
b,c,G__9493)}throw new Error("Invalid arity: "+arguments.length);};G__9489.cljs$lang$maxFixedArity=3;G__9489.cljs$lang$applyTo=G__9489__4.cljs$lang$applyTo;G__9489.cljs$core$IFn$_invoke$arity$1=G__9489__1;G__9489.cljs$core$IFn$_invoke$arity$2=G__9489__2;G__9489.cljs$core$IFn$_invoke$arity$3=G__9489__3;G__9489.cljs$core$IFn$_invoke$arity$variadic=G__9489__4.cljs$core$IFn$_invoke$arity$variadic;return G__9489}()};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$3=function(f,x,y){return function(){var G__9495=null;var G__9495__2=function(a,b){var G__9475=a==null?x:a;var G__9476=b==null?y:b;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9475,G__9476):f.call(null,G__9475,G__9476)};var G__9495__3=function(a,b,c){var G__9477=a==null?x:a;var G__9478=b==null?y:b;var G__9479=c;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9477,G__9478,G__9479):f.call(null,G__9477,G__9478,
G__9479)};var G__9495__4=function(){var G__9496__delegate=function(a,b,c,ds){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,a==null?x:a,b==null?y:b,c,ds)};var G__9496=function(a,b,c,var_args){var ds=null;if(arguments.length>3){var G__9497__i=0,G__9497__a=new Array(arguments.length-3);while(G__9497__i<G__9497__a.length){G__9497__a[G__9497__i]=arguments[G__9497__i+3];++G__9497__i}ds=new cljs.core.IndexedSeq(G__9497__a,0)}return G__9496__delegate.call(this,a,b,c,ds)};G__9496.cljs$lang$maxFixedArity=
3;G__9496.cljs$lang$applyTo=function(arglist__9498){var a=cljs.core.first(arglist__9498);arglist__9498=cljs.core.next(arglist__9498);var b=cljs.core.first(arglist__9498);arglist__9498=cljs.core.next(arglist__9498);var c=cljs.core.first(arglist__9498);var ds=cljs.core.rest(arglist__9498);return G__9496__delegate(a,b,c,ds)};G__9496.cljs$core$IFn$_invoke$arity$variadic=G__9496__delegate;return G__9496}();G__9495=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 2:return G__9495__2.call(this,
a,b);case 3:return G__9495__3.call(this,a,b,c);default:var G__9499=null;if(arguments.length>3){var G__9500__i=0,G__9500__a=new Array(arguments.length-3);while(G__9500__i<G__9500__a.length){G__9500__a[G__9500__i]=arguments[G__9500__i+3];++G__9500__i}G__9499=new cljs.core.IndexedSeq(G__9500__a,0)}return G__9495__4.cljs$core$IFn$_invoke$arity$variadic(a,b,c,G__9499)}throw new Error("Invalid arity: "+arguments.length);};G__9495.cljs$lang$maxFixedArity=3;G__9495.cljs$lang$applyTo=G__9495__4.cljs$lang$applyTo;
G__9495.cljs$core$IFn$_invoke$arity$2=G__9495__2;G__9495.cljs$core$IFn$_invoke$arity$3=G__9495__3;G__9495.cljs$core$IFn$_invoke$arity$variadic=G__9495__4.cljs$core$IFn$_invoke$arity$variadic;return G__9495}()};
cljs.core.fnil.cljs$core$IFn$_invoke$arity$4=function(f,x,y,z){return function(){var G__9501=null;var G__9501__2=function(a,b){var G__9480=a==null?x:a;var G__9481=b==null?y:b;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9480,G__9481):f.call(null,G__9480,G__9481)};var G__9501__3=function(a,b,c){var G__9482=a==null?x:a;var G__9483=b==null?y:b;var G__9484=c==null?z:c;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9482,G__9483,G__9484):f.call(null,
G__9482,G__9483,G__9484)};var G__9501__4=function(){var G__9502__delegate=function(a,b,c,ds){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,a==null?x:a,b==null?y:b,c==null?z:c,ds)};var G__9502=function(a,b,c,var_args){var ds=null;if(arguments.length>3){var G__9503__i=0,G__9503__a=new Array(arguments.length-3);while(G__9503__i<G__9503__a.length){G__9503__a[G__9503__i]=arguments[G__9503__i+3];++G__9503__i}ds=new cljs.core.IndexedSeq(G__9503__a,0)}return G__9502__delegate.call(this,a,b,c,ds)};
G__9502.cljs$lang$maxFixedArity=3;G__9502.cljs$lang$applyTo=function(arglist__9504){var a=cljs.core.first(arglist__9504);arglist__9504=cljs.core.next(arglist__9504);var b=cljs.core.first(arglist__9504);arglist__9504=cljs.core.next(arglist__9504);var c=cljs.core.first(arglist__9504);var ds=cljs.core.rest(arglist__9504);return G__9502__delegate(a,b,c,ds)};G__9502.cljs$core$IFn$_invoke$arity$variadic=G__9502__delegate;return G__9502}();G__9501=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 2:return G__9501__2.call(this,
a,b);case 3:return G__9501__3.call(this,a,b,c);default:var G__9505=null;if(arguments.length>3){var G__9506__i=0,G__9506__a=new Array(arguments.length-3);while(G__9506__i<G__9506__a.length){G__9506__a[G__9506__i]=arguments[G__9506__i+3];++G__9506__i}G__9505=new cljs.core.IndexedSeq(G__9506__a,0)}return G__9501__4.cljs$core$IFn$_invoke$arity$variadic(a,b,c,G__9505)}throw new Error("Invalid arity: "+arguments.length);};G__9501.cljs$lang$maxFixedArity=3;G__9501.cljs$lang$applyTo=G__9501__4.cljs$lang$applyTo;
G__9501.cljs$core$IFn$_invoke$arity$2=G__9501__2;G__9501.cljs$core$IFn$_invoke$arity$3=G__9501__3;G__9501.cljs$core$IFn$_invoke$arity$variadic=G__9501__4.cljs$core$IFn$_invoke$arity$variadic;return G__9501}()};cljs.core.fnil.cljs$lang$maxFixedArity=4;
cljs.core.map_indexed=function cljs$core$map_indexed(var_args){var args9507=[];var len__7214__auto___9540=arguments.length;var i__7215__auto___9541=0;while(true){if(i__7215__auto___9541<len__7214__auto___9540){args9507.push(arguments[i__7215__auto___9541]);var G__9542=i__7215__auto___9541+1;i__7215__auto___9541=G__9542;continue}else;break}var G__9509=args9507.length;switch(G__9509){case 1:return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9507.length)].join(""));}};
cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1=function(f){return function(rf){var i=cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1?cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1(-1):cljs.core.volatile_BANG_.call(null,-1);return function(i){return function(){var G__9544=null;var G__9544__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9544__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):
rf.call(null,result)};var G__9544__2=function(result,input){var G__9512=result;var G__9513=function(){var G__9514=cljs.core._vreset_BANG_(i,cljs.core._deref(i)+1);var G__9515=input;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9514,G__9515):f.call(null,G__9514,G__9515)}();return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(G__9512,G__9513):rf.call(null,G__9512,G__9513)};G__9544=function(result,input){switch(arguments.length){case 0:return G__9544__0.call(this);
case 1:return G__9544__1.call(this,result);case 2:return G__9544__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9544.cljs$core$IFn$_invoke$arity$0=G__9544__0;G__9544.cljs$core$IFn$_invoke$arity$1=G__9544__1;G__9544.cljs$core$IFn$_invoke$arity$2=G__9544__2;return G__9544}()}(i)}};
cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2=function(f,coll){var mapi=function cljs$core$mapi(idx,coll__$1){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll__$1);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s)){var c=cljs.core.chunk_first(s);var size=cljs.core.count(c);var b=cljs.core.chunk_buffer(size);var n__7059__auto___9545=size;var i_9546=0;while(true){if(i_9546<n__7059__auto___9545){cljs.core.chunk_append(b,function(){var G__9536=
idx+i_9546;var G__9537=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9546);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9536,G__9537):f.call(null,G__9536,G__9537)}());var G__9547=i_9546+1;i_9546=G__9547;continue}else;break}return cljs.core.chunk_cons(cljs.core.chunk(b),cljs$core$mapi(idx+size,cljs.core.chunk_rest(s)))}else return cljs.core.cons(function(){var G__9538=idx;var G__9539=cljs.core.first(s);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9538,
G__9539):f.call(null,G__9538,G__9539)}(),cljs$core$mapi(idx+1,cljs.core.rest(s)))}else return null},null,null)};return mapi(0,coll)};cljs.core.map_indexed.cljs$lang$maxFixedArity=2;
cljs.core.keep=function cljs$core$keep(var_args){var args9548=[];var len__7214__auto___9553=arguments.length;var i__7215__auto___9554=0;while(true){if(i__7215__auto___9554<len__7214__auto___9553){args9548.push(arguments[i__7215__auto___9554]);var G__9555=i__7215__auto___9554+1;i__7215__auto___9554=G__9555;continue}else;break}var G__9550=args9548.length;switch(G__9550){case 1:return cljs.core.keep.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.keep.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9548.length)].join(""));}};
cljs.core.keep.cljs$core$IFn$_invoke$arity$1=function(f){return function(rf){return function(){var G__9557=null;var G__9557__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9557__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9557__2=function(result,input){var v=f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(input):f.call(null,input);if(v==
null)return result;else return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,v):rf.call(null,result,v)};G__9557=function(result,input){switch(arguments.length){case 0:return G__9557__0.call(this);case 1:return G__9557__1.call(this,result);case 2:return G__9557__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9557.cljs$core$IFn$_invoke$arity$0=G__9557__0;G__9557.cljs$core$IFn$_invoke$arity$1=G__9557__1;G__9557.cljs$core$IFn$_invoke$arity$2=
G__9557__2;return G__9557}()}};
cljs.core.keep.cljs$core$IFn$_invoke$arity$2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s)){var c=cljs.core.chunk_first(s);var size=cljs.core.count(c);var b=cljs.core.chunk_buffer(size);var n__7059__auto___9558=size;var i_9559=0;while(true){if(i_9559<n__7059__auto___9558){var x_9560=function(){var G__9551=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9559);
return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9551):f.call(null,G__9551)}();if(x_9560==null);else cljs.core.chunk_append(b,x_9560);var G__9561=i_9559+1;i_9559=G__9561;continue}else;break}return cljs.core.chunk_cons(cljs.core.chunk(b),cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f,cljs.core.chunk_rest(s)))}else{var x=function(){var G__9552=cljs.core.first(s);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9552):f.call(null,G__9552)}();if(x==null)return cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f,
cljs.core.rest(s));else return cljs.core.cons(x,cljs.core.keep.cljs$core$IFn$_invoke$arity$2(f,cljs.core.rest(s)))}}else return null},null,null)};cljs.core.keep.cljs$lang$maxFixedArity=2;cljs.core.Atom=function(state,meta,validator,watches){this.state=state;this.meta=meta;this.validator=validator;this.watches=watches;this.cljs$lang$protocol_mask$partition1$=16386;this.cljs$lang$protocol_mask$partition0$=6455296};
cljs.core.Atom.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.Atom.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return o__$1===other};cljs.core.Atom.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return self__.state};cljs.core.Atom.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__.meta};
cljs.core.Atom.prototype.cljs$core$IWatchable$_notify_watches$arity$3=function(this$,oldval,newval){var self__=this;var this$__$1=this;var seq__9562=cljs.core.seq(self__.watches);var chunk__9563=null;var count__9564=0;var i__9565=0;while(true){if(i__9565<count__9564){var vec__9566=chunk__9563.cljs$core$IIndexed$_nth$arity$2(null,i__9565);var key=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9566,0,null);var f=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9566,1,null);f.cljs$core$IFn$_invoke$arity$4?
f.cljs$core$IFn$_invoke$arity$4(key,this$__$1,oldval,newval):f.call(null,key,this$__$1,oldval,newval);var G__9568=seq__9562;var G__9569=chunk__9563;var G__9570=count__9564;var G__9571=i__9565+1;seq__9562=G__9568;chunk__9563=G__9569;count__9564=G__9570;i__9565=G__9571;continue}else{var temp__4657__auto__=cljs.core.seq(seq__9562);if(temp__4657__auto__){var seq__9562__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__9562__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__9562__$1);var G__9572=
cljs.core.chunk_rest(seq__9562__$1);var G__9573=c__6959__auto__;var G__9574=cljs.core.count(c__6959__auto__);var G__9575=0;seq__9562=G__9572;chunk__9563=G__9573;count__9564=G__9574;i__9565=G__9575;continue}else{var vec__9567=cljs.core.first(seq__9562__$1);var key=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9567,0,null);var f=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9567,1,null);f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(key,this$__$1,oldval,newval):f.call(null,key,
this$__$1,oldval,newval);var G__9576=cljs.core.next(seq__9562__$1);var G__9577=null;var G__9578=0;var G__9579=0;seq__9562=G__9576;chunk__9563=G__9577;count__9564=G__9578;i__9565=G__9579;continue}}else return null}break}};cljs.core.Atom.prototype.cljs$core$IWatchable$_add_watch$arity$3=function(this$,key,f){var self__=this;var this$__$1=this;this$__$1.watches=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.watches,key,f);return this$__$1};
cljs.core.Atom.prototype.cljs$core$IWatchable$_remove_watch$arity$2=function(this$,key){var self__=this;var this$__$1=this;return this$__$1.watches=cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.watches,key)};cljs.core.Atom.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};
cljs.core.Atom.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"state","state",-348086572,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"validator","validator",-325659154,null),new cljs.core.Symbol(null,"watches","watches",1367433992,null)],null)};cljs.core.Atom.cljs$lang$type=true;cljs.core.Atom.cljs$lang$ctorStr="cljs.core/Atom";
cljs.core.Atom.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Atom")};cljs.core.__GT_Atom=function cljs$core$__GT_Atom(state,meta,validator,watches){return new cljs.core.Atom(state,meta,validator,watches)};
cljs.core.atom=function cljs$core$atom(var_args){var args9580=[];var len__7214__auto___9588=arguments.length;var i__7215__auto___9589=0;while(true){if(i__7215__auto___9589<len__7214__auto___9588){args9580.push(arguments[i__7215__auto___9589]);var G__9590=i__7215__auto___9589+1;i__7215__auto___9589=G__9590;continue}else;break}var G__9584=args9580.length;switch(G__9584){case 1:return cljs.core.atom.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9580.slice(1),
0);return cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7233__auto__)}};cljs.core.atom.cljs$core$IFn$_invoke$arity$1=function(x){return new cljs.core.Atom(x,null,null,null)};
cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic=function(x,p__9585){var map__9586=p__9585;var map__9586__$1=(!(map__9586==null)?map__9586.cljs$lang$protocol_mask$partition0$&64||map__9586.cljs$core$ISeq$?true:false:false)?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__9586):map__9586;var meta=cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__9586__$1,new cljs.core.Keyword(null,"meta","meta",1499536964));var validator=cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__9586__$1,
new cljs.core.Keyword(null,"validator","validator",-1966190681));return new cljs.core.Atom(x,meta,validator,null)};cljs.core.atom.cljs$lang$applyTo=function(seq9581){var G__9582=cljs.core.first(seq9581);var seq9581__$1=cljs.core.next(seq9581);return cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(G__9582,seq9581__$1)};cljs.core.atom.cljs$lang$maxFixedArity=1;
cljs.core.reset_BANG_=function cljs$core$reset_BANG_(a,new_value){if(a instanceof cljs.core.Atom){var validate=a.validator;if(validate==null);else if(cljs.core.truth_(validate.cljs$core$IFn$_invoke$arity$1?validate.cljs$core$IFn$_invoke$arity$1(new_value):validate.call(null,new_value)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Validator rejected reference state"),cljs.core.str("\n"),cljs.core.str(function(){var G__9593=cljs.core.list(new cljs.core.Symbol(null,"validate",
"validate",1439230700,null),new cljs.core.Symbol(null,"new-value","new-value",-1567397401,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9593):cljs.core.pr_str.call(null,G__9593)}())].join(""));var old_value=a.state;a.state=new_value;if(a.watches==null);else cljs.core._notify_watches(a,old_value,new_value);return new_value}else return cljs.core._reset_BANG_(a,new_value)};
cljs.core.swap_BANG_=function cljs$core$swap_BANG_(var_args){var args9594=[];var len__7214__auto___9608=arguments.length;var i__7215__auto___9609=0;while(true){if(i__7215__auto___9609<len__7214__auto___9608){args9594.push(arguments[i__7215__auto___9609]);var G__9610=i__7215__auto___9609+1;i__7215__auto___9609=G__9610;continue}else;break}var G__9601=args9594.length;switch(G__9601){case 2:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9594.slice(4),0);return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],argseq__7233__auto__)}};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2=function(a,f){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_(a,function(){var G__9602=a.state;return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9602):f.call(null,G__9602)}());else return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(a,f)};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3=function(a,f,x){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_(a,function(){var G__9603=a.state;var G__9604=x;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9603,G__9604):f.call(null,G__9603,G__9604)}());else return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(a,f,x)};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4=function(a,f,x,y){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_(a,function(){var G__9605=a.state;var G__9606=x;var G__9607=y;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9605,G__9606,G__9607):f.call(null,G__9605,G__9606,G__9607)}());else return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(a,f,x,y)};
cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(a,f,x,y,more){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_(a,cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,a.state,x,y,more));else return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(a,f,x,y,more)};
cljs.core.swap_BANG_.cljs$lang$applyTo=function(seq9595){var G__9596=cljs.core.first(seq9595);var seq9595__$1=cljs.core.next(seq9595);var G__9597=cljs.core.first(seq9595__$1);var seq9595__$2=cljs.core.next(seq9595__$1);var G__9598=cljs.core.first(seq9595__$2);var seq9595__$3=cljs.core.next(seq9595__$2);var G__9599=cljs.core.first(seq9595__$3);var seq9595__$4=cljs.core.next(seq9595__$3);return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__9596,G__9597,G__9598,G__9599,seq9595__$4)};
cljs.core.swap_BANG_.cljs$lang$maxFixedArity=4;cljs.core.compare_and_set_BANG_=function cljs$core$compare_and_set_BANG_(a,oldval,newval){if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(a.cljs$core$IDeref$_deref$arity$1(null),oldval)){cljs.core.reset_BANG_(a,newval);return true}else return false};cljs.core.set_validator_BANG_=function cljs$core$set_validator_BANG_(iref,val){return iref.validator=val};cljs.core.get_validator=function cljs$core$get_validator(iref){return iref.validator};
cljs.core.Volatile=function(state){this.state=state;this.cljs$lang$protocol_mask$partition0$=32768;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.Volatile.prototype.cljs$core$IVolatile$=true;cljs.core.Volatile.prototype.cljs$core$IVolatile$_vreset_BANG_$arity$2=function(_,new_state){var self__=this;var ___$1=this;return self__.state=new_state};cljs.core.Volatile.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return self__.state};
cljs.core.Volatile.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"state","state",-348086572,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.Volatile.cljs$lang$type=true;cljs.core.Volatile.cljs$lang$ctorStr="cljs.core/Volatile";
cljs.core.Volatile.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Volatile")};cljs.core.__GT_Volatile=function cljs$core$__GT_Volatile(state){return new cljs.core.Volatile(state)};cljs.core.volatile_BANG_=function cljs$core$volatile_BANG_(val){return new cljs.core.Volatile(val)};cljs.core.volatile_QMARK_=function cljs$core$volatile_QMARK_(x){return x instanceof cljs.core.Volatile};
cljs.core.vreset_BANG_=function cljs$core$vreset_BANG_(vol,newval){return cljs.core._vreset_BANG_(vol,newval)};
cljs.core.keep_indexed=function cljs$core$keep_indexed(var_args){var args9612=[];var len__7214__auto___9643=arguments.length;var i__7215__auto___9644=0;while(true){if(i__7215__auto___9644<len__7214__auto___9643){args9612.push(arguments[i__7215__auto___9644]);var G__9645=i__7215__auto___9644+1;i__7215__auto___9644=G__9645;continue}else;break}var G__9614=args9612.length;switch(G__9614){case 1:return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9612.length)].join(""));}};
cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1=function(f){return function(rf){var ia=cljs.core.volatile_BANG_(-1);return function(ia){return function(){var G__9647=null;var G__9647__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9647__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9647__2=function(result,input){var i=cljs.core._vreset_BANG_(ia,cljs.core._deref(ia)+
1);var v=f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(i,input):f.call(null,i,input);if(v==null)return result;else return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,v):rf.call(null,result,v)};G__9647=function(result,input){switch(arguments.length){case 0:return G__9647__0.call(this);case 1:return G__9647__1.call(this,result);case 2:return G__9647__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9647.cljs$core$IFn$_invoke$arity$0=
G__9647__0;G__9647.cljs$core$IFn$_invoke$arity$1=G__9647__1;G__9647.cljs$core$IFn$_invoke$arity$2=G__9647__2;return G__9647}()}(ia)}};
cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2=function(f,coll){var keepi=function cljs$core$keepi(idx,coll__$1){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll__$1);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s)){var c=cljs.core.chunk_first(s);var size=cljs.core.count(c);var b=cljs.core.chunk_buffer(size);var n__7059__auto___9648=size;var i_9649=0;while(true){if(i_9649<n__7059__auto___9648){var x_9650=function(){var G__9639=
idx+i_9649;var G__9640=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9649);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9639,G__9640):f.call(null,G__9639,G__9640)}();if(x_9650==null);else cljs.core.chunk_append(b,x_9650);var G__9651=i_9649+1;i_9649=G__9651;continue}else;break}return cljs.core.chunk_cons(cljs.core.chunk(b),cljs$core$keepi(idx+size,cljs.core.chunk_rest(s)))}else{var x=function(){var G__9641=idx;var G__9642=cljs.core.first(s);return f.cljs$core$IFn$_invoke$arity$2?
f.cljs$core$IFn$_invoke$arity$2(G__9641,G__9642):f.call(null,G__9641,G__9642)}();if(x==null)return cljs$core$keepi(idx+1,cljs.core.rest(s));else return cljs.core.cons(x,cljs$core$keepi(idx+1,cljs.core.rest(s)))}}else return null},null,null)};return keepi(0,coll)};cljs.core.keep_indexed.cljs$lang$maxFixedArity=2;
cljs.core.every_pred=function cljs$core$every_pred(var_args){var args9658=[];var len__7214__auto___9665=arguments.length;var i__7215__auto___9666=0;while(true){if(i__7215__auto___9666<len__7214__auto___9665){args9658.push(arguments[i__7215__auto___9666]);var G__9667=i__7215__auto___9666+1;i__7215__auto___9666=G__9667;continue}else;break}var G__9664=args9658.length;switch(G__9664){case 1:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9658.slice(3),0);return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1=function(p){return function(){var cljs$core$ep1=null;var cljs$core$ep1__0=function(){return true};var cljs$core$ep1__1=function(x){return cljs.core.boolean$(p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x))};var cljs$core$ep1__2=function(x,y){return cljs.core.boolean$(function(){var and__6144__auto__=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x);if(cljs.core.truth_(and__6144__auto__))return p.cljs$core$IFn$_invoke$arity$1?
p.cljs$core$IFn$_invoke$arity$1(y):p.call(null,y);else return and__6144__auto__}())};var cljs$core$ep1__3=function(x,y,z){return cljs.core.boolean$(function(){var and__6144__auto__=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(y):p.call(null,y);if(cljs.core.truth_(and__6144__auto____$1))return p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(z):
p.call(null,z);else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep1__4=function(){var G__9669__delegate=function(x,y,z,args){return cljs.core.boolean$(function(){var and__6144__auto__=cljs$core$ep1.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(and__6144__auto__))return cljs.core.every_QMARK_(p,args);else return and__6144__auto__}())};var G__9669=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9670__i=0,G__9670__a=new Array(arguments.length-
3);while(G__9670__i<G__9670__a.length){G__9670__a[G__9670__i]=arguments[G__9670__i+3];++G__9670__i}args=new cljs.core.IndexedSeq(G__9670__a,0)}return G__9669__delegate.call(this,x,y,z,args)};G__9669.cljs$lang$maxFixedArity=3;G__9669.cljs$lang$applyTo=function(arglist__9671){var x=cljs.core.first(arglist__9671);arglist__9671=cljs.core.next(arglist__9671);var y=cljs.core.first(arglist__9671);arglist__9671=cljs.core.next(arglist__9671);var z=cljs.core.first(arglist__9671);var args=cljs.core.rest(arglist__9671);
return G__9669__delegate(x,y,z,args)};G__9669.cljs$core$IFn$_invoke$arity$variadic=G__9669__delegate;return G__9669}();cljs$core$ep1=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$ep1__0.call(this);case 1:return cljs$core$ep1__1.call(this,x);case 2:return cljs$core$ep1__2.call(this,x,y);case 3:return cljs$core$ep1__3.call(this,x,y,z);default:var G__9672=null;if(arguments.length>3){var G__9673__i=0,G__9673__a=new Array(arguments.length-3);while(G__9673__i<
G__9673__a.length){G__9673__a[G__9673__i]=arguments[G__9673__i+3];++G__9673__i}G__9672=new cljs.core.IndexedSeq(G__9673__a,0)}return cljs$core$ep1__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9672)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$ep1.cljs$lang$maxFixedArity=3;cljs$core$ep1.cljs$lang$applyTo=cljs$core$ep1__4.cljs$lang$applyTo;cljs$core$ep1.cljs$core$IFn$_invoke$arity$0=cljs$core$ep1__0;cljs$core$ep1.cljs$core$IFn$_invoke$arity$1=cljs$core$ep1__1;cljs$core$ep1.cljs$core$IFn$_invoke$arity$2=
cljs$core$ep1__2;cljs$core$ep1.cljs$core$IFn$_invoke$arity$3=cljs$core$ep1__3;cljs$core$ep1.cljs$core$IFn$_invoke$arity$variadic=cljs$core$ep1__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$ep1}()};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2=function(p1,p2){return function(){var cljs$core$ep2=null;var cljs$core$ep2__0=function(){return true};var cljs$core$ep2__1=function(x){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__))return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);else return and__6144__auto__}())};var cljs$core$ep2__2=
function(x,y){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(and__6144__auto____$1)){var and__6144__auto____$2=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(and__6144__auto____$2))return p2.cljs$core$IFn$_invoke$arity$1?
p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);else return and__6144__auto____$2}else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep2__3=function(x,y,z){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(and__6144__auto____$1)){var and__6144__auto____$2=
p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(z):p1.call(null,z);if(cljs.core.truth_(and__6144__auto____$2)){var and__6144__auto____$3=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(and__6144__auto____$3)){var and__6144__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(and__6144__auto____$4))return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(z):
p2.call(null,z);else return and__6144__auto____$4}else return and__6144__auto____$3}else return and__6144__auto____$2}else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep2__4=function(){var G__9674__delegate=function(x,y,z,args){return cljs.core.boolean$(function(){var and__6144__auto__=cljs$core$ep2.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(and__6144__auto__))return cljs.core.every_QMARK_(function(and__6144__auto__){return function(p1__9652_SHARP_){var and__6144__auto____$1=
p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(p1__9652_SHARP_):p1.call(null,p1__9652_SHARP_);if(cljs.core.truth_(and__6144__auto____$1))return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(p1__9652_SHARP_):p2.call(null,p1__9652_SHARP_);else return and__6144__auto____$1}}(and__6144__auto__),args);else return and__6144__auto__}())};var G__9674=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9675__i=0,G__9675__a=new Array(arguments.length-
3);while(G__9675__i<G__9675__a.length){G__9675__a[G__9675__i]=arguments[G__9675__i+3];++G__9675__i}args=new cljs.core.IndexedSeq(G__9675__a,0)}return G__9674__delegate.call(this,x,y,z,args)};G__9674.cljs$lang$maxFixedArity=3;G__9674.cljs$lang$applyTo=function(arglist__9676){var x=cljs.core.first(arglist__9676);arglist__9676=cljs.core.next(arglist__9676);var y=cljs.core.first(arglist__9676);arglist__9676=cljs.core.next(arglist__9676);var z=cljs.core.first(arglist__9676);var args=cljs.core.rest(arglist__9676);
return G__9674__delegate(x,y,z,args)};G__9674.cljs$core$IFn$_invoke$arity$variadic=G__9674__delegate;return G__9674}();cljs$core$ep2=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$ep2__0.call(this);case 1:return cljs$core$ep2__1.call(this,x);case 2:return cljs$core$ep2__2.call(this,x,y);case 3:return cljs$core$ep2__3.call(this,x,y,z);default:var G__9677=null;if(arguments.length>3){var G__9678__i=0,G__9678__a=new Array(arguments.length-3);while(G__9678__i<
G__9678__a.length){G__9678__a[G__9678__i]=arguments[G__9678__i+3];++G__9678__i}G__9677=new cljs.core.IndexedSeq(G__9678__a,0)}return cljs$core$ep2__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9677)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$ep2.cljs$lang$maxFixedArity=3;cljs$core$ep2.cljs$lang$applyTo=cljs$core$ep2__4.cljs$lang$applyTo;cljs$core$ep2.cljs$core$IFn$_invoke$arity$0=cljs$core$ep2__0;cljs$core$ep2.cljs$core$IFn$_invoke$arity$1=cljs$core$ep2__1;cljs$core$ep2.cljs$core$IFn$_invoke$arity$2=
cljs$core$ep2__2;cljs$core$ep2.cljs$core$IFn$_invoke$arity$3=cljs$core$ep2__3;cljs$core$ep2.cljs$core$IFn$_invoke$arity$variadic=cljs$core$ep2__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$ep2}()};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3=function(p1,p2,p3){return function(){var cljs$core$ep3=null;var cljs$core$ep3__0=function(){return true};var cljs$core$ep3__1=function(x){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(and__6144__auto____$1))return p3.cljs$core$IFn$_invoke$arity$1?
p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x);else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep3__2=function(x,y){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(and__6144__auto____$1)){var and__6144__auto____$2=
p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x);if(cljs.core.truth_(and__6144__auto____$2)){var and__6144__auto____$3=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(and__6144__auto____$3)){var and__6144__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(and__6144__auto____$4))return p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(y):
p3.call(null,y);else return and__6144__auto____$4}else return and__6144__auto____$3}else return and__6144__auto____$2}else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep3__3=function(x,y,z){return cljs.core.boolean$(function(){var and__6144__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):
p2.call(null,x);if(cljs.core.truth_(and__6144__auto____$1)){var and__6144__auto____$2=p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x);if(cljs.core.truth_(and__6144__auto____$2)){var and__6144__auto____$3=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(and__6144__auto____$3)){var and__6144__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(and__6144__auto____$4)){var and__6144__auto____$5=
p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(y):p3.call(null,y);if(cljs.core.truth_(and__6144__auto____$5)){var and__6144__auto____$6=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(z):p1.call(null,z);if(cljs.core.truth_(and__6144__auto____$6)){var and__6144__auto____$7=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(z):p2.call(null,z);if(cljs.core.truth_(and__6144__auto____$7))return p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(z):
p3.call(null,z);else return and__6144__auto____$7}else return and__6144__auto____$6}else return and__6144__auto____$5}else return and__6144__auto____$4}else return and__6144__auto____$3}else return and__6144__auto____$2}else return and__6144__auto____$1}else return and__6144__auto__}())};var cljs$core$ep3__4=function(){var G__9679__delegate=function(x,y,z,args){return cljs.core.boolean$(function(){var and__6144__auto__=cljs$core$ep3.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(and__6144__auto__))return cljs.core.every_QMARK_(function(and__6144__auto__){return function(p1__9653_SHARP_){var and__6144__auto____$1=
p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(p1__9653_SHARP_):p1.call(null,p1__9653_SHARP_);if(cljs.core.truth_(and__6144__auto____$1)){var and__6144__auto____$2=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(p1__9653_SHARP_):p2.call(null,p1__9653_SHARP_);if(cljs.core.truth_(and__6144__auto____$2))return p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(p1__9653_SHARP_):p3.call(null,p1__9653_SHARP_);else return and__6144__auto____$2}else return and__6144__auto____$1}}(and__6144__auto__),
args);else return and__6144__auto__}())};var G__9679=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9680__i=0,G__9680__a=new Array(arguments.length-3);while(G__9680__i<G__9680__a.length){G__9680__a[G__9680__i]=arguments[G__9680__i+3];++G__9680__i}args=new cljs.core.IndexedSeq(G__9680__a,0)}return G__9679__delegate.call(this,x,y,z,args)};G__9679.cljs$lang$maxFixedArity=3;G__9679.cljs$lang$applyTo=function(arglist__9681){var x=cljs.core.first(arglist__9681);arglist__9681=cljs.core.next(arglist__9681);
var y=cljs.core.first(arglist__9681);arglist__9681=cljs.core.next(arglist__9681);var z=cljs.core.first(arglist__9681);var args=cljs.core.rest(arglist__9681);return G__9679__delegate(x,y,z,args)};G__9679.cljs$core$IFn$_invoke$arity$variadic=G__9679__delegate;return G__9679}();cljs$core$ep3=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$ep3__0.call(this);case 1:return cljs$core$ep3__1.call(this,x);case 2:return cljs$core$ep3__2.call(this,x,y);case 3:return cljs$core$ep3__3.call(this,
x,y,z);default:var G__9682=null;if(arguments.length>3){var G__9683__i=0,G__9683__a=new Array(arguments.length-3);while(G__9683__i<G__9683__a.length){G__9683__a[G__9683__i]=arguments[G__9683__i+3];++G__9683__i}G__9682=new cljs.core.IndexedSeq(G__9683__a,0)}return cljs$core$ep3__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9682)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$ep3.cljs$lang$maxFixedArity=3;cljs$core$ep3.cljs$lang$applyTo=cljs$core$ep3__4.cljs$lang$applyTo;cljs$core$ep3.cljs$core$IFn$_invoke$arity$0=
cljs$core$ep3__0;cljs$core$ep3.cljs$core$IFn$_invoke$arity$1=cljs$core$ep3__1;cljs$core$ep3.cljs$core$IFn$_invoke$arity$2=cljs$core$ep3__2;cljs$core$ep3.cljs$core$IFn$_invoke$arity$3=cljs$core$ep3__3;cljs$core$ep3.cljs$core$IFn$_invoke$arity$variadic=cljs$core$ep3__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$ep3}()};
cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic=function(p1,p2,p3,ps){var ps__$1=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(p1,p2,p3,ps);return function(ps__$1){return function(){var cljs$core$epn=null;var cljs$core$epn__0=function(){return true};var cljs$core$epn__1=function(x){return cljs.core.every_QMARK_(function(ps__$1){return function(p1__9654_SHARP_){return p1__9654_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9654_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9654_SHARP_.call(null,
x)}}(ps__$1),ps__$1)};var cljs$core$epn__2=function(x,y){return cljs.core.every_QMARK_(function(ps__$1){return function(p1__9655_SHARP_){var and__6144__auto__=p1__9655_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9655_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9655_SHARP_.call(null,x);if(cljs.core.truth_(and__6144__auto__))return p1__9655_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9655_SHARP_.cljs$core$IFn$_invoke$arity$1(y):p1__9655_SHARP_.call(null,y);else return and__6144__auto__}}(ps__$1),ps__$1)};
var cljs$core$epn__3=function(x,y,z){return cljs.core.every_QMARK_(function(ps__$1){return function(p1__9656_SHARP_){var and__6144__auto__=p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9656_SHARP_.call(null,x);if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1(y):p1__9656_SHARP_.call(null,y);if(cljs.core.truth_(and__6144__auto____$1))return p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1?
p1__9656_SHARP_.cljs$core$IFn$_invoke$arity$1(z):p1__9656_SHARP_.call(null,z);else return and__6144__auto____$1}else return and__6144__auto__}}(ps__$1),ps__$1)};var cljs$core$epn__4=function(){var G__9684__delegate=function(x,y,z,args){return cljs.core.boolean$(function(){var and__6144__auto__=cljs$core$epn.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(and__6144__auto__))return cljs.core.every_QMARK_(function(and__6144__auto__,ps__$1){return function(p1__9657_SHARP_){return cljs.core.every_QMARK_(p1__9657_SHARP_,
args)}}(and__6144__auto__,ps__$1),ps__$1);else return and__6144__auto__}())};var G__9684=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9685__i=0,G__9685__a=new Array(arguments.length-3);while(G__9685__i<G__9685__a.length){G__9685__a[G__9685__i]=arguments[G__9685__i+3];++G__9685__i}args=new cljs.core.IndexedSeq(G__9685__a,0)}return G__9684__delegate.call(this,x,y,z,args)};G__9684.cljs$lang$maxFixedArity=3;G__9684.cljs$lang$applyTo=function(arglist__9686){var x=cljs.core.first(arglist__9686);
arglist__9686=cljs.core.next(arglist__9686);var y=cljs.core.first(arglist__9686);arglist__9686=cljs.core.next(arglist__9686);var z=cljs.core.first(arglist__9686);var args=cljs.core.rest(arglist__9686);return G__9684__delegate(x,y,z,args)};G__9684.cljs$core$IFn$_invoke$arity$variadic=G__9684__delegate;return G__9684}();cljs$core$epn=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$epn__0.call(this);case 1:return cljs$core$epn__1.call(this,x);case 2:return cljs$core$epn__2.call(this,
x,y);case 3:return cljs$core$epn__3.call(this,x,y,z);default:var G__9687=null;if(arguments.length>3){var G__9688__i=0,G__9688__a=new Array(arguments.length-3);while(G__9688__i<G__9688__a.length){G__9688__a[G__9688__i]=arguments[G__9688__i+3];++G__9688__i}G__9687=new cljs.core.IndexedSeq(G__9688__a,0)}return cljs$core$epn__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9687)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$epn.cljs$lang$maxFixedArity=3;cljs$core$epn.cljs$lang$applyTo=
cljs$core$epn__4.cljs$lang$applyTo;cljs$core$epn.cljs$core$IFn$_invoke$arity$0=cljs$core$epn__0;cljs$core$epn.cljs$core$IFn$_invoke$arity$1=cljs$core$epn__1;cljs$core$epn.cljs$core$IFn$_invoke$arity$2=cljs$core$epn__2;cljs$core$epn.cljs$core$IFn$_invoke$arity$3=cljs$core$epn__3;cljs$core$epn.cljs$core$IFn$_invoke$arity$variadic=cljs$core$epn__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$epn}()}(ps__$1)};
cljs.core.every_pred.cljs$lang$applyTo=function(seq9659){var G__9660=cljs.core.first(seq9659);var seq9659__$1=cljs.core.next(seq9659);var G__9661=cljs.core.first(seq9659__$1);var seq9659__$2=cljs.core.next(seq9659__$1);var G__9662=cljs.core.first(seq9659__$2);var seq9659__$3=cljs.core.next(seq9659__$2);return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(G__9660,G__9661,G__9662,seq9659__$3)};cljs.core.every_pred.cljs$lang$maxFixedArity=3;
cljs.core.some_fn=function cljs$core$some_fn(var_args){var args9695=[];var len__7214__auto___9702=arguments.length;var i__7215__auto___9703=0;while(true){if(i__7215__auto___9703<len__7214__auto___9702){args9695.push(arguments[i__7215__auto___9703]);var G__9704=i__7215__auto___9703+1;i__7215__auto___9703=G__9704;continue}else;break}var G__9701=args9695.length;switch(G__9701){case 1:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9695.slice(3),0);return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1=function(p){return function(){var cljs$core$sp1=null;var cljs$core$sp1__0=function(){return null};var cljs$core$sp1__1=function(x){return p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x)};var cljs$core$sp1__2=function(x,y){var or__6156__auto__=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return p.cljs$core$IFn$_invoke$arity$1?
p.cljs$core$IFn$_invoke$arity$1(y):p.call(null,y)};var cljs$core$sp1__3=function(x,y,z){var or__6156__auto__=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(x):p.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(y):p.call(null,y);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else return p.cljs$core$IFn$_invoke$arity$1?p.cljs$core$IFn$_invoke$arity$1(z):
p.call(null,z)}};var cljs$core$sp1__4=function(){var G__9706__delegate=function(x,y,z,args){var or__6156__auto__=cljs$core$sp1.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.some(p,args)};var G__9706=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9707__i=0,G__9707__a=new Array(arguments.length-3);while(G__9707__i<G__9707__a.length){G__9707__a[G__9707__i]=arguments[G__9707__i+3];++G__9707__i}args=new cljs.core.IndexedSeq(G__9707__a,
0)}return G__9706__delegate.call(this,x,y,z,args)};G__9706.cljs$lang$maxFixedArity=3;G__9706.cljs$lang$applyTo=function(arglist__9708){var x=cljs.core.first(arglist__9708);arglist__9708=cljs.core.next(arglist__9708);var y=cljs.core.first(arglist__9708);arglist__9708=cljs.core.next(arglist__9708);var z=cljs.core.first(arglist__9708);var args=cljs.core.rest(arglist__9708);return G__9706__delegate(x,y,z,args)};G__9706.cljs$core$IFn$_invoke$arity$variadic=G__9706__delegate;return G__9706}();cljs$core$sp1=
function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$sp1__0.call(this);case 1:return cljs$core$sp1__1.call(this,x);case 2:return cljs$core$sp1__2.call(this,x,y);case 3:return cljs$core$sp1__3.call(this,x,y,z);default:var G__9709=null;if(arguments.length>3){var G__9710__i=0,G__9710__a=new Array(arguments.length-3);while(G__9710__i<G__9710__a.length){G__9710__a[G__9710__i]=arguments[G__9710__i+3];++G__9710__i}G__9709=new cljs.core.IndexedSeq(G__9710__a,0)}return cljs$core$sp1__4.cljs$core$IFn$_invoke$arity$variadic(x,
y,z,G__9709)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$sp1.cljs$lang$maxFixedArity=3;cljs$core$sp1.cljs$lang$applyTo=cljs$core$sp1__4.cljs$lang$applyTo;cljs$core$sp1.cljs$core$IFn$_invoke$arity$0=cljs$core$sp1__0;cljs$core$sp1.cljs$core$IFn$_invoke$arity$1=cljs$core$sp1__1;cljs$core$sp1.cljs$core$IFn$_invoke$arity$2=cljs$core$sp1__2;cljs$core$sp1.cljs$core$IFn$_invoke$arity$3=cljs$core$sp1__3;cljs$core$sp1.cljs$core$IFn$_invoke$arity$variadic=cljs$core$sp1__4.cljs$core$IFn$_invoke$arity$variadic;
return cljs$core$sp1}()};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2=function(p1,p2){return function(){var cljs$core$sp2=null;var cljs$core$sp2__0=function(){return null};var cljs$core$sp2__1=function(x){var or__6156__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x)};var cljs$core$sp2__2=function(x,y){var or__6156__auto__=
p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;
else return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y)}}};var cljs$core$sp2__3=function(x,y,z){var or__6156__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=
p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(z):p1.call(null,z);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else{var or__6156__auto____$3=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(or__6156__auto____$3))return or__6156__auto____$3;else{var or__6156__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(or__6156__auto____$4))return or__6156__auto____$4;
else return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(z):p2.call(null,z)}}}}};var cljs$core$sp2__4=function(){var G__9711__delegate=function(x,y,z,args){var or__6156__auto__=cljs$core$sp2.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.some(function(or__6156__auto__){return function(p1__9689_SHARP_){var or__6156__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(p1__9689_SHARP_):
p1.call(null,p1__9689_SHARP_);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else return p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(p1__9689_SHARP_):p2.call(null,p1__9689_SHARP_)}}(or__6156__auto__),args)};var G__9711=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9712__i=0,G__9712__a=new Array(arguments.length-3);while(G__9712__i<G__9712__a.length){G__9712__a[G__9712__i]=arguments[G__9712__i+3];++G__9712__i}args=new cljs.core.IndexedSeq(G__9712__a,
0)}return G__9711__delegate.call(this,x,y,z,args)};G__9711.cljs$lang$maxFixedArity=3;G__9711.cljs$lang$applyTo=function(arglist__9713){var x=cljs.core.first(arglist__9713);arglist__9713=cljs.core.next(arglist__9713);var y=cljs.core.first(arglist__9713);arglist__9713=cljs.core.next(arglist__9713);var z=cljs.core.first(arglist__9713);var args=cljs.core.rest(arglist__9713);return G__9711__delegate(x,y,z,args)};G__9711.cljs$core$IFn$_invoke$arity$variadic=G__9711__delegate;return G__9711}();cljs$core$sp2=
function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$sp2__0.call(this);case 1:return cljs$core$sp2__1.call(this,x);case 2:return cljs$core$sp2__2.call(this,x,y);case 3:return cljs$core$sp2__3.call(this,x,y,z);default:var G__9714=null;if(arguments.length>3){var G__9715__i=0,G__9715__a=new Array(arguments.length-3);while(G__9715__i<G__9715__a.length){G__9715__a[G__9715__i]=arguments[G__9715__i+3];++G__9715__i}G__9714=new cljs.core.IndexedSeq(G__9715__a,0)}return cljs$core$sp2__4.cljs$core$IFn$_invoke$arity$variadic(x,
y,z,G__9714)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$sp2.cljs$lang$maxFixedArity=3;cljs$core$sp2.cljs$lang$applyTo=cljs$core$sp2__4.cljs$lang$applyTo;cljs$core$sp2.cljs$core$IFn$_invoke$arity$0=cljs$core$sp2__0;cljs$core$sp2.cljs$core$IFn$_invoke$arity$1=cljs$core$sp2__1;cljs$core$sp2.cljs$core$IFn$_invoke$arity$2=cljs$core$sp2__2;cljs$core$sp2.cljs$core$IFn$_invoke$arity$3=cljs$core$sp2__3;cljs$core$sp2.cljs$core$IFn$_invoke$arity$variadic=cljs$core$sp2__4.cljs$core$IFn$_invoke$arity$variadic;
return cljs$core$sp2}()};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3=function(p1,p2,p3){return function(){var cljs$core$sp3=null;var cljs$core$sp3__0=function(){return null};var cljs$core$sp3__1=function(x){var or__6156__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else return p3.cljs$core$IFn$_invoke$arity$1?
p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x)}};var cljs$core$sp3__2=function(x,y){var or__6156__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=p3.cljs$core$IFn$_invoke$arity$1?
p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else{var or__6156__auto____$3=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(or__6156__auto____$3))return or__6156__auto____$3;else{var or__6156__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(or__6156__auto____$4))return or__6156__auto____$4;else return p3.cljs$core$IFn$_invoke$arity$1?
p3.cljs$core$IFn$_invoke$arity$1(y):p3.call(null,y)}}}}};var cljs$core$sp3__3=function(x,y,z){var or__6156__auto__=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(x):p1.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(x):p2.call(null,x);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=p3.cljs$core$IFn$_invoke$arity$1?
p3.cljs$core$IFn$_invoke$arity$1(x):p3.call(null,x);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else{var or__6156__auto____$3=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(y):p1.call(null,y);if(cljs.core.truth_(or__6156__auto____$3))return or__6156__auto____$3;else{var or__6156__auto____$4=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(y):p2.call(null,y);if(cljs.core.truth_(or__6156__auto____$4))return or__6156__auto____$4;else{var or__6156__auto____$5=
p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(y):p3.call(null,y);if(cljs.core.truth_(or__6156__auto____$5))return or__6156__auto____$5;else{var or__6156__auto____$6=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(z):p1.call(null,z);if(cljs.core.truth_(or__6156__auto____$6))return or__6156__auto____$6;else{var or__6156__auto____$7=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(z):p2.call(null,z);if(cljs.core.truth_(or__6156__auto____$7))return or__6156__auto____$7;
else return p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(z):p3.call(null,z)}}}}}}}};var cljs$core$sp3__4=function(){var G__9716__delegate=function(x,y,z,args){var or__6156__auto__=cljs$core$sp3.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.some(function(or__6156__auto__){return function(p1__9690_SHARP_){var or__6156__auto____$1=p1.cljs$core$IFn$_invoke$arity$1?p1.cljs$core$IFn$_invoke$arity$1(p1__9690_SHARP_):
p1.call(null,p1__9690_SHARP_);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=p2.cljs$core$IFn$_invoke$arity$1?p2.cljs$core$IFn$_invoke$arity$1(p1__9690_SHARP_):p2.call(null,p1__9690_SHARP_);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else return p3.cljs$core$IFn$_invoke$arity$1?p3.cljs$core$IFn$_invoke$arity$1(p1__9690_SHARP_):p3.call(null,p1__9690_SHARP_)}}}(or__6156__auto__),args)};var G__9716=function(x,y,z,var_args){var args=
null;if(arguments.length>3){var G__9717__i=0,G__9717__a=new Array(arguments.length-3);while(G__9717__i<G__9717__a.length){G__9717__a[G__9717__i]=arguments[G__9717__i+3];++G__9717__i}args=new cljs.core.IndexedSeq(G__9717__a,0)}return G__9716__delegate.call(this,x,y,z,args)};G__9716.cljs$lang$maxFixedArity=3;G__9716.cljs$lang$applyTo=function(arglist__9718){var x=cljs.core.first(arglist__9718);arglist__9718=cljs.core.next(arglist__9718);var y=cljs.core.first(arglist__9718);arglist__9718=cljs.core.next(arglist__9718);
var z=cljs.core.first(arglist__9718);var args=cljs.core.rest(arglist__9718);return G__9716__delegate(x,y,z,args)};G__9716.cljs$core$IFn$_invoke$arity$variadic=G__9716__delegate;return G__9716}();cljs$core$sp3=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$sp3__0.call(this);case 1:return cljs$core$sp3__1.call(this,x);case 2:return cljs$core$sp3__2.call(this,x,y);case 3:return cljs$core$sp3__3.call(this,x,y,z);default:var G__9719=null;if(arguments.length>
3){var G__9720__i=0,G__9720__a=new Array(arguments.length-3);while(G__9720__i<G__9720__a.length){G__9720__a[G__9720__i]=arguments[G__9720__i+3];++G__9720__i}G__9719=new cljs.core.IndexedSeq(G__9720__a,0)}return cljs$core$sp3__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9719)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$sp3.cljs$lang$maxFixedArity=3;cljs$core$sp3.cljs$lang$applyTo=cljs$core$sp3__4.cljs$lang$applyTo;cljs$core$sp3.cljs$core$IFn$_invoke$arity$0=cljs$core$sp3__0;
cljs$core$sp3.cljs$core$IFn$_invoke$arity$1=cljs$core$sp3__1;cljs$core$sp3.cljs$core$IFn$_invoke$arity$2=cljs$core$sp3__2;cljs$core$sp3.cljs$core$IFn$_invoke$arity$3=cljs$core$sp3__3;cljs$core$sp3.cljs$core$IFn$_invoke$arity$variadic=cljs$core$sp3__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$sp3}()};
cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic=function(p1,p2,p3,ps){var ps__$1=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(p1,p2,p3,ps);return function(ps__$1){return function(){var cljs$core$spn=null;var cljs$core$spn__0=function(){return null};var cljs$core$spn__1=function(x){return cljs.core.some(function(ps__$1){return function(p1__9691_SHARP_){return p1__9691_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9691_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9691_SHARP_.call(null,x)}}(ps__$1),
ps__$1)};var cljs$core$spn__2=function(x,y){return cljs.core.some(function(ps__$1){return function(p1__9692_SHARP_){var or__6156__auto__=p1__9692_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9692_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9692_SHARP_.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return p1__9692_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9692_SHARP_.cljs$core$IFn$_invoke$arity$1(y):p1__9692_SHARP_.call(null,y)}}(ps__$1),ps__$1)};var cljs$core$spn__3=function(x,
y,z){return cljs.core.some(function(ps__$1){return function(p1__9693_SHARP_){var or__6156__auto__=p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p1__9693_SHARP_.call(null,x);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1(y):p1__9693_SHARP_.call(null,y);if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;
else return p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1?p1__9693_SHARP_.cljs$core$IFn$_invoke$arity$1(z):p1__9693_SHARP_.call(null,z)}}}(ps__$1),ps__$1)};var cljs$core$spn__4=function(){var G__9721__delegate=function(x,y,z,args){var or__6156__auto__=cljs$core$spn.cljs$core$IFn$_invoke$arity$3(x,y,z);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.some(function(or__6156__auto__,ps__$1){return function(p1__9694_SHARP_){return cljs.core.some(p1__9694_SHARP_,args)}}(or__6156__auto__,
ps__$1),ps__$1)};var G__9721=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__9722__i=0,G__9722__a=new Array(arguments.length-3);while(G__9722__i<G__9722__a.length){G__9722__a[G__9722__i]=arguments[G__9722__i+3];++G__9722__i}args=new cljs.core.IndexedSeq(G__9722__a,0)}return G__9721__delegate.call(this,x,y,z,args)};G__9721.cljs$lang$maxFixedArity=3;G__9721.cljs$lang$applyTo=function(arglist__9723){var x=cljs.core.first(arglist__9723);arglist__9723=cljs.core.next(arglist__9723);
var y=cljs.core.first(arglist__9723);arglist__9723=cljs.core.next(arglist__9723);var z=cljs.core.first(arglist__9723);var args=cljs.core.rest(arglist__9723);return G__9721__delegate(x,y,z,args)};G__9721.cljs$core$IFn$_invoke$arity$variadic=G__9721__delegate;return G__9721}();cljs$core$spn=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return cljs$core$spn__0.call(this);case 1:return cljs$core$spn__1.call(this,x);case 2:return cljs$core$spn__2.call(this,x,y);case 3:return cljs$core$spn__3.call(this,
x,y,z);default:var G__9724=null;if(arguments.length>3){var G__9725__i=0,G__9725__a=new Array(arguments.length-3);while(G__9725__i<G__9725__a.length){G__9725__a[G__9725__i]=arguments[G__9725__i+3];++G__9725__i}G__9724=new cljs.core.IndexedSeq(G__9725__a,0)}return cljs$core$spn__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__9724)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$spn.cljs$lang$maxFixedArity=3;cljs$core$spn.cljs$lang$applyTo=cljs$core$spn__4.cljs$lang$applyTo;cljs$core$spn.cljs$core$IFn$_invoke$arity$0=
cljs$core$spn__0;cljs$core$spn.cljs$core$IFn$_invoke$arity$1=cljs$core$spn__1;cljs$core$spn.cljs$core$IFn$_invoke$arity$2=cljs$core$spn__2;cljs$core$spn.cljs$core$IFn$_invoke$arity$3=cljs$core$spn__3;cljs$core$spn.cljs$core$IFn$_invoke$arity$variadic=cljs$core$spn__4.cljs$core$IFn$_invoke$arity$variadic;return cljs$core$spn}()}(ps__$1)};
cljs.core.some_fn.cljs$lang$applyTo=function(seq9696){var G__9697=cljs.core.first(seq9696);var seq9696__$1=cljs.core.next(seq9696);var G__9698=cljs.core.first(seq9696__$1);var seq9696__$2=cljs.core.next(seq9696__$1);var G__9699=cljs.core.first(seq9696__$2);var seq9696__$3=cljs.core.next(seq9696__$2);return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(G__9697,G__9698,G__9699,seq9696__$3)};cljs.core.some_fn.cljs$lang$maxFixedArity=3;
cljs.core.map=function cljs$core$map(var_args){var args9727=[];var len__7214__auto___9747=arguments.length;var i__7215__auto___9748=0;while(true){if(i__7215__auto___9748<len__7214__auto___9747){args9727.push(arguments[i__7215__auto___9748]);var G__9749=i__7215__auto___9748+1;i__7215__auto___9748=G__9749;continue}else;break}var G__9734=args9727.length;switch(G__9734){case 1:return cljs.core.map.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.map.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.map.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.map.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9727.slice(4),0);return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],argseq__7233__auto__)}};
cljs.core.map.cljs$core$IFn$_invoke$arity$1=function(f){return function(rf){return function(){var G__9751=null;var G__9751__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9751__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9751__2=function(result,input){var G__9735=result;var G__9736=f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(input):
f.call(null,input);return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(G__9735,G__9736):rf.call(null,G__9735,G__9736)};var G__9751__3=function(){var G__9752__delegate=function(result,input,inputs){var G__9737=result;var G__9738=cljs.core.apply.cljs$core$IFn$_invoke$arity$3(f,input,inputs);return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(G__9737,G__9738):rf.call(null,G__9737,G__9738)};var G__9752=function(result,input,var_args){var inputs=null;if(arguments.length>
2){var G__9753__i=0,G__9753__a=new Array(arguments.length-2);while(G__9753__i<G__9753__a.length){G__9753__a[G__9753__i]=arguments[G__9753__i+2];++G__9753__i}inputs=new cljs.core.IndexedSeq(G__9753__a,0)}return G__9752__delegate.call(this,result,input,inputs)};G__9752.cljs$lang$maxFixedArity=2;G__9752.cljs$lang$applyTo=function(arglist__9754){var result=cljs.core.first(arglist__9754);arglist__9754=cljs.core.next(arglist__9754);var input=cljs.core.first(arglist__9754);var inputs=cljs.core.rest(arglist__9754);
return G__9752__delegate(result,input,inputs)};G__9752.cljs$core$IFn$_invoke$arity$variadic=G__9752__delegate;return G__9752}();G__9751=function(result,input,var_args){var inputs=var_args;switch(arguments.length){case 0:return G__9751__0.call(this);case 1:return G__9751__1.call(this,result);case 2:return G__9751__2.call(this,result,input);default:var G__9755=null;if(arguments.length>2){var G__9756__i=0,G__9756__a=new Array(arguments.length-2);while(G__9756__i<G__9756__a.length){G__9756__a[G__9756__i]=
arguments[G__9756__i+2];++G__9756__i}G__9755=new cljs.core.IndexedSeq(G__9756__a,0)}return G__9751__3.cljs$core$IFn$_invoke$arity$variadic(result,input,G__9755)}throw new Error("Invalid arity: "+arguments.length);};G__9751.cljs$lang$maxFixedArity=2;G__9751.cljs$lang$applyTo=G__9751__3.cljs$lang$applyTo;G__9751.cljs$core$IFn$_invoke$arity$0=G__9751__0;G__9751.cljs$core$IFn$_invoke$arity$1=G__9751__1;G__9751.cljs$core$IFn$_invoke$arity$2=G__9751__2;G__9751.cljs$core$IFn$_invoke$arity$variadic=G__9751__3.cljs$core$IFn$_invoke$arity$variadic;
return G__9751}()}};
cljs.core.map.cljs$core$IFn$_invoke$arity$2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s)){var c=cljs.core.chunk_first(s);var size=cljs.core.count(c);var b=cljs.core.chunk_buffer(size);var n__7059__auto___9757=size;var i_9758=0;while(true){if(i_9758<n__7059__auto___9757){cljs.core.chunk_append(b,function(){var G__9739=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9758);
return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9739):f.call(null,G__9739)}());var G__9759=i_9758+1;i_9758=G__9759;continue}else;break}return cljs.core.chunk_cons(cljs.core.chunk(b),cljs.core.map.cljs$core$IFn$_invoke$arity$2(f,cljs.core.chunk_rest(s)))}else return cljs.core.cons(function(){var G__9740=cljs.core.first(s);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9740):f.call(null,G__9740)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$2(f,cljs.core.rest(s)))}else return null},
null,null)};
cljs.core.map.cljs$core$IFn$_invoke$arity$3=function(f,c1,c2){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq(c1);var s2=cljs.core.seq(c2);if(s1&&s2)return cljs.core.cons(function(){var G__9741=cljs.core.first(s1);var G__9742=cljs.core.first(s2);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9741,G__9742):f.call(null,G__9741,G__9742)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$3(f,cljs.core.rest(s1),cljs.core.rest(s2)));else return null},null,null)};
cljs.core.map.cljs$core$IFn$_invoke$arity$4=function(f,c1,c2,c3){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq(c1);var s2=cljs.core.seq(c2);var s3=cljs.core.seq(c3);if(s1&&s2&&s3)return cljs.core.cons(function(){var G__9743=cljs.core.first(s1);var G__9744=cljs.core.first(s2);var G__9745=cljs.core.first(s3);return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9743,G__9744,G__9745):f.call(null,G__9743,G__9744,G__9745)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$4(f,
cljs.core.rest(s1),cljs.core.rest(s2),cljs.core.rest(s3)));else return null},null,null)};
cljs.core.map.cljs$core$IFn$_invoke$arity$variadic=function(f,c1,c2,c3,colls){var step=function cljs$core$step(cs){return new cljs.core.LazySeq(null,function(){var ss=cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq,cs);if(cljs.core.every_QMARK_(cljs.core.identity,ss))return cljs.core.cons(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,ss),cljs$core$step(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest,ss)));else return null},null,null)};return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(step){return function(p1__9726_SHARP_){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f,
p1__9726_SHARP_)}}(step),step(cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(colls,c3,cljs.core.array_seq([c2,c1],0))))};
cljs.core.map.cljs$lang$applyTo=function(seq9728){var G__9729=cljs.core.first(seq9728);var seq9728__$1=cljs.core.next(seq9728);var G__9730=cljs.core.first(seq9728__$1);var seq9728__$2=cljs.core.next(seq9728__$1);var G__9731=cljs.core.first(seq9728__$2);var seq9728__$3=cljs.core.next(seq9728__$2);var G__9732=cljs.core.first(seq9728__$3);var seq9728__$4=cljs.core.next(seq9728__$3);return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(G__9729,G__9730,G__9731,G__9732,seq9728__$4)};
cljs.core.map.cljs$lang$maxFixedArity=4;
cljs.core.take=function cljs$core$take(var_args){var args9760=[];var len__7214__auto___9765=arguments.length;var i__7215__auto___9766=0;while(true){if(i__7215__auto___9766<len__7214__auto___9765){args9760.push(arguments[i__7215__auto___9766]);var G__9767=i__7215__auto___9766+1;i__7215__auto___9766=G__9767;continue}else;break}var G__9762=args9760.length;switch(G__9762){case 1:return cljs.core.take.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.take.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9760.length)].join(""));}};
cljs.core.take.cljs$core$IFn$_invoke$arity$1=function(n){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__9763=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9763):cljs.core.pr_str.call(null,G__9763)}())].join(""));return function(rf){var na=cljs.core.volatile_BANG_(n);
return function(na){return function(){var G__9769=null;var G__9769__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9769__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9769__2=function(result,input){var n__$1=cljs.core.deref(na);var nn=cljs.core._vreset_BANG_(na,cljs.core._deref(na)-1);var result__$1=n__$1>0?rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,
input):rf.call(null,result,input):result;if(!(nn>0))return cljs.core.ensure_reduced(result__$1);else return result__$1};G__9769=function(result,input){switch(arguments.length){case 0:return G__9769__0.call(this);case 1:return G__9769__1.call(this,result);case 2:return G__9769__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9769.cljs$core$IFn$_invoke$arity$0=G__9769__0;G__9769.cljs$core$IFn$_invoke$arity$1=G__9769__1;G__9769.cljs$core$IFn$_invoke$arity$2=G__9769__2;
return G__9769}()}(na)}};
cljs.core.take.cljs$core$IFn$_invoke$arity$2=function(n,coll){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__9764=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9764):cljs.core.pr_str.call(null,G__9764)}())].join(""));return new cljs.core.LazySeq(null,function(){if(n>
0){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;return cljs.core.cons(cljs.core.first(s),cljs.core.take.cljs$core$IFn$_invoke$arity$2(n-1,cljs.core.rest(s)))}else return null}else return null},null,null)};cljs.core.take.cljs$lang$maxFixedArity=2;
cljs.core.drop=function cljs$core$drop(var_args){var args9770=[];var len__7214__auto___9775=arguments.length;var i__7215__auto___9776=0;while(true){if(i__7215__auto___9776<len__7214__auto___9775){args9770.push(arguments[i__7215__auto___9776]);var G__9777=i__7215__auto___9776+1;i__7215__auto___9776=G__9777;continue}else;break}var G__9772=args9770.length;switch(G__9772){case 1:return cljs.core.drop.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9770.length)].join(""));}};
cljs.core.drop.cljs$core$IFn$_invoke$arity$1=function(n){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__9773=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9773):cljs.core.pr_str.call(null,G__9773)}())].join(""));return function(rf){var na=cljs.core.volatile_BANG_(n);
return function(na){return function(){var G__9779=null;var G__9779__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9779__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9779__2=function(result,input){var n__$1=cljs.core.deref(na);cljs.core._vreset_BANG_(na,cljs.core._deref(na)-1);if(n__$1>0)return result;else return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,
input):rf.call(null,result,input)};G__9779=function(result,input){switch(arguments.length){case 0:return G__9779__0.call(this);case 1:return G__9779__1.call(this,result);case 2:return G__9779__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9779.cljs$core$IFn$_invoke$arity$0=G__9779__0;G__9779.cljs$core$IFn$_invoke$arity$1=G__9779__1;G__9779.cljs$core$IFn$_invoke$arity$2=G__9779__2;return G__9779}()}(na)}};
cljs.core.drop.cljs$core$IFn$_invoke$arity$2=function(n,coll){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__9774=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__9774):cljs.core.pr_str.call(null,G__9774)}())].join(""));var step=function(n__$1,coll__$1){while(true){var s=
cljs.core.seq(coll__$1);if(n__$1>0&&s){var G__9780=n__$1-1;var G__9781=cljs.core.rest(s);n__$1=G__9780;coll__$1=G__9781;continue}else return s;break}};return new cljs.core.LazySeq(null,function(step){return function(){return step(n,coll)}}(step),null,null)};cljs.core.drop.cljs$lang$maxFixedArity=2;
cljs.core.drop_last=function cljs$core$drop_last(var_args){var args9782=[];var len__7214__auto___9785=arguments.length;var i__7215__auto___9786=0;while(true){if(i__7215__auto___9786<len__7214__auto___9785){args9782.push(arguments[i__7215__auto___9786]);var G__9787=i__7215__auto___9786+1;i__7215__auto___9786=G__9787;continue}else;break}var G__9784=args9782.length;switch(G__9784){case 1:return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9782.length)].join(""));}};cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1=function(s){return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(1,s)};cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2=function(n,s){return cljs.core.map.cljs$core$IFn$_invoke$arity$3(function(x,_){return x},s,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n,s))};cljs.core.drop_last.cljs$lang$maxFixedArity=2;
cljs.core.take_last=function cljs$core$take_last(n,coll){var s=cljs.core.seq(coll);var lead=cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n,coll));while(true){if(lead){var G__9789=cljs.core.next(s);var G__9790=cljs.core.next(lead);s=G__9789;lead=G__9790;continue}else return s;break}};
cljs.core.drop_while=function cljs$core$drop_while(var_args){var args9791=[];var len__7214__auto___9796=arguments.length;var i__7215__auto___9797=0;while(true){if(i__7215__auto___9797<len__7214__auto___9796){args9791.push(arguments[i__7215__auto___9797]);var G__9798=i__7215__auto___9797+1;i__7215__auto___9797=G__9798;continue}else;break}var G__9793=args9791.length;switch(G__9793){case 1:return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9791.length)].join(""));}};
cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1=function(pred){return function(rf){var da=cljs.core.volatile_BANG_(true);return function(da){return function(){var G__9800=null;var G__9800__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9800__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9800__2=function(result,input){var drop_QMARK_=cljs.core.deref(da);
if(cljs.core.truth_(function(){var and__6144__auto__=drop_QMARK_;if(cljs.core.truth_(and__6144__auto__))return pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(input):pred.call(null,input);else return and__6144__auto__}()))return result;else{cljs.core.vreset_BANG_(da,null);return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input)}};G__9800=function(result,input){switch(arguments.length){case 0:return G__9800__0.call(this);
case 1:return G__9800__1.call(this,result);case 2:return G__9800__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9800.cljs$core$IFn$_invoke$arity$0=G__9800__0;G__9800.cljs$core$IFn$_invoke$arity$1=G__9800__1;G__9800.cljs$core$IFn$_invoke$arity$2=G__9800__2;return G__9800}()}(da)}};
cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2=function(pred,coll){var step=function(pred__$1,coll__$1){while(true){var s=cljs.core.seq(coll__$1);if(cljs.core.truth_(function(){var and__6144__auto__=s;if(and__6144__auto__){var G__9795=cljs.core.first(s);return pred__$1.cljs$core$IFn$_invoke$arity$1?pred__$1.cljs$core$IFn$_invoke$arity$1(G__9795):pred__$1.call(null,G__9795)}else return and__6144__auto__}())){var G__9801=pred__$1;var G__9802=cljs.core.rest(s);pred__$1=G__9801;coll__$1=G__9802;continue}else return s;
break}};return new cljs.core.LazySeq(null,function(step){return function(){return step(pred,coll)}}(step),null,null)};cljs.core.drop_while.cljs$lang$maxFixedArity=2;cljs.core.cycle=function cljs$core$cycle(coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(s,cljs$core$cycle(s))}else return null},null,null)};
cljs.core.split_at=function cljs$core$split_at(n,coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,coll),cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n,coll)],null)};
cljs.core.repeat=function cljs$core$repeat(var_args){var args9803=[];var len__7214__auto___9806=arguments.length;var i__7215__auto___9807=0;while(true){if(i__7215__auto___9807<len__7214__auto___9806){args9803.push(arguments[i__7215__auto___9807]);var G__9808=i__7215__auto___9807+1;i__7215__auto___9807=G__9808;continue}else;break}var G__9805=args9803.length;switch(G__9805){case 1:return cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9803.length)].join(""));}};cljs.core.repeat.cljs$core$IFn$_invoke$arity$1=function(x){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(x,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x))},null,null)};cljs.core.repeat.cljs$core$IFn$_invoke$arity$2=function(n,x){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x))};
cljs.core.repeat.cljs$lang$maxFixedArity=2;cljs.core.replicate=function cljs$core$replicate(n,x){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(x))};
cljs.core.repeatedly=function cljs$core$repeatedly(var_args){var args9810=[];var len__7214__auto___9813=arguments.length;var i__7215__auto___9814=0;while(true){if(i__7215__auto___9814<len__7214__auto___9813){args9810.push(arguments[i__7215__auto___9814]);var G__9815=i__7215__auto___9814+1;i__7215__auto___9814=G__9815;continue}else;break}var G__9812=args9810.length;switch(G__9812){case 1:return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9810.length)].join(""));}};cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1=function(f){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null),cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(f))},null,null)};
cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2=function(n,f){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(f))};cljs.core.repeatedly.cljs$lang$maxFixedArity=2;cljs.core.iterate=function cljs$core$iterate(f,x){return cljs.core.cons(x,new cljs.core.LazySeq(null,function(){return cljs$core$iterate(f,f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x))},null,null))};
cljs.core.interleave=function cljs$core$interleave(var_args){var args9819=[];var len__7214__auto___9825=arguments.length;var i__7215__auto___9826=0;while(true){if(i__7215__auto___9826<len__7214__auto___9825){args9819.push(arguments[i__7215__auto___9826]);var G__9827=i__7215__auto___9826+1;i__7215__auto___9826=G__9827;continue}else;break}var G__9824=args9819.length;switch(G__9824){case 2:return cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args9819.slice(2),0);return cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};
cljs.core.interleave.cljs$core$IFn$_invoke$arity$2=function(c1,c2){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq(c1);var s2=cljs.core.seq(c2);if(s1&&s2)return cljs.core.cons(cljs.core.first(s1),cljs.core.cons(cljs.core.first(s2),cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(s1),cljs.core.rest(s2))));else return null},null,null)};
cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic=function(c1,c2,colls){return new cljs.core.LazySeq(null,function(){var ss=cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq,cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(colls,c2,cljs.core.array_seq([c1],0)));if(cljs.core.every_QMARK_(cljs.core.identity,ss))return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,ss),cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.interleave,
cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest,ss)));else return null},null,null)};cljs.core.interleave.cljs$lang$applyTo=function(seq9820){var G__9821=cljs.core.first(seq9820);var seq9820__$1=cljs.core.next(seq9820);var G__9822=cljs.core.first(seq9820__$1);var seq9820__$2=cljs.core.next(seq9820__$1);return cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(G__9821,G__9822,seq9820__$2)};cljs.core.interleave.cljs$lang$maxFixedArity=2;
cljs.core.interpose=function cljs$core$interpose(var_args){var args9829=[];var len__7214__auto___9832=arguments.length;var i__7215__auto___9833=0;while(true){if(i__7215__auto___9833<len__7214__auto___9832){args9829.push(arguments[i__7215__auto___9833]);var G__9834=i__7215__auto___9833+1;i__7215__auto___9833=G__9834;continue}else;break}var G__9831=args9829.length;switch(G__9831){case 1:return cljs.core.interpose.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9829.length)].join(""));}};
cljs.core.interpose.cljs$core$IFn$_invoke$arity$1=function(sep){return function(rf){var started=cljs.core.volatile_BANG_(false);return function(started){return function(){var G__9836=null;var G__9836__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9836__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9836__2=function(result,input){if(cljs.core.truth_(cljs.core.deref(started))){var sepr=
rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,sep):rf.call(null,result,sep);if(cljs.core.reduced_QMARK_(sepr))return sepr;else return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(sepr,input):rf.call(null,sepr,input)}else{cljs.core.vreset_BANG_(started,true);return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input)}};G__9836=function(result,input){switch(arguments.length){case 0:return G__9836__0.call(this);
case 1:return G__9836__1.call(this,result);case 2:return G__9836__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9836.cljs$core$IFn$_invoke$arity$0=G__9836__0;G__9836.cljs$core$IFn$_invoke$arity$1=G__9836__1;G__9836.cljs$core$IFn$_invoke$arity$2=G__9836__2;return G__9836}()}(started)}};
cljs.core.interpose.cljs$core$IFn$_invoke$arity$2=function(sep,coll){return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(1,cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(sep),coll))};cljs.core.interpose.cljs$lang$maxFixedArity=2;
cljs.core.flatten1=function cljs$core$flatten1(colls){var cat=function cljs$core$flatten1_$_cat(coll,colls__$1){return new cljs.core.LazySeq(null,function(){var temp__4655__auto__=cljs.core.seq(coll);if(temp__4655__auto__){var coll__$1=temp__4655__auto__;return cljs.core.cons(cljs.core.first(coll__$1),cljs$core$flatten1_$_cat(cljs.core.rest(coll__$1),colls__$1))}else if(cljs.core.seq(colls__$1))return cljs$core$flatten1_$_cat(cljs.core.first(colls__$1),cljs.core.rest(colls__$1));else return null},
null,null)};return cat(null,colls)};
cljs.core.mapcat=function cljs$core$mapcat(var_args){var args9845=[];var len__7214__auto___9850=arguments.length;var i__7215__auto___9851=0;while(true){if(i__7215__auto___9851<len__7214__auto___9850){args9845.push(arguments[i__7215__auto___9851]);var G__9852=i__7215__auto___9851+1;i__7215__auto___9851=G__9852;continue}else;break}var G__9849=args9845.length;switch(G__9849){case 1:return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9845.slice(1),
0);return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7233__auto__)}};cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1=function(f){return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$1(f),cljs.core.cat)};cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic=function(f,colls){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.concat,cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.map,f,colls))};
cljs.core.mapcat.cljs$lang$applyTo=function(seq9846){var G__9847=cljs.core.first(seq9846);var seq9846__$1=cljs.core.next(seq9846);return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(G__9847,seq9846__$1)};cljs.core.mapcat.cljs$lang$maxFixedArity=1;
cljs.core.filter=function cljs$core$filter(var_args){var args9854=[];var len__7214__auto___9858=arguments.length;var i__7215__auto___9859=0;while(true){if(i__7215__auto___9859<len__7214__auto___9858){args9854.push(arguments[i__7215__auto___9859]);var G__9860=i__7215__auto___9859+1;i__7215__auto___9859=G__9860;continue}else;break}var G__9856=args9854.length;switch(G__9856){case 1:return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9854.length)].join(""));}};
cljs.core.filter.cljs$core$IFn$_invoke$arity$1=function(pred){return function(rf){return function(){var G__9862=null;var G__9862__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__9862__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__9862__2=function(result,input){if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(input):
pred.call(null,input)))return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input);else return result};G__9862=function(result,input){switch(arguments.length){case 0:return G__9862__0.call(this);case 1:return G__9862__1.call(this,result);case 2:return G__9862__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__9862.cljs$core$IFn$_invoke$arity$0=G__9862__0;G__9862.cljs$core$IFn$_invoke$arity$1=G__9862__1;G__9862.cljs$core$IFn$_invoke$arity$2=
G__9862__2;return G__9862}()}};
cljs.core.filter.cljs$core$IFn$_invoke$arity$2=function(pred,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s)){var c=cljs.core.chunk_first(s);var size=cljs.core.count(c);var b=cljs.core.chunk_buffer(size);var n__7059__auto___9863=size;var i_9864=0;while(true){if(i_9864<n__7059__auto___9863){if(cljs.core.truth_(function(){var G__9857=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9864);
return pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(G__9857):pred.call(null,G__9857)}()))cljs.core.chunk_append(b,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,i_9864));else;var G__9865=i_9864+1;i_9864=G__9865;continue}else;break}return cljs.core.chunk_cons(cljs.core.chunk(b),cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred,cljs.core.chunk_rest(s)))}else{var f=cljs.core.first(s);var r=cljs.core.rest(s);if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(f):
pred.call(null,f)))return cljs.core.cons(f,cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred,r));else return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(pred,r)}}else return null},null,null)};cljs.core.filter.cljs$lang$maxFixedArity=2;
cljs.core.remove=function cljs$core$remove(var_args){var args9866=[];var len__7214__auto___9869=arguments.length;var i__7215__auto___9870=0;while(true){if(i__7215__auto___9870<len__7214__auto___9869){args9866.push(arguments[i__7215__auto___9870]);var G__9871=i__7215__auto___9870+1;i__7215__auto___9870=G__9871;continue}else;break}var G__9868=args9866.length;switch(G__9868){case 1:return cljs.core.remove.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.remove.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9866.length)].join(""));}};cljs.core.remove.cljs$core$IFn$_invoke$arity$1=function(pred){return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(cljs.core.complement(pred))};cljs.core.remove.cljs$core$IFn$_invoke$arity$2=function(pred,coll){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(cljs.core.complement(pred),coll)};cljs.core.remove.cljs$lang$maxFixedArity=2;
cljs.core.tree_seq=function cljs$core$tree_seq(branch_QMARK_,children,root){var walk=function cljs$core$tree_seq_$_walk(node){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(node,cljs.core.truth_(branch_QMARK_.cljs$core$IFn$_invoke$arity$1?branch_QMARK_.cljs$core$IFn$_invoke$arity$1(node):branch_QMARK_.call(null,node))?cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(cljs$core$tree_seq_$_walk,cljs.core.array_seq([children.cljs$core$IFn$_invoke$arity$1?children.cljs$core$IFn$_invoke$arity$1(node):
children.call(null,node)],0)):null)},null,null)};return walk(root)};cljs.core.flatten=function cljs$core$flatten(x){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(p1__9873_SHARP_){return!cljs.core.sequential_QMARK_(p1__9873_SHARP_)},cljs.core.rest(cljs.core.tree_seq(cljs.core.sequential_QMARK_,cljs.core.seq,x)))};
cljs.core.into=function cljs$core$into(var_args){var args9874=[];var len__7214__auto___9879=arguments.length;var i__7215__auto___9880=0;while(true){if(i__7215__auto___9880<len__7214__auto___9879){args9874.push(arguments[i__7215__auto___9880]);var G__9881=i__7215__auto___9880+1;i__7215__auto___9880=G__9881;continue}else;break}var G__9876=args9874.length;switch(G__9876){case 2:return cljs.core.into.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.into.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9874.length)].join(""));}};
cljs.core.into.cljs$core$IFn$_invoke$arity$2=function(to,from){if(!(to==null))if(!(to==null)?to.cljs$lang$protocol_mask$partition1$&4||to.cljs$core$IEditableCollection$?true:false:false)return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_,cljs.core.transient$(to),from)),cljs.core.meta(to));else return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,to,from);else return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,
cljs.core.List.EMPTY,from)};cljs.core.into.cljs$core$IFn$_invoke$arity$3=function(to,xform,from){if(!(to==null)?to.cljs$lang$protocol_mask$partition1$&4||to.cljs$core$IEditableCollection$?true:false:false)return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform,cljs.core.conj_BANG_,cljs.core.transient$(to),from)),cljs.core.meta(to));else return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(xform,cljs.core.conj,to,from)};
cljs.core.into.cljs$lang$maxFixedArity=3;
cljs.core.mapv=function cljs$core$mapv(var_args){var args9883=[];var len__7214__auto___9891=arguments.length;var i__7215__auto___9892=0;while(true){if(i__7215__auto___9892<len__7214__auto___9891){args9883.push(arguments[i__7215__auto___9892]);var G__9893=i__7215__auto___9892+1;i__7215__auto___9892=G__9893;continue}else;break}var G__9890=args9883.length;switch(G__9890){case 2:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9883.slice(4),0);return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],argseq__7233__auto__)}};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$2=function(f,coll){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(v,o){return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(v,f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(o):f.call(null,o))},cljs.core.transient$(cljs.core.PersistentVector.EMPTY),coll))};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$3=function(f,c1,c2){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$3(f,c1,c2))};cljs.core.mapv.cljs$core$IFn$_invoke$arity$4=function(f,c1,c2,c3){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$4(f,c1,c2,c3))};
cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic=function(f,c1,c2,c3,colls){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.map,f,c1,c2,c3,cljs.core.array_seq([colls],0)))};
cljs.core.mapv.cljs$lang$applyTo=function(seq9884){var G__9885=cljs.core.first(seq9884);var seq9884__$1=cljs.core.next(seq9884);var G__9886=cljs.core.first(seq9884__$1);var seq9884__$2=cljs.core.next(seq9884__$1);var G__9887=cljs.core.first(seq9884__$2);var seq9884__$3=cljs.core.next(seq9884__$2);var G__9888=cljs.core.first(seq9884__$3);var seq9884__$4=cljs.core.next(seq9884__$3);return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(G__9885,G__9886,G__9887,G__9888,seq9884__$4)};
cljs.core.mapv.cljs$lang$maxFixedArity=4;cljs.core.filterv=function cljs$core$filterv(pred,coll){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(v,o){if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(o):pred.call(null,o)))return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(v,o);else return v},cljs.core.transient$(cljs.core.PersistentVector.EMPTY),coll))};
cljs.core.partition=function cljs$core$partition(var_args){var args9895=[];var len__7214__auto___9898=arguments.length;var i__7215__auto___9899=0;while(true){if(i__7215__auto___9899<len__7214__auto___9898){args9895.push(arguments[i__7215__auto___9899]);var G__9900=i__7215__auto___9899+1;i__7215__auto___9899=G__9900;continue}else;break}var G__9897=args9895.length;switch(G__9897){case 2:return cljs.core.partition.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.partition.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9895.length)].join(""));}};cljs.core.partition.cljs$core$IFn$_invoke$arity$2=function(n,coll){return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(n,n,coll)};
cljs.core.partition.cljs$core$IFn$_invoke$arity$3=function(n,step,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;var p=cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,s);if(n===cljs.core.count(p))return cljs.core.cons(p,cljs.core.partition.cljs$core$IFn$_invoke$arity$3(n,step,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step,s)));else return null}else return null},null,null)};
cljs.core.partition.cljs$core$IFn$_invoke$arity$4=function(n,step,pad,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;var p=cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,s);if(n===cljs.core.count(p))return cljs.core.cons(p,cljs.core.partition.cljs$core$IFn$_invoke$arity$4(n,step,pad,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step,s)));else return cljs.core._conj(cljs.core.List.EMPTY,cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,
cljs.core.concat.cljs$core$IFn$_invoke$arity$2(p,pad)))}else return null},null,null)};cljs.core.partition.cljs$lang$maxFixedArity=4;
cljs.core.get_in=function cljs$core$get_in(var_args){var args9902=[];var len__7214__auto___9906=arguments.length;var i__7215__auto___9907=0;while(true){if(i__7215__auto___9907<len__7214__auto___9906){args9902.push(arguments[i__7215__auto___9907]);var G__9908=i__7215__auto___9907+1;i__7215__auto___9907=G__9908;continue}else;break}var G__9904=args9902.length;switch(G__9904){case 2:return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args9902.length)].join(""));}};cljs.core.get_in.cljs$core$IFn$_invoke$arity$2=function(m,ks){return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(m,ks,null)};
cljs.core.get_in.cljs$core$IFn$_invoke$arity$3=function(m,ks,not_found){var sentinel=cljs.core.lookup_sentinel;var m__$1=m;var ks__$1=cljs.core.seq(ks);while(true){if(ks__$1)if(!(!(m__$1==null)?m__$1.cljs$lang$protocol_mask$partition0$&256||m__$1.cljs$core$ILookup$?true:!m__$1.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,m__$1):false:cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,m__$1)))return not_found;else{var m__$2=cljs.core.get.cljs$core$IFn$_invoke$arity$3(m__$1,
cljs.core.first(ks__$1),sentinel);if(sentinel===m__$2)return not_found;else{var G__9910=sentinel;var G__9911=m__$2;var G__9912=cljs.core.next(ks__$1);sentinel=G__9910;m__$1=G__9911;ks__$1=G__9912;continue}}else return m__$1;break}};cljs.core.get_in.cljs$lang$maxFixedArity=3;
cljs.core.assoc_in=function cljs$core$assoc_in(m,p__9913,v){var vec__9918=p__9913;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9918,0,null);var ks=cljs.core.nthnext(vec__9918,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs$core$assoc_in(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,v));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,v)};
cljs.core.update_in=function cljs$core$update_in(var_args){var args9919=[];var len__7214__auto___9949=arguments.length;var i__7215__auto___9950=0;while(true){if(i__7215__auto___9950<len__7214__auto___9949){args9919.push(arguments[i__7215__auto___9950]);var G__9951=i__7215__auto___9950+1;i__7215__auto___9950=G__9951;continue}else;break}var G__9928=args9919.length;switch(G__9928){case 3:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9919.slice(6),0);return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],argseq__7233__auto__)}};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$3=function(m,p__9929,f){var vec__9930=p__9929;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9930,0,null);var ks=cljs.core.nthnext(vec__9930,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,f));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9931=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,
k);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9931):f.call(null,G__9931)}())};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$4=function(m,p__9932,f,a){var vec__9933=p__9932;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9933,0,null);var ks=cljs.core.nthnext(vec__9933,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,f,a));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9934=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,
k);var G__9935=a;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9934,G__9935):f.call(null,G__9934,G__9935)}())};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$5=function(m,p__9936,f,a,b){var vec__9937=p__9936;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9937,0,null);var ks=cljs.core.nthnext(vec__9937,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,f,a,b));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9938=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,
k);var G__9939=a;var G__9940=b;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9938,G__9939,G__9940):f.call(null,G__9938,G__9939,G__9940)}())};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$6=function(m,p__9941,f,a,b,c){var vec__9942=p__9941;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9942,0,null);var ks=cljs.core.nthnext(vec__9942,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,f,a,b,c));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9943=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,
k);var G__9944=a;var G__9945=b;var G__9946=c;return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(G__9943,G__9944,G__9945,G__9946):f.call(null,G__9943,G__9944,G__9945,G__9946)}())};
cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic=function(m,p__9947,f,a,b,c,args){var vec__9948=p__9947;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__9948,0,null);var ks=cljs.core.nthnext(vec__9948,1);if(cljs.core.truth_(ks))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.update_in,cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),ks,f,a,cljs.core.array_seq([b,c,args],0)));else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,
k,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),a,b,c,cljs.core.array_seq([args],0)))};
cljs.core.update_in.cljs$lang$applyTo=function(seq9920){var G__9921=cljs.core.first(seq9920);var seq9920__$1=cljs.core.next(seq9920);var G__9922=cljs.core.first(seq9920__$1);var seq9920__$2=cljs.core.next(seq9920__$1);var G__9923=cljs.core.first(seq9920__$2);var seq9920__$3=cljs.core.next(seq9920__$2);var G__9924=cljs.core.first(seq9920__$3);var seq9920__$4=cljs.core.next(seq9920__$3);var G__9925=cljs.core.first(seq9920__$4);var seq9920__$5=cljs.core.next(seq9920__$4);var G__9926=cljs.core.first(seq9920__$5);
var seq9920__$6=cljs.core.next(seq9920__$5);return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(G__9921,G__9922,G__9923,G__9924,G__9925,G__9926,seq9920__$6)};cljs.core.update_in.cljs$lang$maxFixedArity=6;
cljs.core.update=function cljs$core$update(var_args){var args9953=[];var len__7214__auto___9973=arguments.length;var i__7215__auto___9974=0;while(true){if(i__7215__auto___9974<len__7214__auto___9973){args9953.push(arguments[i__7215__auto___9974]);var G__9975=i__7215__auto___9974+1;i__7215__auto___9974=G__9975;continue}else;break}var G__9962=args9953.length;switch(G__9962){case 3:return cljs.core.update.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.update.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.update.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:return cljs.core.update.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args9953.slice(6),0);return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],argseq__7233__auto__)}};cljs.core.update.cljs$core$IFn$_invoke$arity$3=function(m,k,f){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9963=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k);return f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(G__9963):f.call(null,G__9963)}())};
cljs.core.update.cljs$core$IFn$_invoke$arity$4=function(m,k,f,x){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9964=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k);var G__9965=x;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9964,G__9965):f.call(null,G__9964,G__9965)}())};
cljs.core.update.cljs$core$IFn$_invoke$arity$5=function(m,k,f,x,y){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9966=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k);var G__9967=x;var G__9968=y;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9966,G__9967,G__9968):f.call(null,G__9966,G__9967,G__9968)}())};
cljs.core.update.cljs$core$IFn$_invoke$arity$6=function(m,k,f,x,y,z){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__9969=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k);var G__9970=x;var G__9971=y;var G__9972=z;return f.cljs$core$IFn$_invoke$arity$4?f.cljs$core$IFn$_invoke$arity$4(G__9969,G__9970,G__9971,G__9972):f.call(null,G__9969,G__9970,G__9971,G__9972)}())};
cljs.core.update.cljs$core$IFn$_invoke$arity$variadic=function(m,k,f,x,y,z,more){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(f,cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k),x,y,z,cljs.core.array_seq([more],0)))};
cljs.core.update.cljs$lang$applyTo=function(seq9954){var G__9955=cljs.core.first(seq9954);var seq9954__$1=cljs.core.next(seq9954);var G__9956=cljs.core.first(seq9954__$1);var seq9954__$2=cljs.core.next(seq9954__$1);var G__9957=cljs.core.first(seq9954__$2);var seq9954__$3=cljs.core.next(seq9954__$2);var G__9958=cljs.core.first(seq9954__$3);var seq9954__$4=cljs.core.next(seq9954__$3);var G__9959=cljs.core.first(seq9954__$4);var seq9954__$5=cljs.core.next(seq9954__$4);var G__9960=cljs.core.first(seq9954__$5);
var seq9954__$6=cljs.core.next(seq9954__$5);return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(G__9955,G__9956,G__9957,G__9958,G__9959,G__9960,seq9954__$6)};cljs.core.update.cljs$lang$maxFixedArity=6;cljs.core.VectorNode=function(edit,arr){this.edit=edit;this.arr=arr};
cljs.core.VectorNode.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)};cljs.core.VectorNode.cljs$lang$type=true;cljs.core.VectorNode.cljs$lang$ctorStr="cljs.core/VectorNode";
cljs.core.VectorNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/VectorNode")};cljs.core.__GT_VectorNode=function cljs$core$__GT_VectorNode(edit,arr){return new cljs.core.VectorNode(edit,arr)};
cljs.core.pv_fresh_node=function cljs$core$pv_fresh_node(edit){return new cljs.core.VectorNode(edit,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])};cljs.core.pv_aget=function cljs$core$pv_aget(node,idx){return node.arr[idx]};cljs.core.pv_aset=function cljs$core$pv_aset(node,idx,val){return node.arr[idx]=val};
cljs.core.pv_clone_node=function cljs$core$pv_clone_node(node){return new cljs.core.VectorNode(node.edit,cljs.core.aclone(node.arr))};cljs.core.tail_off=function cljs$core$tail_off(pv){var cnt=pv.cnt;if(cnt<32)return 0;else return cnt-1>>>5<<5};
cljs.core.new_path=function cljs$core$new_path(edit,level,node){var ll=level;var ret=node;while(true){if(ll===0)return ret;else{var embed=ret;var r=cljs.core.pv_fresh_node(edit);var _=cljs.core.pv_aset(r,0,embed);var G__9977=ll-5;var G__9978=r;ll=G__9977;ret=G__9978;continue}break}};
cljs.core.push_tail=function cljs$core$push_tail(pv,level,parent,tailnode){var ret=cljs.core.pv_clone_node(parent);var subidx=pv.cnt-1>>>level&31;if(5===level){cljs.core.pv_aset(ret,subidx,tailnode);return ret}else{var child=cljs.core.pv_aget(parent,subidx);if(!(child==null)){var node_to_insert=cljs$core$push_tail(pv,level-5,child,tailnode);cljs.core.pv_aset(ret,subidx,node_to_insert);return ret}else{var node_to_insert=cljs.core.new_path(null,level-5,tailnode);cljs.core.pv_aset(ret,subidx,node_to_insert);
return ret}}};cljs.core.vector_index_out_of_bounds=function cljs$core$vector_index_out_of_bounds(i,cnt){throw new Error([cljs.core.str("No item "),cljs.core.str(i),cljs.core.str(" in vector of length "),cljs.core.str(cnt)].join(""));};cljs.core.first_array_for_longvec=function cljs$core$first_array_for_longvec(pv){var node=pv.root;var level=pv.shift;while(true){if(level>0){var G__9983=cljs.core.pv_aget(node,0);var G__9984=level-5;node=G__9983;level=G__9984;continue}else return node.arr;break}};
cljs.core.unchecked_array_for=function cljs$core$unchecked_array_for(pv,i){if(i>=cljs.core.tail_off(pv))return pv.tail;else{var node=pv.root;var level=pv.shift;while(true){if(level>0){var G__9985=cljs.core.pv_aget(node,i>>>level&31);var G__9986=level-5;node=G__9985;level=G__9986;continue}else return node.arr;break}}};cljs.core.array_for=function cljs$core$array_for(pv,i){if(0<=i&&i<pv.cnt)return cljs.core.unchecked_array_for(pv,i);else return cljs.core.vector_index_out_of_bounds(i,pv.cnt)};
cljs.core.do_assoc=function cljs$core$do_assoc(pv,level,node,i,val){var ret=cljs.core.pv_clone_node(node);if(level===0){cljs.core.pv_aset(ret,i&31,val);return ret}else{var subidx=i>>>level&31;cljs.core.pv_aset(ret,subidx,cljs$core$do_assoc(pv,level-5,cljs.core.pv_aget(node,subidx),i,val));return ret}};
cljs.core.pop_tail=function cljs$core$pop_tail(pv,level,node){var subidx=pv.cnt-2>>>level&31;if(level>5){var new_child=cljs$core$pop_tail(pv,level-5,cljs.core.pv_aget(node,subidx));if(new_child==null&&subidx===0)return null;else{var ret=cljs.core.pv_clone_node(node);cljs.core.pv_aset(ret,subidx,new_child);return ret}}else if(subidx===0)return null;else{var ret=cljs.core.pv_clone_node(node);cljs.core.pv_aset(ret,subidx,null);return ret}};
cljs.core.RangedIterator=function(i,base,arr,v,start,end){this.i=i;this.base=base;this.arr=arr;this.v=v;this.start=start;this.end=end};cljs.core.RangedIterator.prototype.hasNext=function(){var self__=this;var this$=this;return self__.i<self__.end};
cljs.core.RangedIterator.prototype.next=function(){var self__=this;var this$=this;if(self__.i-self__.base===32){self__.arr=cljs.core.unchecked_array_for(self__.v,self__.i);self__.base=self__.base+32}else;var ret=self__.arr[self__.i&31];self__.i=self__.i+1;return ret};
cljs.core.RangedIterator.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"base","base",1825810849,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),
cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null)],null)};cljs.core.RangedIterator.cljs$lang$type=true;cljs.core.RangedIterator.cljs$lang$ctorStr="cljs.core/RangedIterator";
cljs.core.RangedIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/RangedIterator")};cljs.core.__GT_RangedIterator=function cljs$core$__GT_RangedIterator(i,base,arr,v,start,end){return new cljs.core.RangedIterator(i,base,arr,v,start,end)};
cljs.core.ranged_iterator=function cljs$core$ranged_iterator(v,start,end){var i=start;return new cljs.core.RangedIterator(i,i-i%32,start<cljs.core.count(v)?cljs.core.unchecked_array_for(v,i):null,v,start,end)};cljs.core.PersistentVector=function(meta,cnt,shift,root,tail,__hash){this.meta=meta;this.cnt=cnt;this.shift=shift;this.root=root;this.tail=tail;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=167668511;this.cljs$lang$protocol_mask$partition1$=8196};
cljs.core.PersistentVector.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentVector.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};
cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1,k,not_found);else return not_found};
cljs.core.PersistentVector.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(v,f,init){var self__=this;var v__$1=this;var i=0;var init__$1=init;while(true){if(i<self__.cnt){var arr=cljs.core.unchecked_array_for(v__$1,i);var len=arr.length;var init__$2=function(){var j=0;var init__$2=init__$1;while(true){if(j<len){var init__$3=function(){var G__9996=init__$2;var G__9997=j+i;var G__9998=arr[j];return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__9996,G__9997,G__9998):f.call(null,
G__9996,G__9997,G__9998)}();if(cljs.core.reduced_QMARK_(init__$3))return init__$3;else{var G__10005=j+1;var G__10006=init__$3;j=G__10005;init__$2=G__10006;continue}}else return init__$2;break}}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10007=i+len;var G__10008=init__$2;i=G__10007;init__$1=G__10008;continue}}else return init__$1;break}};
cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;return cljs.core.array_for(coll__$1,n)[n&31]};cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)return cljs.core.unchecked_array_for(coll__$1,n)[n&31];else return not_found};
cljs.core.PersistentVector.prototype.cljs$core$IVector$_assoc_n$arity$3=function(coll,n,val){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)if(cljs.core.tail_off(coll__$1)<=n){var new_tail=cljs.core.aclone(self__.tail);new_tail[n&31]=val;return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,self__.root,new_tail,null)}else return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,cljs.core.do_assoc(coll__$1,self__.shift,self__.root,n,val),self__.tail,null);
else if(n===self__.cnt)return cljs.core._conj(coll__$1,val);else throw new Error([cljs.core.str("Index "),cljs.core.str(n),cljs.core.str(" out of bounds  [0,"),cljs.core.str(self__.cnt),cljs.core.str("]")].join(""));};cljs.core.PersistentVector.prototype.cljs$core$IIterable$=true;cljs.core.PersistentVector.prototype.cljs$core$IIterable$_iterator$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core.ranged_iterator(this$__$1,0,self__.cnt)};
cljs.core.PersistentVector.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentVector.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,self__.root,self__.tail,self__.__hash)};cljs.core.PersistentVector.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_key$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1,0)};cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_val$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1,1)};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1,self__.cnt-1);else return null};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt===0)throw new Error("Can't pop empty vector");else if(1===self__.cnt)return cljs.core._with_meta(cljs.core.PersistentVector.EMPTY,self__.meta);else if(1<self__.cnt-cljs.core.tail_off(coll__$1))return new cljs.core.PersistentVector(self__.meta,self__.cnt-1,self__.shift,self__.root,self__.tail.slice(0,-1),null);else{var new_tail=cljs.core.unchecked_array_for(coll__$1,self__.cnt-
2);var nr=cljs.core.pop_tail(coll__$1,self__.shift,self__.root);var new_root=nr==null?cljs.core.PersistentVector.EMPTY_NODE:nr;var cnt_1=self__.cnt-1;if(5<self__.shift&&cljs.core.pv_aget(new_root,1)==null)return new cljs.core.PersistentVector(self__.meta,cnt_1,self__.shift-5,cljs.core.pv_aget(new_root,0),new_tail,null);else return new cljs.core.PersistentVector(self__.meta,cnt_1,self__.shift,new_root,new_tail,null)}};
cljs.core.PersistentVector.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return new cljs.core.RSeq(coll__$1,self__.cnt-1,null);else return null};
cljs.core.PersistentVector.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentVector.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;if(other instanceof cljs.core.PersistentVector)if(self__.cnt===cljs.core.count(other)){var me_iter=cljs.core._iterator(coll__$1);var you_iter=cljs.core._iterator(other);while(true){if(cljs.core.truth_(me_iter.hasNext())){var x=me_iter.next();var y=you_iter.next();if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x,y))continue;else return false}else return true;break}}else return false;
else return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.PersistentVector.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientVector(self__.cnt,self__.shift,cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1?cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1(self__.root):cljs.core.tv_editable_root.call(null,self__.root),cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1?cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1(self__.tail):cljs.core.tv_editable_tail.call(null,
self__.tail))};cljs.core.PersistentVector.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,self__.meta)};cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$2=function(v,f){var self__=this;var v__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(v__$1,f)};
cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$3=function(v,f,init){var self__=this;var v__$1=this;var i=0;var init__$1=init;while(true){if(i<self__.cnt){var arr=cljs.core.unchecked_array_for(v__$1,i);var len=arr.length;var init__$2=function(){var j=0;var init__$2=init__$1;while(true){if(j<len){var init__$3=function(){var G__9999=init__$2;var G__10000=arr[j];return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__9999,G__10000):f.call(null,G__9999,G__10000)}();
if(cljs.core.reduced_QMARK_(init__$3))return init__$3;else{var G__10009=j+1;var G__10010=init__$3;j=G__10009;init__$2=G__10010;continue}}else return init__$2;break}}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10011=i+len;var G__10012=init__$2;i=G__10011;init__$1=G__10012;continue}}else return init__$1;break}};
cljs.core.PersistentVector.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._assoc_n(coll__$1,k,v);else throw new Error("Vector's key for assoc must be a number.");};
cljs.core.PersistentVector.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt===0)return null;else if(self__.cnt<=32)return new cljs.core.IndexedSeq(self__.tail,0);else{var G__10001=coll__$1;var G__10002=cljs.core.first_array_for_longvec(coll__$1);var G__10003=0;var G__10004=0;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10001,G__10002,G__10003,G__10004):cljs.core.chunked_seq.call(null,
G__10001,G__10002,G__10003,G__10004)}};cljs.core.PersistentVector.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentVector(meta__$1,self__.cnt,self__.shift,self__.root,self__.tail,self__.__hash)};
cljs.core.PersistentVector.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;if(self__.cnt-cljs.core.tail_off(coll__$1)<32){var len=self__.tail.length;var new_tail=new Array(len+1);var n__7059__auto___10013=len;var i_10014=0;while(true){if(i_10014<n__7059__auto___10013){new_tail[i_10014]=self__.tail[i_10014];var G__10015=i_10014+1;i_10014=G__10015;continue}else;break}new_tail[len]=o;return new cljs.core.PersistentVector(self__.meta,self__.cnt+1,self__.shift,
self__.root,new_tail,null)}else{var root_overflow_QMARK_=self__.cnt>>>5>1<<self__.shift;var new_shift=root_overflow_QMARK_?self__.shift+5:self__.shift;var new_root=root_overflow_QMARK_?function(){var n_r=cljs.core.pv_fresh_node(null);cljs.core.pv_aset(n_r,0,self__.root);cljs.core.pv_aset(n_r,1,cljs.core.new_path(null,self__.shift,new cljs.core.VectorNode(null,self__.tail)));return n_r}():cljs.core.push_tail(coll__$1,self__.shift,self__.root,new cljs.core.VectorNode(null,self__.tail));return new cljs.core.PersistentVector(self__.meta,
self__.cnt+1,new_shift,new_root,[o],null)}};
cljs.core.PersistentVector.prototype.call=function(){var G__10016=null;var G__10016__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};var G__10016__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};G__10016=function(self__,k,not_found){switch(arguments.length){case 2:return G__10016__2.call(this,self__,k);case 3:return G__10016__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10016.cljs$core$IFn$_invoke$arity$2=G__10016__2;G__10016.cljs$core$IFn$_invoke$arity$3=G__10016__3;return G__10016}();cljs.core.PersistentVector.prototype.apply=function(self__,args9995){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args9995)))};
cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};
cljs.core.PersistentVector.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"shift","shift",-1657295705,null),new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"tail","tail",494507963,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),
new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.PersistentVector.cljs$lang$type=true;cljs.core.PersistentVector.cljs$lang$ctorStr="cljs.core/PersistentVector";cljs.core.PersistentVector.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentVector")};
cljs.core.__GT_PersistentVector=function cljs$core$__GT_PersistentVector(meta,cnt,shift,root,tail,__hash){return new cljs.core.PersistentVector(meta,cnt,shift,root,tail,__hash)};cljs.core.PersistentVector.EMPTY_NODE=new cljs.core.VectorNode(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]);
cljs.core.PersistentVector.EMPTY=new cljs.core.PersistentVector(null,0,5,cljs.core.PersistentVector.EMPTY_NODE,[],cljs.core.empty_ordered_hash);
cljs.core.PersistentVector.fromArray=function(xs,no_clone){var l=xs.length;var xs__$1=no_clone?xs:cljs.core.aclone(xs);if(l<32)return new cljs.core.PersistentVector(null,l,5,cljs.core.PersistentVector.EMPTY_NODE,xs__$1,null);else{var node=xs__$1.slice(0,32);var v=new cljs.core.PersistentVector(null,32,5,cljs.core.PersistentVector.EMPTY_NODE,node,null);var i=32;var out=v.cljs$core$IEditableCollection$_as_transient$arity$1(null);while(true){if(i<l){var G__10017=i+1;var G__10018=cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(out,
xs__$1[i]);i=G__10017;out=G__10018;continue}else return cljs.core.persistent_BANG_(out);break}}};cljs.core.PersistentVector.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.vec=function cljs$core$vec(coll){if(cljs.core.array_QMARK_(coll))return cljs.core.PersistentVector.fromArray(coll,true);else return cljs.core._persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_,cljs.core._as_transient(cljs.core.PersistentVector.EMPTY),coll))};
cljs.core.vector=function cljs$core$vector(var_args){var args__7221__auto__=[];var len__7214__auto___10020=arguments.length;var i__7215__auto___10021=0;while(true){if(i__7215__auto___10021<len__7214__auto___10020){args__7221__auto__.push(arguments[i__7215__auto___10021]);var G__10022=i__7215__auto___10021+1;i__7215__auto___10021=G__10022;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic=function(args){if(args instanceof cljs.core.IndexedSeq&&args.i===0)return cljs.core.PersistentVector.fromArray(args.arr,true);else return cljs.core.vec(args)};cljs.core.vector.cljs$lang$maxFixedArity=0;cljs.core.vector.cljs$lang$applyTo=function(seq10019){return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10019))};
cljs.core.ChunkedSeq=function(vec,node,i,off,meta,__hash){this.vec=vec;this.node=node;this.i=i;this.off=off;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32375020;this.cljs$lang$protocol_mask$partition1$=1536};cljs.core.ChunkedSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.ChunkedSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.ChunkedSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.ChunkedSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off+1<self__.node.length){var s=function(){var G__10023=self__.vec;var G__10024=self__.node;var G__10025=self__.i;var G__10026=self__.off+1;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10023,G__10024,G__10025,G__10026):cljs.core.chunked_seq.call(null,G__10023,G__10024,G__10025,G__10026)}();if(s==null)return null;
else return s}else return cljs.core._chunked_next(coll__$1)};cljs.core.ChunkedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.ChunkedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};cljs.core.ChunkedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,self__.meta)};
cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(function(){var G__10027=self__.vec;var G__10028=self__.i+self__.off;var G__10029=cljs.core.count(self__.vec);return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3?cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(G__10027,G__10028,G__10029):cljs.core.subvec.call(null,G__10027,G__10028,G__10029)}(),f)};
cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(function(){var G__10030=self__.vec;var G__10031=self__.i+self__.off;var G__10032=cljs.core.count(self__.vec);return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3?cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(G__10030,G__10031,G__10032):cljs.core.subvec.call(null,G__10030,G__10031,G__10032)}(),f,start)};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.node[self__.off]};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off+1<self__.node.length){var s=function(){var G__10033=self__.vec;var G__10034=self__.node;var G__10035=self__.i;var G__10036=self__.off+1;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10033,G__10034,G__10035,G__10036):cljs.core.chunked_seq.call(null,G__10033,G__10034,G__10035,G__10036)}();if(s==null)return cljs.core.List.EMPTY;
else return s}else return cljs.core._chunked_rest(coll__$1)};cljs.core.ChunkedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(self__.node,self__.off)};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var end=self__.i+self__.node.length;if(end<cljs.core._count(self__.vec)){var G__10037=self__.vec;var G__10038=cljs.core.unchecked_array_for(self__.vec,end);var G__10039=end;var G__10040=0;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10037,G__10038,G__10039,G__10040):cljs.core.chunked_seq.call(null,G__10037,
G__10038,G__10039,G__10040)}else return cljs.core.List.EMPTY};cljs.core.ChunkedSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,m){var self__=this;var coll__$1=this;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(self__.vec,self__.node,self__.i,self__.off,m):cljs.core.chunked_seq.call(null,self__.vec,self__.node,self__.i,self__.off,m)};
cljs.core.ChunkedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(coll){var self__=this;var coll__$1=this;var end=self__.i+self__.node.length;if(end<cljs.core._count(self__.vec)){var G__10041=self__.vec;var G__10042=cljs.core.unchecked_array_for(self__.vec,end);var G__10043=end;var G__10044=0;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(G__10041,G__10042,G__10043,G__10044):cljs.core.chunked_seq.call(null,G__10041,
G__10042,G__10043,G__10044)}else return null};
cljs.core.ChunkedSeq.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"vec","vec",982683596,null),new cljs.core.Symbol(null,"node","node",-2073234571,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"off","off",-2047994980,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,
1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ChunkedSeq.cljs$lang$type=true;cljs.core.ChunkedSeq.cljs$lang$ctorStr="cljs.core/ChunkedSeq";cljs.core.ChunkedSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ChunkedSeq")};
cljs.core.__GT_ChunkedSeq=function cljs$core$__GT_ChunkedSeq(vec,node,i,off,meta,__hash){return new cljs.core.ChunkedSeq(vec,node,i,off,meta,__hash)};cljs.core.ChunkedSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.chunked_seq=function cljs$core$chunked_seq(var_args){var args10045=[];var len__7214__auto___10048=arguments.length;var i__7215__auto___10049=0;while(true){if(i__7215__auto___10049<len__7214__auto___10048){args10045.push(arguments[i__7215__auto___10049]);var G__10050=i__7215__auto___10049+1;i__7215__auto___10049=G__10050;continue}else;break}var G__10047=args10045.length;switch(G__10047){case 3:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);
break;case 4:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10045.length)].join(""));}};
cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3=function(vec,i,off){return new cljs.core.ChunkedSeq(vec,cljs.core.array_for(vec,i),i,off,null,null)};cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4=function(vec,node,i,off){return new cljs.core.ChunkedSeq(vec,node,i,off,null,null)};cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5=function(vec,node,i,off,meta){return new cljs.core.ChunkedSeq(vec,node,i,off,meta,null)};cljs.core.chunked_seq.cljs$lang$maxFixedArity=5;
cljs.core.Subvec=function(meta,v,start,end,__hash){this.meta=meta;this.v=v;this.start=start;this.end=end;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=167666463;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.Subvec.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.Subvec.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1,k,not_found);else return not_found};
cljs.core.Subvec.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var i=self__.start;var j=0;var init__$1=init;while(true){if(i<self__.end){var init__$2=function(){var G__10053=init__$1;var G__10054=j;var G__10055=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v,i);return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__10053,G__10054,G__10055):f.call(null,G__10053,G__10054,G__10055)}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?
cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10072=i+1;var G__10073=j+1;var G__10074=init__$2;i=G__10072;j=G__10073;init__$1=G__10074;continue}}else return init__$1;break}};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;if(n<0||self__.end<=self__.start+n)return cljs.core.vector_index_out_of_bounds(n,self__.end-self__.start);else return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v,self__.start+n)};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(n<0||self__.end<=self__.start+n)return not_found;else return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(self__.v,self__.start+n,not_found)};
cljs.core.Subvec.prototype.cljs$core$IVector$_assoc_n$arity$3=function(coll,n,val){var self__=this;var coll__$1=this;var v_pos=self__.start+n;var G__10056=self__.meta;var G__10057=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.v,v_pos,val);var G__10058=self__.start;var G__10059=function(){var x__6487__auto__=self__.end;var y__6488__auto__=v_pos+1;return x__6487__auto__>y__6488__auto__?x__6487__auto__:y__6488__auto__}();var G__10060=null;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?
cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10056,G__10057,G__10058,G__10059,G__10060):cljs.core.build_subvec.call(null,G__10056,G__10057,G__10058,G__10059,G__10060)};cljs.core.Subvec.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.Subvec.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Subvec(self__.meta,self__.v,self__.start,self__.end,self__.__hash)};
cljs.core.Subvec.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.end-self__.start};cljs.core.Subvec.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v,self__.end-1)};
cljs.core.Subvec.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.start===self__.end)throw new Error("Can't pop empty vector");else{var G__10061=self__.meta;var G__10062=self__.v;var G__10063=self__.start;var G__10064=self__.end-1;var G__10065=null;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10061,G__10062,G__10063,G__10064,G__10065):cljs.core.build_subvec.call(null,G__10061,G__10062,
G__10063,G__10064,G__10065)}};cljs.core.Subvec.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(!(self__.start===self__.end))return new cljs.core.RSeq(coll__$1,self__.end-self__.start-1,null);else return null};
cljs.core.Subvec.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.Subvec.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.Subvec.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,self__.meta)};cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(coll__$1,f)};
cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start__$1){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(coll__$1,f,start__$1)};cljs.core.Subvec.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,key,val){var self__=this;var coll__$1=this;if(typeof key==="number")return cljs.core._assoc_n(coll__$1,key,val);else throw new Error("Subvec's key for assoc must be a number.");};
cljs.core.Subvec.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var subvec_seq=function(coll__$1){return function cljs$core$subvec_seq(i){if(i===self__.end)return null;else return cljs.core.cons(cljs.core._nth.cljs$core$IFn$_invoke$arity$2(self__.v,i),new cljs.core.LazySeq(null,function(coll__$1){return function(){return cljs$core$subvec_seq(i+1)}}(coll__$1),null,null))}}(coll__$1);return subvec_seq(self__.start)};
cljs.core.Subvec.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(meta__$1,self__.v,self__.start,self__.end,self__.__hash):cljs.core.build_subvec.call(null,meta__$1,self__.v,self__.start,self__.end,self__.__hash)};
cljs.core.Subvec.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;var G__10067=self__.meta;var G__10068=cljs.core._assoc_n(self__.v,self__.end,o);var G__10069=self__.start;var G__10070=self__.end+1;var G__10071=null;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(G__10067,G__10068,G__10069,G__10070,G__10071):cljs.core.build_subvec.call(null,G__10067,G__10068,G__10069,G__10070,G__10071)};
cljs.core.Subvec.prototype.call=function(){var G__10075=null;var G__10075__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};var G__10075__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};G__10075=function(self__,k,not_found){switch(arguments.length){case 2:return G__10075__2.call(this,self__,k);case 3:return G__10075__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10075.cljs$core$IFn$_invoke$arity$2=G__10075__2;G__10075.cljs$core$IFn$_invoke$arity$3=G__10075__3;return G__10075}();cljs.core.Subvec.prototype.apply=function(self__,args10052){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10052)))};
cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};
cljs.core.Subvec.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable",
"mutable",875778266),true],null))],null)};cljs.core.Subvec.cljs$lang$type=true;cljs.core.Subvec.cljs$lang$ctorStr="cljs.core/Subvec";cljs.core.Subvec.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Subvec")};cljs.core.__GT_Subvec=function cljs$core$__GT_Subvec(meta,v,start,end,__hash){return new cljs.core.Subvec(meta,v,start,end,__hash)};
cljs.core.Subvec.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.build_subvec=function cljs$core$build_subvec(meta,v,start,end,__hash){while(true){if(v instanceof cljs.core.Subvec){var G__10076=meta;var G__10077=v.v;var G__10078=v.start+start;var G__10079=v.start+end;var G__10080=__hash;meta=G__10076;v=G__10077;start=G__10078;end=G__10079;__hash=G__10080;continue}else{var c=cljs.core.count(v);if(start<0||end<0||start>c||end>c)throw new Error("Index out of bounds");else;return new cljs.core.Subvec(meta,v,start,end,__hash)}break}};
cljs.core.subvec=function cljs$core$subvec(var_args){var args10081=[];var len__7214__auto___10084=arguments.length;var i__7215__auto___10085=0;while(true){if(i__7215__auto___10085<len__7214__auto___10084){args10081.push(arguments[i__7215__auto___10085]);var G__10086=i__7215__auto___10085+1;i__7215__auto___10085=G__10086;continue}else;break}var G__10083=args10081.length;switch(G__10083){case 2:return cljs.core.subvec.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10081.length)].join(""));}};cljs.core.subvec.cljs$core$IFn$_invoke$arity$2=function(v,start){return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(v,start,cljs.core.count(v))};cljs.core.subvec.cljs$core$IFn$_invoke$arity$3=function(v,start,end){return cljs.core.build_subvec(null,v,start,end,null)};cljs.core.subvec.cljs$lang$maxFixedArity=3;
cljs.core.tv_ensure_editable=function cljs$core$tv_ensure_editable(edit,node){if(edit===node.edit)return node;else return new cljs.core.VectorNode(edit,cljs.core.aclone(node.arr))};cljs.core.tv_editable_root=function cljs$core$tv_editable_root(node){return new cljs.core.VectorNode({},cljs.core.aclone(node.arr))};
cljs.core.tv_editable_tail=function cljs$core$tv_editable_tail(tl){var ret=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];cljs.core.array_copy(tl,0,ret,0,tl.length);return ret};
cljs.core.tv_push_tail=function cljs$core$tv_push_tail(tv,level,parent,tail_node){var ret=cljs.core.tv_ensure_editable(tv.root.edit,parent);var subidx=tv.cnt-1>>>level&31;cljs.core.pv_aset(ret,subidx,level===5?tail_node:function(){var child=cljs.core.pv_aget(ret,subidx);if(!(child==null))return cljs$core$tv_push_tail(tv,level-5,child,tail_node);else return cljs.core.new_path(tv.root.edit,level-5,tail_node)}());return ret};
cljs.core.tv_pop_tail=function cljs$core$tv_pop_tail(tv,level,node){var node__$1=cljs.core.tv_ensure_editable(tv.root.edit,node);var subidx=tv.cnt-2>>>level&31;if(level>5){var new_child=cljs$core$tv_pop_tail(tv,level-5,cljs.core.pv_aget(node__$1,subidx));if(new_child==null&&subidx===0)return null;else{cljs.core.pv_aset(node__$1,subidx,new_child);return node__$1}}else if(subidx===0)return null;else{cljs.core.pv_aset(node__$1,subidx,null);return node__$1}};
cljs.core.unchecked_editable_array_for=function cljs$core$unchecked_editable_array_for(tv,i){if(i>=cljs.core.tail_off(tv))return tv.tail;else{var root=tv.root;var node=root;var level=tv.shift;while(true){if(level>0){var G__10099=cljs.core.tv_ensure_editable(root.edit,cljs.core.pv_aget(node,i>>>level&31));var G__10100=level-5;node=G__10099;level=G__10100;continue}else return node.arr;break}}};
cljs.core.TransientVector=function(cnt,shift,root,tail){this.cnt=cnt;this.shift=shift;this.root=root;this.tail=tail;this.cljs$lang$protocol_mask$partition1$=88;this.cljs$lang$protocol_mask$partition0$=275};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(self__.cnt-cljs.core.tail_off(tcoll__$1)<32){self__.tail[self__.cnt&31]=o;self__.cnt=self__.cnt+1;return tcoll__$1}else{var tail_node=new cljs.core.VectorNode(self__.root.edit,self__.tail);var new_tail=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null];new_tail[0]=o;self__.tail=new_tail;if(self__.cnt>>>5>1<<self__.shift){var new_root_array=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var new_shift=self__.shift+5;new_root_array[0]=self__.root;new_root_array[1]=cljs.core.new_path(self__.root.edit,self__.shift,tail_node);self__.root=new cljs.core.VectorNode(self__.root.edit,new_root_array);self__.shift=new_shift;
self__.cnt=self__.cnt+1;return tcoll__$1}else{var new_root=cljs.core.tv_push_tail(tcoll__$1,self__.shift,self__.root,tail_node);self__.root=new_root;self__.cnt=self__.cnt+1;return tcoll__$1}}else throw new Error("conj! after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(self__.root.edit){self__.root.edit=null;var len=self__.cnt-cljs.core.tail_off(tcoll__$1);var trimmed_tail=new Array(len);cljs.core.array_copy(self__.tail,0,trimmed_tail,0,len);return new cljs.core.PersistentVector(null,self__.cnt,self__.shift,self__.root,trimmed_tail,null)}else throw new Error("persistent! called twice");};
cljs.core.TransientVector.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;if(typeof key==="number")return cljs.core._assoc_n_BANG_(tcoll__$1,key,val);else throw new Error("TransientVector's key for assoc! must be a number.");};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3=function(tcoll,n,val){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(0<=n&&n<self__.cnt)if(cljs.core.tail_off(tcoll__$1)<=n){self__.tail[n&31]=val;return tcoll__$1}else{var new_root=function(tcoll__$1){return function cljs$core$go(level,node){var node__$1=cljs.core.tv_ensure_editable(self__.root.edit,node);if(level===0){cljs.core.pv_aset(node__$1,n&31,val);return node__$1}else{var subidx=n>>>level&31;
cljs.core.pv_aset(node__$1,subidx,cljs$core$go(level-5,cljs.core.pv_aget(node__$1,subidx)));return node__$1}}}(tcoll__$1).call(null,self__.shift,self__.root);self__.root=new_root;return tcoll__$1}else if(n===self__.cnt)return cljs.core._conj_BANG_(tcoll__$1,val);else throw new Error([cljs.core.str("Index "),cljs.core.str(n),cljs.core.str(" out of bounds for TransientVector of length"),cljs.core.str(self__.cnt)].join(""));else throw new Error("assoc! after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_pop_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(self__.cnt===0)throw new Error("Can't pop empty vector");else if(1===self__.cnt){self__.cnt=0;return tcoll__$1}else if((self__.cnt-1&31)>0){self__.cnt=self__.cnt-1;return tcoll__$1}else{var new_tail=cljs.core.unchecked_editable_array_for(tcoll__$1,self__.cnt-2);var new_root=function(){var nr=cljs.core.tv_pop_tail(tcoll__$1,self__.shift,self__.root);
if(!(nr==null))return nr;else return new cljs.core.VectorNode(self__.root.edit,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}();if(5<self__.shift&&cljs.core.pv_aget(new_root,1)==null){var new_root__$1=cljs.core.tv_ensure_editable(self__.root.edit,cljs.core.pv_aget(new_root,0));self__.root=new_root__$1;self__.shift=self__.shift-5;self__.cnt=self__.cnt-1;self__.tail=new_tail;return tcoll__$1}else{self__.root=
new_root;self__.cnt=self__.cnt-1;self__.tail=new_tail;return tcoll__$1}}else throw new Error("pop! after persistent!");};cljs.core.TransientVector.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.root.edit)return self__.cnt;else throw new Error("count after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;if(self__.root.edit)return cljs.core.array_for(coll__$1,n)[n&31];else throw new Error("nth after persistent!");};cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(coll__$1,n);else return not_found};
cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(coll__$1,k,not_found);else return not_found};
cljs.core.TransientVector.prototype.call=function(){var G__10104=null;var G__10104__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10104__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10104=function(self__,k,not_found){switch(arguments.length){case 2:return G__10104__2.call(this,self__,k);case 3:return G__10104__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10104.cljs$core$IFn$_invoke$arity$2=G__10104__2;G__10104.cljs$core$IFn$_invoke$arity$3=G__10104__3;return G__10104}();cljs.core.TransientVector.prototype.apply=function(self__,args10101){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10101)))};
cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.TransientVector.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"shift","shift",-1657295705,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],
null)),cljs.core.with_meta(new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"tail","tail",494507963,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.TransientVector.cljs$lang$type=true;cljs.core.TransientVector.cljs$lang$ctorStr="cljs.core/TransientVector";
cljs.core.TransientVector.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/TransientVector")};cljs.core.__GT_TransientVector=function cljs$core$__GT_TransientVector(cnt,shift,root,tail){return new cljs.core.TransientVector(cnt,shift,root,tail)};cljs.core.PersistentQueueIter=function(fseq,riter){this.fseq=fseq;this.riter=riter};
cljs.core.PersistentQueueIter.prototype.hasNext=function(){var self__=this;var _=this;var or__6156__auto__=cljs.core.some_QMARK_(self__.fseq)&&cljs.core.seq(self__.fseq);if(or__6156__auto__)return or__6156__auto__;else{var and__6144__auto__=cljs.core.some_QMARK_(self__.riter);if(and__6144__auto__)return self__.riter.hasNext();else return and__6144__auto__}};
cljs.core.PersistentQueueIter.prototype.next=function(){var self__=this;var _=this;if(cljs.core.some_QMARK_(self__.fseq)){var ret=cljs.core.first(self__.fseq);self__.fseq=cljs.core.next(self__.fseq);return ret}else if(cljs.core.some_QMARK_(self__.riter)&&self__.riter.hasNext())return self__.riter.next();else throw new Error("No such element");};cljs.core.PersistentQueueIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.PersistentQueueIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"fseq","fseq",-1466412450,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"riter","riter",-237834262,null)],null)};cljs.core.PersistentQueueIter.cljs$lang$type=true;cljs.core.PersistentQueueIter.cljs$lang$ctorStr="cljs.core/PersistentQueueIter";
cljs.core.PersistentQueueIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentQueueIter")};cljs.core.__GT_PersistentQueueIter=function cljs$core$__GT_PersistentQueueIter(fseq,riter){return new cljs.core.PersistentQueueIter(fseq,riter)};
cljs.core.PersistentQueueSeq=function(meta,front,rear,__hash){this.meta=meta;this.front=front;this.rear=rear;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=31850572;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.PersistentQueueSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentQueueSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentQueueSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};cljs.core.PersistentQueueSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first(self__.front)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var temp__4655__auto__=cljs.core.next(self__.front);if(temp__4655__auto__){var f1=temp__4655__auto__;return new cljs.core.PersistentQueueSeq(self__.meta,f1,self__.rear,null)}else if(self__.rear==null)return cljs.core._empty(coll__$1);else return new cljs.core.PersistentQueueSeq(self__.meta,self__.rear,null,null)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.PersistentQueueSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueueSeq(meta__$1,self__.front,self__.rear,self__.__hash)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.PersistentQueueSeq.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"front","front",117022539,null),new cljs.core.Symbol(null,"rear","rear",-900164830,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],
null)};cljs.core.PersistentQueueSeq.cljs$lang$type=true;cljs.core.PersistentQueueSeq.cljs$lang$ctorStr="cljs.core/PersistentQueueSeq";cljs.core.PersistentQueueSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentQueueSeq")};cljs.core.__GT_PersistentQueueSeq=function cljs$core$__GT_PersistentQueueSeq(meta,front,rear,__hash){return new cljs.core.PersistentQueueSeq(meta,front,rear,__hash)};
cljs.core.PersistentQueueSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.PersistentQueue=function(meta,count,front,rear,__hash){this.meta=meta;this.count=count;this.front=front;this.rear=rear;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=31858766;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.PersistentQueue.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.PersistentQueue.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentQueue.prototype.cljs$core$IIterable$=true;cljs.core.PersistentQueue.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueueIter(self__.front,cljs.core._iterator(self__.rear))};
cljs.core.PersistentQueue.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentQueue.prototype.cljs$core$ICloneable$_clone$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueue(self__.meta,self__.count,self__.front,self__.rear,self__.__hash)};cljs.core.PersistentQueue.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.count};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first(self__.front)};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core.truth_(self__.front)){var temp__4655__auto__=cljs.core.next(self__.front);if(temp__4655__auto__){var f1=temp__4655__auto__;return new cljs.core.PersistentQueue(self__.meta,self__.count-1,f1,self__.rear,null)}else return new cljs.core.PersistentQueue(self__.meta,self__.count-1,cljs.core.seq(self__.rear),cljs.core.PersistentVector.EMPTY,null)}else return coll__$1};
cljs.core.PersistentQueue.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.PersistentQueue.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.PersistentQueue.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.PersistentQueue.EMPTY,self__.meta)};cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first(self__.front)};cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.rest(cljs.core.seq(coll__$1))};
cljs.core.PersistentQueue.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var rear__$1=cljs.core.seq(self__.rear);if(cljs.core.truth_(function(){var or__6156__auto__=self__.front;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return rear__$1}()))return new cljs.core.PersistentQueueSeq(null,self__.front,cljs.core.seq(rear__$1),null);else return null};
cljs.core.PersistentQueue.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueue(meta__$1,self__.count,self__.front,self__.rear,self__.__hash)};
cljs.core.PersistentQueue.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;if(cljs.core.truth_(self__.front))return new cljs.core.PersistentQueue(self__.meta,self__.count+1,self__.front,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(function(){var or__6156__auto__=self__.rear;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.PersistentVector.EMPTY}(),o),null);else return new cljs.core.PersistentQueue(self__.meta,self__.count+
1,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(self__.front,o),cljs.core.PersistentVector.EMPTY,null)};
cljs.core.PersistentQueue.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"front","front",117022539,null),new cljs.core.Symbol(null,"rear","rear",-900164830,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.PersistentQueue.cljs$lang$type=true;cljs.core.PersistentQueue.cljs$lang$ctorStr="cljs.core/PersistentQueue";cljs.core.PersistentQueue.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentQueue")};
cljs.core.__GT_PersistentQueue=function cljs$core$__GT_PersistentQueue(meta,count,front,rear,__hash){return new cljs.core.PersistentQueue(meta,count,front,rear,__hash)};cljs.core.PersistentQueue.EMPTY=new cljs.core.PersistentQueue(null,0,null,cljs.core.PersistentVector.EMPTY,cljs.core.empty_ordered_hash);cljs.core.PersistentQueue.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.NeverEquiv=function(){this.cljs$lang$protocol_mask$partition0$=2097152;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.NeverEquiv.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.NeverEquiv.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return false};cljs.core.NeverEquiv.getBasis=function(){return cljs.core.PersistentVector.EMPTY};
cljs.core.NeverEquiv.cljs$lang$type=true;cljs.core.NeverEquiv.cljs$lang$ctorStr="cljs.core/NeverEquiv";cljs.core.NeverEquiv.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/NeverEquiv")};cljs.core.__GT_NeverEquiv=function cljs$core$__GT_NeverEquiv(){return new cljs.core.NeverEquiv};cljs.core.never_equiv=new cljs.core.NeverEquiv;
cljs.core.equiv_map=function cljs$core$equiv_map(x,y){return cljs.core.boolean$(cljs.core.map_QMARK_(y)?cljs.core.count(x)===cljs.core.count(y)?cljs.core.every_QMARK_(cljs.core.identity,cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(xkv){return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(y,cljs.core.first(xkv),cljs.core.never_equiv),cljs.core.second(xkv))},x)):null:null)};
cljs.core.scan_array=function cljs$core$scan_array(incr,k,array){var len=array.length;var i=0;while(true){if(i<len)if(k===array[i])return i;else{var G__10105=i+incr;i=G__10105;continue}else return null;break}};cljs.core.obj_map_compare_keys=function cljs$core$obj_map_compare_keys(a,b){var a__$1=cljs.core.hash(a);var b__$1=cljs.core.hash(b);if(a__$1<b__$1)return-1;else if(a__$1>b__$1)return 1;else return 0};
cljs.core.obj_map__GT_hash_map=function cljs$core$obj_map__GT_hash_map(m,k,v){var ks=m.keys;var len=ks.length;var so=m.strobj;var mm=cljs.core.meta(m);var i=0;var out=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);while(true){if(i<len){var k__$1=ks[i];var G__10106=i+1;var G__10107=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out,k__$1,so[k__$1]);i=G__10106;out=G__10107;continue}else return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out,
k,v)),mm);break}};cljs.core.obj_clone=function cljs$core$obj_clone(obj,ks){var new_obj={};var l=ks.length;var i_10112=0;while(true){if(i_10112<l){var k_10113=ks[i_10112];new_obj[k_10113]=obj[k_10113];var G__10114=i_10112+1;i_10112=G__10114;continue}else;break}return new_obj};
cljs.core.ObjMap=function(meta,keys,strobj,update_count,__hash){this.meta=meta;this.keys=keys;this.strobj=strobj;this.update_count=update_count;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16123663;this.cljs$lang$protocol_mask$partition1$=4};cljs.core.ObjMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.ObjMap.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};
cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array(1,k,self__.keys)==null))return self__.strobj[k];else return not_found};
cljs.core.ObjMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var len=self__.keys.length;var keys__$1=self__.keys.sort(cljs.core.obj_map_compare_keys);var init__$1=init;while(true){if(cljs.core.seq(keys__$1)){var k=cljs.core.first(keys__$1);var init__$2=function(){var G__10117=init__$1;var G__10118=k;var G__10119=self__.strobj[k];return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__10117,G__10118,G__10119):f.call(null,
G__10117,G__10118,G__10119)}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10120=cljs.core.rest(keys__$1);var G__10121=init__$2;keys__$1=G__10120;init__$1=G__10121;continue}}else return init__$1;break}};cljs.core.ObjMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.ObjMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.keys.length};cljs.core.ObjMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.ObjMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map(coll__$1,other)};cljs.core.ObjMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.transient$(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY,coll__$1))};
cljs.core.ObjMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.ObjMap.EMPTY,self__.meta)};
cljs.core.ObjMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array(1,k,self__.keys)==null)){var new_keys=cljs.core.aclone(self__.keys);var new_strobj=cljs.core.obj_clone(self__.strobj,self__.keys);new_keys.splice(cljs.core.scan_array(1,k,new_keys),1);delete new_strobj[k];return new cljs.core.ObjMap(self__.meta,new_keys,new_strobj,self__.update_count+1,null)}else return coll__$1};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(goog.isString(k))if(self__.update_count>cljs.core.ObjMap.HASHMAP_THRESHOLD||self__.keys.length>=cljs.core.ObjMap.HASHMAP_THRESHOLD)return cljs.core.obj_map__GT_hash_map(coll__$1,k,v);else if(!(cljs.core.scan_array(1,k,self__.keys)==null)){var new_strobj=cljs.core.obj_clone(self__.strobj,self__.keys);new_strobj[k]=v;return new cljs.core.ObjMap(self__.meta,self__.keys,new_strobj,
self__.update_count+1,null)}else{var new_strobj=cljs.core.obj_clone(self__.strobj,self__.keys);var new_keys=cljs.core.aclone(self__.keys);new_strobj[k]=v;new_keys.push(k);return new cljs.core.ObjMap(self__.meta,new_keys,new_strobj,self__.update_count+1,null)}else return cljs.core.obj_map__GT_hash_map(coll__$1,k,v)};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array(1,k,self__.keys)==null))return true;else return false};
cljs.core.ObjMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.keys.length>0)return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(coll__$1){return function(p1__10115_SHARP_){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__10115_SHARP_,self__.strobj[p1__10115_SHARP_]],null)}}(coll__$1),self__.keys.sort(cljs.core.obj_map_compare_keys));else return null};
cljs.core.ObjMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.ObjMap(meta__$1,self__.keys,self__.strobj,self__.update_count,self__.__hash)};
cljs.core.ObjMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_(entry))return cljs.core._assoc(coll__$1,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,1));else return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,coll__$1,entry)};
cljs.core.ObjMap.prototype.call=function(){var G__10122=null;var G__10122__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10122__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10122=function(self__,k,not_found){switch(arguments.length){case 2:return G__10122__2.call(this,self__,k);case 3:return G__10122__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10122.cljs$core$IFn$_invoke$arity$2=G__10122__2;G__10122.cljs$core$IFn$_invoke$arity$3=G__10122__3;return G__10122}();cljs.core.ObjMap.prototype.apply=function(self__,args10116){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10116)))};
cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.ObjMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"keys","keys",-1586012071,null),new cljs.core.Symbol(null,"strobj","strobj",1088091283,null),new cljs.core.Symbol(null,"update-count","update-count",-411982269,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.ObjMap.cljs$lang$type=true;cljs.core.ObjMap.cljs$lang$ctorStr="cljs.core/ObjMap";cljs.core.ObjMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ObjMap")};cljs.core.__GT_ObjMap=function cljs$core$__GT_ObjMap(meta,keys,strobj,update_count,__hash){return new cljs.core.ObjMap(meta,keys,strobj,update_count,__hash)};
cljs.core.ObjMap.EMPTY=new cljs.core.ObjMap(null,[],{},0,cljs.core.empty_unordered_hash);cljs.core.ObjMap.HASHMAP_THRESHOLD=8;cljs.core.ObjMap.fromObject=function(ks,obj){return new cljs.core.ObjMap(null,ks,obj,0,null)};cljs.core.RecordIter=function(i,record,base_count,fields,ext_map_iter){this.i=i;this.record=record;this.base_count=base_count;this.fields=fields;this.ext_map_iter=ext_map_iter};
cljs.core.RecordIter.prototype.hasNext=function(){var self__=this;var _=this;var or__6156__auto__=self__.i<self__.base_count;if(or__6156__auto__)return or__6156__auto__;else return self__.ext_map_iter.hasNext()};
cljs.core.RecordIter.prototype.next=function(){var self__=this;var _=this;if(self__.i<self__.base_count){var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$2(self__.fields,self__.i);self__.i=self__.i+1;return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(self__.record,k)],null)}else return self__.ext_map_iter.next()};cljs.core.RecordIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.RecordIter.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"record","record",861424668,null),new cljs.core.Symbol(null,"base-count","base-count",-1180647182,null),new cljs.core.Symbol(null,"fields","fields",-291534703,null),new cljs.core.Symbol(null,
"ext-map-iter","ext-map-iter",-1215982757,null)],null)};cljs.core.RecordIter.cljs$lang$type=true;cljs.core.RecordIter.cljs$lang$ctorStr="cljs.core/RecordIter";cljs.core.RecordIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/RecordIter")};
cljs.core.__GT_RecordIter=function cljs$core$__GT_RecordIter(i,record,base_count,fields,ext_map_iter){return new cljs.core.RecordIter(i,record,base_count,fields,ext_map_iter)};cljs.core.ES6EntriesIterator=function(s){this.s=s};
cljs.core.ES6EntriesIterator.prototype.next=function(){var self__=this;var _=this;if(!(self__.s==null)){var vec__10125=cljs.core.first(self__.s);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10125,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10125,1,null);self__.s=cljs.core.next(self__.s);return{"value":[k,v],"done":false}}else return{"value":null,"done":true}};
cljs.core.ES6EntriesIterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ES6EntriesIterator.cljs$lang$type=true;cljs.core.ES6EntriesIterator.cljs$lang$ctorStr="cljs.core/ES6EntriesIterator";
cljs.core.ES6EntriesIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ES6EntriesIterator")};cljs.core.__GT_ES6EntriesIterator=function cljs$core$__GT_ES6EntriesIterator(s){return new cljs.core.ES6EntriesIterator(s)};cljs.core.es6_entries_iterator=function cljs$core$es6_entries_iterator(coll){return new cljs.core.ES6EntriesIterator(cljs.core.seq(coll))};
cljs.core.ES6SetEntriesIterator=function(s){this.s=s};cljs.core.ES6SetEntriesIterator.prototype.next=function(){var self__=this;var _=this;if(!(self__.s==null)){var x=cljs.core.first(self__.s);self__.s=cljs.core.next(self__.s);return{"value":[x,x],"done":false}}else return{"value":null,"done":true}};
cljs.core.ES6SetEntriesIterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ES6SetEntriesIterator.cljs$lang$type=true;cljs.core.ES6SetEntriesIterator.cljs$lang$ctorStr="cljs.core/ES6SetEntriesIterator";
cljs.core.ES6SetEntriesIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ES6SetEntriesIterator")};cljs.core.__GT_ES6SetEntriesIterator=function cljs$core$__GT_ES6SetEntriesIterator(s){return new cljs.core.ES6SetEntriesIterator(s)};cljs.core.es6_set_entries_iterator=function cljs$core$es6_set_entries_iterator(coll){return new cljs.core.ES6SetEntriesIterator(cljs.core.seq(coll))};
cljs.core.array_index_of_nil_QMARK_=function cljs$core$array_index_of_nil_QMARK_(arr){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(arr[i]==null)return i;else{var G__10126=i+2;i=G__10126;continue}break}};cljs.core.array_index_of_keyword_QMARK_=function cljs$core$array_index_of_keyword_QMARK_(arr,k){var len=arr.length;var kstr=k.fqn;var i=0;while(true){if(len<=i)return-1;else if(arr[i]instanceof cljs.core.Keyword&&kstr===arr[i].fqn)return i;else{var G__10127=i+2;i=G__10127;continue}break}};
cljs.core.array_index_of_symbol_QMARK_=function cljs$core$array_index_of_symbol_QMARK_(arr,k){var len=arr.length;var kstr=k.str;var i=0;while(true){if(len<=i)return-1;else if(arr[i]instanceof cljs.core.Symbol&&kstr===arr[i].str)return i;else{var G__10128=i+2;i=G__10128;continue}break}};
cljs.core.array_index_of_identical_QMARK_=function cljs$core$array_index_of_identical_QMARK_(arr,k){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(k===arr[i])return i;else{var G__10129=i+2;i=G__10129;continue}break}};cljs.core.array_index_of_equiv_QMARK_=function cljs$core$array_index_of_equiv_QMARK_(arr,k){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(k,arr[i]))return i;else{var G__10130=i+2;i=G__10130;continue}break}};
cljs.core.array_index_of=function cljs$core$array_index_of(arr,k){if(k instanceof cljs.core.Keyword)return cljs.core.array_index_of_keyword_QMARK_(arr,k);else if(goog.isString(k)||typeof k==="number")return cljs.core.array_index_of_identical_QMARK_(arr,k);else if(k instanceof cljs.core.Symbol)return cljs.core.array_index_of_symbol_QMARK_(arr,k);else if(k==null)return cljs.core.array_index_of_nil_QMARK_(arr);else return cljs.core.array_index_of_equiv_QMARK_(arr,k)};
cljs.core.array_map_index_of=function cljs$core$array_map_index_of(m,k){return cljs.core.array_index_of(m.arr,k)};cljs.core.array_extend_kv=function cljs$core$array_extend_kv(arr,k,v){var l=arr.length;var narr=new Array(l+2);var i_10131=0;while(true){if(i_10131<l){narr[i_10131]=arr[i_10131];var G__10132=i_10131+1;i_10131=G__10132;continue}else;break}narr[l]=k;narr[l+1]=v;return narr};
cljs.core.array_map_extend_kv=function cljs$core$array_map_extend_kv(m,k,v){return cljs.core.array_extend_kv(m.arr,k,v)};cljs.core.PersistentArrayMapSeq=function(arr,i,_meta){this.arr=arr;this.i=i;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=32374990;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.PersistentArrayMapSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.PersistentArrayMapSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i<self__.arr.length-2)return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i+2,self__._meta);else return null};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return(self__.arr.length-self__.i)/2};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_ordered_coll(coll__$1)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__._meta)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.arr[self__.i],self__.arr[self__.i+1]],null)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i<self__.arr.length-2)return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i+2,self__._meta);else return cljs.core.List.EMPTY};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i,new_meta)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.PersistentArrayMapSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)};cljs.core.PersistentArrayMapSeq.cljs$lang$type=true;cljs.core.PersistentArrayMapSeq.cljs$lang$ctorStr="cljs.core/PersistentArrayMapSeq";
cljs.core.PersistentArrayMapSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentArrayMapSeq")};cljs.core.__GT_PersistentArrayMapSeq=function cljs$core$__GT_PersistentArrayMapSeq(arr,i,_meta){return new cljs.core.PersistentArrayMapSeq(arr,i,_meta)};cljs.core.PersistentArrayMapSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.persistent_array_map_seq=function cljs$core$persistent_array_map_seq(arr,i,_meta){if(i<=arr.length-2)return new cljs.core.PersistentArrayMapSeq(arr,i,_meta);else return null};cljs.core.PersistentArrayMapIterator=function(arr,i,cnt){this.arr=arr;this.i=i;this.cnt=cnt};cljs.core.PersistentArrayMapIterator.prototype.hasNext=function(){var self__=this;var _=this;return self__.i<self__.cnt};
cljs.core.PersistentArrayMapIterator.prototype.next=function(){var self__=this;var _=this;var ret=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.arr[self__.i],self__.arr[self__.i+1]],null);self__.i=self__.i+2;return ret};
cljs.core.PersistentArrayMapIterator.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null)],null)};cljs.core.PersistentArrayMapIterator.cljs$lang$type=true;
cljs.core.PersistentArrayMapIterator.cljs$lang$ctorStr="cljs.core/PersistentArrayMapIterator";cljs.core.PersistentArrayMapIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentArrayMapIterator")};cljs.core.__GT_PersistentArrayMapIterator=function cljs$core$__GT_PersistentArrayMapIterator(arr,i,cnt){return new cljs.core.PersistentArrayMapIterator(arr,i,cnt)};
cljs.core.PersistentArrayMap=function(meta,cnt,arr,__hash){this.meta=meta;this.cnt=cnt;this.arr=arr;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16647951;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentArrayMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentArrayMap.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.PersistentArrayMap.prototype.keys=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.keys.call(null,coll))};cljs.core.PersistentArrayMap.prototype.entries=function(){var self__=this;var coll=this;return cljs.core.es6_entries_iterator(cljs.core.seq(coll))};
cljs.core.PersistentArrayMap.prototype.values=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.vals.call(null,coll))};cljs.core.PersistentArrayMap.prototype.has=function(k){var self__=this;var coll=this;return cljs.core.contains_QMARK_(coll,k)};
cljs.core.PersistentArrayMap.prototype.get=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentArrayMap.prototype.forEach=function(f){var self__=this;var coll=this;var seq__10134=cljs.core.seq(coll);var chunk__10135=null;var count__10136=0;var i__10137=0;while(true){if(i__10137<count__10136){var vec__10138=chunk__10135.cljs$core$IIndexed$_nth$arity$2(null,i__10137);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10138,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10138,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,
v,k);var G__10147=seq__10134;var G__10148=chunk__10135;var G__10149=count__10136;var G__10150=i__10137+1;seq__10134=G__10147;chunk__10135=G__10148;count__10136=G__10149;i__10137=G__10150;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10134);if(temp__4657__auto__){var seq__10134__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10134__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10134__$1);var G__10151=cljs.core.chunk_rest(seq__10134__$1);var G__10152=c__6959__auto__;var G__10153=
cljs.core.count(c__6959__auto__);var G__10154=0;seq__10134=G__10151;chunk__10135=G__10152;count__10136=G__10153;i__10137=G__10154;continue}else{var vec__10139=cljs.core.first(seq__10134__$1);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10139,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10139,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,v,k);var G__10155=cljs.core.next(seq__10134__$1);var G__10156=null;var G__10157=0;var G__10158=
0;seq__10134=G__10155;chunk__10135=G__10156;count__10136=G__10157;i__10137=G__10158;continue}}else return null}break}};cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};
cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of(coll__$1,k);if(idx===-1)return not_found;else return self__.arr[idx+1]};
cljs.core.PersistentArrayMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var len=self__.arr.length;var i=0;var init__$1=init;while(true){if(i<len){var init__$2=function(){var G__10140=init__$1;var G__10141=self__.arr[i];var G__10142=self__.arr[i+1];return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__10140,G__10141,G__10142):f.call(null,G__10140,G__10141,G__10142)}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?
cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10159=i+2;var G__10160=init__$2;i=G__10159;init__$1=G__10160;continue}}else return init__$1;break}};cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$=true;cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$_iterator$arity$1=function(this$){var self__=this;var this$__$1=this;return new cljs.core.PersistentArrayMapIterator(self__.arr,0,self__.cnt*2)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentArrayMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt,self__.arr,self__.__hash)};cljs.core.PersistentArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentArrayMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;if(!(other==null)?other.cljs$lang$protocol_mask$partition0$&1024||other.cljs$core$IMap$?true:false:false){var alen=self__.arr.length;var other__$1=other;if(self__.cnt===other__$1.cljs$core$ICounted$_count$arity$1(null)){var i=0;while(true){if(i<alen){var v=other__$1.cljs$core$ILookup$_lookup$arity$3(null,self__.arr[i],cljs.core.lookup_sentinel);if(!(v===cljs.core.lookup_sentinel))if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.arr[i+
1],v)){var G__10161=i+2;i=G__10161;continue}else return false;else return false}else return true;break}}else return false}else return cljs.core.equiv_map(coll__$1,other)};cljs.core.PersistentArrayMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientArrayMap({},self__.arr.length,cljs.core.aclone(self__.arr))};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._with_meta(cljs.core.PersistentArrayMap.EMPTY,self__.meta)};cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of(coll__$1,k);if(idx>=0){var len=self__.arr.length;var new_len=len-2;if(new_len===0)return cljs.core._empty(coll__$1);else{var new_arr=new Array(new_len);var s=0;var d=0;while(true){if(s>=len)return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt-1,new_arr,null);else if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(k,self__.arr[s])){var G__10162=
s+2;var G__10163=d;s=G__10162;d=G__10163;continue}else{new_arr[d]=self__.arr[s];new_arr[d+1]=self__.arr[s+1];var G__10164=s+2;var G__10165=d+2;s=G__10164;d=G__10165;continue}break}}}else return coll__$1};
cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of(coll__$1,k);if(idx===-1)if(self__.cnt<cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){var arr__$1=cljs.core.array_map_extend_kv(coll__$1,k,v);return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt+1,arr__$1,null)}else return cljs.core._with_meta(cljs.core._assoc(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY,
coll__$1),k,v),self__.meta);else if(v===self__.arr[idx+1])return coll__$1;else{var arr__$1=function(){var G__10146=cljs.core.aclone(self__.arr);G__10146[idx+1]=v;return G__10146}();return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt,arr__$1,null)}};cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;return!(cljs.core.array_map_index_of(coll__$1,k)===-1)};
cljs.core.PersistentArrayMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.persistent_array_map_seq(self__.arr,0,null)};cljs.core.PersistentArrayMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentArrayMap(meta__$1,self__.cnt,self__.arr,self__.__hash)};
cljs.core.PersistentArrayMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_(entry))return cljs.core._assoc(coll__$1,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,1));else{var ret=coll__$1;var es=cljs.core.seq(entry);while(true){if(es==null)return ret;else{var e=cljs.core.first(es);if(cljs.core.vector_QMARK_(e)){var G__10166=cljs.core._assoc(ret,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,
0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,1));var G__10167=cljs.core.next(es);ret=G__10166;es=G__10167;continue}else throw new Error("conj on a map takes map entries or seqables of map entries");}break}}};
cljs.core.PersistentArrayMap.prototype.call=function(){var G__10168=null;var G__10168__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10168__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10168=function(self__,k,not_found){switch(arguments.length){case 2:return G__10168__2.call(this,self__,k);case 3:return G__10168__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10168.cljs$core$IFn$_invoke$arity$2=G__10168__2;G__10168.cljs$core$IFn$_invoke$arity$3=G__10168__3;return G__10168}();cljs.core.PersistentArrayMap.prototype.apply=function(self__,args10133){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10133)))};
cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentArrayMap.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.PersistentArrayMap.cljs$lang$type=true;cljs.core.PersistentArrayMap.cljs$lang$ctorStr="cljs.core/PersistentArrayMap";cljs.core.PersistentArrayMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentArrayMap")};cljs.core.__GT_PersistentArrayMap=function cljs$core$__GT_PersistentArrayMap(meta,cnt,arr,__hash){return new cljs.core.PersistentArrayMap(meta,cnt,arr,__hash)};
cljs.core.PersistentArrayMap.EMPTY=new cljs.core.PersistentArrayMap(null,0,[],cljs.core.empty_unordered_hash);cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD=8;
cljs.core.PersistentArrayMap.fromArray=function(arr,no_clone,no_check){var arr__$1=no_clone?arr:cljs.core.aclone(arr);var arr__$2=no_check?arr__$1:function(){var ret=[];var i_10169=0;while(true){if(i_10169<arr__$1.length){var k_10170=arr__$1[i_10169];var v_10171=arr__$1[i_10169+1];var idx_10172=cljs.core.array_index_of(ret,k_10170);if(idx_10172===-1){ret.push(k_10170);ret.push(v_10171)}else;var G__10173=i_10169+2;i_10169=G__10173;continue}else;break}return ret}();var cnt=arr__$2.length/2;return new cljs.core.PersistentArrayMap(null,
cnt,arr__$2,null)};cljs.core.PersistentArrayMap.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.TransientArrayMap=function(editable_QMARK_,len,arr){this.editable_QMARK_=editable_QMARK_;this.len=len;this.arr=arr;this.cljs$lang$protocol_mask$partition0$=258;this.cljs$lang$protocol_mask$partition1$=56};
cljs.core.TransientArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_))return cljs.core.quot(self__.len,2);else throw new Error("count after persistent!");};cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,k){var self__=this;var tcoll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(tcoll__$1,k,null)};
cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,k,not_found){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of(tcoll__$1,k);if(idx===-1)return not_found;else return self__.arr[idx+1]}else throw new Error("lookup after persistent!");};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_))if(!(o==null)?o.cljs$lang$protocol_mask$partition0$&2048||o.cljs$core$IMapEntry$?true:!o.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,o):false:cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,o))return cljs.core._assoc_BANG_(tcoll__$1,cljs.core.key.cljs$core$IFn$_invoke$arity$1?
cljs.core.key.cljs$core$IFn$_invoke$arity$1(o):cljs.core.key.call(null,o),cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(o):cljs.core.val.call(null,o));else{var es=cljs.core.seq(o);var tcoll__$2=tcoll__$1;while(true){var temp__4655__auto__=cljs.core.first(es);if(cljs.core.truth_(temp__4655__auto__)){var e=temp__4655__auto__;var G__10176=cljs.core.next(es);var G__10177=cljs.core._assoc_BANG_(tcoll__$2,cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(e):
cljs.core.key.call(null,e),cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(e):cljs.core.val.call(null,e));es=G__10176;tcoll__$2=G__10177;continue}else return tcoll__$2;break}}else throw new Error("conj! after persistent!");};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){self__.editable_QMARK_=false;return new cljs.core.PersistentArrayMap(null,cljs.core.quot(self__.len,2),self__.arr,null)}else throw new Error("persistent! called twice");};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of(tcoll__$1,key);if(idx===-1)if(self__.len+2<=2*cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){self__.len=self__.len+2;self__.arr.push(key);self__.arr.push(val);return tcoll__$1}else return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2?
cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2(self__.len,self__.arr):cljs.core.array__GT_transient_hash_map.call(null,self__.len,self__.arr),key,val);else if(val===self__.arr[idx+1])return tcoll__$1;else{self__.arr[idx+1]=val;return tcoll__$1}}else throw new Error("assoc! after persistent!");};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(tcoll,key){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of(tcoll__$1,key);if(idx>=0){self__.arr[idx]=self__.arr[self__.len-2];self__.arr[idx+1]=self__.arr[self__.len-1];var G__10175_10178=self__.arr;G__10175_10178.pop();G__10175_10178.pop();self__.len=self__.len-2}else;return tcoll__$1}else throw new Error("dissoc! after persistent!");};
cljs.core.TransientArrayMap.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"editable?","editable?",-164945806,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"len","len",-1230778691,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),
true],null)),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)};cljs.core.TransientArrayMap.cljs$lang$type=true;cljs.core.TransientArrayMap.cljs$lang$ctorStr="cljs.core/TransientArrayMap";cljs.core.TransientArrayMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/TransientArrayMap")};
cljs.core.__GT_TransientArrayMap=function cljs$core$__GT_TransientArrayMap(editable_QMARK_,len,arr){return new cljs.core.TransientArrayMap(editable_QMARK_,len,arr)};
cljs.core.array__GT_transient_hash_map=function cljs$core$array__GT_transient_hash_map(len,arr){var out=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);var i=0;while(true){if(i<len){var G__10179=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out,arr[i],arr[i+1]);var G__10180=i+2;out=G__10179;i=G__10180;continue}else return out;break}};cljs.core.Box=function(val){this.val=val};
cljs.core.Box.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.Box.cljs$lang$type=true;cljs.core.Box.cljs$lang$ctorStr="cljs.core/Box";
cljs.core.Box.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Box")};cljs.core.__GT_Box=function cljs$core$__GT_Box(val){return new cljs.core.Box(val)};cljs.core.key_test=function cljs$core$key_test(key,other){if(key===other)return true;else if(cljs.core.keyword_identical_QMARK_(key,other))return true;else return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(key,other)};
cljs.core.mask=function cljs$core$mask(hash,shift){return hash>>>shift&31};
cljs.core.clone_and_set=function cljs$core$clone_and_set(var_args){var args10181=[];var len__7214__auto___10186=arguments.length;var i__7215__auto___10187=0;while(true){if(i__7215__auto___10187<len__7214__auto___10186){args10181.push(arguments[i__7215__auto___10187]);var G__10188=i__7215__auto___10187+1;i__7215__auto___10187=G__10188;continue}else;break}var G__10183=args10181.length;switch(G__10183){case 3:return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);
break;case 5:return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10181.length)].join(""));}};cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3=function(arr,i,a){var G__10184=cljs.core.aclone(arr);G__10184[i]=a;return G__10184};
cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5=function(arr,i,a,j,b){var G__10185=cljs.core.aclone(arr);G__10185[i]=a;G__10185[j]=b;return G__10185};cljs.core.clone_and_set.cljs$lang$maxFixedArity=5;cljs.core.remove_pair=function cljs$core$remove_pair(arr,i){var new_arr=new Array(arr.length-2);cljs.core.array_copy(arr,0,new_arr,0,2*i);cljs.core.array_copy(arr,2*(i+1),new_arr,2*i,new_arr.length-2*i);return new_arr};
cljs.core.bitmap_indexed_node_index=function cljs$core$bitmap_indexed_node_index(bitmap,bit){return cljs.core.bit_count(bitmap&bit-1)};cljs.core.bitpos=function cljs$core$bitpos(hash,shift){return 1<<(hash>>>shift&31)};
cljs.core.edit_and_set=function cljs$core$edit_and_set(var_args){var args10190=[];var len__7214__auto___10193=arguments.length;var i__7215__auto___10194=0;while(true){if(i__7215__auto___10194<len__7214__auto___10193){args10190.push(arguments[i__7215__auto___10194]);var G__10195=i__7215__auto___10194+1;i__7215__auto___10194=G__10195;continue}else;break}var G__10192=args10190.length;switch(G__10192){case 4:return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],
arguments[3]);break;case 6:return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10190.length)].join(""));}};cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4=function(inode,edit,i,a){var editable=inode.ensure_editable(edit);editable.arr[i]=a;return editable};
cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6=function(inode,edit,i,a,j,b){var editable=inode.ensure_editable(edit);editable.arr[i]=a;editable.arr[j]=b;return editable};cljs.core.edit_and_set.cljs$lang$maxFixedArity=6;
cljs.core.inode_kv_reduce=function cljs$core$inode_kv_reduce(arr,f,init){var len=arr.length;var i=0;var init__$1=init;while(true){if(i<len){var init__$2=function(){var k=arr[i];if(!(k==null)){var G__10200=init__$1;var G__10201=k;var G__10202=arr[i+1];return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__10200,G__10201,G__10202):f.call(null,G__10200,G__10201,G__10202)}else{var node=arr[i+1];if(!(node==null))return node.kv_reduce(f,init__$1);else return init__$1}}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?
cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10203=i+2;var G__10204=init__$2;i=G__10203;init__$1=G__10204;continue}}else return init__$1;break}};cljs.core.NodeIterator=function(arr,i,next_entry,next_iter){this.arr=arr;this.i=i;this.next_entry=next_entry;this.next_iter=next_iter};
cljs.core.NodeIterator.prototype.advance=function(){var self__=this;var this$=this;var len=self__.arr.length;while(true){if(self__.i<len){var key=self__.arr[self__.i];var node_or_val=self__.arr[self__.i+1];var found=cljs.core.some_QMARK_(key)?self__.next_entry=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[key,node_or_val],null):cljs.core.some_QMARK_(node_or_val)?function(){var new_iter=cljs.core._iterator(node_or_val);if(new_iter.hasNext())return self__.next_iter=
new_iter;else return false}():false;self__.i=self__.i+2;if(found)return true;else continue}else return false;break}};cljs.core.NodeIterator.prototype.hasNext=function(){var self__=this;var this$=this;var or__6156__auto__=cljs.core.some_QMARK_(self__.next_entry);if(or__6156__auto__)return or__6156__auto__;else{var or__6156__auto____$1=cljs.core.some_QMARK_(self__.next_iter);if(or__6156__auto____$1)return or__6156__auto____$1;else return this$.advance()}};
cljs.core.NodeIterator.prototype.next=function(){var self__=this;var this$=this;if(cljs.core.some_QMARK_(self__.next_entry)){var ret=self__.next_entry;self__.next_entry=null;return ret}else if(cljs.core.some_QMARK_(self__.next_iter)){var ret=self__.next_iter.next();if(self__.next_iter.hasNext());else self__.next_iter=null;return ret}else if(this$.advance())return this$.next();else throw new Error("No such element");};cljs.core.NodeIterator.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.NodeIterator.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"next-entry","next-entry",1091342476,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"next-iter","next-iter",1526626239,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.NodeIterator.cljs$lang$type=true;cljs.core.NodeIterator.cljs$lang$ctorStr="cljs.core/NodeIterator";
cljs.core.NodeIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/NodeIterator")};cljs.core.__GT_NodeIterator=function cljs$core$__GT_NodeIterator(arr,i,next_entry,next_iter){return new cljs.core.NodeIterator(arr,i,next_entry,next_iter)};cljs.core.BitmapIndexedNode=function(edit,bitmap,arr){this.edit=edit;this.bitmap=bitmap;this.arr=arr};
cljs.core.BitmapIndexedNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else{var n=cljs.core.bit_count(self__.bitmap);var new_arr=new Array(n<0?4:2*(n+1));cljs.core.array_copy(self__.arr,0,new_arr,0,2*n);return new cljs.core.BitmapIndexedNode(e,self__.bitmap,new_arr)}};
cljs.core.BitmapIndexedNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return inode;else{var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_without_BANG_(edit__$1,shift+5,hash,key,removed_leaf_QMARK_);if(n===val_or_node)return inode;else if(!(n==null))return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,
edit__$1,2*idx+1,n);else if(self__.bitmap===bit)return null;else return inode.edit_and_remove_pair(edit__$1,bit,idx)}else if(cljs.core.key_test(key,key_or_nil)){removed_leaf_QMARK_[0]=true;return inode.edit_and_remove_pair(edit__$1,bit,idx)}else return inode}};
cljs.core.BitmapIndexedNode.prototype.edit_and_remove_pair=function(e,bit,i){var self__=this;var inode=this;if(self__.bitmap===bit)return null;else{var editable=inode.ensure_editable(e);var earr=editable.arr;var len=earr.length;editable.bitmap=bit^editable.bitmap;cljs.core.array_copy(earr,2*(i+1),earr,2*i,len-2*(i+1));earr[len-2]=null;earr[len-1]=null;return editable}};
cljs.core.BitmapIndexedNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(self__.arr):cljs.core.create_inode_seq.call(null,self__.arr)};cljs.core.BitmapIndexedNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;return cljs.core.inode_kv_reduce(self__.arr,f,init)};
cljs.core.BitmapIndexedNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return not_found;else{var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null)return val_or_node.inode_lookup(shift+5,hash,key,not_found);else if(cljs.core.key_test(key,key_or_nil))return val_or_node;else return not_found}};
cljs.core.BitmapIndexedNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);if((self__.bitmap&bit)===0){var n=cljs.core.bit_count(self__.bitmap);if(2*n<self__.arr.length){var editable=inode.ensure_editable(edit__$1);var earr=editable.arr;added_leaf_QMARK_.val=true;cljs.core.array_copy_downward(earr,2*idx,earr,2*(idx+1),2*(n-idx));earr[2*idx]=
key;earr[2*idx+1]=val;editable.bitmap=editable.bitmap|bit;return editable}else if(n>=16){var nodes=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var jdx=hash>>>shift&31;nodes[jdx]=cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_);var i_10218=0;var j_10219=0;while(true){if(i_10218<32)if((self__.bitmap>>>i_10218&1)===0){var G__10220=i_10218+
1;var G__10221=j_10219;i_10218=G__10220;j_10219=G__10221;continue}else{nodes[i_10218]=!(self__.arr[j_10219]==null)?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,cljs.core.hash(self__.arr[j_10219]),self__.arr[j_10219],self__.arr[j_10219+1],added_leaf_QMARK_):self__.arr[j_10219+1];var G__10222=i_10218+1;var G__10223=j_10219+2;i_10218=G__10222;j_10219=G__10223;continue}else;break}return new cljs.core.ArrayNode(edit__$1,n+1,nodes)}else{var new_arr=new Array(2*(n+4));cljs.core.array_copy(self__.arr,
0,new_arr,0,2*idx);new_arr[2*idx]=key;new_arr[2*idx+1]=val;cljs.core.array_copy(self__.arr,2*idx,new_arr,2*(idx+1),2*(n-idx));added_leaf_QMARK_.val=true;var editable=inode.ensure_editable(edit__$1);editable.arr=new_arr;editable.bitmap=editable.bitmap|bit;return editable}}else{var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_);if(n===val_or_node)return inode;else return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,
edit__$1,2*idx+1,n)}else if(cljs.core.key_test(key,key_or_nil))if(val===val_or_node)return inode;else return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,2*idx+1,val);else{added_leaf_QMARK_.val=true;return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(inode,edit__$1,2*idx,null,2*idx+1,function(){var G__10205=edit__$1;var G__10206=shift+5;var G__10207=key_or_nil;var G__10208=val_or_node;var G__10209=hash;var G__10210=key;var G__10211=val;return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7?
cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(G__10205,G__10206,G__10207,G__10208,G__10209,G__10210,G__10211):cljs.core.create_node.call(null,G__10205,G__10206,G__10207,G__10208,G__10209,G__10210,G__10211)}())}}};
cljs.core.BitmapIndexedNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);if((self__.bitmap&bit)===0){var n=cljs.core.bit_count(self__.bitmap);if(n>=16){var nodes=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var jdx=hash>>>shift&31;nodes[jdx]=
cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);var i_10224=0;var j_10225=0;while(true){if(i_10224<32)if((self__.bitmap>>>i_10224&1)===0){var G__10226=i_10224+1;var G__10227=j_10225;i_10224=G__10226;j_10225=G__10227;continue}else{nodes[i_10224]=!(self__.arr[j_10225]==null)?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,cljs.core.hash(self__.arr[j_10225]),self__.arr[j_10225],self__.arr[j_10225+1],added_leaf_QMARK_):self__.arr[j_10225+1];var G__10228=i_10224+
1;var G__10229=j_10225+2;i_10224=G__10228;j_10225=G__10229;continue}else;break}return new cljs.core.ArrayNode(null,n+1,nodes)}else{var new_arr=new Array(2*(n+1));cljs.core.array_copy(self__.arr,0,new_arr,0,2*idx);new_arr[2*idx]=key;new_arr[2*idx+1]=val;cljs.core.array_copy(self__.arr,2*idx,new_arr,2*(idx+1),2*(n-idx));added_leaf_QMARK_.val=true;return new cljs.core.BitmapIndexedNode(null,self__.bitmap|bit,new_arr)}}else{var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==
null){var n=val_or_node.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);if(n===val_or_node)return inode;else return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,2*idx+1,n))}else if(cljs.core.key_test(key,key_or_nil))if(val===val_or_node)return inode;else return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,2*idx+1,val));else{added_leaf_QMARK_.val=true;return new cljs.core.BitmapIndexedNode(null,
self__.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(self__.arr,2*idx,null,2*idx+1,function(){var G__10212=shift+5;var G__10213=key_or_nil;var G__10214=val_or_node;var G__10215=hash;var G__10216=key;var G__10217=val;return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6?cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(G__10212,G__10213,G__10214,G__10215,G__10216,G__10217):cljs.core.create_node.call(null,G__10212,G__10213,G__10214,G__10215,G__10216,G__10217)}()))}}};
cljs.core.BitmapIndexedNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return not_found;else{var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null)return val_or_node.inode_find(shift+5,hash,key,not_found);else if(cljs.core.key_test(key,key_or_nil))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[key_or_nil,val_or_node],null);else return not_found}};
cljs.core.BitmapIndexedNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return inode;else{var idx=cljs.core.bitmap_indexed_node_index(self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_without(shift+5,hash,key);if(n===val_or_node)return inode;else if(!(n==null))return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,
2*idx+1,n));else if(self__.bitmap===bit)return null;else return new cljs.core.BitmapIndexedNode(null,self__.bitmap^bit,cljs.core.remove_pair(self__.arr,idx))}else if(cljs.core.key_test(key,key_or_nil))return new cljs.core.BitmapIndexedNode(null,self__.bitmap^bit,cljs.core.remove_pair(self__.arr,idx));else return inode}};cljs.core.BitmapIndexedNode.prototype.cljs$core$IIterable$=true;
cljs.core.BitmapIndexedNode.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.NodeIterator(self__.arr,0,null,null)};
cljs.core.BitmapIndexedNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),cljs.core.with_meta(new cljs.core.Symbol(null,"bitmap","bitmap",501334601,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.BitmapIndexedNode.cljs$lang$type=true;cljs.core.BitmapIndexedNode.cljs$lang$ctorStr="cljs.core/BitmapIndexedNode";cljs.core.BitmapIndexedNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/BitmapIndexedNode")};
cljs.core.__GT_BitmapIndexedNode=function cljs$core$__GT_BitmapIndexedNode(edit,bitmap,arr){return new cljs.core.BitmapIndexedNode(edit,bitmap,arr)};cljs.core.BitmapIndexedNode.EMPTY=new cljs.core.BitmapIndexedNode(null,0,[]);
cljs.core.pack_array_node=function cljs$core$pack_array_node(array_node,edit,idx){var arr=array_node.arr;var len=arr.length;var new_arr=new Array(2*(array_node.cnt-1));var i=0;var j=1;var bitmap=0;while(true){if(i<len)if(!(i===idx)&&!(arr[i]==null)){new_arr[j]=arr[i];var G__10230=i+1;var G__10231=j+2;var G__10232=bitmap|1<<i;i=G__10230;j=G__10231;bitmap=G__10232;continue}else{var G__10233=i+1;var G__10234=j;var G__10235=bitmap;i=G__10233;j=G__10234;bitmap=G__10235;continue}else return new cljs.core.BitmapIndexedNode(edit,
bitmap,new_arr);break}};cljs.core.ArrayNodeIterator=function(arr,i,next_iter){this.arr=arr;this.i=i;this.next_iter=next_iter};
cljs.core.ArrayNodeIterator.prototype.hasNext=function(){var self__=this;var this$=this;var len=self__.arr.length;while(true){if(!(cljs.core.some_QMARK_(self__.next_iter)&&self__.next_iter.hasNext()))if(self__.i<len){var node=self__.arr[self__.i];self__.i=self__.i+1;if(cljs.core.some_QMARK_(node))self__.next_iter=cljs.core._iterator(node);else;continue}else return false;else return true;break}};
cljs.core.ArrayNodeIterator.prototype.next=function(){var self__=this;var this$=this;if(this$.hasNext())return self__.next_iter.next();else throw new Error("No such element");};cljs.core.ArrayNodeIterator.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.ArrayNodeIterator.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"next-iter","next-iter",1526626239,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.ArrayNodeIterator.cljs$lang$type=true;cljs.core.ArrayNodeIterator.cljs$lang$ctorStr="cljs.core/ArrayNodeIterator";cljs.core.ArrayNodeIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayNodeIterator")};
cljs.core.__GT_ArrayNodeIterator=function cljs$core$__GT_ArrayNodeIterator(arr,i,next_iter){return new cljs.core.ArrayNodeIterator(arr,i,next_iter)};cljs.core.ArrayNode=function(edit,cnt,arr){this.edit=edit;this.cnt=cnt;this.arr=arr};cljs.core.ArrayNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else return new cljs.core.ArrayNode(e,self__.cnt,cljs.core.aclone(self__.arr))};
cljs.core.ArrayNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null)return inode;else{var n=node.inode_without_BANG_(edit__$1,shift+5,hash,key,removed_leaf_QMARK_);if(n===node)return inode;else if(n==null)if(self__.cnt<=8)return cljs.core.pack_array_node(inode,edit__$1,idx);else{var editable=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,idx,n);editable.cnt=
editable.cnt-1;return editable}else return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,idx,n)}};cljs.core.ArrayNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(self__.arr):cljs.core.create_array_node_seq.call(null,self__.arr)};
cljs.core.ArrayNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;var len=self__.arr.length;var i=0;var init__$1=init;while(true){if(i<len){var node=self__.arr[i];if(!(node==null)){var init__$2=node.kv_reduce(f,init__$1);if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var G__10236=i+1;var G__10237=init__$2;i=G__10236;init__$1=G__10237;continue}}else{var G__10238=
i+1;var G__10239=init__$1;i=G__10238;init__$1=G__10239;continue}}else return init__$1;break}};cljs.core.ArrayNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null))return node.inode_lookup(shift+5,hash,key,not_found);else return not_found};
cljs.core.ArrayNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null){var editable=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,idx,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_));editable.cnt=editable.cnt+1;return editable}else{var n=node.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_);
if(n===node)return inode;else return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,idx,n)}};
cljs.core.ArrayNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null)return new cljs.core.ArrayNode(null,self__.cnt+1,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,idx,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_)));else{var n=node.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);if(n===node)return inode;else return new cljs.core.ArrayNode(null,
self__.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,idx,n))}};cljs.core.ArrayNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null))return node.inode_find(shift+5,hash,key,not_found);else return not_found};
cljs.core.ArrayNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null)){var n=node.inode_without(shift+5,hash,key);if(n===node)return inode;else if(n==null)if(self__.cnt<=8)return cljs.core.pack_array_node(inode,null,idx);else return new cljs.core.ArrayNode(null,self__.cnt-1,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,idx,n));else return new cljs.core.ArrayNode(null,self__.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,
idx,n))}else return inode};cljs.core.ArrayNode.prototype.cljs$core$IIterable$=true;cljs.core.ArrayNode.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.ArrayNodeIterator(self__.arr,0,null)};
cljs.core.ArrayNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),cljs.core.with_meta(new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.ArrayNode.cljs$lang$type=true;cljs.core.ArrayNode.cljs$lang$ctorStr="cljs.core/ArrayNode";cljs.core.ArrayNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayNode")};cljs.core.__GT_ArrayNode=function cljs$core$__GT_ArrayNode(edit,cnt,arr){return new cljs.core.ArrayNode(edit,cnt,arr)};
cljs.core.hash_collision_node_find_index=function cljs$core$hash_collision_node_find_index(arr,cnt,key){var lim=2*cnt;var i=0;while(true){if(i<lim)if(cljs.core.key_test(key,arr[i]))return i;else{var G__10240=i+2;i=G__10240;continue}else return-1;break}};cljs.core.HashCollisionNode=function(edit,collision_hash,cnt,arr){this.edit=edit;this.collision_hash=collision_hash;this.cnt=cnt;this.arr=arr};
cljs.core.HashCollisionNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else{var new_arr=new Array(2*(self__.cnt+1));cljs.core.array_copy(self__.arr,0,new_arr,0,2*self__.cnt);return new cljs.core.HashCollisionNode(e,self__.collision_hash,self__.cnt,new_arr)}};
cljs.core.HashCollisionNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx===-1)return inode;else{removed_leaf_QMARK_[0]=true;if(self__.cnt===1)return null;else{var editable=inode.ensure_editable(edit__$1);var earr=editable.arr;earr[idx]=earr[2*self__.cnt-2];earr[idx+1]=earr[2*self__.cnt-1];earr[2*self__.cnt-1]=null;earr[2*self__.cnt-2]=null;editable.cnt=
editable.cnt-1;return editable}}};cljs.core.HashCollisionNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(self__.arr):cljs.core.create_inode_seq.call(null,self__.arr)};cljs.core.HashCollisionNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;return cljs.core.inode_kv_reduce(self__.arr,f,init)};
cljs.core.HashCollisionNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx<0)return not_found;else if(cljs.core.key_test(key,self__.arr[idx]))return self__.arr[idx+1];else return not_found};
cljs.core.HashCollisionNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;if(hash===self__.collision_hash){var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx===-1)if(self__.arr.length>2*self__.cnt){var editable=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(inode,edit__$1,2*self__.cnt,key,2*self__.cnt+1,val);added_leaf_QMARK_.val=true;editable.cnt=editable.cnt+1;return editable}else{var len=
self__.arr.length;var new_arr=new Array(len+2);cljs.core.array_copy(self__.arr,0,new_arr,0,len);new_arr[len]=key;new_arr[len+1]=val;added_leaf_QMARK_.val=true;return inode.ensure_editable_array(edit__$1,self__.cnt+1,new_arr)}else if(self__.arr[idx+1]===val)return inode;else return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(inode,edit__$1,idx+1,val)}else return(new cljs.core.BitmapIndexedNode(edit__$1,1<<(self__.collision_hash>>>shift&31),[null,inode,null,null])).inode_assoc_BANG_(edit__$1,
shift,hash,key,val,added_leaf_QMARK_)};
cljs.core.HashCollisionNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;if(hash===self__.collision_hash){var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx===-1){var len=2*self__.cnt;var new_arr=new Array(len+2);cljs.core.array_copy(self__.arr,0,new_arr,0,len);new_arr[len]=key;new_arr[len+1]=val;added_leaf_QMARK_.val=true;return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt+1,new_arr)}else if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.arr[idx],
val))return inode;else return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(self__.arr,idx+1,val))}else return(new cljs.core.BitmapIndexedNode(null,1<<(self__.collision_hash>>>shift&31),[null,inode])).inode_assoc(shift,hash,key,val,added_leaf_QMARK_)};
cljs.core.HashCollisionNode.prototype.ensure_editable_array=function(e,count,array){var self__=this;var inode=this;if(e===self__.edit){self__.arr=array;self__.cnt=count;return inode}else return new cljs.core.HashCollisionNode(self__.edit,self__.collision_hash,count,array)};
cljs.core.HashCollisionNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx<0)return not_found;else if(cljs.core.key_test(key,self__.arr[idx]))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.arr[idx],self__.arr[idx+1]],null);else return not_found};
cljs.core.HashCollisionNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index(self__.arr,self__.cnt,key);if(idx===-1)return inode;else if(self__.cnt===1)return null;else return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt-1,cljs.core.remove_pair(self__.arr,cljs.core.quot(idx,2)))};cljs.core.HashCollisionNode.prototype.cljs$core$IIterable$=true;
cljs.core.HashCollisionNode.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.NodeIterator(self__.arr,0,null,null)};
cljs.core.HashCollisionNode.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),cljs.core.with_meta(new cljs.core.Symbol(null,"collision-hash","collision-hash",-35831342,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.PersistentArrayMap(null,
1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.HashCollisionNode.cljs$lang$type=true;cljs.core.HashCollisionNode.cljs$lang$ctorStr="cljs.core/HashCollisionNode";
cljs.core.HashCollisionNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/HashCollisionNode")};cljs.core.__GT_HashCollisionNode=function cljs$core$__GT_HashCollisionNode(edit,collision_hash,cnt,arr){return new cljs.core.HashCollisionNode(edit,collision_hash,cnt,arr)};
cljs.core.create_node=function cljs$core$create_node(var_args){var args10241=[];var len__7214__auto___10244=arguments.length;var i__7215__auto___10245=0;while(true){if(i__7215__auto___10245<len__7214__auto___10244){args10241.push(arguments[i__7215__auto___10245]);var G__10246=i__7215__auto___10245+1;i__7215__auto___10245=G__10246;continue}else;break}var G__10243=args10241.length;switch(G__10243){case 6:return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5]);break;case 7:return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10241.length)].join(""));}};
cljs.core.create_node.cljs$core$IFn$_invoke$arity$6=function(shift,key1,val1,key2hash,key2,val2){var key1hash=cljs.core.hash(key1);if(key1hash===key2hash)return new cljs.core.HashCollisionNode(null,key1hash,2,[key1,val1,key2,val2]);else{var added_leaf_QMARK_=new cljs.core.Box(false);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift,key1hash,key1,val1,added_leaf_QMARK_).inode_assoc(shift,key2hash,key2,val2,added_leaf_QMARK_)}};
cljs.core.create_node.cljs$core$IFn$_invoke$arity$7=function(edit,shift,key1,val1,key2hash,key2,val2){var key1hash=cljs.core.hash(key1);if(key1hash===key2hash)return new cljs.core.HashCollisionNode(null,key1hash,2,[key1,val1,key2,val2]);else{var added_leaf_QMARK_=new cljs.core.Box(false);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit,shift,key1hash,key1,val1,added_leaf_QMARK_).inode_assoc_BANG_(edit,shift,key2hash,key2,val2,added_leaf_QMARK_)}};
cljs.core.create_node.cljs$lang$maxFixedArity=7;cljs.core.NodeSeq=function(meta,nodes,i,s,__hash){this.meta=meta;this.nodes=nodes;this.i=i;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32374860;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.NodeSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.NodeSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.NodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.NodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.NodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.NodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.NodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.s==null)return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.nodes[self__.i],self__.nodes[self__.i+1]],null);else return cljs.core.first(self__.s)};
cljs.core.NodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.s==null){var G__10248=self__.nodes;var G__10249=self__.i+2;var G__10250=null;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(G__10248,G__10249,G__10250):cljs.core.create_inode_seq.call(null,G__10248,G__10249,G__10250)}else{var G__10251=self__.nodes;var G__10252=self__.i;var G__10253=cljs.core.next(self__.s);return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3?
cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(G__10251,G__10252,G__10253):cljs.core.create_inode_seq.call(null,G__10251,G__10252,G__10253)}};cljs.core.NodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};cljs.core.NodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.NodeSeq(meta__$1,self__.nodes,self__.i,self__.s,self__.__hash)};
cljs.core.NodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.NodeSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"nodes","nodes",-459054278,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"s","s",-948495851,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable",
"mutable",875778266),true],null))],null)};cljs.core.NodeSeq.cljs$lang$type=true;cljs.core.NodeSeq.cljs$lang$ctorStr="cljs.core/NodeSeq";cljs.core.NodeSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/NodeSeq")};cljs.core.__GT_NodeSeq=function cljs$core$__GT_NodeSeq(meta,nodes,i,s,__hash){return new cljs.core.NodeSeq(meta,nodes,i,s,__hash)};
cljs.core.NodeSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.create_inode_seq=function cljs$core$create_inode_seq(var_args){var args10254=[];var len__7214__auto___10257=arguments.length;var i__7215__auto___10258=0;while(true){if(i__7215__auto___10258<len__7214__auto___10257){args10254.push(arguments[i__7215__auto___10258]);var G__10259=i__7215__auto___10258+1;i__7215__auto___10258=G__10259;continue}else;break}var G__10256=args10254.length;switch(G__10256){case 1:return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 3:return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10254.length)].join(""));}};cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1=function(nodes){return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(nodes,0,null)};
cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3=function(nodes,i,s){if(s==null){var len=nodes.length;var j=i;while(true){if(j<len)if(!(nodes[j]==null))return new cljs.core.NodeSeq(null,nodes,j,null,null);else{var temp__4655__auto__=nodes[j+1];if(cljs.core.truth_(temp__4655__auto__)){var node=temp__4655__auto__;var temp__4655__auto____$1=node.inode_seq();if(cljs.core.truth_(temp__4655__auto____$1)){var node_seq=temp__4655__auto____$1;return new cljs.core.NodeSeq(null,nodes,j+2,node_seq,null)}else{var G__10261=
j+2;j=G__10261;continue}}else{var G__10262=j+2;j=G__10262;continue}}else return null;break}}else return new cljs.core.NodeSeq(null,nodes,i,s,null)};cljs.core.create_inode_seq.cljs$lang$maxFixedArity=3;cljs.core.ArrayNodeSeq=function(meta,nodes,i,s,__hash){this.meta=meta;this.nodes=nodes;this.i=i;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32374860;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.ArrayNodeSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.ArrayNodeSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.ArrayNodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first(self__.s)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var G__10263=null;var G__10264=self__.nodes;var G__10265=self__.i;var G__10266=cljs.core.next(self__.s);return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(G__10263,G__10264,G__10265,G__10266):cljs.core.create_array_node_seq.call(null,G__10263,G__10264,G__10265,G__10266)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};cljs.core.ArrayNodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.ArrayNodeSeq(meta__$1,self__.nodes,self__.i,self__.s,self__.__hash)};cljs.core.ArrayNodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.ArrayNodeSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"nodes","nodes",-459054278,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"s","s",-948495851,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable",
"mutable",875778266),true],null))],null)};cljs.core.ArrayNodeSeq.cljs$lang$type=true;cljs.core.ArrayNodeSeq.cljs$lang$ctorStr="cljs.core/ArrayNodeSeq";cljs.core.ArrayNodeSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayNodeSeq")};cljs.core.__GT_ArrayNodeSeq=function cljs$core$__GT_ArrayNodeSeq(meta,nodes,i,s,__hash){return new cljs.core.ArrayNodeSeq(meta,nodes,i,s,__hash)};
cljs.core.ArrayNodeSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.create_array_node_seq=function cljs$core$create_array_node_seq(var_args){var args10267=[];var len__7214__auto___10270=arguments.length;var i__7215__auto___10271=0;while(true){if(i__7215__auto___10271<len__7214__auto___10270){args10267.push(arguments[i__7215__auto___10271]);var G__10272=i__7215__auto___10271+1;i__7215__auto___10271=G__10272;continue}else;break}var G__10269=args10267.length;switch(G__10269){case 1:return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 4:return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10267.length)].join(""));}};cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1=function(nodes){return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(null,nodes,0,null)};
cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4=function(meta,nodes,i,s){if(s==null){var len=nodes.length;var j=i;while(true){if(j<len){var temp__4655__auto__=nodes[j];if(cljs.core.truth_(temp__4655__auto__)){var nj=temp__4655__auto__;var temp__4655__auto____$1=nj.inode_seq();if(cljs.core.truth_(temp__4655__auto____$1)){var ns=temp__4655__auto____$1;return new cljs.core.ArrayNodeSeq(meta,nodes,j+1,ns,null)}else{var G__10274=j+1;j=G__10274;continue}}else{var G__10275=j+1;j=G__10275;continue}}else return null;
break}}else return new cljs.core.ArrayNodeSeq(meta,nodes,i,s,null)};cljs.core.create_array_node_seq.cljs$lang$maxFixedArity=4;cljs.core.HashMapIter=function(nil_val,root_iter,seen){this.nil_val=nil_val;this.root_iter=root_iter;this.seen=seen};cljs.core.HashMapIter.prototype.hasNext=function(){var self__=this;var _=this;return self__.seen&&self__.root_iter.hasNext()};cljs.core.HashMapIter.prototype.next=function(){var self__=this;var _=this;if(!self__.seen){self__.seen=true;return self__.nil_val}else return self__.root_iter.next()};
cljs.core.HashMapIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};
cljs.core.HashMapIter.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"nil-val","nil-val",-513933559,null),new cljs.core.Symbol(null,"root-iter","root-iter",1974672108,null),cljs.core.with_meta(new cljs.core.Symbol(null,"seen","seen",1121531738,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.HashMapIter.cljs$lang$type=true;
cljs.core.HashMapIter.cljs$lang$ctorStr="cljs.core/HashMapIter";cljs.core.HashMapIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/HashMapIter")};cljs.core.__GT_HashMapIter=function cljs$core$__GT_HashMapIter(nil_val,root_iter,seen){return new cljs.core.HashMapIter(nil_val,root_iter,seen)};
cljs.core.PersistentHashMap=function(meta,cnt,root,has_nil_QMARK_,nil_val,__hash){this.meta=meta;this.cnt=cnt;this.root=root;this.has_nil_QMARK_=has_nil_QMARK_;this.nil_val=nil_val;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16123663;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentHashMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.PersistentHashMap.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentHashMap.prototype.keys=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.keys.call(null,coll))};cljs.core.PersistentHashMap.prototype.entries=function(){var self__=this;var coll=this;return cljs.core.es6_entries_iterator(cljs.core.seq(coll))};
cljs.core.PersistentHashMap.prototype.values=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.vals.call(null,coll))};cljs.core.PersistentHashMap.prototype.has=function(k){var self__=this;var coll=this;return cljs.core.contains_QMARK_(coll,k)};
cljs.core.PersistentHashMap.prototype.get=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentHashMap.prototype.forEach=function(f){var self__=this;var coll=this;var seq__10277=cljs.core.seq(coll);var chunk__10278=null;var count__10279=0;var i__10280=0;while(true){if(i__10280<count__10279){var vec__10281=chunk__10278.cljs$core$IIndexed$_nth$arity$2(null,i__10280);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10281,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10281,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,
v,k);var G__10285=seq__10277;var G__10286=chunk__10278;var G__10287=count__10279;var G__10288=i__10280+1;seq__10277=G__10285;chunk__10278=G__10286;count__10279=G__10287;i__10280=G__10288;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10277);if(temp__4657__auto__){var seq__10277__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10277__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10277__$1);var G__10289=cljs.core.chunk_rest(seq__10277__$1);var G__10290=c__6959__auto__;var G__10291=
cljs.core.count(c__6959__auto__);var G__10292=0;seq__10277=G__10289;chunk__10278=G__10290;count__10279=G__10291;i__10280=G__10292;continue}else{var vec__10282=cljs.core.first(seq__10277__$1);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10282,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10282,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,v,k);var G__10293=cljs.core.next(seq__10277__$1);var G__10294=null;var G__10295=0;var G__10296=
0;seq__10277=G__10293;chunk__10278=G__10294;count__10279=G__10295;i__10280=G__10296;continue}}else return null}break}};cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};
cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return not_found;else if(self__.root==null)return not_found;else return self__.root.inode_lookup(0,cljs.core.hash(k),k,not_found)};
cljs.core.PersistentHashMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var init__$1=self__.has_nil_QMARK_?f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(init,null,self__.nil_val):f.call(null,init,null,self__.nil_val):init;if(cljs.core.reduced_QMARK_(init__$1))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$1):cljs.core.deref.call(null,init__$1);else if(!(self__.root==
null))return self__.root.kv_reduce(f,init__$1);else return init__$1};cljs.core.PersistentHashMap.prototype.cljs$core$IIterable$=true;cljs.core.PersistentHashMap.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;var root_iter=self__.root?cljs.core._iterator(self__.root):cljs.core.nil_iter;if(self__.has_nil_QMARK_)return new cljs.core.HashMapIter(self__.nil_val,root_iter,false);else return root_iter};
cljs.core.PersistentHashMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentHashMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentHashMap(self__.meta,self__.cnt,self__.root,self__.has_nil_QMARK_,self__.nil_val,self__.__hash)};
cljs.core.PersistentHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};cljs.core.PersistentHashMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentHashMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map(coll__$1,other)};cljs.core.PersistentHashMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientHashMap({},self__.root,self__.cnt,self__.has_nil_QMARK_,self__.nil_val)};
cljs.core.PersistentHashMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._with_meta(cljs.core.PersistentHashMap.EMPTY,self__.meta)};
cljs.core.PersistentHashMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return new cljs.core.PersistentHashMap(self__.meta,self__.cnt-1,self__.root,false,null,null);else return coll__$1;else if(self__.root==null)return coll__$1;else{var new_root=self__.root.inode_without(0,cljs.core.hash(k),k);if(new_root===self__.root)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,self__.cnt-1,new_root,self__.has_nil_QMARK_,
self__.nil_val,null)}};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_&&v===self__.nil_val)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,self__.has_nil_QMARK_?self__.cnt:self__.cnt+1,self__.root,true,v,null);else{var added_leaf_QMARK_=new cljs.core.Box(false);var new_root=(self__.root==null?cljs.core.BitmapIndexedNode.EMPTY:self__.root).inode_assoc(0,cljs.core.hash(k),k,v,added_leaf_QMARK_);
if(new_root===self__.root)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,added_leaf_QMARK_.val?self__.cnt+1:self__.cnt,new_root,self__.has_nil_QMARK_,self__.nil_val,null)}};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(k==null)return self__.has_nil_QMARK_;else if(self__.root==null)return false;else return!(self__.root.inode_lookup(0,cljs.core.hash(k),k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)};
cljs.core.PersistentHashMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0){var s=!(self__.root==null)?self__.root.inode_seq():null;if(self__.has_nil_QMARK_)return cljs.core.cons(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[null,self__.nil_val],null),s);else return s}else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashMap(meta__$1,self__.cnt,self__.root,self__.has_nil_QMARK_,self__.nil_val,self__.__hash)};
cljs.core.PersistentHashMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_(entry))return cljs.core._assoc(coll__$1,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,1));else{var ret=coll__$1;var es=cljs.core.seq(entry);while(true){if(es==null)return ret;else{var e=cljs.core.first(es);if(cljs.core.vector_QMARK_(e)){var G__10297=cljs.core._assoc(ret,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,
0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,1));var G__10298=cljs.core.next(es);ret=G__10297;es=G__10298;continue}else throw new Error("conj on a map takes map entries or seqables of map entries");}break}}};
cljs.core.PersistentHashMap.prototype.call=function(){var G__10299=null;var G__10299__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10299__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10299=function(self__,k,not_found){switch(arguments.length){case 2:return G__10299__2.call(this,self__,k);case 3:return G__10299__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10299.cljs$core$IFn$_invoke$arity$2=G__10299__2;G__10299.cljs$core$IFn$_invoke$arity$3=G__10299__3;return G__10299}();cljs.core.PersistentHashMap.prototype.apply=function(self__,args10276){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10276)))};
cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentHashMap.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"root","root",1191874074,null),cljs.core.with_meta(new cljs.core.Symbol(null,"has-nil?","has-nil?",825886722,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,
"boolean","boolean",-278886877,null)],null)),new cljs.core.Symbol(null,"nil-val","nil-val",-513933559,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.PersistentHashMap.cljs$lang$type=true;cljs.core.PersistentHashMap.cljs$lang$ctorStr="cljs.core/PersistentHashMap";
cljs.core.PersistentHashMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentHashMap")};cljs.core.__GT_PersistentHashMap=function cljs$core$__GT_PersistentHashMap(meta,cnt,root,has_nil_QMARK_,nil_val,__hash){return new cljs.core.PersistentHashMap(meta,cnt,root,has_nil_QMARK_,nil_val,__hash)};cljs.core.PersistentHashMap.EMPTY=new cljs.core.PersistentHashMap(null,0,null,false,null,cljs.core.empty_unordered_hash);
cljs.core.PersistentHashMap.fromArray=function(arr,no_clone){var arr__$1=no_clone?arr:cljs.core.aclone(arr);var len=arr__$1.length;var i=0;var ret=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);while(true){if(i<len){var G__10300=i+2;var G__10301=cljs.core._assoc_BANG_(ret,arr__$1[i],arr__$1[i+1]);i=G__10300;ret=G__10301;continue}else return cljs.core._persistent_BANG_(ret);break}};
cljs.core.PersistentHashMap.fromArrays=function(ks,vs){var len=ks.length;var i=0;var out=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);while(true){if(i<len){var G__10302=i+1;var G__10303=out.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(null,ks[i],vs[i]);i=G__10302;out=G__10303;continue}else return cljs.core.persistent_BANG_(out);break}};cljs.core.PersistentHashMap.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.TransientHashMap=function(edit,root,count,has_nil_QMARK_,nil_val){this.edit=edit;this.root=root;this.count=count;this.has_nil_QMARK_=has_nil_QMARK_;this.nil_val=nil_val;this.cljs$lang$protocol_mask$partition0$=258;this.cljs$lang$protocol_mask$partition1$=56};
cljs.core.TransientHashMap.prototype.conj_BANG_=function(o){var self__=this;var tcoll=this;if(self__.edit)if(!(o==null)?o.cljs$lang$protocol_mask$partition0$&2048||o.cljs$core$IMapEntry$?true:!o.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,o):false:cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,o))return tcoll.assoc_BANG_(cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(o):cljs.core.key.call(null,o),cljs.core.val.cljs$core$IFn$_invoke$arity$1?
cljs.core.val.cljs$core$IFn$_invoke$arity$1(o):cljs.core.val.call(null,o));else{var es=cljs.core.seq(o);var tcoll__$1=tcoll;while(true){var temp__4655__auto__=cljs.core.first(es);if(cljs.core.truth_(temp__4655__auto__)){var e=temp__4655__auto__;var G__10305=cljs.core.next(es);var G__10306=tcoll__$1.assoc_BANG_(cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(e):cljs.core.key.call(null,e),cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(e):
cljs.core.val.call(null,e));es=G__10305;tcoll__$1=G__10306;continue}else return tcoll__$1;break}}else throw new Error("conj! after persistent");};
cljs.core.TransientHashMap.prototype.assoc_BANG_=function(k,v){var self__=this;var tcoll=this;if(self__.edit)if(k==null){if(self__.nil_val===v);else self__.nil_val=v;if(self__.has_nil_QMARK_);else{self__.count=self__.count+1;self__.has_nil_QMARK_=true}return tcoll}else{var added_leaf_QMARK_=new cljs.core.Box(false);var node=(self__.root==null?cljs.core.BitmapIndexedNode.EMPTY:self__.root).inode_assoc_BANG_(self__.edit,0,cljs.core.hash(k),k,v,added_leaf_QMARK_);if(node===self__.root);else self__.root=
node;if(added_leaf_QMARK_.val)self__.count=self__.count+1;else;return tcoll}else throw new Error("assoc! after persistent!");};
cljs.core.TransientHashMap.prototype.without_BANG_=function(k){var self__=this;var tcoll=this;if(self__.edit)if(k==null)if(self__.has_nil_QMARK_){self__.has_nil_QMARK_=false;self__.nil_val=null;self__.count=self__.count-1;return tcoll}else return tcoll;else if(self__.root==null)return tcoll;else{var removed_leaf_QMARK_=new cljs.core.Box(false);var node=self__.root.inode_without_BANG_(self__.edit,0,cljs.core.hash(k),k,removed_leaf_QMARK_);if(node===self__.root);else self__.root=node;if(cljs.core.truth_(removed_leaf_QMARK_[0]))self__.count=
self__.count-1;else;return tcoll}else throw new Error("dissoc! after persistent!");};cljs.core.TransientHashMap.prototype.persistent_BANG_=function(){var self__=this;var tcoll=this;if(self__.edit){self__.edit=null;return new cljs.core.PersistentHashMap(null,self__.count,self__.root,self__.has_nil_QMARK_,self__.nil_val,null)}else throw new Error("persistent! called twice");};
cljs.core.TransientHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.edit)return self__.count;else throw new Error("count after persistent!");};cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,k){var self__=this;var tcoll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return null;else if(self__.root==null)return null;else return self__.root.inode_lookup(0,cljs.core.hash(k),k)};
cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,k,not_found){var self__=this;var tcoll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return not_found;else if(self__.root==null)return not_found;else return self__.root.inode_lookup(0,cljs.core.hash(k),k,not_found)};cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,val){var self__=this;var tcoll__$1=this;return tcoll__$1.conj_BANG_(val)};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return tcoll__$1.persistent_BANG_()};cljs.core.TransientHashMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;return tcoll__$1.assoc_BANG_(key,val)};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(tcoll,key){var self__=this;var tcoll__$1=this;return tcoll__$1.without_BANG_(key)};
cljs.core.TransientHashMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"boolean","boolean",-278886877,null),new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"root","root",1191874074,
null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"has-nil?","has-nil?",825886722,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,
"boolean","boolean",-278886877,null),new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"nil-val","nil-val",-513933559,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.TransientHashMap.cljs$lang$type=true;cljs.core.TransientHashMap.cljs$lang$ctorStr="cljs.core/TransientHashMap";
cljs.core.TransientHashMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/TransientHashMap")};cljs.core.__GT_TransientHashMap=function cljs$core$__GT_TransientHashMap(edit,root,count,has_nil_QMARK_,nil_val){return new cljs.core.TransientHashMap(edit,root,count,has_nil_QMARK_,nil_val)};
cljs.core.tree_map_seq_push=function cljs$core$tree_map_seq_push(node,stack,ascending_QMARK_){var t=node;var stack__$1=stack;while(true){if(!(t==null)){var G__10307=ascending_QMARK_?t.left:t.right;var G__10308=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack__$1,t);t=G__10307;stack__$1=G__10308;continue}else return stack__$1;break}};
cljs.core.PersistentTreeMapSeq=function(meta,stack,ascending_QMARK_,cnt,__hash){this.meta=meta;this.stack=stack;this.ascending_QMARK_=ascending_QMARK_;this.cnt=cnt;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32374862;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.PersistentTreeMapSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};
cljs.core.PersistentTreeMapSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt<0)return cljs.core.count(cljs.core.next(coll__$1))+1;else return self__.cnt};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core.peek(self__.stack)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(this$){var self__=this;var this$__$1=this;var t=cljs.core.first(self__.stack);var next_stack=cljs.core.tree_map_seq_push(self__.ascending_QMARK_?t.right:t.left,cljs.core.next(self__.stack),self__.ascending_QMARK_);if(!(next_stack==null))return new cljs.core.PersistentTreeMapSeq(null,next_stack,self__.ascending_QMARK_,self__.cnt-1,null);else return cljs.core.List.EMPTY};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeMapSeq(meta__$1,self__.stack,self__.ascending_QMARK_,self__.cnt,self__.__hash)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.PersistentTreeMapSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"stack","stack",847125597,null),cljs.core.with_meta(new cljs.core.Symbol(null,"ascending?","ascending?",-1938452653,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"boolean","boolean",-278886877,null)],null)),
new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.PersistentTreeMapSeq.cljs$lang$type=true;cljs.core.PersistentTreeMapSeq.cljs$lang$ctorStr="cljs.core/PersistentTreeMapSeq";
cljs.core.PersistentTreeMapSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentTreeMapSeq")};cljs.core.__GT_PersistentTreeMapSeq=function cljs$core$__GT_PersistentTreeMapSeq(meta,stack,ascending_QMARK_,cnt,__hash){return new cljs.core.PersistentTreeMapSeq(meta,stack,ascending_QMARK_,cnt,__hash)};
cljs.core.PersistentTreeMapSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.create_tree_map_seq=function cljs$core$create_tree_map_seq(tree,ascending_QMARK_,cnt){return new cljs.core.PersistentTreeMapSeq(null,cljs.core.tree_map_seq_push(tree,null,ascending_QMARK_),ascending_QMARK_,cnt,null)};
cljs.core.balance_left=function cljs$core$balance_left(key,val,ins,right){if(ins instanceof cljs.core.RedNode)if(ins.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.key,ins.val,ins.left.blacken(),new cljs.core.BlackNode(key,val,ins.right,right,null),null);else if(ins.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.right.key,ins.right.val,new cljs.core.BlackNode(ins.key,ins.val,ins.left,ins.right.left,null),new cljs.core.BlackNode(key,val,ins.right.right,right,
null),null);else return new cljs.core.BlackNode(key,val,ins,right,null);else return new cljs.core.BlackNode(key,val,ins,right,null)};
cljs.core.balance_right=function cljs$core$balance_right(key,val,left,ins){if(ins instanceof cljs.core.RedNode)if(ins.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.key,ins.val,new cljs.core.BlackNode(key,val,left,ins.left,null),ins.right.blacken(),null);else if(ins.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.left.key,ins.left.val,new cljs.core.BlackNode(key,val,left,ins.left.left,null),new cljs.core.BlackNode(ins.key,ins.val,ins.left.right,ins.right,null),
null);else return new cljs.core.BlackNode(key,val,left,ins,null);else return new cljs.core.BlackNode(key,val,left,ins,null)};
cljs.core.balance_left_del=function cljs$core$balance_left_del(key,val,del,right){if(del instanceof cljs.core.RedNode)return new cljs.core.RedNode(key,val,del.blacken(),right,null);else if(right instanceof cljs.core.BlackNode)return cljs.core.balance_right(key,val,del,right.redden());else if(right instanceof cljs.core.RedNode&&right.left instanceof cljs.core.BlackNode)return new cljs.core.RedNode(right.left.key,right.left.val,new cljs.core.BlackNode(key,val,del,right.left.left,null),cljs.core.balance_right(right.key,
right.val,right.left.right,right.right.redden()),null);else throw new Error("red-black tree invariant violation");};
cljs.core.balance_right_del=function cljs$core$balance_right_del(key,val,left,del){if(del instanceof cljs.core.RedNode)return new cljs.core.RedNode(key,val,left,del.blacken(),null);else if(left instanceof cljs.core.BlackNode)return cljs.core.balance_left(key,val,left.redden(),del);else if(left instanceof cljs.core.RedNode&&left.right instanceof cljs.core.BlackNode)return new cljs.core.RedNode(left.right.key,left.right.val,cljs.core.balance_left(left.key,left.val,left.left.redden(),left.right.left),
new cljs.core.BlackNode(key,val,left.right.right,del,null),null);else throw new Error("red-black tree invariant violation");};
cljs.core.tree_map_kv_reduce=function cljs$core$tree_map_kv_reduce(node,f,init){var init__$1=!(node.left==null)?cljs$core$tree_map_kv_reduce(node.left,f,init):init;if(cljs.core.reduced_QMARK_(init__$1))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$1):cljs.core.deref.call(null,init__$1);else{var init__$2=function(){var G__10318=init__$1;var G__10319=node.key;var G__10320=node.val;return f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(G__10318,
G__10319,G__10320):f.call(null,G__10318,G__10319,G__10320)}();if(cljs.core.reduced_QMARK_(init__$2))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$2):cljs.core.deref.call(null,init__$2);else{var init__$3=!(node.right==null)?cljs$core$tree_map_kv_reduce(node.right,f,init__$2):init__$2;if(cljs.core.reduced_QMARK_(init__$3))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(init__$3):cljs.core.deref.call(null,
init__$3);else return init__$3}}};cljs.core.BlackNode=function(key,val,left,right,__hash){this.key=key;this.val=val;this.left=left;this.right=right;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32402207;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.BlackNode.prototype.add_right=function(ins){var self__=this;var node=this;return ins.balance_right(node)};
cljs.core.BlackNode.prototype.redden=function(){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,self__.right,null)};cljs.core.BlackNode.prototype.blacken=function(){var self__=this;var node=this;return node};cljs.core.BlackNode.prototype.add_left=function(ins){var self__=this;var node=this;return ins.balance_left(node)};
cljs.core.BlackNode.prototype.replace=function(key__$1,val__$1,left__$1,right__$1){var self__=this;var node=this;return new cljs.core.BlackNode(key__$1,val__$1,left__$1,right__$1,null)};cljs.core.BlackNode.prototype.balance_left=function(parent){var self__=this;var node=this;return new cljs.core.BlackNode(parent.key,parent.val,node,parent.right,null)};
cljs.core.BlackNode.prototype.balance_right=function(parent){var self__=this;var node=this;return new cljs.core.BlackNode(parent.key,parent.val,parent.left,node,null)};cljs.core.BlackNode.prototype.remove_left=function(del){var self__=this;var node=this;return cljs.core.balance_left_del(self__.key,self__.val,del,self__.right)};cljs.core.BlackNode.prototype.kv_reduce=function(f,init){var self__=this;var node=this;return cljs.core.tree_map_kv_reduce(node,f,init)};
cljs.core.BlackNode.prototype.remove_right=function(del){var self__=this;var node=this;return cljs.core.balance_right_del(self__.key,self__.val,self__.left,del)};cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(node,k){var self__=this;var node__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1,k,null)};
cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(node,k,not_found){var self__=this;var node__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1,k,not_found)};cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(node,n){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else return null};
cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(node,n,not_found){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else return not_found};cljs.core.BlackNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(node,n,v){var self__=this;var node__$1=this;return(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null)).cljs$core$IVector$_assoc_n$arity$3(null,n,v)};
cljs.core.BlackNode.prototype.cljs$core$IMeta$_meta$arity$1=function(node){var self__=this;var node__$1=this;return null};cljs.core.BlackNode.prototype.cljs$core$ICounted$_count$arity$1=function(node){var self__=this;var node__$1=this;return 2};cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(node){var self__=this;var node__$1=this;return self__.key};cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};
cljs.core.BlackNode.prototype.cljs$core$IStack$_peek$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};cljs.core.BlackNode.prototype.cljs$core$IStack$_pop$arity$1=function(node){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key],null)};
cljs.core.BlackNode.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.BlackNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.BlackNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core.PersistentVector.EMPTY};cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(node,f){var self__=this;var node__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(node__$1,f)};
cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(node,f,start){var self__=this;var node__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(node__$1,f,start)};cljs.core.BlackNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(node,k,v){var self__=this;var node__$1=this;return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),k,v)};
cljs.core.BlackNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY,self__.val),self__.key)};cljs.core.BlackNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(node,meta){var self__=this;var node__$1=this;return cljs.core.with_meta(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),meta)};
cljs.core.BlackNode.prototype.cljs$core$ICollection$_conj$arity$2=function(node,o){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val,o],null)};
cljs.core.BlackNode.prototype.call=function(){var G__10322=null;var G__10322__2=function(self__,k){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10322__3=function(self__,k,not_found){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10322=function(self__,k,not_found){switch(arguments.length){case 2:return G__10322__2.call(this,self__,k);case 3:return G__10322__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10322.cljs$core$IFn$_invoke$arity$2=G__10322__2;G__10322.cljs$core$IFn$_invoke$arity$3=G__10322__3;return G__10322}();cljs.core.BlackNode.prototype.apply=function(self__,args10321){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10321)))};
cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.BlackNode.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.BlackNode.cljs$lang$type=true;cljs.core.BlackNode.cljs$lang$ctorStr="cljs.core/BlackNode";cljs.core.BlackNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/BlackNode")};cljs.core.__GT_BlackNode=function cljs$core$__GT_BlackNode(key,val,left,right,__hash){return new cljs.core.BlackNode(key,val,left,right,__hash)};
cljs.core.BlackNode.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};cljs.core.RedNode=function(key,val,left,right,__hash){this.key=key;this.val=val;this.left=left;this.right=right;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32402207;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.RedNode.prototype.add_right=function(ins){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,ins,null)};cljs.core.RedNode.prototype.redden=function(){var self__=this;var node=this;throw new Error("red-black tree invariant violation");};cljs.core.RedNode.prototype.blacken=function(){var self__=this;var node=this;return new cljs.core.BlackNode(self__.key,self__.val,self__.left,self__.right,null)};
cljs.core.RedNode.prototype.add_left=function(ins){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,ins,self__.right,null)};cljs.core.RedNode.prototype.replace=function(key__$1,val__$1,left__$1,right__$1){var self__=this;var node=this;return new cljs.core.RedNode(key__$1,val__$1,left__$1,right__$1,null)};
cljs.core.RedNode.prototype.balance_left=function(parent){var self__=this;var node=this;if(self__.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.key,self__.val,self__.left.blacken(),new cljs.core.BlackNode(parent.key,parent.val,self__.right,parent.right,null),null);else if(self__.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.right.key,self__.right.val,new cljs.core.BlackNode(self__.key,self__.val,self__.left,self__.right.left,null),new cljs.core.BlackNode(parent.key,
parent.val,self__.right.right,parent.right,null),null);else return new cljs.core.BlackNode(parent.key,parent.val,node,parent.right,null)};
cljs.core.RedNode.prototype.balance_right=function(parent){var self__=this;var node=this;if(self__.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.key,self__.val,new cljs.core.BlackNode(parent.key,parent.val,parent.left,self__.left,null),self__.right.blacken(),null);else if(self__.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.left.key,self__.left.val,new cljs.core.BlackNode(parent.key,parent.val,parent.left,self__.left.left,null),new cljs.core.BlackNode(self__.key,
self__.val,self__.left.right,self__.right,null),null);else return new cljs.core.BlackNode(parent.key,parent.val,parent.left,node,null)};cljs.core.RedNode.prototype.remove_left=function(del){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,del,self__.right,null)};cljs.core.RedNode.prototype.kv_reduce=function(f,init){var self__=this;var node=this;return cljs.core.tree_map_kv_reduce(node,f,init)};
cljs.core.RedNode.prototype.remove_right=function(del){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,del,null)};cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(node,k){var self__=this;var node__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1,k,null)};
cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(node,k,not_found){var self__=this;var node__$1=this;return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(node__$1,k,not_found)};cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(node,n){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else return null};
cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(node,n,not_found){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else return not_found};cljs.core.RedNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(node,n,v){var self__=this;var node__$1=this;return(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null)).cljs$core$IVector$_assoc_n$arity$3(null,n,v)};
cljs.core.RedNode.prototype.cljs$core$IMeta$_meta$arity$1=function(node){var self__=this;var node__$1=this;return null};cljs.core.RedNode.prototype.cljs$core$ICounted$_count$arity$1=function(node){var self__=this;var node__$1=this;return 2};cljs.core.RedNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(node){var self__=this;var node__$1=this;return self__.key};cljs.core.RedNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};
cljs.core.RedNode.prototype.cljs$core$IStack$_peek$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};cljs.core.RedNode.prototype.cljs$core$IStack$_pop$arity$1=function(node){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key],null)};
cljs.core.RedNode.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.RedNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.RedNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core.PersistentVector.EMPTY};cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(node,f){var self__=this;var node__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(node__$1,f)};
cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(node,f,start){var self__=this;var node__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(node__$1,f,start)};cljs.core.RedNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(node,k,v){var self__=this;var node__$1=this;return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),k,v)};
cljs.core.RedNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY,self__.val),self__.key)};cljs.core.RedNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(node,meta){var self__=this;var node__$1=this;return cljs.core.with_meta(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),meta)};
cljs.core.RedNode.prototype.cljs$core$ICollection$_conj$arity$2=function(node,o){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val,o],null)};
cljs.core.RedNode.prototype.call=function(){var G__10324=null;var G__10324__2=function(self__,k){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10324__3=function(self__,k,not_found){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10324=function(self__,k,not_found){switch(arguments.length){case 2:return G__10324__2.call(this,self__,k);case 3:return G__10324__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10324.cljs$core$IFn$_invoke$arity$2=G__10324__2;G__10324.cljs$core$IFn$_invoke$arity$3=G__10324__3;return G__10324}();cljs.core.RedNode.prototype.apply=function(self__,args10323){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10323)))};
cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.RedNode.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable",
"mutable",875778266),true],null))],null)};cljs.core.RedNode.cljs$lang$type=true;cljs.core.RedNode.cljs$lang$ctorStr="cljs.core/RedNode";cljs.core.RedNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/RedNode")};cljs.core.__GT_RedNode=function cljs$core$__GT_RedNode(key,val,left,right,__hash){return new cljs.core.RedNode(key,val,left,right,__hash)};
cljs.core.RedNode.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.tree_map_add=function cljs$core$tree_map_add(comp,tree,k,v,found){if(tree==null)return new cljs.core.RedNode(k,v,null,null,null);else{var c=function(){var G__10337=k;var G__10338=tree.key;return comp.cljs$core$IFn$_invoke$arity$2?comp.cljs$core$IFn$_invoke$arity$2(G__10337,G__10338):comp.call(null,G__10337,G__10338)}();if(c===0){found[0]=tree;return null}else if(c<0){var ins=cljs$core$tree_map_add(comp,tree.left,k,v,found);if(!(ins==null))return tree.add_left(ins);else return null}else{var ins=
cljs$core$tree_map_add(comp,tree.right,k,v,found);if(!(ins==null))return tree.add_right(ins);else return null}}};
cljs.core.tree_map_append=function cljs$core$tree_map_append(left,right){if(left==null)return right;else if(right==null)return left;else if(left instanceof cljs.core.RedNode)if(right instanceof cljs.core.RedNode){var app=cljs$core$tree_map_append(left.right,right.left);if(app instanceof cljs.core.RedNode)return new cljs.core.RedNode(app.key,app.val,new cljs.core.RedNode(left.key,left.val,left.left,app.left,null),new cljs.core.RedNode(right.key,right.val,app.right,right.right,null),null);else return new cljs.core.RedNode(left.key,
left.val,left.left,new cljs.core.RedNode(right.key,right.val,app,right.right,null),null)}else return new cljs.core.RedNode(left.key,left.val,left.left,cljs$core$tree_map_append(left.right,right),null);else if(right instanceof cljs.core.RedNode)return new cljs.core.RedNode(right.key,right.val,cljs$core$tree_map_append(left,right.left),right.right,null);else{var app=cljs$core$tree_map_append(left.right,right.left);if(app instanceof cljs.core.RedNode)return new cljs.core.RedNode(app.key,app.val,new cljs.core.BlackNode(left.key,
left.val,left.left,app.left,null),new cljs.core.BlackNode(right.key,right.val,app.right,right.right,null),null);else return cljs.core.balance_left_del(left.key,left.val,left.left,new cljs.core.BlackNode(right.key,right.val,app,right.right,null))}};
cljs.core.tree_map_remove=function cljs$core$tree_map_remove(comp,tree,k,found){if(!(tree==null)){var c=function(){var G__10357=k;var G__10358=tree.key;return comp.cljs$core$IFn$_invoke$arity$2?comp.cljs$core$IFn$_invoke$arity$2(G__10357,G__10358):comp.call(null,G__10357,G__10358)}();if(c===0){found[0]=tree;return cljs.core.tree_map_append(tree.left,tree.right)}else if(c<0){var del=cljs$core$tree_map_remove(comp,tree.left,k,found);if(!(del==null)||!(found[0]==null))if(tree.left instanceof cljs.core.BlackNode)return cljs.core.balance_left_del(tree.key,
tree.val,del,tree.right);else return new cljs.core.RedNode(tree.key,tree.val,del,tree.right,null);else return null}else{var del=cljs$core$tree_map_remove(comp,tree.right,k,found);if(!(del==null)||!(found[0]==null))if(tree.right instanceof cljs.core.BlackNode)return cljs.core.balance_right_del(tree.key,tree.val,tree.left,del);else return new cljs.core.RedNode(tree.key,tree.val,tree.left,del,null);else return null}}else return null};
cljs.core.tree_map_replace=function cljs$core$tree_map_replace(comp,tree,k,v){var tk=tree.key;var c=comp.cljs$core$IFn$_invoke$arity$2?comp.cljs$core$IFn$_invoke$arity$2(k,tk):comp.call(null,k,tk);if(c===0)return tree.replace(tk,v,tree.left,tree.right);else if(c<0)return tree.replace(tk,tree.val,cljs$core$tree_map_replace(comp,tree.left,k,v),tree.right);else return tree.replace(tk,tree.val,tree.left,cljs$core$tree_map_replace(comp,tree.right,k,v))};
cljs.core.PersistentTreeMap=function(comp,tree,cnt,meta,__hash){this.comp=comp;this.tree=tree;this.cnt=cnt;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=418776847;this.cljs$lang$protocol_mask$partition1$=8192};
cljs.core.PersistentTreeMap.prototype.forEach=function(f){var self__=this;var coll=this;var seq__10368=cljs.core.seq(coll);var chunk__10369=null;var count__10370=0;var i__10371=0;while(true){if(i__10371<count__10370){var vec__10372=chunk__10369.cljs$core$IIndexed$_nth$arity$2(null,i__10371);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10372,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10372,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,
v,k);var G__10378=seq__10368;var G__10379=chunk__10369;var G__10380=count__10370;var G__10381=i__10371+1;seq__10368=G__10378;chunk__10369=G__10379;count__10370=G__10380;i__10371=G__10381;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10368);if(temp__4657__auto__){var seq__10368__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10368__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10368__$1);var G__10382=cljs.core.chunk_rest(seq__10368__$1);var G__10383=c__6959__auto__;var G__10384=
cljs.core.count(c__6959__auto__);var G__10385=0;seq__10368=G__10382;chunk__10369=G__10383;count__10370=G__10384;i__10371=G__10385;continue}else{var vec__10373=cljs.core.first(seq__10368__$1);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10373,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10373,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,v,k);var G__10386=cljs.core.next(seq__10368__$1);var G__10387=null;var G__10388=0;var G__10389=
0;seq__10368=G__10386;chunk__10369=G__10387;count__10370=G__10388;i__10371=G__10389;continue}}else return null}break}};cljs.core.PersistentTreeMap.prototype.get=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.PersistentTreeMap.prototype.entries=function(){var self__=this;var coll=this;return cljs.core.es6_entries_iterator(cljs.core.seq(coll))};
cljs.core.PersistentTreeMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentTreeMap.prototype.keys=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.keys.call(null,coll))};
cljs.core.PersistentTreeMap.prototype.values=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(coll):cljs.core.vals.call(null,coll))};cljs.core.PersistentTreeMap.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.PersistentTreeMap.prototype.entry_at=function(k){var self__=this;var coll=this;var t=self__.tree;while(true){if(!(t==null)){var c=function(){var G__10374=k;var G__10375=t.key;return self__.comp.cljs$core$IFn$_invoke$arity$2?self__.comp.cljs$core$IFn$_invoke$arity$2(G__10374,G__10375):self__.comp.call(null,G__10374,G__10375)}();if(c===0)return t;else if(c<0){var G__10390=t.left;t=G__10390;continue}else{var G__10391=t.right;t=G__10391;continue}}else return null;break}};
cljs.core.PersistentTreeMap.prototype.has=function(k){var self__=this;var coll=this;return cljs.core.contains_QMARK_(coll,k)};cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,k,null)};
cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;var n=coll__$1.entry_at(k);if(!(n==null))return n.val;else return not_found};cljs.core.PersistentTreeMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;if(!(self__.tree==null))return cljs.core.tree_map_kv_reduce(self__.tree,f,init);else return init};
cljs.core.PersistentTreeMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentTreeMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentTreeMap(self__.comp,self__.tree,self__.cnt,self__.meta,self__.__hash)};cljs.core.PersistentTreeMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentTreeMap.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq(self__.tree,false,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.PersistentTreeMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map(coll__$1,other)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeMap(self__.comp,null,0,self__.meta,0)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;var found=[null];var t=cljs.core.tree_map_remove(self__.comp,self__.tree,k,found);if(t==null)if(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(found,0)==null)return coll__$1;else return new cljs.core.PersistentTreeMap(self__.comp,null,0,self__.meta,null);else return new cljs.core.PersistentTreeMap(self__.comp,t.blacken(),self__.cnt-1,self__.meta,null)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;var found=[null];var t=cljs.core.tree_map_add(self__.comp,self__.tree,k,v,found);if(t==null){var found_node=cljs.core.nth.cljs$core$IFn$_invoke$arity$2(found,0);if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(v,found_node.val))return coll__$1;else return new cljs.core.PersistentTreeMap(self__.comp,cljs.core.tree_map_replace(self__.comp,self__.tree,k,v),self__.cnt,self__.meta,
null)}else return new cljs.core.PersistentTreeMap(self__.comp,t.blacken(),self__.cnt+1,self__.meta,null)};cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;return!(coll__$1.entry_at(k)==null)};cljs.core.PersistentTreeMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq(self__.tree,true,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeMap(self__.comp,self__.tree,self__.cnt,meta__$1,self__.__hash)};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_(entry))return cljs.core._assoc(coll__$1,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(entry,1));else{var ret=coll__$1;var es=cljs.core.seq(entry);while(true){if(es==null)return ret;else{var e=cljs.core.first(es);if(cljs.core.vector_QMARK_(e)){var G__10392=cljs.core._assoc(ret,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,
0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(e,1));var G__10393=cljs.core.next(es);ret=G__10392;es=G__10393;continue}else throw new Error("conj on a map takes map entries or seqables of map entries");}break}}};
cljs.core.PersistentTreeMap.prototype.call=function(){var G__10394=null;var G__10394__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10394__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10394=function(self__,k,not_found){switch(arguments.length){case 2:return G__10394__2.call(this,self__,k);case 3:return G__10394__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10394.cljs$core$IFn$_invoke$arity$2=G__10394__2;G__10394.cljs$core$IFn$_invoke$arity$3=G__10394__3;return G__10394}();cljs.core.PersistentTreeMap.prototype.apply=function(self__,args10367){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10367)))};
cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(coll,ascending_QMARK_){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq(self__.tree,ascending_QMARK_,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(coll,k,ascending_QMARK_){var self__=this;var coll__$1=this;if(self__.cnt>0){var stack=null;var t=self__.tree;while(true){if(!(t==null)){var c=function(){var G__10376=k;var G__10377=t.key;return self__.comp.cljs$core$IFn$_invoke$arity$2?self__.comp.cljs$core$IFn$_invoke$arity$2(G__10376,G__10377):self__.comp.call(null,G__10376,G__10377)}();if(c===0)return new cljs.core.PersistentTreeMapSeq(null,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack,
t),ascending_QMARK_,-1,null);else if(cljs.core.truth_(ascending_QMARK_))if(c<0){var G__10395=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack,t);var G__10396=t.left;stack=G__10395;t=G__10396;continue}else{var G__10397=stack;var G__10398=t.right;stack=G__10397;t=G__10398;continue}else if(c>0){var G__10399=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack,t);var G__10400=t.right;stack=G__10399;t=G__10400;continue}else{var G__10401=stack;var G__10402=t.left;stack=G__10401;t=G__10402;continue}}else if(stack==
null)return null;else return new cljs.core.PersistentTreeMapSeq(null,stack,ascending_QMARK_,-1,null);break}}else return null};cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_entry_key$arity$2=function(coll,entry){var self__=this;var coll__$1=this;return cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(entry):cljs.core.key.call(null,entry)};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_comparator$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.comp};
cljs.core.PersistentTreeMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"comp","comp",-1462482139,null),new cljs.core.Symbol(null,"tree","tree",1444219499,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.PersistentTreeMap.cljs$lang$type=true;cljs.core.PersistentTreeMap.cljs$lang$ctorStr="cljs.core/PersistentTreeMap";cljs.core.PersistentTreeMap.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentTreeMap")};
cljs.core.__GT_PersistentTreeMap=function cljs$core$__GT_PersistentTreeMap(comp,tree,cnt,meta,__hash){return new cljs.core.PersistentTreeMap(comp,tree,cnt,meta,__hash)};cljs.core.PersistentTreeMap.EMPTY=new cljs.core.PersistentTreeMap(cljs.core.compare,null,0,null,cljs.core.empty_unordered_hash);cljs.core.PersistentTreeMap.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.hash_map=function cljs$core$hash_map(var_args){var args__7221__auto__=[];var len__7214__auto___10404=arguments.length;var i__7215__auto___10405=0;while(true){if(i__7215__auto___10405<len__7214__auto___10404){args__7221__auto__.push(arguments[i__7215__auto___10405]);var G__10406=i__7215__auto___10405+1;i__7215__auto___10405=G__10406;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic=function(keyvals){var in$=cljs.core.seq(keyvals);var out=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);while(true){if(in$){var G__10407=cljs.core.nnext(in$);var G__10408=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(out,cljs.core.first(in$),cljs.core.second(in$));in$=G__10407;out=G__10408;continue}else return cljs.core.persistent_BANG_(out);break}};cljs.core.hash_map.cljs$lang$maxFixedArity=0;
cljs.core.hash_map.cljs$lang$applyTo=function(seq10403){return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10403))};
cljs.core.array_map=function cljs$core$array_map(var_args){var args__7221__auto__=[];var len__7214__auto___10410=arguments.length;var i__7215__auto___10411=0;while(true){if(i__7215__auto___10411<len__7214__auto___10410){args__7221__auto__.push(arguments[i__7215__auto___10411]);var G__10412=i__7215__auto___10411+1;i__7215__auto___10411=G__10412;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic=function(keyvals){var arr=keyvals instanceof cljs.core.IndexedSeq&&keyvals.i===0?keyvals.arr:cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(keyvals);return cljs.core.PersistentArrayMap.fromArray(arr,true,false)};cljs.core.array_map.cljs$lang$maxFixedArity=0;cljs.core.array_map.cljs$lang$applyTo=function(seq10409){return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10409))};
cljs.core.obj_map=function cljs$core$obj_map(var_args){var args__7221__auto__=[];var len__7214__auto___10416=arguments.length;var i__7215__auto___10417=0;while(true){if(i__7215__auto___10417<len__7214__auto___10416){args__7221__auto__.push(arguments[i__7215__auto___10417]);var G__10418=i__7215__auto___10417+1;i__7215__auto___10417=G__10418;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic=function(keyvals){var ks=[];var obj={};var kvs=cljs.core.seq(keyvals);while(true){if(kvs){ks.push(cljs.core.first(kvs));obj[cljs.core.first(kvs)]=cljs.core.second(kvs);var G__10419=cljs.core.nnext(kvs);kvs=G__10419;continue}else return cljs.core.ObjMap.fromObject(ks,obj);break}};cljs.core.obj_map.cljs$lang$maxFixedArity=0;cljs.core.obj_map.cljs$lang$applyTo=function(seq10413){return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10413))};
cljs.core.sorted_map=function cljs$core$sorted_map(var_args){var args__7221__auto__=[];var len__7214__auto___10421=arguments.length;var i__7215__auto___10422=0;while(true){if(i__7215__auto___10422<len__7214__auto___10421){args__7221__auto__.push(arguments[i__7215__auto___10422]);var G__10423=i__7215__auto___10422+1;i__7215__auto___10422=G__10423;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic=function(keyvals){var in$=cljs.core.seq(keyvals);var out=cljs.core.PersistentTreeMap.EMPTY;while(true){if(in$){var G__10424=cljs.core.nnext(in$);var G__10425=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(out,cljs.core.first(in$),cljs.core.second(in$));in$=G__10424;out=G__10425;continue}else return out;break}};cljs.core.sorted_map.cljs$lang$maxFixedArity=0;cljs.core.sorted_map.cljs$lang$applyTo=function(seq10420){return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10420))};
cljs.core.sorted_map_by=function cljs$core$sorted_map_by(var_args){var args__7221__auto__=[];var len__7214__auto___10428=arguments.length;var i__7215__auto___10429=0;while(true){if(i__7215__auto___10429<len__7214__auto___10428){args__7221__auto__.push(arguments[i__7215__auto___10429]);var G__10430=i__7215__auto___10429+1;i__7215__auto___10429=G__10430;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):null;return cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
argseq__7222__auto__)};cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic=function(comparator,keyvals){var in$=cljs.core.seq(keyvals);var out=new cljs.core.PersistentTreeMap(cljs.core.fn__GT_comparator(comparator),null,0,null,0);while(true){if(in$){var G__10431=cljs.core.nnext(in$);var G__10432=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(out,cljs.core.first(in$),cljs.core.second(in$));in$=G__10431;out=G__10432;continue}else return out;break}};
cljs.core.sorted_map_by.cljs$lang$maxFixedArity=1;cljs.core.sorted_map_by.cljs$lang$applyTo=function(seq10426){var G__10427=cljs.core.first(seq10426);var seq10426__$1=cljs.core.next(seq10426);return cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(G__10427,seq10426__$1)};cljs.core.KeySeq=function(mseq,_meta){this.mseq=mseq;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=32374988;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.KeySeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.KeySeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.KeySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.KeySeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=(!(self__.mseq==null)?self__.mseq.cljs$lang$protocol_mask$partition0$&128||self__.mseq.cljs$core$INext$?true:!self__.mseq.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq):false:cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq))?self__.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(self__.mseq);if(nseq==null)return null;
else return new cljs.core.KeySeq(nseq,self__._meta)};cljs.core.KeySeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_ordered_coll(coll__$1)};cljs.core.KeySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.KeySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__._meta)};cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.KeySeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;var me=self__.mseq.cljs$core$ISeq$_first$arity$1(null);return me.cljs$core$IMapEntry$_key$arity$1(null)};
cljs.core.KeySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=(!(self__.mseq==null)?self__.mseq.cljs$lang$protocol_mask$partition0$&128||self__.mseq.cljs$core$INext$?true:!self__.mseq.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq):false:cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq))?self__.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(self__.mseq);if(!(nseq==null))return new cljs.core.KeySeq(nseq,
self__._meta);else return cljs.core.List.EMPTY};cljs.core.KeySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.KeySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.KeySeq(self__.mseq,new_meta)};cljs.core.KeySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.KeySeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"mseq","mseq",1602647196,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"not-native","not-native",-236392494,null)],null)),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)};cljs.core.KeySeq.cljs$lang$type=true;
cljs.core.KeySeq.cljs$lang$ctorStr="cljs.core/KeySeq";cljs.core.KeySeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/KeySeq")};cljs.core.__GT_KeySeq=function cljs$core$__GT_KeySeq(mseq,_meta){return new cljs.core.KeySeq(mseq,_meta)};cljs.core.KeySeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.keys=function cljs$core$keys(hash_map){var temp__4657__auto__=cljs.core.seq(hash_map);if(temp__4657__auto__){var mseq=temp__4657__auto__;return new cljs.core.KeySeq(mseq,null)}else return null};cljs.core.key=function cljs$core$key(map_entry){return cljs.core._key(map_entry)};cljs.core.ValSeq=function(mseq,_meta){this.mseq=mseq;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=32374988;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.ValSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.ValSeq.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.ValSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.ValSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=(!(self__.mseq==null)?self__.mseq.cljs$lang$protocol_mask$partition0$&128||self__.mseq.cljs$core$INext$?true:!self__.mseq.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq):false:cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq))?self__.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(self__.mseq);if(nseq==null)return null;
else return new cljs.core.ValSeq(nseq,self__._meta)};cljs.core.ValSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_ordered_coll(coll__$1)};cljs.core.ValSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential(coll__$1,other)};
cljs.core.ValSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__._meta)};cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(f,coll__$1)};
cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(f,start,coll__$1)};cljs.core.ValSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;var me=self__.mseq.cljs$core$ISeq$_first$arity$1(null);return me.cljs$core$IMapEntry$_val$arity$1(null)};
cljs.core.ValSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=(!(self__.mseq==null)?self__.mseq.cljs$lang$protocol_mask$partition0$&128||self__.mseq.cljs$core$INext$?true:!self__.mseq.cljs$lang$protocol_mask$partition0$?cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq):false:cljs.core.native_satisfies_QMARK_(cljs.core.INext,self__.mseq))?self__.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(self__.mseq);if(!(nseq==null))return new cljs.core.ValSeq(nseq,
self__._meta);else return cljs.core.List.EMPTY};cljs.core.ValSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.ValSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.ValSeq(self__.mseq,new_meta)};cljs.core.ValSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons(o,coll__$1)};
cljs.core.ValSeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"mseq","mseq",1602647196,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"not-native","not-native",-236392494,null)],null)),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)};cljs.core.ValSeq.cljs$lang$type=true;
cljs.core.ValSeq.cljs$lang$ctorStr="cljs.core/ValSeq";cljs.core.ValSeq.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ValSeq")};cljs.core.__GT_ValSeq=function cljs$core$__GT_ValSeq(mseq,_meta){return new cljs.core.ValSeq(mseq,_meta)};cljs.core.ValSeq.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.vals=function cljs$core$vals(hash_map){var temp__4657__auto__=cljs.core.seq(hash_map);if(temp__4657__auto__){var mseq=temp__4657__auto__;return new cljs.core.ValSeq(mseq,null)}else return null};cljs.core.val=function cljs$core$val(map_entry){return cljs.core._val(map_entry)};
cljs.core.merge=function cljs$core$merge(var_args){var args__7221__auto__=[];var len__7214__auto___10440=arguments.length;var i__7215__auto___10441=0;while(true){if(i__7215__auto___10441<len__7214__auto___10440){args__7221__auto__.push(arguments[i__7215__auto___10441]);var G__10442=i__7215__auto___10441+1;i__7215__auto___10441=G__10442;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic=function(maps){if(cljs.core.truth_(cljs.core.some(cljs.core.identity,maps)))return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(function(p1__10437_SHARP_,p2__10438_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(function(){var or__6156__auto__=p1__10437_SHARP_;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.PersistentArrayMap.EMPTY}(),p2__10438_SHARP_)},maps);else return null};
cljs.core.merge.cljs$lang$maxFixedArity=0;cljs.core.merge.cljs$lang$applyTo=function(seq10439){return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10439))};
cljs.core.merge_with=function cljs$core$merge_with(var_args){var args__7221__auto__=[];var len__7214__auto___10447=arguments.length;var i__7215__auto___10448=0;while(true){if(i__7215__auto___10448<len__7214__auto___10447){args__7221__auto__.push(arguments[i__7215__auto___10448]);var G__10449=i__7215__auto___10448+1;i__7215__auto___10448=G__10449;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):null;return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
argseq__7222__auto__)};
cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic=function(f,maps){if(cljs.core.truth_(cljs.core.some(cljs.core.identity,maps))){var merge_entry=function(m,e){var k=cljs.core.first(e);var v=cljs.core.second(e);if(cljs.core.contains_QMARK_(m,k))return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,function(){var G__10445=cljs.core.get.cljs$core$IFn$_invoke$arity$2(m,k);var G__10446=v;return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__10445,G__10446):f.call(null,G__10445,
G__10446)}());else return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,v)};var merge2=function(merge_entry){return function(m1,m2){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(merge_entry,function(){var or__6156__auto__=m1;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.PersistentArrayMap.EMPTY}(),cljs.core.seq(m2))}}(merge_entry);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(merge2,maps)}else return null};
cljs.core.merge_with.cljs$lang$maxFixedArity=1;cljs.core.merge_with.cljs$lang$applyTo=function(seq10443){var G__10444=cljs.core.first(seq10443);var seq10443__$1=cljs.core.next(seq10443);return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(G__10444,seq10443__$1)};
cljs.core.select_keys=function cljs$core$select_keys(map,keyseq){var ret=cljs.core.PersistentArrayMap.EMPTY;var keys=cljs.core.seq(keyseq);while(true){if(keys){var key=cljs.core.first(keys);var entry=cljs.core.get.cljs$core$IFn$_invoke$arity$3(map,key,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",-1572889185));var G__10450=cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(entry,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",-1572889185))?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret,
key,entry):ret;var G__10451=cljs.core.next(keys);ret=G__10450;keys=G__10451;continue}else return cljs.core.with_meta(ret,cljs.core.meta(map));break}};cljs.core.HashSetIter=function(iter){this.iter=iter};cljs.core.HashSetIter.prototype.hasNext=function(){var self__=this;var _=this;return self__.iter.hasNext()};cljs.core.HashSetIter.prototype.next=function(){var self__=this;var _=this;if(self__.iter.hasNext())return self__.iter.next().tail[0];else throw new Error("No such element");};
cljs.core.HashSetIter.prototype.remove=function(){var self__=this;var _=this;return new Error("Unsupported operation")};cljs.core.HashSetIter.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"iter","iter",-1346195486,null)],null)};cljs.core.HashSetIter.cljs$lang$type=true;cljs.core.HashSetIter.cljs$lang$ctorStr="cljs.core/HashSetIter";
cljs.core.HashSetIter.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/HashSetIter")};cljs.core.__GT_HashSetIter=function cljs$core$__GT_HashSetIter(iter){return new cljs.core.HashSetIter(iter)};cljs.core.PersistentHashSet=function(meta,hash_map,__hash){this.meta=meta;this.hash_map=hash_map;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=15077647;this.cljs$lang$protocol_mask$partition1$=8196};
cljs.core.PersistentHashSet.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentHashSet.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};cljs.core.PersistentHashSet.prototype.keys=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.seq(coll))};cljs.core.PersistentHashSet.prototype.entries=function(){var self__=this;var coll=this;return cljs.core.es6_set_entries_iterator(cljs.core.seq(coll))};
cljs.core.PersistentHashSet.prototype.values=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.seq(coll))};cljs.core.PersistentHashSet.prototype.has=function(k){var self__=this;var coll=this;return cljs.core.contains_QMARK_(coll,k)};
cljs.core.PersistentHashSet.prototype.forEach=function(f){var self__=this;var coll=this;var seq__10454=cljs.core.seq(coll);var chunk__10455=null;var count__10456=0;var i__10457=0;while(true){if(i__10457<count__10456){var vec__10458=chunk__10455.cljs$core$IIndexed$_nth$arity$2(null,i__10457);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10458,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10458,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,
v,k);var G__10460=seq__10454;var G__10461=chunk__10455;var G__10462=count__10456;var G__10463=i__10457+1;seq__10454=G__10460;chunk__10455=G__10461;count__10456=G__10462;i__10457=G__10463;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10454);if(temp__4657__auto__){var seq__10454__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10454__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10454__$1);var G__10464=cljs.core.chunk_rest(seq__10454__$1);var G__10465=c__6959__auto__;var G__10466=
cljs.core.count(c__6959__auto__);var G__10467=0;seq__10454=G__10464;chunk__10455=G__10465;count__10456=G__10466;i__10457=G__10467;continue}else{var vec__10459=cljs.core.first(seq__10454__$1);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10459,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10459,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,v,k);var G__10468=cljs.core.next(seq__10454__$1);var G__10469=null;var G__10470=0;var G__10471=
0;seq__10454=G__10468;chunk__10455=G__10469;count__10456=G__10470;i__10457=G__10471;continue}}else return null}break}};cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,v){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,v,null)};
cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,v,not_found){var self__=this;var coll__$1=this;if(cljs.core._contains_key_QMARK_(self__.hash_map,v))return v;else return not_found};cljs.core.PersistentHashSet.prototype.cljs$core$IIterable$=true;cljs.core.PersistentHashSet.prototype.cljs$core$IIterable$_iterator$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.HashSetIter(cljs.core._iterator(self__.hash_map))};
cljs.core.PersistentHashSet.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentHashSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentHashSet(self__.meta,self__.hash_map,self__.__hash)};cljs.core.PersistentHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._count(self__.hash_map)};
cljs.core.PersistentHashSet.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentHashSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.set_QMARK_(other)&&cljs.core.count(coll__$1)===cljs.core.count(other)&&cljs.core.every_QMARK_(function(coll__$1){return function(p1__10452_SHARP_){return cljs.core.contains_QMARK_(coll__$1,p1__10452_SHARP_)}}(coll__$1),other)};
cljs.core.PersistentHashSet.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientHashSet(cljs.core._as_transient(self__.hash_map))};cljs.core.PersistentHashSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta(cljs.core.PersistentHashSet.EMPTY,self__.meta)};
cljs.core.PersistentHashSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(coll,v){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(self__.meta,cljs.core._dissoc(self__.hash_map,v),null)};cljs.core.PersistentHashSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.keys(self__.hash_map)};
cljs.core.PersistentHashSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(meta__$1,self__.hash_map,self__.__hash)};cljs.core.PersistentHashSet.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(self__.meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.hash_map,o,null),null)};
cljs.core.PersistentHashSet.prototype.call=function(){var G__10472=null;var G__10472__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10472__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10472=function(self__,k,not_found){switch(arguments.length){case 2:return G__10472__2.call(this,self__,k);case 3:return G__10472__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10472.cljs$core$IFn$_invoke$arity$2=G__10472__2;G__10472.cljs$core$IFn$_invoke$arity$3=G__10472__3;return G__10472}();cljs.core.PersistentHashSet.prototype.apply=function(self__,args10453){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10453)))};
cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentHashSet.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"hash-map","hash-map",-439030950,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.PersistentHashSet.cljs$lang$type=true;cljs.core.PersistentHashSet.cljs$lang$ctorStr="cljs.core/PersistentHashSet";cljs.core.PersistentHashSet.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentHashSet")};cljs.core.__GT_PersistentHashSet=function cljs$core$__GT_PersistentHashSet(meta,hash_map,__hash){return new cljs.core.PersistentHashSet(meta,hash_map,__hash)};
cljs.core.PersistentHashSet.EMPTY=new cljs.core.PersistentHashSet(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.empty_unordered_hash);
cljs.core.PersistentHashSet.fromArray=function(items,no_clone){var len=items.length;if(len<=cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){var arr=no_clone?items:cljs.core.aclone(items);var i=0;var out=cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY);while(true){if(i<len){var G__10473=i+1;var G__10474=cljs.core._assoc_BANG_(out,items[i],null);i=G__10473;out=G__10474;continue}else return new cljs.core.PersistentHashSet(null,cljs.core._persistent_BANG_(out),null);break}}else{var i=0;var out=
cljs.core.transient$(cljs.core.PersistentHashSet.EMPTY);while(true){if(i<len){var G__10475=i+1;var G__10476=cljs.core._conj_BANG_(out,items[i]);i=G__10475;out=G__10476;continue}else return cljs.core._persistent_BANG_(out);break}}};cljs.core.PersistentHashSet.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.TransientHashSet=function(transient_map){this.transient_map=transient_map;this.cljs$lang$protocol_mask$partition1$=136;this.cljs$lang$protocol_mask$partition0$=259};cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;self__.transient_map=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(self__.transient_map,o,null);return tcoll__$1};
cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return new cljs.core.PersistentHashSet(null,cljs.core.persistent_BANG_(self__.transient_map),null)};cljs.core.TransientHashSet.prototype.cljs$core$ITransientSet$_disjoin_BANG_$arity$2=function(tcoll,v){var self__=this;var tcoll__$1=this;self__.transient_map=cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(self__.transient_map,v);return tcoll__$1};
cljs.core.TransientHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return cljs.core.count(self__.transient_map)};cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,v){var self__=this;var tcoll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(tcoll__$1,v,null)};
cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,v,not_found){var self__=this;var tcoll__$1=this;if(cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map,v,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return not_found;else return v};
cljs.core.TransientHashSet.prototype.call=function(){var G__10478=null;var G__10478__2=function(self__,k){var self__=this;var self____$1=this;var tcoll=self____$1;if(cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return null;else return k};var G__10478__3=function(self__,k,not_found){var self__=this;var self____$1=this;var tcoll=self____$1;if(cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map,k,cljs.core.lookup_sentinel)===
cljs.core.lookup_sentinel)return not_found;else return k};G__10478=function(self__,k,not_found){switch(arguments.length){case 2:return G__10478__2.call(this,self__,k);case 3:return G__10478__3.call(this,self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10478.cljs$core$IFn$_invoke$arity$2=G__10478__2;G__10478.cljs$core$IFn$_invoke$arity$3=G__10478__3;return G__10478}();
cljs.core.TransientHashSet.prototype.apply=function(self__,args10477){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10477)))};cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var tcoll=this;if(cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return null;else return k};
cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var tcoll=this;if(cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return not_found;else return k};
cljs.core.TransientHashSet.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"transient-map","transient-map",351764893,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.TransientHashSet.cljs$lang$type=true;cljs.core.TransientHashSet.cljs$lang$ctorStr="cljs.core/TransientHashSet";
cljs.core.TransientHashSet.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/TransientHashSet")};cljs.core.__GT_TransientHashSet=function cljs$core$__GT_TransientHashSet(transient_map){return new cljs.core.TransientHashSet(transient_map)};
cljs.core.PersistentTreeSet=function(meta,tree_map,__hash){this.meta=meta;this.tree_map=tree_map;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=417730831;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.PersistentTreeSet.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.PersistentTreeSet.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.PersistentTreeSet.prototype.keys=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.seq(coll))};cljs.core.PersistentTreeSet.prototype.entries=function(){var self__=this;var coll=this;return cljs.core.es6_set_entries_iterator(cljs.core.seq(coll))};cljs.core.PersistentTreeSet.prototype.values=function(){var self__=this;var coll=this;return cljs.core.es6_iterator(cljs.core.seq(coll))};
cljs.core.PersistentTreeSet.prototype.has=function(k){var self__=this;var coll=this;return cljs.core.contains_QMARK_(coll,k)};
cljs.core.PersistentTreeSet.prototype.forEach=function(f){var self__=this;var coll=this;var seq__10481=cljs.core.seq(coll);var chunk__10482=null;var count__10483=0;var i__10484=0;while(true){if(i__10484<count__10483){var vec__10485=chunk__10482.cljs$core$IIndexed$_nth$arity$2(null,i__10484);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10485,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10485,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,
v,k);var G__10487=seq__10481;var G__10488=chunk__10482;var G__10489=count__10483;var G__10490=i__10484+1;seq__10481=G__10487;chunk__10482=G__10488;count__10483=G__10489;i__10484=G__10490;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10481);if(temp__4657__auto__){var seq__10481__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10481__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10481__$1);var G__10491=cljs.core.chunk_rest(seq__10481__$1);var G__10492=c__6959__auto__;var G__10493=
cljs.core.count(c__6959__auto__);var G__10494=0;seq__10481=G__10491;chunk__10482=G__10492;count__10483=G__10493;i__10484=G__10494;continue}else{var vec__10486=cljs.core.first(seq__10481__$1);var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10486,0,null);var v=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10486,1,null);f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(v,k):f.call(null,v,k);var G__10495=cljs.core.next(seq__10481__$1);var G__10496=null;var G__10497=0;var G__10498=
0;seq__10481=G__10495;chunk__10482=G__10496;count__10483=G__10497;i__10484=G__10498;continue}}else return null}break}};cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,v){var self__=this;var coll__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(coll__$1,v,null)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,v,not_found){var self__=this;var coll__$1=this;var n=self__.tree_map.entry_at(v);if(!(n==null))return n.key;else return not_found};cljs.core.PersistentTreeSet.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentTreeSet(self__.meta,self__.tree_map,self__.__hash)};cljs.core.PersistentTreeSet.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.count(self__.tree_map)};
cljs.core.PersistentTreeSet.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core.count(self__.tree_map)>0)return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core.rseq(self__.tree_map));else return null};
cljs.core.PersistentTreeSet.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_unordered_coll(coll__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.set_QMARK_(other)&&cljs.core.count(coll__$1)===cljs.core.count(other)&&cljs.core.every_QMARK_(function(coll__$1){return function(p1__10479_SHARP_){return cljs.core.contains_QMARK_(coll__$1,p1__10479_SHARP_)}}(coll__$1),other)};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(self__.meta,cljs.core._empty(self__.tree_map),0)};cljs.core.PersistentTreeSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(coll,v){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(self__.meta,cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.tree_map,v),null)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.keys(self__.tree_map)};cljs.core.PersistentTreeSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(meta__$1,self__.tree_map,self__.__hash)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(self__.meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.tree_map,o,null),null)};
cljs.core.PersistentTreeSet.prototype.call=function(){var G__10499=null;var G__10499__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__10499__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__10499=function(self__,k,not_found){switch(arguments.length){case 2:return G__10499__2.call(this,self__,k);case 3:return G__10499__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};G__10499.cljs$core$IFn$_invoke$arity$2=G__10499__2;G__10499.cljs$core$IFn$_invoke$arity$3=G__10499__3;return G__10499}();cljs.core.PersistentTreeSet.prototype.apply=function(self__,args10480){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args10480)))};
cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(coll,ascending_QMARK_){var self__=this;var coll__$1=this;return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core._sorted_seq(self__.tree_map,ascending_QMARK_))};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(coll,k,ascending_QMARK_){var self__=this;var coll__$1=this;return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core._sorted_seq_from(self__.tree_map,k,ascending_QMARK_))};cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_entry_key$arity$2=function(coll,entry){var self__=this;var coll__$1=this;return entry};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_comparator$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._comparator(self__.tree_map)};
cljs.core.PersistentTreeSet.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"tree-map","tree-map",1373073049,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.PersistentTreeSet.cljs$lang$type=true;cljs.core.PersistentTreeSet.cljs$lang$ctorStr="cljs.core/PersistentTreeSet";cljs.core.PersistentTreeSet.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/PersistentTreeSet")};cljs.core.__GT_PersistentTreeSet=function cljs$core$__GT_PersistentTreeSet(meta,tree_map,__hash){return new cljs.core.PersistentTreeSet(meta,tree_map,__hash)};
cljs.core.PersistentTreeSet.EMPTY=new cljs.core.PersistentTreeSet(null,cljs.core.PersistentTreeMap.EMPTY,cljs.core.empty_unordered_hash);cljs.core.PersistentTreeSet.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.set_from_indexed_seq=function cljs$core$set_from_indexed_seq(iseq){var arr=iseq.arr;var ret=function(){var a__7053__auto__=arr;var i=0;var res=cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);while(true){if(i<a__7053__auto__.length){var G__10500=i+1;var G__10501=res.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null,arr[i]);i=G__10500;res=G__10501;continue}else return res;break}}();return ret.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(null)};
cljs.core.set=function cljs$core$set(coll){var in$=cljs.core.seq(coll);if(in$==null)return cljs.core.PersistentHashSet.EMPTY;else if(in$ instanceof cljs.core.IndexedSeq&&in$.i===0)return cljs.core.set_from_indexed_seq(in$);else{var in$__$1=in$;var out=cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);while(true){if(!(in$__$1==null)){var G__10502=cljs.core.next(in$__$1);var G__10503=out.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null,in$__$1.cljs$core$ISeq$_first$arity$1(null));in$__$1=
G__10502;out=G__10503;continue}else return cljs.core.persistent_BANG_(out);break}}};
cljs.core.hash_set=function cljs$core$hash_set(var_args){var args10504=[];var len__7214__auto___10508=arguments.length;var i__7215__auto___10509=0;while(true){if(i__7215__auto___10509<len__7214__auto___10508){args10504.push(arguments[i__7215__auto___10509]);var G__10510=i__7215__auto___10509+1;i__7215__auto___10509=G__10510;continue}else;break}var G__10507=args10504.length;switch(G__10507){case 0:return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0();break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args10504.slice(0),
0);return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(argseq__7233__auto__)}};cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.PersistentHashSet.EMPTY};cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic=function(keys){return cljs.core.set(keys)};cljs.core.hash_set.cljs$lang$applyTo=function(seq10505){return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10505))};cljs.core.hash_set.cljs$lang$maxFixedArity=0;
cljs.core.sorted_set=function cljs$core$sorted_set(var_args){var args__7221__auto__=[];var len__7214__auto___10513=arguments.length;var i__7215__auto___10514=0;while(true){if(i__7215__auto___10514<len__7214__auto___10513){args__7221__auto__.push(arguments[i__7215__auto___10514]);var G__10515=i__7215__auto___10514+1;i__7215__auto___10514=G__10515;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic=function(keys){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,cljs.core.PersistentTreeSet.EMPTY,keys)};cljs.core.sorted_set.cljs$lang$maxFixedArity=0;cljs.core.sorted_set.cljs$lang$applyTo=function(seq10512){return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10512))};
cljs.core.sorted_set_by=function cljs$core$sorted_set_by(var_args){var args__7221__auto__=[];var len__7214__auto___10518=arguments.length;var i__7215__auto___10519=0;while(true){if(i__7215__auto___10519<len__7214__auto___10518){args__7221__auto__.push(arguments[i__7215__auto___10519]);var G__10520=i__7215__auto___10519+1;i__7215__auto___10519=G__10520;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):null;return cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
argseq__7222__auto__)};cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic=function(comparator,keys){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,new cljs.core.PersistentTreeSet(null,cljs.core.sorted_map_by(comparator),0),keys)};cljs.core.sorted_set_by.cljs$lang$maxFixedArity=1;
cljs.core.sorted_set_by.cljs$lang$applyTo=function(seq10516){var G__10517=cljs.core.first(seq10516);var seq10516__$1=cljs.core.next(seq10516);return cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(G__10517,seq10516__$1)};
cljs.core.replace=function cljs$core$replace(var_args){var args10523=[];var len__7214__auto___10526=arguments.length;var i__7215__auto___10527=0;while(true){if(i__7215__auto___10527<len__7214__auto___10526){args10523.push(arguments[i__7215__auto___10527]);var G__10528=i__7215__auto___10527+1;i__7215__auto___10527=G__10528;continue}else;break}var G__10525=args10523.length;switch(G__10525){case 1:return cljs.core.replace.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.replace.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10523.length)].join(""));}};cljs.core.replace.cljs$core$IFn$_invoke$arity$1=function(smap){return cljs.core.map.cljs$core$IFn$_invoke$arity$1(function(p1__10521_SHARP_){var temp__4655__auto__=cljs.core.find(smap,p1__10521_SHARP_);if(cljs.core.truth_(temp__4655__auto__)){var e=temp__4655__auto__;return cljs.core.val(e)}else return p1__10521_SHARP_})};
cljs.core.replace.cljs$core$IFn$_invoke$arity$2=function(smap,coll){if(cljs.core.vector_QMARK_(coll)){var n=cljs.core.count(coll);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(n){return function(v,i){var temp__4655__auto__=cljs.core.find(smap,cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v,i));if(cljs.core.truth_(temp__4655__auto__)){var e=temp__4655__auto__;return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(v,i,cljs.core.second(e))}else return v}}(n),coll,cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,
cljs.core.iterate(cljs.core.inc,0)))}else return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(p1__10522_SHARP_){var temp__4655__auto__=cljs.core.find(smap,p1__10522_SHARP_);if(cljs.core.truth_(temp__4655__auto__)){var e=temp__4655__auto__;return cljs.core.second(e)}else return p1__10522_SHARP_},coll)};cljs.core.replace.cljs$lang$maxFixedArity=2;
cljs.core.distinct=function cljs$core$distinct(var_args){var args10530=[];var len__7214__auto___10539=arguments.length;var i__7215__auto___10540=0;while(true){if(i__7215__auto___10540<len__7214__auto___10539){args10530.push(arguments[i__7215__auto___10540]);var G__10541=i__7215__auto___10540+1;i__7215__auto___10540=G__10541;continue}else;break}var G__10532=args10530.length;switch(G__10532){case 0:return cljs.core.distinct.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.distinct.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10530.length)].join(""));}};
cljs.core.distinct.cljs$core$IFn$_invoke$arity$0=function(){return function(rf){var seen=cljs.core.volatile_BANG_(cljs.core.PersistentHashSet.EMPTY);return function(seen){return function(){var G__10543=null;var G__10543__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10543__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__10543__2=function(result,input){if(cljs.core.contains_QMARK_(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?
cljs.core.deref.cljs$core$IFn$_invoke$arity$1(seen):cljs.core.deref.call(null,seen),input))return result;else{cljs.core._vreset_BANG_(seen,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core._deref(seen),input));return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input)}};G__10543=function(result,input){switch(arguments.length){case 0:return G__10543__0.call(this);case 1:return G__10543__1.call(this,result);case 2:return G__10543__2.call(this,
result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10543.cljs$core$IFn$_invoke$arity$0=G__10543__0;G__10543.cljs$core$IFn$_invoke$arity$1=G__10543__1;G__10543.cljs$core$IFn$_invoke$arity$2=G__10543__2;return G__10543}()}(seen)}};
cljs.core.distinct.cljs$core$IFn$_invoke$arity$1=function(coll){var step=function cljs$core$step(xs,seen){return new cljs.core.LazySeq(null,function(){return function(p__10537,seen__$1){while(true){var vec__10538=p__10537;var f=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10538,0,null);var xs__$1=vec__10538;var temp__4657__auto__=cljs.core.seq(xs__$1);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.contains_QMARK_(seen__$1,f)){var G__10544=cljs.core.rest(s);var G__10545=seen__$1;
p__10537=G__10544;seen__$1=G__10545;continue}else return cljs.core.cons(f,cljs$core$step(cljs.core.rest(s),cljs.core.conj.cljs$core$IFn$_invoke$arity$2(seen__$1,f)))}else return null;break}}.call(null,xs,seen)},null,null)};return step(coll,cljs.core.PersistentHashSet.EMPTY)};cljs.core.distinct.cljs$lang$maxFixedArity=1;
cljs.core.butlast=function cljs$core$butlast(s){var ret=cljs.core.PersistentVector.EMPTY;var s__$1=s;while(true){if(cljs.core.next(s__$1)){var G__10546=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(ret,cljs.core.first(s__$1));var G__10547=cljs.core.next(s__$1);ret=G__10546;s__$1=G__10547;continue}else return cljs.core.seq(ret);break}};
cljs.core.name=function cljs$core$name(x){if(!(x==null)?x.cljs$lang$protocol_mask$partition1$&4096||x.cljs$core$INamed$?true:false:false)return x.cljs$core$INamed$_name$arity$1(null);else if(typeof x==="string")return x;else throw new Error([cljs.core.str("Doesn't support name: "),cljs.core.str(x)].join(""));};
cljs.core.zipmap=function cljs$core$zipmap(keys,vals){var map=cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY);var ks=cljs.core.seq(keys);var vs=cljs.core.seq(vals);while(true){if(ks&&vs){var G__10550=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(map,cljs.core.first(ks),cljs.core.first(vs));var G__10551=cljs.core.next(ks);var G__10552=cljs.core.next(vs);map=G__10550;ks=G__10551;vs=G__10552;continue}else return cljs.core.persistent_BANG_(map);break}};
cljs.core.max_key=function cljs$core$max_key(var_args){var args10555=[];var len__7214__auto___10562=arguments.length;var i__7215__auto___10563=0;while(true){if(i__7215__auto___10563<len__7214__auto___10562){args10555.push(arguments[i__7215__auto___10563]);var G__10564=i__7215__auto___10563+1;i__7215__auto___10563=G__10564;continue}else;break}var G__10561=args10555.length;switch(G__10561){case 2:return cljs.core.max_key.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args10555.slice(3),0);return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.max_key.cljs$core$IFn$_invoke$arity$2=function(k,x){return x};
cljs.core.max_key.cljs$core$IFn$_invoke$arity$3=function(k,x,y){if((k.cljs$core$IFn$_invoke$arity$1?k.cljs$core$IFn$_invoke$arity$1(x):k.call(null,x))>(k.cljs$core$IFn$_invoke$arity$1?k.cljs$core$IFn$_invoke$arity$1(y):k.call(null,y)))return x;else return y};
cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic=function(k,x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__10553_SHARP_,p2__10554_SHARP_){return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(k,p1__10553_SHARP_,p2__10554_SHARP_)},cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(k,x,y),more)};
cljs.core.max_key.cljs$lang$applyTo=function(seq10556){var G__10557=cljs.core.first(seq10556);var seq10556__$1=cljs.core.next(seq10556);var G__10558=cljs.core.first(seq10556__$1);var seq10556__$2=cljs.core.next(seq10556__$1);var G__10559=cljs.core.first(seq10556__$2);var seq10556__$3=cljs.core.next(seq10556__$2);return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(G__10557,G__10558,G__10559,seq10556__$3)};cljs.core.max_key.cljs$lang$maxFixedArity=3;
cljs.core.min_key=function cljs$core$min_key(var_args){var args10568=[];var len__7214__auto___10575=arguments.length;var i__7215__auto___10576=0;while(true){if(i__7215__auto___10576<len__7214__auto___10575){args10568.push(arguments[i__7215__auto___10576]);var G__10577=i__7215__auto___10576+1;i__7215__auto___10576=G__10577;continue}else;break}var G__10574=args10568.length;switch(G__10574){case 2:return cljs.core.min_key.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args10568.slice(3),0);return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};cljs.core.min_key.cljs$core$IFn$_invoke$arity$2=function(k,x){return x};
cljs.core.min_key.cljs$core$IFn$_invoke$arity$3=function(k,x,y){if((k.cljs$core$IFn$_invoke$arity$1?k.cljs$core$IFn$_invoke$arity$1(x):k.call(null,x))<(k.cljs$core$IFn$_invoke$arity$1?k.cljs$core$IFn$_invoke$arity$1(y):k.call(null,y)))return x;else return y};
cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic=function(k,x,y,more){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__10566_SHARP_,p2__10567_SHARP_){return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(k,p1__10566_SHARP_,p2__10567_SHARP_)},cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(k,x,y),more)};
cljs.core.min_key.cljs$lang$applyTo=function(seq10569){var G__10570=cljs.core.first(seq10569);var seq10569__$1=cljs.core.next(seq10569);var G__10571=cljs.core.first(seq10569__$1);var seq10569__$2=cljs.core.next(seq10569__$1);var G__10572=cljs.core.first(seq10569__$2);var seq10569__$3=cljs.core.next(seq10569__$2);return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(G__10570,G__10571,G__10572,seq10569__$3)};cljs.core.min_key.cljs$lang$maxFixedArity=3;
cljs.core.ArrayList=function(arr){this.arr=arr};cljs.core.ArrayList.prototype.add=function(x){var self__=this;var _=this;return self__.arr.push(x)};cljs.core.ArrayList.prototype.size=function(){var self__=this;var _=this;return self__.arr.length};cljs.core.ArrayList.prototype.clear=function(){var self__=this;var _=this;return self__.arr=[]};cljs.core.ArrayList.prototype.isEmpty=function(){var self__=this;var _=this;return self__.arr.length===0};
cljs.core.ArrayList.prototype.toArray=function(){var self__=this;var _=this;return self__.arr};cljs.core.ArrayList.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.ArrayList.cljs$lang$type=true;cljs.core.ArrayList.cljs$lang$ctorStr="cljs.core/ArrayList";
cljs.core.ArrayList.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/ArrayList")};cljs.core.__GT_ArrayList=function cljs$core$__GT_ArrayList(arr){return new cljs.core.ArrayList(arr)};cljs.core.array_list=function cljs$core$array_list(){return new cljs.core.ArrayList([])};
cljs.core.partition_all=function cljs$core$partition_all(var_args){var args10579=[];var len__7214__auto___10582=arguments.length;var i__7215__auto___10583=0;while(true){if(i__7215__auto___10583<len__7214__auto___10582){args10579.push(arguments[i__7215__auto___10583]);var G__10584=i__7215__auto___10583+1;i__7215__auto___10583=G__10584;continue}else;break}var G__10581=args10579.length;switch(G__10581){case 1:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10579.length)].join(""));}};
cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1=function(n){return function(rf){var a=cljs.core.array_list();return function(a){return function(){var G__10586=null;var G__10586__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10586__1=function(result){var result__$1=cljs.core.truth_(a.isEmpty())?result:function(){var v=cljs.core.vec(a.toArray());a.clear();return cljs.core.unreduced(rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,
v):rf.call(null,result,v))}();return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result__$1):rf.call(null,result__$1)};var G__10586__2=function(result,input){a.add(input);if(n===a.size()){var v=cljs.core.vec(a.toArray());a.clear();return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,v):rf.call(null,result,v)}else return result};G__10586=function(result,input){switch(arguments.length){case 0:return G__10586__0.call(this);case 1:return G__10586__1.call(this,
result);case 2:return G__10586__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10586.cljs$core$IFn$_invoke$arity$0=G__10586__0;G__10586.cljs$core$IFn$_invoke$arity$1=G__10586__1;G__10586.cljs$core$IFn$_invoke$arity$2=G__10586__2;return G__10586}()}(a)}};cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2=function(n,coll){return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(n,n,coll)};
cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3=function(n,step,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;return cljs.core.cons(cljs.core.take.cljs$core$IFn$_invoke$arity$2(n,s),cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(n,step,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(step,s)))}else return null},null,null)};cljs.core.partition_all.cljs$lang$maxFixedArity=3;
cljs.core.take_while=function cljs$core$take_while(var_args){var args10587=[];var len__7214__auto___10591=arguments.length;var i__7215__auto___10592=0;while(true){if(i__7215__auto___10592<len__7214__auto___10591){args10587.push(arguments[i__7215__auto___10592]);var G__10593=i__7215__auto___10592+1;i__7215__auto___10592=G__10593;continue}else;break}var G__10589=args10587.length;switch(G__10589){case 1:return cljs.core.take_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10587.length)].join(""));}};
cljs.core.take_while.cljs$core$IFn$_invoke$arity$1=function(pred){return function(rf){return function(){var G__10595=null;var G__10595__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10595__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__10595__2=function(result,input){if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(input):
pred.call(null,input)))return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input);else return cljs.core.reduced(result)};G__10595=function(result,input){switch(arguments.length){case 0:return G__10595__0.call(this);case 1:return G__10595__1.call(this,result);case 2:return G__10595__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10595.cljs$core$IFn$_invoke$arity$0=G__10595__0;G__10595.cljs$core$IFn$_invoke$arity$1=
G__10595__1;G__10595.cljs$core$IFn$_invoke$arity$2=G__10595__2;return G__10595}()}};
cljs.core.take_while.cljs$core$IFn$_invoke$arity$2=function(pred,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;if(cljs.core.truth_(function(){var G__10590=cljs.core.first(s);return pred.cljs$core$IFn$_invoke$arity$1?pred.cljs$core$IFn$_invoke$arity$1(G__10590):pred.call(null,G__10590)}()))return cljs.core.cons(cljs.core.first(s),cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(pred,cljs.core.rest(s)));
else return null}else return null},null,null)};cljs.core.take_while.cljs$lang$maxFixedArity=2;
cljs.core.mk_bound_fn=function cljs$core$mk_bound_fn(sc,test,key){return function(e){var comp=cljs.core._comparator(sc);var G__10604=function(){var G__10606=cljs.core._entry_key(sc,e);var G__10607=key;return comp.cljs$core$IFn$_invoke$arity$2?comp.cljs$core$IFn$_invoke$arity$2(G__10606,G__10607):comp.call(null,G__10606,G__10607)}();var G__10605=0;return test.cljs$core$IFn$_invoke$arity$2?test.cljs$core$IFn$_invoke$arity$2(G__10604,G__10605):test.call(null,G__10604,G__10605)}};
cljs.core.subseq=function cljs$core$subseq(var_args){var args10608=[];var len__7214__auto___10613=arguments.length;var i__7215__auto___10614=0;while(true){if(i__7215__auto___10614<len__7214__auto___10613){args10608.push(arguments[i__7215__auto___10614]);var G__10615=i__7215__auto___10614+1;i__7215__auto___10614=G__10615;continue}else;break}var G__10610=args10608.length;switch(G__10610){case 3:return cljs.core.subseq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 5:return cljs.core.subseq.cljs$core$IFn$_invoke$arity$5(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10608.length)].join(""));}};
cljs.core.subseq.cljs$core$IFn$_invoke$arity$3=function(sc,test,key){var include=cljs.core.mk_bound_fn(sc,test,key);if(cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._GT_,cljs.core._GT__EQ_],true).call(null,test))){var temp__4657__auto__=cljs.core._sorted_seq_from(sc,key,true);if(cljs.core.truth_(temp__4657__auto__)){var vec__10611=temp__4657__auto__;var e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10611,0,null);var s=vec__10611;if(cljs.core.truth_(include.cljs$core$IFn$_invoke$arity$1?
include.cljs$core$IFn$_invoke$arity$1(e):include.call(null,e)))return s;else return cljs.core.next(s)}else return null}else return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(include,cljs.core._sorted_seq(sc,true))};
cljs.core.subseq.cljs$core$IFn$_invoke$arity$5=function(sc,start_test,start_key,end_test,end_key){var temp__4657__auto__=cljs.core._sorted_seq_from(sc,start_key,true);if(cljs.core.truth_(temp__4657__auto__)){var vec__10612=temp__4657__auto__;var e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10612,0,null);var s=vec__10612;return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(sc,end_test,end_key),cljs.core.truth_(cljs.core.mk_bound_fn(sc,start_test,start_key).call(null,
e))?s:cljs.core.next(s))}else return null};cljs.core.subseq.cljs$lang$maxFixedArity=5;
cljs.core.rsubseq=function cljs$core$rsubseq(var_args){var args10617=[];var len__7214__auto___10622=arguments.length;var i__7215__auto___10623=0;while(true){if(i__7215__auto___10623<len__7214__auto___10622){args10617.push(arguments[i__7215__auto___10623]);var G__10624=i__7215__auto___10623+1;i__7215__auto___10623=G__10624;continue}else;break}var G__10619=args10617.length;switch(G__10619){case 3:return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 5:return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10617.length)].join(""));}};
cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3=function(sc,test,key){var include=cljs.core.mk_bound_fn(sc,test,key);if(cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._LT_,cljs.core._LT__EQ_],true).call(null,test))){var temp__4657__auto__=cljs.core._sorted_seq_from(sc,key,false);if(cljs.core.truth_(temp__4657__auto__)){var vec__10620=temp__4657__auto__;var e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10620,0,null);var s=vec__10620;if(cljs.core.truth_(include.cljs$core$IFn$_invoke$arity$1?
include.cljs$core$IFn$_invoke$arity$1(e):include.call(null,e)))return s;else return cljs.core.next(s)}else return null}else return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(include,cljs.core._sorted_seq(sc,false))};
cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5=function(sc,start_test,start_key,end_test,end_key){var temp__4657__auto__=cljs.core._sorted_seq_from(sc,end_key,false);if(cljs.core.truth_(temp__4657__auto__)){var vec__10621=temp__4657__auto__;var e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10621,0,null);var s=vec__10621;return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(sc,start_test,start_key),cljs.core.truth_(cljs.core.mk_bound_fn(sc,end_test,end_key).call(null,
e))?s:cljs.core.next(s))}else return null};cljs.core.rsubseq.cljs$lang$maxFixedArity=5;cljs.core.RangeIterator=function(i,end,step){this.i=i;this.end=end;this.step=step};cljs.core.RangeIterator.prototype.hasNext=function(){var self__=this;var _=this;if(self__.step>0)return self__.i<self__.end;else return self__.i>self__.end};cljs.core.RangeIterator.prototype.next=function(){var self__=this;var _=this;var ret=self__.i;self__.i=self__.i+self__.step;return ret};
cljs.core.RangeIterator.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"step","step",-1365547645,null)],null)};cljs.core.RangeIterator.cljs$lang$type=true;
cljs.core.RangeIterator.cljs$lang$ctorStr="cljs.core/RangeIterator";cljs.core.RangeIterator.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/RangeIterator")};cljs.core.__GT_RangeIterator=function cljs$core$__GT_RangeIterator(i,end,step){return new cljs.core.RangeIterator(i,end,step)};
cljs.core.Range=function(meta,start,end,step,__hash){this.meta=meta;this.start=start;this.end=end;this.step=step;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32375006;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.Range.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.Range.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$2=function(rng,n){var self__=this;var rng__$1=this;if(n<cljs.core._count(rng__$1))return self__.start+n*self__.step;else if(self__.start>self__.end&&self__.step===0)return self__.start;else throw new Error("Index out of bounds");};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$3=function(rng,n,not_found){var self__=this;var rng__$1=this;if(n<cljs.core._count(rng__$1))return self__.start+n*self__.step;else if(self__.start>self__.end&&self__.step===0)return self__.start;else return not_found};cljs.core.Range.prototype.cljs$core$IIterable$=true;cljs.core.Range.prototype.cljs$core$IIterable$_iterator$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.RangeIterator(self__.start,self__.end,self__.step)};
cljs.core.Range.prototype.cljs$core$IMeta$_meta$arity$1=function(rng){var self__=this;var rng__$1=this;return self__.meta};cljs.core.Range.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Range(self__.meta,self__.start,self__.end,self__.step,self__.__hash)};
cljs.core.Range.prototype.cljs$core$INext$_next$arity$1=function(rng){var self__=this;var rng__$1=this;if(self__.step>0)if(self__.start+self__.step<self__.end)return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return null;else if(self__.start+self__.step>self__.end)return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return null};
cljs.core.Range.prototype.cljs$core$ICounted$_count$arity$1=function(rng){var self__=this;var rng__$1=this;if(cljs.core.not(cljs.core._seq(rng__$1)))return 0;else{var G__10626=(self__.end-self__.start)/self__.step;return Math.ceil(G__10626)}};
cljs.core.Range.prototype.cljs$core$IHash$_hash$arity$1=function(rng){var self__=this;var rng__$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_ordered_coll(rng__$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};cljs.core.Range.prototype.cljs$core$IEquiv$_equiv$arity$2=function(rng,other){var self__=this;var rng__$1=this;return cljs.core.equiv_sequential(rng__$1,other)};
cljs.core.Range.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(rng){var self__=this;var rng__$1=this;return cljs.core.with_meta(cljs.core.List.EMPTY,self__.meta)};cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$2=function(rng,f){var self__=this;var rng__$1=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(rng__$1,f)};
cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$3=function(rng,f,init){var self__=this;var rng__$1=this;var i=self__.start;var ret=init;while(true){if(self__.step>0?i<self__.end:i>self__.end){var ret__$1=f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(ret,i):f.call(null,ret,i);if(cljs.core.reduced_QMARK_(ret__$1))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(ret__$1):cljs.core.deref.call(null,ret__$1);else{var G__10627=
i+self__.step;var G__10628=ret__$1;i=G__10627;ret=G__10628;continue}}else return ret;break}};cljs.core.Range.prototype.cljs$core$ISeq$_first$arity$1=function(rng){var self__=this;var rng__$1=this;if(cljs.core._seq(rng__$1)==null)return null;else return self__.start};cljs.core.Range.prototype.cljs$core$ISeq$_rest$arity$1=function(rng){var self__=this;var rng__$1=this;if(!(cljs.core._seq(rng__$1)==null))return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return cljs.core.List.EMPTY};
cljs.core.Range.prototype.cljs$core$ISeqable$_seq$arity$1=function(rng){var self__=this;var rng__$1=this;if(self__.step>0)if(self__.start<self__.end)return rng__$1;else return null;else if(self__.step<0)if(self__.start>self__.end)return rng__$1;else return null;else if(self__.start===self__.end)return null;else return rng__$1};
cljs.core.Range.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(rng,meta__$1){var self__=this;var rng__$1=this;return new cljs.core.Range(meta__$1,self__.start,self__.end,self__.step,self__.__hash)};cljs.core.Range.prototype.cljs$core$ICollection$_conj$arity$2=function(rng,o){var self__=this;var rng__$1=this;return cljs.core.cons(o,rng__$1)};
cljs.core.Range.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"step","step",-1365547645,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,
"mutable","mutable",875778266),true],null))],null)};cljs.core.Range.cljs$lang$type=true;cljs.core.Range.cljs$lang$ctorStr="cljs.core/Range";cljs.core.Range.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Range")};cljs.core.__GT_Range=function cljs$core$__GT_Range(meta,start,end,step,__hash){return new cljs.core.Range(meta,start,end,step,__hash)};
cljs.core.Range.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.range=function cljs$core$range(var_args){var args10629=[];var len__7214__auto___10632=arguments.length;var i__7215__auto___10633=0;while(true){if(i__7215__auto___10633<len__7214__auto___10632){args10629.push(arguments[i__7215__auto___10633]);var G__10634=i__7215__auto___10633+1;i__7215__auto___10633=G__10634;continue}else;break}var G__10631=args10629.length;switch(G__10631){case 0:return cljs.core.range.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.range.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.range.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.range.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10629.length)].join(""));}};cljs.core.range.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0,Number.MAX_VALUE,1)};
cljs.core.range.cljs$core$IFn$_invoke$arity$1=function(end){return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0,end,1)};cljs.core.range.cljs$core$IFn$_invoke$arity$2=function(start,end){return cljs.core.range.cljs$core$IFn$_invoke$arity$3(start,end,1)};cljs.core.range.cljs$core$IFn$_invoke$arity$3=function(start,end,step){return new cljs.core.Range(null,start,end,step,null)};cljs.core.range.cljs$lang$maxFixedArity=3;
cljs.core.take_nth=function cljs$core$take_nth(var_args){var args10636=[];var len__7214__auto___10641=arguments.length;var i__7215__auto___10642=0;while(true){if(i__7215__auto___10642<len__7214__auto___10641){args10636.push(arguments[i__7215__auto___10642]);var G__10643=i__7215__auto___10642+1;i__7215__auto___10642=G__10643;continue}else;break}var G__10638=args10636.length;switch(G__10638){case 1:return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10636.length)].join(""));}};
cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1=function(n){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__10639=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__10639):cljs.core.pr_str.call(null,G__10639)}())].join(""));return function(rf){var ia=cljs.core.volatile_BANG_(-1);
return function(ia){return function(){var G__10645=null;var G__10645__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10645__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__10645__2=function(result,input){var i=cljs.core._vreset_BANG_(ia,cljs.core._deref(ia)+1);if(cljs.core.rem(i,n)===0)return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,
input):rf.call(null,result,input);else return result};G__10645=function(result,input){switch(arguments.length){case 0:return G__10645__0.call(this);case 1:return G__10645__1.call(this,result);case 2:return G__10645__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10645.cljs$core$IFn$_invoke$arity$0=G__10645__0;G__10645.cljs$core$IFn$_invoke$arity$1=G__10645__1;G__10645.cljs$core$IFn$_invoke$arity$2=G__10645__2;return G__10645}()}(ia)}};
cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2=function(n,coll){if(typeof n==="number");else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(function(){var G__10640=cljs.core.list(new cljs.core.Symbol(null,"number?","number?",-1747282210,null),new cljs.core.Symbol(null,"n","n",-2092305744,null));return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1?cljs.core.pr_str.cljs$core$IFn$_invoke$arity$1(G__10640):cljs.core.pr_str.call(null,G__10640)}())].join(""));return new cljs.core.LazySeq(null,
function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;return cljs.core.cons(cljs.core.first(s),cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(n,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(n,s)))}else return null},null,null)};cljs.core.take_nth.cljs$lang$maxFixedArity=2;
cljs.core.split_with=function cljs$core$split_with(pred,coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(pred,coll),cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(pred,coll)],null)};
cljs.core.partition_by=function cljs$core$partition_by(var_args){var args10647=[];var len__7214__auto___10650=arguments.length;var i__7215__auto___10651=0;while(true){if(i__7215__auto___10651<len__7214__auto___10650){args10647.push(arguments[i__7215__auto___10651]);var G__10652=i__7215__auto___10651+1;i__7215__auto___10651=G__10652;continue}else;break}var G__10649=args10647.length;switch(G__10649){case 1:return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10647.length)].join(""));}};
cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1=function(f){return function(rf){var a=cljs.core.array_list();var pa=cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439));return function(a,pa){return function(){var G__10654=null;var G__10654__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10654__1=function(result){var result__$1=cljs.core.truth_(a.isEmpty())?result:function(){var v=cljs.core.vec(a.toArray());
a.clear();return cljs.core.unreduced(rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,v):rf.call(null,result,v))}();return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result__$1):rf.call(null,result__$1)};var G__10654__2=function(result,input){var pval=cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(pa):cljs.core.deref.call(null,pa);var val=f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(input):
f.call(null,input);cljs.core.vreset_BANG_(pa,val);if(cljs.core.keyword_identical_QMARK_(pval,new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439))||cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(val,pval)){a.add(input);return result}else{var v=cljs.core.vec(a.toArray());a.clear();var ret=rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,v):rf.call(null,result,v);if(cljs.core.reduced_QMARK_(ret));else a.add(input);return ret}};G__10654=function(result,input){switch(arguments.length){case 0:return G__10654__0.call(this);
case 1:return G__10654__1.call(this,result);case 2:return G__10654__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10654.cljs$core$IFn$_invoke$arity$0=G__10654__0;G__10654.cljs$core$IFn$_invoke$arity$1=G__10654__1;G__10654.cljs$core$IFn$_invoke$arity$2=G__10654__2;return G__10654}()}(a,pa)}};
cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;var fst=cljs.core.first(s);var fv=f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(fst):f.call(null,fst);var run=cljs.core.cons(fst,cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(function(fst,fv,s,temp__4657__auto__){return function(p1__10646_SHARP_){return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(fv,
f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(p1__10646_SHARP_):f.call(null,p1__10646_SHARP_))}}(fst,fv,s,temp__4657__auto__),cljs.core.next(s)));return cljs.core.cons(run,cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(f,cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(cljs.core.count(run),s))))}else return null},null,null)};cljs.core.partition_by.cljs$lang$maxFixedArity=2;
cljs.core.frequencies=function cljs$core$frequencies(coll){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(counts,x){return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(counts,x,cljs.core.get.cljs$core$IFn$_invoke$arity$3(counts,x,0)+1)},cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY),coll))};
cljs.core.reductions=function cljs$core$reductions(var_args){var args10655=[];var len__7214__auto___10660=arguments.length;var i__7215__auto___10661=0;while(true){if(i__7215__auto___10661<len__7214__auto___10660){args10655.push(arguments[i__7215__auto___10661]);var G__10662=i__7215__auto___10661+1;i__7215__auto___10661=G__10662;continue}else;break}var G__10657=args10655.length;switch(G__10657){case 2:return cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10655.length)].join(""));}};
cljs.core.reductions.cljs$core$IFn$_invoke$arity$2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4655__auto__=cljs.core.seq(coll);if(temp__4655__auto__){var s=temp__4655__auto__;return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(f,cljs.core.first(s),cljs.core.rest(s))}else return cljs.core._conj(cljs.core.List.EMPTY,f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null))},null,null)};
cljs.core.reductions.cljs$core$IFn$_invoke$arity$3=function(f,init,coll){return cljs.core.cons(init,new cljs.core.LazySeq(null,function(){var temp__4657__auto__=cljs.core.seq(coll);if(temp__4657__auto__){var s=temp__4657__auto__;return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(f,function(){var G__10658=init;var G__10659=cljs.core.first(s);return f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(G__10658,G__10659):f.call(null,G__10658,G__10659)}(),cljs.core.rest(s))}else return null},
null,null))};cljs.core.reductions.cljs$lang$maxFixedArity=3;
cljs.core.juxt=function cljs$core$juxt(var_args){var args10674=[];var len__7214__auto___10681=arguments.length;var i__7215__auto___10682=0;while(true){if(i__7215__auto___10682<len__7214__auto___10681){args10674.push(arguments[i__7215__auto___10682]);var G__10683=i__7215__auto___10682+1;i__7215__auto___10682=G__10683;continue}else;break}var G__10680=args10674.length;switch(G__10680){case 1:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args10674.slice(3),0);return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$1=function(f){return function(){var G__10685=null;var G__10685__0=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null)],null)};var G__10685__1=function(x){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x)],null)};var G__10685__2=
function(x,y){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y)],null)};var G__10685__3=function(x,y,z){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(x,y,z):f.call(null,x,y,z)],null)};var G__10685__4=function(){var G__10686__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,
1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,x,y,z,args)],null)};var G__10686=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__10687__i=0,G__10687__a=new Array(arguments.length-3);while(G__10687__i<G__10687__a.length){G__10687__a[G__10687__i]=arguments[G__10687__i+3];++G__10687__i}args=new cljs.core.IndexedSeq(G__10687__a,0)}return G__10686__delegate.call(this,x,y,z,args)};G__10686.cljs$lang$maxFixedArity=3;G__10686.cljs$lang$applyTo=
function(arglist__10688){var x=cljs.core.first(arglist__10688);arglist__10688=cljs.core.next(arglist__10688);var y=cljs.core.first(arglist__10688);arglist__10688=cljs.core.next(arglist__10688);var z=cljs.core.first(arglist__10688);var args=cljs.core.rest(arglist__10688);return G__10686__delegate(x,y,z,args)};G__10686.cljs$core$IFn$_invoke$arity$variadic=G__10686__delegate;return G__10686}();G__10685=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__10685__0.call(this);
case 1:return G__10685__1.call(this,x);case 2:return G__10685__2.call(this,x,y);case 3:return G__10685__3.call(this,x,y,z);default:var G__10689=null;if(arguments.length>3){var G__10690__i=0,G__10690__a=new Array(arguments.length-3);while(G__10690__i<G__10690__a.length){G__10690__a[G__10690__i]=arguments[G__10690__i+3];++G__10690__i}G__10689=new cljs.core.IndexedSeq(G__10690__a,0)}return G__10685__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__10689)}throw new Error("Invalid arity: "+arguments.length);
};G__10685.cljs$lang$maxFixedArity=3;G__10685.cljs$lang$applyTo=G__10685__4.cljs$lang$applyTo;G__10685.cljs$core$IFn$_invoke$arity$0=G__10685__0;G__10685.cljs$core$IFn$_invoke$arity$1=G__10685__1;G__10685.cljs$core$IFn$_invoke$arity$2=G__10685__2;G__10685.cljs$core$IFn$_invoke$arity$3=G__10685__3;G__10685.cljs$core$IFn$_invoke$arity$variadic=G__10685__4.cljs$core$IFn$_invoke$arity$variadic;return G__10685}()};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$2=function(f,g){return function(){var G__10691=null;var G__10691__0=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null),g.cljs$core$IFn$_invoke$arity$0?g.cljs$core$IFn$_invoke$arity$0():g.call(null)],null)};var G__10691__1=function(x){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$1?
f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x),g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(x):g.call(null,x)],null)};var G__10691__2=function(x,y){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y),g.cljs$core$IFn$_invoke$arity$2?g.cljs$core$IFn$_invoke$arity$2(x,y):g.call(null,x,y)],null)};var G__10691__3=function(x,y,z){return new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(x,y,z):f.call(null,x,y,z),g.cljs$core$IFn$_invoke$arity$3?g.cljs$core$IFn$_invoke$arity$3(x,y,z):g.call(null,x,y,z)],null)};var G__10691__4=function(){var G__10692__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,x,y,z,args),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g,x,y,z,
args)],null)};var G__10692=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__10693__i=0,G__10693__a=new Array(arguments.length-3);while(G__10693__i<G__10693__a.length){G__10693__a[G__10693__i]=arguments[G__10693__i+3];++G__10693__i}args=new cljs.core.IndexedSeq(G__10693__a,0)}return G__10692__delegate.call(this,x,y,z,args)};G__10692.cljs$lang$maxFixedArity=3;G__10692.cljs$lang$applyTo=function(arglist__10694){var x=cljs.core.first(arglist__10694);arglist__10694=cljs.core.next(arglist__10694);
var y=cljs.core.first(arglist__10694);arglist__10694=cljs.core.next(arglist__10694);var z=cljs.core.first(arglist__10694);var args=cljs.core.rest(arglist__10694);return G__10692__delegate(x,y,z,args)};G__10692.cljs$core$IFn$_invoke$arity$variadic=G__10692__delegate;return G__10692}();G__10691=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__10691__0.call(this);case 1:return G__10691__1.call(this,x);case 2:return G__10691__2.call(this,x,y);case 3:return G__10691__3.call(this,
x,y,z);default:var G__10695=null;if(arguments.length>3){var G__10696__i=0,G__10696__a=new Array(arguments.length-3);while(G__10696__i<G__10696__a.length){G__10696__a[G__10696__i]=arguments[G__10696__i+3];++G__10696__i}G__10695=new cljs.core.IndexedSeq(G__10696__a,0)}return G__10691__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__10695)}throw new Error("Invalid arity: "+arguments.length);};G__10691.cljs$lang$maxFixedArity=3;G__10691.cljs$lang$applyTo=G__10691__4.cljs$lang$applyTo;G__10691.cljs$core$IFn$_invoke$arity$0=
G__10691__0;G__10691.cljs$core$IFn$_invoke$arity$1=G__10691__1;G__10691.cljs$core$IFn$_invoke$arity$2=G__10691__2;G__10691.cljs$core$IFn$_invoke$arity$3=G__10691__3;G__10691.cljs$core$IFn$_invoke$arity$variadic=G__10691__4.cljs$core$IFn$_invoke$arity$variadic;return G__10691}()};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$3=function(f,g,h){return function(){var G__10697=null;var G__10697__0=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null),g.cljs$core$IFn$_invoke$arity$0?g.cljs$core$IFn$_invoke$arity$0():g.call(null),h.cljs$core$IFn$_invoke$arity$0?h.cljs$core$IFn$_invoke$arity$0():h.call(null)],null)};var G__10697__1=function(x){return new cljs.core.PersistentVector(null,
3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x),g.cljs$core$IFn$_invoke$arity$1?g.cljs$core$IFn$_invoke$arity$1(x):g.call(null,x),h.cljs$core$IFn$_invoke$arity$1?h.cljs$core$IFn$_invoke$arity$1(x):h.call(null,x)],null)};var G__10697__2=function(x,y){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$2?f.cljs$core$IFn$_invoke$arity$2(x,y):f.call(null,x,y),g.cljs$core$IFn$_invoke$arity$2?
g.cljs$core$IFn$_invoke$arity$2(x,y):g.call(null,x,y),h.cljs$core$IFn$_invoke$arity$2?h.cljs$core$IFn$_invoke$arity$2(x,y):h.call(null,x,y)],null)};var G__10697__3=function(x,y,z){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.cljs$core$IFn$_invoke$arity$3?f.cljs$core$IFn$_invoke$arity$3(x,y,z):f.call(null,x,y,z),g.cljs$core$IFn$_invoke$arity$3?g.cljs$core$IFn$_invoke$arity$3(x,y,z):g.call(null,x,y,z),h.cljs$core$IFn$_invoke$arity$3?h.cljs$core$IFn$_invoke$arity$3(x,
y,z):h.call(null,x,y,z)],null)};var G__10697__4=function(){var G__10698__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,x,y,z,args),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(g,x,y,z,args),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(h,x,y,z,args)],null)};var G__10698=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__10699__i=0,G__10699__a=new Array(arguments.length-
3);while(G__10699__i<G__10699__a.length){G__10699__a[G__10699__i]=arguments[G__10699__i+3];++G__10699__i}args=new cljs.core.IndexedSeq(G__10699__a,0)}return G__10698__delegate.call(this,x,y,z,args)};G__10698.cljs$lang$maxFixedArity=3;G__10698.cljs$lang$applyTo=function(arglist__10700){var x=cljs.core.first(arglist__10700);arglist__10700=cljs.core.next(arglist__10700);var y=cljs.core.first(arglist__10700);arglist__10700=cljs.core.next(arglist__10700);var z=cljs.core.first(arglist__10700);var args=
cljs.core.rest(arglist__10700);return G__10698__delegate(x,y,z,args)};G__10698.cljs$core$IFn$_invoke$arity$variadic=G__10698__delegate;return G__10698}();G__10697=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__10697__0.call(this);case 1:return G__10697__1.call(this,x);case 2:return G__10697__2.call(this,x,y);case 3:return G__10697__3.call(this,x,y,z);default:var G__10701=null;if(arguments.length>3){var G__10702__i=0,G__10702__a=new Array(arguments.length-3);while(G__10702__i<
G__10702__a.length){G__10702__a[G__10702__i]=arguments[G__10702__i+3];++G__10702__i}G__10701=new cljs.core.IndexedSeq(G__10702__a,0)}return G__10697__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__10701)}throw new Error("Invalid arity: "+arguments.length);};G__10697.cljs$lang$maxFixedArity=3;G__10697.cljs$lang$applyTo=G__10697__4.cljs$lang$applyTo;G__10697.cljs$core$IFn$_invoke$arity$0=G__10697__0;G__10697.cljs$core$IFn$_invoke$arity$1=G__10697__1;G__10697.cljs$core$IFn$_invoke$arity$2=G__10697__2;
G__10697.cljs$core$IFn$_invoke$arity$3=G__10697__3;G__10697.cljs$core$IFn$_invoke$arity$variadic=G__10697__4.cljs$core$IFn$_invoke$arity$variadic;return G__10697}()};
cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic=function(f,g,h,fs){var fs__$1=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(f,g,h,fs);return function(fs__$1){return function(){var G__10703=null;var G__10703__0=function(){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1){return function(p1__10664_SHARP_,p2__10665_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10664_SHARP_,p2__10665_SHARP_.cljs$core$IFn$_invoke$arity$0?p2__10665_SHARP_.cljs$core$IFn$_invoke$arity$0():
p2__10665_SHARP_.call(null))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__10703__1=function(x){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1){return function(p1__10666_SHARP_,p2__10667_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10666_SHARP_,p2__10667_SHARP_.cljs$core$IFn$_invoke$arity$1?p2__10667_SHARP_.cljs$core$IFn$_invoke$arity$1(x):p2__10667_SHARP_.call(null,x))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__10703__2=function(x,
y){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1){return function(p1__10668_SHARP_,p2__10669_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10668_SHARP_,p2__10669_SHARP_.cljs$core$IFn$_invoke$arity$2?p2__10669_SHARP_.cljs$core$IFn$_invoke$arity$2(x,y):p2__10669_SHARP_.call(null,x,y))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__10703__3=function(x,y,z){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1){return function(p1__10670_SHARP_,
p2__10671_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10670_SHARP_,p2__10671_SHARP_.cljs$core$IFn$_invoke$arity$3?p2__10671_SHARP_.cljs$core$IFn$_invoke$arity$3(x,y,z):p2__10671_SHARP_.call(null,x,y,z))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__10703__4=function(){var G__10704__delegate=function(x,y,z,args){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(fs__$1){return function(p1__10672_SHARP_,p2__10673_SHARP_){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(p1__10672_SHARP_,
cljs.core.apply.cljs$core$IFn$_invoke$arity$5(p2__10673_SHARP_,x,y,z,args))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__10704=function(x,y,z,var_args){var args=null;if(arguments.length>3){var G__10705__i=0,G__10705__a=new Array(arguments.length-3);while(G__10705__i<G__10705__a.length){G__10705__a[G__10705__i]=arguments[G__10705__i+3];++G__10705__i}args=new cljs.core.IndexedSeq(G__10705__a,0)}return G__10704__delegate.call(this,x,y,z,args)};G__10704.cljs$lang$maxFixedArity=3;G__10704.cljs$lang$applyTo=
function(arglist__10706){var x=cljs.core.first(arglist__10706);arglist__10706=cljs.core.next(arglist__10706);var y=cljs.core.first(arglist__10706);arglist__10706=cljs.core.next(arglist__10706);var z=cljs.core.first(arglist__10706);var args=cljs.core.rest(arglist__10706);return G__10704__delegate(x,y,z,args)};G__10704.cljs$core$IFn$_invoke$arity$variadic=G__10704__delegate;return G__10704}();G__10703=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__10703__0.call(this);
case 1:return G__10703__1.call(this,x);case 2:return G__10703__2.call(this,x,y);case 3:return G__10703__3.call(this,x,y,z);default:var G__10707=null;if(arguments.length>3){var G__10708__i=0,G__10708__a=new Array(arguments.length-3);while(G__10708__i<G__10708__a.length){G__10708__a[G__10708__i]=arguments[G__10708__i+3];++G__10708__i}G__10707=new cljs.core.IndexedSeq(G__10708__a,0)}return G__10703__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,G__10707)}throw new Error("Invalid arity: "+arguments.length);
};G__10703.cljs$lang$maxFixedArity=3;G__10703.cljs$lang$applyTo=G__10703__4.cljs$lang$applyTo;G__10703.cljs$core$IFn$_invoke$arity$0=G__10703__0;G__10703.cljs$core$IFn$_invoke$arity$1=G__10703__1;G__10703.cljs$core$IFn$_invoke$arity$2=G__10703__2;G__10703.cljs$core$IFn$_invoke$arity$3=G__10703__3;G__10703.cljs$core$IFn$_invoke$arity$variadic=G__10703__4.cljs$core$IFn$_invoke$arity$variadic;return G__10703}()}(fs__$1)};
cljs.core.juxt.cljs$lang$applyTo=function(seq10675){var G__10676=cljs.core.first(seq10675);var seq10675__$1=cljs.core.next(seq10675);var G__10677=cljs.core.first(seq10675__$1);var seq10675__$2=cljs.core.next(seq10675__$1);var G__10678=cljs.core.first(seq10675__$2);var seq10675__$3=cljs.core.next(seq10675__$2);return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(G__10676,G__10677,G__10678,seq10675__$3)};cljs.core.juxt.cljs$lang$maxFixedArity=3;
cljs.core.dorun=function cljs$core$dorun(var_args){var args10709=[];var len__7214__auto___10712=arguments.length;var i__7215__auto___10713=0;while(true){if(i__7215__auto___10713<len__7214__auto___10712){args10709.push(arguments[i__7215__auto___10713]);var G__10714=i__7215__auto___10713+1;i__7215__auto___10713=G__10714;continue}else;break}var G__10711=args10709.length;switch(G__10711){case 1:return cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10709.length)].join(""));}};cljs.core.dorun.cljs$core$IFn$_invoke$arity$1=function(coll){while(true){if(cljs.core.seq(coll)){var G__10716=cljs.core.next(coll);coll=G__10716;continue}else return null;break}};
cljs.core.dorun.cljs$core$IFn$_invoke$arity$2=function(n,coll){while(true){if(cljs.core.seq(coll)&&n>0){var G__10717=n-1;var G__10718=cljs.core.next(coll);n=G__10717;coll=G__10718;continue}else return null;break}};cljs.core.dorun.cljs$lang$maxFixedArity=2;
cljs.core.doall=function cljs$core$doall(var_args){var args10719=[];var len__7214__auto___10722=arguments.length;var i__7215__auto___10723=0;while(true){if(i__7215__auto___10723<len__7214__auto___10722){args10719.push(arguments[i__7215__auto___10723]);var G__10724=i__7215__auto___10723+1;i__7215__auto___10723=G__10724;continue}else;break}var G__10721=args10719.length;switch(G__10721){case 1:return cljs.core.doall.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.doall.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10719.length)].join(""));}};cljs.core.doall.cljs$core$IFn$_invoke$arity$1=function(coll){cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(coll);return coll};cljs.core.doall.cljs$core$IFn$_invoke$arity$2=function(n,coll){cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(n,coll);return coll};cljs.core.doall.cljs$lang$maxFixedArity=2;
cljs.core.regexp_QMARK_=function cljs$core$regexp_QMARK_(x){return x instanceof RegExp};cljs.core.re_matches=function cljs$core$re_matches(re,s){if(typeof s==="string"){var matches=re.exec(s);if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(matches),s))if(cljs.core.count(matches)===1)return cljs.core.first(matches);else return cljs.core.vec(matches);else return null}else throw new TypeError("re-matches must match against a string.");};
cljs.core.re_find=function cljs$core$re_find(re,s){if(typeof s==="string"){var matches=re.exec(s);if(matches==null)return null;else if(cljs.core.count(matches)===1)return cljs.core.first(matches);else return cljs.core.vec(matches)}else throw new TypeError("re-find must match against a string.");};
cljs.core.re_seq=function cljs$core$re_seq(re,s){var match_data=cljs.core.re_find(re,s);var match_idx=s.search(re);var match_str=cljs.core.coll_QMARK_(match_data)?cljs.core.first(match_data):match_data;var post_match=cljs.core.subs.cljs$core$IFn$_invoke$arity$2(s,match_idx+cljs.core.count(match_str));if(cljs.core.truth_(match_data))return new cljs.core.LazySeq(null,function(match_data,match_idx,match_str,post_match){return function(){return cljs.core.cons(match_data,cljs.core.seq(post_match)?cljs$core$re_seq(re,
post_match):null)}}(match_data,match_idx,match_str,post_match),null,null);else return null};
cljs.core.re_pattern=function cljs$core$re_pattern(s){if(s instanceof RegExp)return s;else{var vec__10727=cljs.core.re_find(/^\(\?([idmsux]*)\)/,s);var prefix=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10727,0,null);var flags=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10727,1,null);var pattern=cljs.core.subs.cljs$core$IFn$_invoke$arity$2(s,cljs.core.count(prefix));return new RegExp(pattern,function(){var or__6156__auto__=flags;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;
else return""}())}};
cljs.core.pr_sequential_writer=function cljs$core$pr_sequential_writer(writer,print_one,begin,sep,end,opts,coll){var _STAR_print_level_STAR_10735=cljs.core._STAR_print_level_STAR_;cljs.core._STAR_print_level_STAR_=cljs.core._STAR_print_level_STAR_==null?null:cljs.core._STAR_print_level_STAR_-1;try{if(!(cljs.core._STAR_print_level_STAR_==null)&&cljs.core._STAR_print_level_STAR_<0)return cljs.core._write(writer,"#");else{cljs.core._write(writer,begin);if((new cljs.core.Keyword(null,"print-length","print-length",
1931866356)).cljs$core$IFn$_invoke$arity$1(opts)===0)if(cljs.core.seq(coll))cljs.core._write(writer,function(){var or__6156__auto__=(new cljs.core.Keyword(null,"more-marker","more-marker",-14717935)).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return"..."}());else;else{if(cljs.core.seq(coll)){var G__10736_10742=cljs.core.first(coll);var G__10737_10743=writer;var G__10738_10744=opts;print_one.cljs$core$IFn$_invoke$arity$3?print_one.cljs$core$IFn$_invoke$arity$3(G__10736_10742,
G__10737_10743,G__10738_10744):print_one.call(null,G__10736_10742,G__10737_10743,G__10738_10744)}else;var coll_10745__$1=cljs.core.next(coll);var n_10746=(new cljs.core.Keyword(null,"print-length","print-length",1931866356)).cljs$core$IFn$_invoke$arity$1(opts)-1;while(true){if(coll_10745__$1&&(n_10746==null||!(n_10746===0))){cljs.core._write(writer,sep);var G__10739_10747=cljs.core.first(coll_10745__$1);var G__10740_10748=writer;var G__10741_10749=opts;print_one.cljs$core$IFn$_invoke$arity$3?print_one.cljs$core$IFn$_invoke$arity$3(G__10739_10747,
G__10740_10748,G__10741_10749):print_one.call(null,G__10739_10747,G__10740_10748,G__10741_10749);var G__10750=cljs.core.next(coll_10745__$1);var G__10751=n_10746-1;coll_10745__$1=G__10750;n_10746=G__10751;continue}else if(cljs.core.seq(coll_10745__$1)&&n_10746===0){cljs.core._write(writer,sep);cljs.core._write(writer,function(){var or__6156__auto__=(new cljs.core.Keyword(null,"more-marker","more-marker",-14717935)).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;
else return"..."}())}else;break}}return cljs.core._write(writer,end)}}finally{cljs.core._STAR_print_level_STAR_=_STAR_print_level_STAR_10735}};
cljs.core.write_all=function cljs$core$write_all(var_args){var args__7221__auto__=[];var len__7214__auto___10758=arguments.length;var i__7215__auto___10759=0;while(true){if(i__7215__auto___10759<len__7214__auto___10758){args__7221__auto__.push(arguments[i__7215__auto___10759]);var G__10760=i__7215__auto___10759+1;i__7215__auto___10759=G__10760;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):null;return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
argseq__7222__auto__)};
cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic=function(writer,ss){var seq__10754=cljs.core.seq(ss);var chunk__10755=null;var count__10756=0;var i__10757=0;while(true){if(i__10757<count__10756){var s=chunk__10755.cljs$core$IIndexed$_nth$arity$2(null,i__10757);cljs.core._write(writer,s);var G__10761=seq__10754;var G__10762=chunk__10755;var G__10763=count__10756;var G__10764=i__10757+1;seq__10754=G__10761;chunk__10755=G__10762;count__10756=G__10763;i__10757=G__10764;continue}else{var temp__4657__auto__=
cljs.core.seq(seq__10754);if(temp__4657__auto__){var seq__10754__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10754__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10754__$1);var G__10765=cljs.core.chunk_rest(seq__10754__$1);var G__10766=c__6959__auto__;var G__10767=cljs.core.count(c__6959__auto__);var G__10768=0;seq__10754=G__10765;chunk__10755=G__10766;count__10756=G__10767;i__10757=G__10768;continue}else{var s=cljs.core.first(seq__10754__$1);cljs.core._write(writer,s);var G__10769=
cljs.core.next(seq__10754__$1);var G__10770=null;var G__10771=0;var G__10772=0;seq__10754=G__10769;chunk__10755=G__10770;count__10756=G__10771;i__10757=G__10772;continue}}else return null}break}};cljs.core.write_all.cljs$lang$maxFixedArity=1;cljs.core.write_all.cljs$lang$applyTo=function(seq10752){var G__10753=cljs.core.first(seq10752);var seq10752__$1=cljs.core.next(seq10752);return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(G__10753,seq10752__$1)};
cljs.core.string_print=function cljs$core$string_print(x){cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1?cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1(x):cljs.core._STAR_print_fn_STAR_.call(null,x);return null};cljs.core.flush=function cljs$core$flush(){return null};cljs.core.char_escapes=function(){var obj10774={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};return obj10774}();
cljs.core.quote_string=function cljs$core$quote_string(s){return[cljs.core.str('"'),cljs.core.str(s.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(match){return cljs.core.char_escapes[match]})),cljs.core.str('"')].join("")};
cljs.core.print_meta_QMARK_=function cljs$core$print_meta_QMARK_(opts,obj){var and__6144__auto__=cljs.core.boolean$(cljs.core.get.cljs$core$IFn$_invoke$arity$2(opts,new cljs.core.Keyword(null,"meta","meta",1499536964)));if(and__6144__auto__){var and__6144__auto____$1=!(obj==null)?obj.cljs$lang$protocol_mask$partition0$&131072||obj.cljs$core$IMeta$?true:false:false;if(and__6144__auto____$1)return!(cljs.core.meta(obj)==null);else return and__6144__auto____$1}else return and__6144__auto__};
cljs.core.pr_writer_impl=function cljs$core$pr_writer_impl(obj,writer,opts){if(obj==null)return cljs.core._write(writer,"nil");else{if(cljs.core.print_meta_QMARK_(opts,obj)){cljs.core._write(writer,"^");var G__10790_10799=cljs.core.meta(obj);var G__10791_10800=writer;var G__10792_10801=opts;cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3?cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3(G__10790_10799,G__10791_10800,G__10792_10801):cljs.core.pr_writer.call(null,G__10790_10799,G__10791_10800,G__10792_10801);
cljs.core._write(writer," ")}else;if(obj.cljs$lang$type)return obj.cljs$lang$ctorPrWriter(obj,writer,opts);else if(!(obj==null)?obj.cljs$lang$protocol_mask$partition0$&2147483648||obj.cljs$core$IPrintWithWriter$?true:false:false)return obj.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null,writer,opts);else if(obj===true||obj===false||typeof obj==="number")return cljs.core._write(writer,[cljs.core.str(obj)].join(""));else if(cljs.core.object_QMARK_(obj)){cljs.core._write(writer,"#js ");var G__10794=
cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(k){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(k),obj[k]],null)},cljs.core.js_keys(obj));var G__10795=cljs.core.pr_writer;var G__10796=writer;var G__10797=opts;return cljs.core.print_map.cljs$core$IFn$_invoke$arity$4?cljs.core.print_map.cljs$core$IFn$_invoke$arity$4(G__10794,G__10795,G__10796,G__10797):cljs.core.print_map.call(null,G__10794,G__10795,G__10796,
G__10797)}else if(cljs.core.array_QMARK_(obj))return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"#js ["," ","]",opts,obj);else if(goog.isString(obj))if(cljs.core.truth_((new cljs.core.Keyword(null,"readably","readably",1129599760)).cljs$core$IFn$_invoke$arity$1(opts)))return cljs.core._write(writer,cljs.core.quote_string(obj));else return cljs.core._write(writer,obj);else if(goog.isFunction(obj)){var name=obj.name;var name__$1=cljs.core.truth_(function(){var or__6156__auto__=name==
null;if(or__6156__auto__)return or__6156__auto__;else return goog.string.isEmpty(name)}())?"Function":name;return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer,cljs.core.array_seq(["#object[",name__$1,' "',[cljs.core.str(obj)].join(""),'"]'],0))}else if(obj instanceof Date){var normalize=function(n,len){var ns=[cljs.core.str(n)].join("");while(true){if(cljs.core.count(ns)<len){var G__10802=[cljs.core.str("0"),cljs.core.str(ns)].join("");ns=G__10802;continue}else return ns;break}};
return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer,cljs.core.array_seq(['#inst "',[cljs.core.str(obj.getUTCFullYear())].join(""),"-",normalize(obj.getUTCMonth()+1,2),"-",normalize(obj.getUTCDate(),2),"T",normalize(obj.getUTCHours(),2),":",normalize(obj.getUTCMinutes(),2),":",normalize(obj.getUTCSeconds(),2),".",normalize(obj.getUTCMilliseconds(),3),"-",'00:00"'],0))}else if(cljs.core.regexp_QMARK_(obj))return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer,cljs.core.array_seq(['#"',
obj.source,'"'],0));else if(!(obj==null)?obj.cljs$lang$protocol_mask$partition0$&2147483648||obj.cljs$core$IPrintWithWriter$?true:false:false)return cljs.core._pr_writer(obj,writer,opts);else if(cljs.core.truth_(obj.constructor.cljs$lang$ctorStr))return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer,cljs.core.array_seq(["#object[",obj.constructor.cljs$lang$ctorStr.replace(new RegExp("/","g"),"."),"]"],0));else{var name=obj.constructor.name;var name__$1=cljs.core.truth_(function(){var or__6156__auto__=
name==null;if(or__6156__auto__)return or__6156__auto__;else return goog.string.isEmpty(name)}())?"Object":name;return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(writer,cljs.core.array_seq(["#object[",name__$1," ",[cljs.core.str(obj)].join(""),"]"],0))}}};
cljs.core.pr_writer=function cljs$core$pr_writer(obj,writer,opts){var temp__4655__auto__=(new cljs.core.Keyword(null,"alt-impl","alt-impl",670969595)).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(temp__4655__auto__)){var alt_impl=temp__4655__auto__;var G__10806=obj;var G__10807=writer;var G__10808=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(opts,new cljs.core.Keyword(null,"fallback-impl","fallback-impl",-1501286995),cljs.core.pr_writer_impl);return alt_impl.cljs$core$IFn$_invoke$arity$3?
alt_impl.cljs$core$IFn$_invoke$arity$3(G__10806,G__10807,G__10808):alt_impl.call(null,G__10806,G__10807,G__10808)}else return cljs.core.pr_writer_impl(obj,writer,opts)};
cljs.core.pr_seq_writer=function cljs$core$pr_seq_writer(objs,writer,opts){cljs.core.pr_writer(cljs.core.first(objs),writer,opts);var seq__10813=cljs.core.seq(cljs.core.next(objs));var chunk__10814=null;var count__10815=0;var i__10816=0;while(true){if(i__10816<count__10815){var obj=chunk__10814.cljs$core$IIndexed$_nth$arity$2(null,i__10816);cljs.core._write(writer," ");cljs.core.pr_writer(obj,writer,opts);var G__10817=seq__10813;var G__10818=chunk__10814;var G__10819=count__10815;var G__10820=i__10816+
1;seq__10813=G__10817;chunk__10814=G__10818;count__10815=G__10819;i__10816=G__10820;continue}else{var temp__4657__auto__=cljs.core.seq(seq__10813);if(temp__4657__auto__){var seq__10813__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(seq__10813__$1)){var c__6959__auto__=cljs.core.chunk_first(seq__10813__$1);var G__10821=cljs.core.chunk_rest(seq__10813__$1);var G__10822=c__6959__auto__;var G__10823=cljs.core.count(c__6959__auto__);var G__10824=0;seq__10813=G__10821;chunk__10814=G__10822;count__10815=
G__10823;i__10816=G__10824;continue}else{var obj=cljs.core.first(seq__10813__$1);cljs.core._write(writer," ");cljs.core.pr_writer(obj,writer,opts);var G__10825=cljs.core.next(seq__10813__$1);var G__10826=null;var G__10827=0;var G__10828=0;seq__10813=G__10825;chunk__10814=G__10826;count__10815=G__10827;i__10816=G__10828;continue}}else return null}break}};
cljs.core.pr_sb_with_opts=function cljs$core$pr_sb_with_opts(objs,opts){var sb=new goog.string.StringBuffer;var writer=new cljs.core.StringBufferWriter(sb);cljs.core.pr_seq_writer(objs,writer,opts);writer.cljs$core$IWriter$_flush$arity$1(null);return sb};cljs.core.pr_str_with_opts=function cljs$core$pr_str_with_opts(objs,opts){if(cljs.core.empty_QMARK_(objs))return"";else return[cljs.core.str(cljs.core.pr_sb_with_opts(objs,opts))].join("")};
cljs.core.prn_str_with_opts=function cljs$core$prn_str_with_opts(objs,opts){if(cljs.core.empty_QMARK_(objs))return"\n";else{var sb=cljs.core.pr_sb_with_opts(objs,opts);sb.append("\n");return[cljs.core.str(sb)].join("")}};cljs.core.pr_with_opts=function cljs$core$pr_with_opts(objs,opts){return cljs.core.string_print(cljs.core.pr_str_with_opts(objs,opts))};
cljs.core.newline=function cljs$core$newline(var_args){var args10829=[];var len__7214__auto___10832=arguments.length;var i__7215__auto___10833=0;while(true){if(i__7215__auto___10833<len__7214__auto___10832){args10829.push(arguments[i__7215__auto___10833]);var G__10834=i__7215__auto___10833+1;i__7215__auto___10833=G__10834;continue}else;break}var G__10831=args10829.length;switch(G__10831){case 0:return cljs.core.newline.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10829.length)].join(""));}};cljs.core.newline.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(null)};cljs.core.newline.cljs$core$IFn$_invoke$arity$1=function(opts){cljs.core.string_print("\n");if(cljs.core.truth_(cljs.core.get.cljs$core$IFn$_invoke$arity$2(opts,new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",-151457939))))return cljs.core.flush();else return null};
cljs.core.newline.cljs$lang$maxFixedArity=1;
cljs.core.pr_str=function cljs$core$pr_str(var_args){var args__7221__auto__=[];var len__7214__auto___10837=arguments.length;var i__7215__auto___10838=0;while(true){if(i__7215__auto___10838<len__7214__auto___10837){args__7221__auto__.push(arguments[i__7215__auto___10838]);var G__10839=i__7215__auto___10838+1;i__7215__auto___10838=G__10839;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic=function(objs){return cljs.core.pr_str_with_opts(objs,cljs.core.pr_opts())};cljs.core.pr_str.cljs$lang$maxFixedArity=0;cljs.core.pr_str.cljs$lang$applyTo=function(seq10836){return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10836))};
cljs.core.prn_str=function cljs$core$prn_str(var_args){var args__7221__auto__=[];var len__7214__auto___10841=arguments.length;var i__7215__auto___10842=0;while(true){if(i__7215__auto___10842<len__7214__auto___10841){args__7221__auto__.push(arguments[i__7215__auto___10842]);var G__10843=i__7215__auto___10842+1;i__7215__auto___10842=G__10843;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic=function(objs){return cljs.core.prn_str_with_opts(objs,cljs.core.pr_opts())};cljs.core.prn_str.cljs$lang$maxFixedArity=0;cljs.core.prn_str.cljs$lang$applyTo=function(seq10840){return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10840))};
cljs.core.pr=function cljs$core$pr(var_args){var args__7221__auto__=[];var len__7214__auto___10845=arguments.length;var i__7215__auto___10846=0;while(true){if(i__7215__auto___10846<len__7214__auto___10845){args__7221__auto__.push(arguments[i__7215__auto___10846]);var G__10847=i__7215__auto___10846+1;i__7215__auto___10846=G__10847;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic=function(objs){return cljs.core.pr_with_opts(objs,cljs.core.pr_opts())};cljs.core.pr.cljs$lang$maxFixedArity=0;cljs.core.pr.cljs$lang$applyTo=function(seq10844){return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10844))};
cljs.core.print=function(){var cljs$core$cljs_core_print__delegate=function(objs){return cljs.core.pr_with_opts(objs,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),false))};var cljs$core$cljs_core_print=function(var_args){var objs=null;if(arguments.length>0){var G__10848__i=0,G__10848__a=new Array(arguments.length-0);while(G__10848__i<G__10848__a.length){G__10848__a[G__10848__i]=arguments[G__10848__i+0];++G__10848__i}objs=
new cljs.core.IndexedSeq(G__10848__a,0)}return cljs$core$cljs_core_print__delegate.call(this,objs)};cljs$core$cljs_core_print.cljs$lang$maxFixedArity=0;cljs$core$cljs_core_print.cljs$lang$applyTo=function(arglist__10849){var objs=cljs.core.seq(arglist__10849);return cljs$core$cljs_core_print__delegate(objs)};cljs$core$cljs_core_print.cljs$core$IFn$_invoke$arity$variadic=cljs$core$cljs_core_print__delegate;return cljs$core$cljs_core_print}();
cljs.core.print_str=function cljs$core$print_str(var_args){var args__7221__auto__=[];var len__7214__auto___10851=arguments.length;var i__7215__auto___10852=0;while(true){if(i__7215__auto___10852<len__7214__auto___10851){args__7221__auto__.push(arguments[i__7215__auto___10852]);var G__10853=i__7215__auto___10852+1;i__7215__auto___10852=G__10853;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic=function(objs){return cljs.core.pr_str_with_opts(objs,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),false))};cljs.core.print_str.cljs$lang$maxFixedArity=0;cljs.core.print_str.cljs$lang$applyTo=function(seq10850){return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10850))};
cljs.core.println=function cljs$core$println(var_args){var args__7221__auto__=[];var len__7214__auto___10855=arguments.length;var i__7215__auto___10856=0;while(true){if(i__7215__auto___10856<len__7214__auto___10855){args__7221__auto__.push(arguments[i__7215__auto___10856]);var G__10857=i__7215__auto___10856+1;i__7215__auto___10856=G__10857;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.println.cljs$core$IFn$_invoke$arity$variadic=function(objs){cljs.core.pr_with_opts(objs,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),false));if(cljs.core.truth_(cljs.core._STAR_print_newline_STAR_))return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts());else return null};cljs.core.println.cljs$lang$maxFixedArity=0;cljs.core.println.cljs$lang$applyTo=function(seq10854){return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10854))};
cljs.core.println_str=function cljs$core$println_str(var_args){var args__7221__auto__=[];var len__7214__auto___10859=arguments.length;var i__7215__auto___10860=0;while(true){if(i__7215__auto___10860<len__7214__auto___10859){args__7221__auto__.push(arguments[i__7215__auto___10860]);var G__10861=i__7215__auto___10860+1;i__7215__auto___10860=G__10861;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic=function(objs){return cljs.core.prn_str_with_opts(objs,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),false))};cljs.core.println_str.cljs$lang$maxFixedArity=0;cljs.core.println_str.cljs$lang$applyTo=function(seq10858){return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10858))};
cljs.core.prn=function cljs$core$prn(var_args){var args__7221__auto__=[];var len__7214__auto___10863=arguments.length;var i__7215__auto___10864=0;while(true){if(i__7215__auto___10864<len__7214__auto___10863){args__7221__auto__.push(arguments[i__7215__auto___10864]);var G__10865=i__7215__auto___10864+1;i__7215__auto___10864=G__10865;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic=function(objs){cljs.core.pr_with_opts(objs,cljs.core.pr_opts());if(cljs.core.truth_(cljs.core._STAR_print_newline_STAR_))return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts());else return null};cljs.core.prn.cljs$lang$maxFixedArity=0;cljs.core.prn.cljs$lang$applyTo=function(seq10862){return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10862))};
cljs.core.print_map=function cljs$core$print_map(m,print_one,writer,opts){return cljs.core.pr_sequential_writer(writer,function(e,w,opts__$1){var G__10872_10878=cljs.core.key(e);var G__10873_10879=w;var G__10874_10880=opts__$1;print_one.cljs$core$IFn$_invoke$arity$3?print_one.cljs$core$IFn$_invoke$arity$3(G__10872_10878,G__10873_10879,G__10874_10880):print_one.call(null,G__10872_10878,G__10873_10879,G__10874_10880);cljs.core._write(w," ");var G__10875=cljs.core.val(e);var G__10876=w;var G__10877=
opts__$1;return print_one.cljs$core$IFn$_invoke$arity$3?print_one.cljs$core$IFn$_invoke$arity$3(G__10875,G__10876,G__10877):print_one.call(null,G__10875,G__10876,G__10877)},"{",", ","}",opts,cljs.core.seq(m))};cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(a,writer,opts){var a__$1=this;cljs.core._write(writer,"#object [cljs.core.Volatile ");cljs.core.pr_writer(new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"val","val",128701612),a__$1.state],null),writer,opts);return cljs.core._write(writer,"]")};cljs.core.Var.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.Var.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(a,writer,opts){var a__$1=this;cljs.core._write(writer,"#'");return cljs.core.pr_writer(a__$1.sym,writer,opts)};cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"#{"," ","}",opts,coll__$1)};cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map(coll__$1,cljs.core.pr_writer,writer,opts)};cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map(coll__$1,cljs.core.pr_writer,writer,opts)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map(coll__$1,cljs.core.pr_writer,writer,opts)};cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"#{"," ","}",opts,coll__$1)};cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(a,writer,opts){var a__$1=this;cljs.core._write(writer,"#object [cljs.core.Atom ");cljs.core.pr_writer(new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"val","val",128701612),a__$1.state],null),writer,opts);return cljs.core._write(writer,"]")};cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};
cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core._write(writer,"()")};
cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"#queue ["," ","]",opts,cljs.core.seq(coll__$1))};cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map(coll__$1,cljs.core.pr_writer,writer,opts)};cljs.core.Range.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.Range.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.List.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.List.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.Symbol.prototype.cljs$core$IComparable$=true;
cljs.core.Symbol.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;if(y instanceof cljs.core.Symbol)return cljs.core.compare_symbols(x__$1,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x__$1),cljs.core.str(" to "),cljs.core.str(y)].join(""));};cljs.core.Keyword.prototype.cljs$core$IComparable$=true;
cljs.core.Keyword.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;if(y instanceof cljs.core.Keyword)return cljs.core.compare_keywords(x__$1,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x__$1),cljs.core.str(" to "),cljs.core.str(y)].join(""));};cljs.core.Subvec.prototype.cljs$core$IComparable$=true;
cljs.core.Subvec.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;if(cljs.core.vector_QMARK_(y))return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(x__$1,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x__$1),cljs.core.str(" to "),cljs.core.str(y)].join(""));};cljs.core.PersistentVector.prototype.cljs$core$IComparable$=true;
cljs.core.PersistentVector.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;if(cljs.core.vector_QMARK_(y))return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(x__$1,y);else throw new Error([cljs.core.str("Cannot compare "),cljs.core.str(x__$1),cljs.core.str(" to "),cljs.core.str(y)].join(""));};
cljs.core.alter_meta_BANG_=function cljs$core$alter_meta_BANG_(var_args){var args__7221__auto__=[];var len__7214__auto___10884=arguments.length;var i__7215__auto___10885=0;while(true){if(i__7215__auto___10885<len__7214__auto___10884){args__7221__auto__.push(arguments[i__7215__auto___10885]);var G__10886=i__7215__auto___10885+1;i__7215__auto___10885=G__10886;continue}else;break}var argseq__7222__auto__=2<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(2),0):null;return cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
arguments[1],argseq__7222__auto__)};cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(iref,f,args){return iref.meta=cljs.core.apply.cljs$core$IFn$_invoke$arity$3(f,iref.meta,args)};cljs.core.alter_meta_BANG_.cljs$lang$maxFixedArity=2;
cljs.core.alter_meta_BANG_.cljs$lang$applyTo=function(seq10881){var G__10882=cljs.core.first(seq10881);var seq10881__$1=cljs.core.next(seq10881);var G__10883=cljs.core.first(seq10881__$1);var seq10881__$2=cljs.core.next(seq10881__$1);return cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__10882,G__10883,seq10881__$2)};cljs.core.reset_meta_BANG_=function cljs$core$reset_meta_BANG_(iref,m){return iref.meta=m};
cljs.core.add_watch=function cljs$core$add_watch(iref,key,f){cljs.core._add_watch(iref,key,f);return iref};cljs.core.remove_watch=function cljs$core$remove_watch(iref,key){cljs.core._remove_watch(iref,key);return iref};cljs.core.gensym_counter=null;
cljs.core.gensym=function cljs$core$gensym(var_args){var args10887=[];var len__7214__auto___10890=arguments.length;var i__7215__auto___10891=0;while(true){if(i__7215__auto___10891<len__7214__auto___10890){args10887.push(arguments[i__7215__auto___10891]);var G__10892=i__7215__auto___10891+1;i__7215__auto___10891=G__10892;continue}else;break}var G__10889=args10887.length;switch(G__10889){case 0:return cljs.core.gensym.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10887.length)].join(""));}};cljs.core.gensym.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1("G__")};
cljs.core.gensym.cljs$core$IFn$_invoke$arity$1=function(prefix_string){if(cljs.core.gensym_counter==null)cljs.core.gensym_counter=cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(0):cljs.core.atom.call(null,0);else;return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1([cljs.core.str(prefix_string),cljs.core.str(cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(cljs.core.gensym_counter,cljs.core.inc))].join(""))};cljs.core.gensym.cljs$lang$maxFixedArity=1;
cljs.core.fixture1=1;cljs.core.fixture2=2;cljs.core.Delay=function(f,value){this.f=f;this.value=value;this.cljs$lang$protocol_mask$partition0$=32768;this.cljs$lang$protocol_mask$partition1$=1};cljs.core.Delay.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;if(cljs.core.truth_(self__.f)){self__.value=self__.f.cljs$core$IFn$_invoke$arity$0?self__.f.cljs$core$IFn$_invoke$arity$0():self__.f.call(null);self__.f=null}else;return self__.value};
cljs.core.Delay.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(x){var self__=this;var x__$1=this;return cljs.core.not(self__.f)};
cljs.core.Delay.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"value","value",1946509744,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};
cljs.core.Delay.cljs$lang$type=true;cljs.core.Delay.cljs$lang$ctorStr="cljs.core/Delay";cljs.core.Delay.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Delay")};cljs.core.__GT_Delay=function cljs$core$__GT_Delay(f,value){return new cljs.core.Delay(f,value)};cljs.core.delay_QMARK_=function cljs$core$delay_QMARK_(x){return x instanceof cljs.core.Delay};
cljs.core.force=function cljs$core$force(x){if(cljs.core.delay_QMARK_(x))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(x):cljs.core.deref.call(null,x);else return x};cljs.core.realized_QMARK_=function cljs$core$realized_QMARK_(x){return cljs.core._realized_QMARK_(x)};
cljs.core.preserving_reduced=function cljs$core$preserving_reduced(rf){return function(p1__10894_SHARP_,p2__10895_SHARP_){var ret=rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(p1__10894_SHARP_,p2__10895_SHARP_):rf.call(null,p1__10894_SHARP_,p2__10895_SHARP_);if(cljs.core.reduced_QMARK_(ret))return cljs.core.reduced(ret);else return ret}};
cljs.core.cat=function cljs$core$cat(rf){var rf1=cljs.core.preserving_reduced(rf);return function(rf1){return function(){var G__10896=null;var G__10896__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10896__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__10896__2=function(result,input){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(rf1,result,input)};
G__10896=function(result,input){switch(arguments.length){case 0:return G__10896__0.call(this);case 1:return G__10896__1.call(this,result);case 2:return G__10896__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10896.cljs$core$IFn$_invoke$arity$0=G__10896__0;G__10896.cljs$core$IFn$_invoke$arity$1=G__10896__1;G__10896.cljs$core$IFn$_invoke$arity$2=G__10896__2;return G__10896}()}(rf1)};
cljs.core.dedupe=function cljs$core$dedupe(var_args){var args10897=[];var len__7214__auto___10900=arguments.length;var i__7215__auto___10901=0;while(true){if(i__7215__auto___10901<len__7214__auto___10900){args10897.push(arguments[i__7215__auto___10901]);var G__10902=i__7215__auto___10901+1;i__7215__auto___10901=G__10902;continue}else;break}var G__10899=args10897.length;switch(G__10899){case 0:return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10897.length)].join(""));}};
cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0=function(){return function(rf){var pa=cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439));return function(pa){return function(){var G__10904=null;var G__10904__0=function(){return rf.cljs$core$IFn$_invoke$arity$0?rf.cljs$core$IFn$_invoke$arity$0():rf.call(null)};var G__10904__1=function(result){return rf.cljs$core$IFn$_invoke$arity$1?rf.cljs$core$IFn$_invoke$arity$1(result):rf.call(null,result)};var G__10904__2=
function(result,input){var prior=cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(pa):cljs.core.deref.call(null,pa);cljs.core.vreset_BANG_(pa,input);if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(prior,input))return result;else return rf.cljs$core$IFn$_invoke$arity$2?rf.cljs$core$IFn$_invoke$arity$2(result,input):rf.call(null,result,input)};G__10904=function(result,input){switch(arguments.length){case 0:return G__10904__0.call(this);case 1:return G__10904__1.call(this,
result);case 2:return G__10904__2.call(this,result,input)}throw new Error("Invalid arity: "+arguments.length);};G__10904.cljs$core$IFn$_invoke$arity$0=G__10904__0;G__10904.cljs$core$IFn$_invoke$arity$1=G__10904__1;G__10904.cljs$core$IFn$_invoke$arity$2=G__10904__2;return G__10904}()}(pa)}};cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1=function(coll){return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0(),coll)};
cljs.core.dedupe.cljs$lang$maxFixedArity=1;
cljs.core.random_sample=function cljs$core$random_sample(var_args){var args10905=[];var len__7214__auto___10908=arguments.length;var i__7215__auto___10909=0;while(true){if(i__7215__auto___10909<len__7214__auto___10908){args10905.push(arguments[i__7215__auto___10909]);var G__10910=i__7215__auto___10909+1;i__7215__auto___10909=G__10910;continue}else;break}var G__10907=args10905.length;switch(G__10907){case 1:return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args10905.length)].join(""));}};cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1=function(prob){return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(function(_){return(cljs.core.rand.cljs$core$IFn$_invoke$arity$0?cljs.core.rand.cljs$core$IFn$_invoke$arity$0():cljs.core.rand.call(null))<prob})};
cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2=function(prob,coll){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(_){return(cljs.core.rand.cljs$core$IFn$_invoke$arity$0?cljs.core.rand.cljs$core$IFn$_invoke$arity$0():cljs.core.rand.call(null))<prob},coll)};cljs.core.random_sample.cljs$lang$maxFixedArity=2;cljs.core.Eduction=function(xform,coll){this.xform=xform;this.coll=coll;this.cljs$lang$protocol_mask$partition0$=2173173760;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.Eduction.prototype.cljs$core$ISeqable$_seq$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.seq(cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(self__.xform,self__.coll))};cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$2=function(_,f){var self__=this;var ___$1=this;return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(self__.xform,cljs.core.completing.cljs$core$IFn$_invoke$arity$1(f),self__.coll)};
cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$3=function(_,f,init){var self__=this;var ___$1=this;return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(self__.xform,cljs.core.completing.cljs$core$IFn$_invoke$arity$1(f),init,self__.coll)};cljs.core.Eduction.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll__$1,writer,opts){var self__=this;var coll__$2=this;return cljs.core.pr_sequential_writer(writer,cljs.core.pr_writer,"("," ",")",opts,coll__$2)};
cljs.core.Eduction.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"coll","coll",-1006698606,null)],null)};cljs.core.Eduction.cljs$lang$type=true;cljs.core.Eduction.cljs$lang$ctorStr="cljs.core/Eduction";
cljs.core.Eduction.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Eduction")};cljs.core.__GT_Eduction=function cljs$core$__GT_Eduction(xform,coll){return new cljs.core.Eduction(xform,coll)};cljs.core.Eduction.prototype[cljs.core.ITER_SYMBOL]=function(){var this__7150__auto__=this;return cljs.core.es6_iterator(this__7150__auto__)};
cljs.core.eduction=function cljs$core$eduction(var_args){var args__7221__auto__=[];var len__7214__auto___10913=arguments.length;var i__7215__auto___10914=0;while(true){if(i__7215__auto___10914<len__7214__auto___10913){args__7221__auto__.push(arguments[i__7215__auto___10914]);var G__10915=i__7215__auto___10914+1;i__7215__auto___10914=G__10915;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};
cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic=function(xforms){return new cljs.core.Eduction(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.comp,cljs.core.butlast(xforms)),cljs.core.last(xforms))};cljs.core.eduction.cljs$lang$maxFixedArity=0;cljs.core.eduction.cljs$lang$applyTo=function(seq10912){return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq10912))};
cljs.core.run_BANG_=function cljs$core$run_BANG_(proc,coll){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__10917_SHARP_,p2__10916_SHARP_){return proc.cljs$core$IFn$_invoke$arity$1?proc.cljs$core$IFn$_invoke$arity$1(p2__10916_SHARP_):proc.call(null,p2__10916_SHARP_)},null,coll)};cljs.core.IEncodeJS=function(){};
cljs.core._clj__GT_js=function cljs$core$_clj__GT_js(x){if(!(x==null)&&!(x.cljs$core$IEncodeJS$_clj__GT_js$arity$1==null))return x.cljs$core$IEncodeJS$_clj__GT_js$arity$1(x);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._clj__GT_js[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto__.call(null,x);else{var m__6812__auto____$1=cljs.core._clj__GT_js["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto____$1.call(null,x);else throw cljs.core.missing_protocol("IEncodeJS.-clj-\x3ejs",x);}}};
cljs.core._key__GT_js=function cljs$core$_key__GT_js(x){if(!(x==null)&&!(x.cljs$core$IEncodeJS$_key__GT_js$arity$1==null))return x.cljs$core$IEncodeJS$_key__GT_js$arity$1(x);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._key__GT_js[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto__.call(null,x);else{var m__6812__auto____$1=cljs.core._key__GT_js["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(x):m__6812__auto____$1.call(null,x);else throw cljs.core.missing_protocol("IEncodeJS.-key-\x3ejs",x);}}};
cljs.core.key__GT_js=function cljs$core$key__GT_js(k){if(!(k==null)?false||k.cljs$core$IEncodeJS$?true:!k.cljs$lang$protocol_mask$partition$?cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,k):false:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,k))return cljs.core._clj__GT_js(k);else if(typeof k==="string"||typeof k==="number"||k instanceof cljs.core.Keyword||k instanceof cljs.core.Symbol)return cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1?cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1(k):
cljs.core.clj__GT_js.call(null,k);else return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([k],0))};
cljs.core.clj__GT_js=function cljs$core$clj__GT_js(x){if(x==null)return null;else if(!(x==null)?false||x.cljs$core$IEncodeJS$?true:!x.cljs$lang$protocol_mask$partition$?cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,x):false:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,x))return cljs.core._clj__GT_js(x);else if(x instanceof cljs.core.Keyword)return cljs.core.name(x);else if(x instanceof cljs.core.Symbol)return[cljs.core.str(x)].join("");else if(cljs.core.map_QMARK_(x)){var m={};var seq__10936_10946=
cljs.core.seq(x);var chunk__10937_10947=null;var count__10938_10948=0;var i__10939_10949=0;while(true){if(i__10939_10949<count__10938_10948){var vec__10940_10950=chunk__10937_10947.cljs$core$IIndexed$_nth$arity$2(null,i__10939_10949);var k_10951=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10940_10950,0,null);var v_10952=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10940_10950,1,null);m[cljs.core.key__GT_js(k_10951)]=cljs$core$clj__GT_js(v_10952);var G__10953=seq__10936_10946;var G__10954=
chunk__10937_10947;var G__10955=count__10938_10948;var G__10956=i__10939_10949+1;seq__10936_10946=G__10953;chunk__10937_10947=G__10954;count__10938_10948=G__10955;i__10939_10949=G__10956;continue}else{var temp__4657__auto___10957=cljs.core.seq(seq__10936_10946);if(temp__4657__auto___10957){var seq__10936_10958__$1=temp__4657__auto___10957;if(cljs.core.chunked_seq_QMARK_(seq__10936_10958__$1)){var c__6959__auto___10959=cljs.core.chunk_first(seq__10936_10958__$1);var G__10960=cljs.core.chunk_rest(seq__10936_10958__$1);
var G__10961=c__6959__auto___10959;var G__10962=cljs.core.count(c__6959__auto___10959);var G__10963=0;seq__10936_10946=G__10960;chunk__10937_10947=G__10961;count__10938_10948=G__10962;i__10939_10949=G__10963;continue}else{var vec__10941_10964=cljs.core.first(seq__10936_10958__$1);var k_10965=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10941_10964,0,null);var v_10966=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10941_10964,1,null);m[cljs.core.key__GT_js(k_10965)]=cljs$core$clj__GT_js(v_10966);
var G__10967=cljs.core.next(seq__10936_10958__$1);var G__10968=null;var G__10969=0;var G__10970=0;seq__10936_10946=G__10967;chunk__10937_10947=G__10968;count__10938_10948=G__10969;i__10939_10949=G__10970;continue}}else;}break}return m}else if(cljs.core.coll_QMARK_(x)){var arr=[];var seq__10942_10971=cljs.core.seq(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$clj__GT_js,x));var chunk__10943_10972=null;var count__10944_10973=0;var i__10945_10974=0;while(true){if(i__10945_10974<count__10944_10973){var x_10975__$1=
chunk__10943_10972.cljs$core$IIndexed$_nth$arity$2(null,i__10945_10974);arr.push(x_10975__$1);var G__10976=seq__10942_10971;var G__10977=chunk__10943_10972;var G__10978=count__10944_10973;var G__10979=i__10945_10974+1;seq__10942_10971=G__10976;chunk__10943_10972=G__10977;count__10944_10973=G__10978;i__10945_10974=G__10979;continue}else{var temp__4657__auto___10980=cljs.core.seq(seq__10942_10971);if(temp__4657__auto___10980){var seq__10942_10981__$1=temp__4657__auto___10980;if(cljs.core.chunked_seq_QMARK_(seq__10942_10981__$1)){var c__6959__auto___10982=
cljs.core.chunk_first(seq__10942_10981__$1);var G__10983=cljs.core.chunk_rest(seq__10942_10981__$1);var G__10984=c__6959__auto___10982;var G__10985=cljs.core.count(c__6959__auto___10982);var G__10986=0;seq__10942_10971=G__10983;chunk__10943_10972=G__10984;count__10944_10973=G__10985;i__10945_10974=G__10986;continue}else{var x_10987__$1=cljs.core.first(seq__10942_10981__$1);arr.push(x_10987__$1);var G__10988=cljs.core.next(seq__10942_10981__$1);var G__10989=null;var G__10990=0;var G__10991=0;seq__10942_10971=
G__10988;chunk__10943_10972=G__10989;count__10944_10973=G__10990;i__10945_10974=G__10991;continue}}else;}break}return arr}else return x};cljs.core.IEncodeClojure=function(){};
cljs.core._js__GT_clj=function cljs$core$_js__GT_clj(x,options){if(!(x==null)&&!(x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2==null))return x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2(x,options);else{var x__6811__auto__=x==null?null:x;var m__6812__auto__=cljs.core._js__GT_clj[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(x,options):m__6812__auto__.call(null,x,options);else{var m__6812__auto____$1=
cljs.core._js__GT_clj["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(x,options):m__6812__auto____$1.call(null,x,options);else throw cljs.core.missing_protocol("IEncodeClojure.-js-\x3eclj",x);}}};
cljs.core.js__GT_clj=function cljs$core$js__GT_clj(var_args){var args10992=[];var len__7214__auto___11017=arguments.length;var i__7215__auto___11018=0;while(true){if(i__7215__auto___11018<len__7214__auto___11017){args10992.push(arguments[i__7215__auto___11018]);var G__11019=i__7215__auto___11018+1;i__7215__auto___11018=G__11019;continue}else;break}var G__10996=args10992.length;switch(G__10996){case 1:return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args10992.slice(1),0);return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7233__auto__)}};cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1=function(x){return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq([new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252),false],null)],0))};
cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic=function(x,opts){var map__10997=opts;var map__10997__$1=(!(map__10997==null)?map__10997.cljs$lang$protocol_mask$partition0$&64||map__10997.cljs$core$ISeq$?true:false:false)?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__10997):map__10997;var keywordize_keys=cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__10997__$1,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252));var keyfn=cljs.core.truth_(keywordize_keys)?
cljs.core.keyword:cljs.core.str;var f=function(map__10997,map__10997__$1,keywordize_keys,keyfn){return function cljs$core$thisfn(x__$1){if(!(x__$1==null)?false||x__$1.cljs$core$IEncodeClojure$?true:!x__$1.cljs$lang$protocol_mask$partition$?cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure,x__$1):false:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure,x__$1))return cljs.core._js__GT_clj(x__$1,cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.array_map,opts));else if(cljs.core.seq_QMARK_(x__$1))return cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn,
x__$1));else if(cljs.core.coll_QMARK_(x__$1))return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.empty(x__$1),cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn,x__$1));else if(cljs.core.array_QMARK_(x__$1))return cljs.core.vec(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs$core$thisfn,x__$1));else if(cljs.core.type(x__$1)===Object)return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,function(){var iter__6928__auto__=function(map__10997,map__10997__$1,
keywordize_keys,keyfn){return function cljs$core$thisfn_$_iter__11011(s__11012){return new cljs.core.LazySeq(null,function(map__10997,map__10997__$1,keywordize_keys,keyfn){return function(){var s__11012__$1=s__11012;while(true){var temp__4657__auto__=cljs.core.seq(s__11012__$1);if(temp__4657__auto__){var s__11012__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_(s__11012__$2)){var c__6926__auto__=cljs.core.chunk_first(s__11012__$2);var size__6927__auto__=cljs.core.count(c__6926__auto__);var b__11014=
cljs.core.chunk_buffer(size__6927__auto__);if(function(){var i__11013=0;while(true){if(i__11013<size__6927__auto__){var k=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c__6926__auto__,i__11013);cljs.core.chunk_append(b__11014,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[keyfn.cljs$core$IFn$_invoke$arity$1?keyfn.cljs$core$IFn$_invoke$arity$1(k):keyfn.call(null,k),cljs$core$thisfn(x__$1[k])],null));var G__11021=i__11013+1;i__11013=G__11021;continue}else return true;
break}}())return cljs.core.chunk_cons(cljs.core.chunk(b__11014),cljs$core$thisfn_$_iter__11011(cljs.core.chunk_rest(s__11012__$2)));else return cljs.core.chunk_cons(cljs.core.chunk(b__11014),null)}else{var k=cljs.core.first(s__11012__$2);return cljs.core.cons(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[keyfn.cljs$core$IFn$_invoke$arity$1?keyfn.cljs$core$IFn$_invoke$arity$1(k):keyfn.call(null,k),cljs$core$thisfn(x__$1[k])],null),cljs$core$thisfn_$_iter__11011(cljs.core.rest(s__11012__$2)))}}else return null;
break}}}(map__10997,map__10997__$1,keywordize_keys,keyfn),null,null)}}(map__10997,map__10997__$1,keywordize_keys,keyfn);return iter__6928__auto__(cljs.core.js_keys(x__$1))}());else return x__$1}}(map__10997,map__10997__$1,keywordize_keys,keyfn);return f(x)};cljs.core.js__GT_clj.cljs$lang$applyTo=function(seq10993){var G__10994=cljs.core.first(seq10993);var seq10993__$1=cljs.core.next(seq10993);return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(G__10994,seq10993__$1)};
cljs.core.js__GT_clj.cljs$lang$maxFixedArity=1;
cljs.core.memoize=function cljs$core$memoize(f){var mem=function(){var G__11023=cljs.core.PersistentArrayMap.EMPTY;return cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11023):cljs.core.atom.call(null,G__11023)}();return function(mem){return function(){var G__11024__delegate=function(args){var v=cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(mem):cljs.core.deref.call(null,
mem),args,cljs.core.lookup_sentinel);if(v===cljs.core.lookup_sentinel){var ret=cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f,args);cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(mem,cljs.core.assoc,args,ret);return ret}else return v};var G__11024=function(var_args){var args=null;if(arguments.length>0){var G__11025__i=0,G__11025__a=new Array(arguments.length-0);while(G__11025__i<G__11025__a.length){G__11025__a[G__11025__i]=arguments[G__11025__i+0];++G__11025__i}args=new cljs.core.IndexedSeq(G__11025__a,
0)}return G__11024__delegate.call(this,args)};G__11024.cljs$lang$maxFixedArity=0;G__11024.cljs$lang$applyTo=function(arglist__11026){var args=cljs.core.seq(arglist__11026);return G__11024__delegate(args)};G__11024.cljs$core$IFn$_invoke$arity$variadic=G__11024__delegate;return G__11024}()}(mem)};
cljs.core.trampoline=function cljs$core$trampoline(var_args){var args11027=[];var len__7214__auto___11032=arguments.length;var i__7215__auto___11033=0;while(true){if(i__7215__auto___11033<len__7214__auto___11032){args11027.push(arguments[i__7215__auto___11033]);var G__11034=i__7215__auto___11033+1;i__7215__auto___11033=G__11034;continue}else;break}var G__11031=args11027.length;switch(G__11031){case 1:return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:var argseq__7233__auto__=
new cljs.core.IndexedSeq(args11027.slice(1),0);return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7233__auto__)}};cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1=function(f){while(true){var ret=f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null);if(cljs.core.fn_QMARK_(ret)){var G__11036=ret;f=G__11036;continue}else return ret;break}};
cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic=function(f,args){return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(function(){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(f,args)})};cljs.core.trampoline.cljs$lang$applyTo=function(seq11028){var G__11029=cljs.core.first(seq11028);var seq11028__$1=cljs.core.next(seq11028);return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(G__11029,seq11028__$1)};cljs.core.trampoline.cljs$lang$maxFixedArity=1;
cljs.core.rand=function cljs$core$rand(var_args){var args11037=[];var len__7214__auto___11040=arguments.length;var i__7215__auto___11041=0;while(true){if(i__7215__auto___11041<len__7214__auto___11040){args11037.push(arguments[i__7215__auto___11041]);var G__11042=i__7215__auto___11041+1;i__7215__auto___11041=G__11042;continue}else;break}var G__11039=args11037.length;switch(G__11039){case 0:return cljs.core.rand.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11037.length)].join(""));}};cljs.core.rand.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(1)};cljs.core.rand.cljs$core$IFn$_invoke$arity$1=function(n){return Math.random()*n};cljs.core.rand.cljs$lang$maxFixedArity=1;cljs.core.rand_int=function cljs$core$rand_int(n){var G__11045=Math.random()*n;return Math.floor(G__11045)};
cljs.core.rand_nth=function cljs$core$rand_nth(coll){return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(coll,cljs.core.rand_int(cljs.core.count(coll)))};
cljs.core.group_by=function cljs$core$group_by(f,coll){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(ret,x){var k=f.cljs$core$IFn$_invoke$arity$1?f.cljs$core$IFn$_invoke$arity$1(x):f.call(null,x);return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(ret,k,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(ret,k,cljs.core.PersistentVector.EMPTY),x))},cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY),coll))};
cljs.core.make_hierarchy=function cljs$core$make_hierarchy(){return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",-2027538891),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"descendants","descendants",1824886031),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"ancestors","ancestors",-776045424),cljs.core.PersistentArrayMap.EMPTY],null)};cljs.core._global_hierarchy=null;
cljs.core.get_global_hierarchy=function cljs$core$get_global_hierarchy(){if(cljs.core._global_hierarchy==null)cljs.core._global_hierarchy=function(){var G__11047=cljs.core.make_hierarchy();return cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11047):cljs.core.atom.call(null,G__11047)}();else;return cljs.core._global_hierarchy};
cljs.core.swap_global_hierarchy_BANG_=function cljs$core$swap_global_hierarchy_BANG_(var_args){var args__7221__auto__=[];var len__7214__auto___11050=arguments.length;var i__7215__auto___11051=0;while(true){if(i__7215__auto___11051<len__7214__auto___11050){args__7221__auto__.push(arguments[i__7215__auto___11051]);var G__11052=i__7215__auto___11051+1;i__7215__auto___11051=G__11052;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),
0):null;return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(f,args){return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core.swap_BANG_,cljs.core.get_global_hierarchy(),f,args)};cljs.core.swap_global_hierarchy_BANG_.cljs$lang$maxFixedArity=1;
cljs.core.swap_global_hierarchy_BANG_.cljs$lang$applyTo=function(seq11048){var G__11049=cljs.core.first(seq11048);var seq11048__$1=cljs.core.next(seq11048);return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__11049,seq11048__$1)};
cljs.core.isa_QMARK_=function cljs$core$isa_QMARK_(var_args){var args11053=[];var len__7214__auto___11057=arguments.length;var i__7215__auto___11058=0;while(true){if(i__7215__auto___11058<len__7214__auto___11057){args11053.push(arguments[i__7215__auto___11058]);var G__11059=i__7215__auto___11058+1;i__7215__auto___11058=G__11059;continue}else;break}var G__11055=args11053.length;switch(G__11055){case 2:return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11053.length)].join(""));}};cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2=function(child,parent){return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(function(){var G__11056=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11056):cljs.core.deref.call(null,G__11056)}(),child,parent)};
cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3=function(h,child,parent){var or__6156__auto__=cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(child,parent);if(or__6156__auto__)return or__6156__auto__;else{var or__6156__auto____$1=cljs.core.contains_QMARK_((new cljs.core.Keyword(null,"ancestors","ancestors",-776045424)).cljs$core$IFn$_invoke$arity$1(h).call(null,child),parent);if(or__6156__auto____$1)return or__6156__auto____$1;else{var and__6144__auto__=cljs.core.vector_QMARK_(parent);if(and__6144__auto__){var and__6144__auto____$1=
cljs.core.vector_QMARK_(child);if(and__6144__auto____$1){var and__6144__auto____$2=cljs.core.count(parent)===cljs.core.count(child);if(and__6144__auto____$2){var ret=true;var i=0;while(true){if(!ret||i===cljs.core.count(parent))return ret;else{var G__11061=cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(h,child.cljs$core$IFn$_invoke$arity$1?child.cljs$core$IFn$_invoke$arity$1(i):child.call(null,i),parent.cljs$core$IFn$_invoke$arity$1?parent.cljs$core$IFn$_invoke$arity$1(i):parent.call(null,i));
var G__11062=i+1;ret=G__11061;i=G__11062;continue}break}}else return and__6144__auto____$2}else return and__6144__auto____$1}else return and__6144__auto__}}};cljs.core.isa_QMARK_.cljs$lang$maxFixedArity=3;
cljs.core.parents=function cljs$core$parents(var_args){var args11063=[];var len__7214__auto___11067=arguments.length;var i__7215__auto___11068=0;while(true){if(i__7215__auto___11068<len__7214__auto___11067){args11063.push(arguments[i__7215__auto___11068]);var G__11069=i__7215__auto___11068+1;i__7215__auto___11068=G__11069;continue}else;break}var G__11065=args11063.length;switch(G__11065){case 1:return cljs.core.parents.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11063.length)].join(""));}};cljs.core.parents.cljs$core$IFn$_invoke$arity$1=function(tag){return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(function(){var G__11066=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11066):cljs.core.deref.call(null,G__11066)}(),tag)};
cljs.core.parents.cljs$core$IFn$_invoke$arity$2=function(h,tag){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null,"parents","parents",-2027538891)).cljs$core$IFn$_invoke$arity$1(h),tag))};cljs.core.parents.cljs$lang$maxFixedArity=2;
cljs.core.ancestors=function cljs$core$ancestors(var_args){var args11071=[];var len__7214__auto___11075=arguments.length;var i__7215__auto___11076=0;while(true){if(i__7215__auto___11076<len__7214__auto___11075){args11071.push(arguments[i__7215__auto___11076]);var G__11077=i__7215__auto___11076+1;i__7215__auto___11076=G__11077;continue}else;break}var G__11073=args11071.length;switch(G__11073){case 1:return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11071.length)].join(""));}};cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1=function(tag){return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(function(){var G__11074=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11074):cljs.core.deref.call(null,G__11074)}(),tag)};
cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2=function(h,tag){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null,"ancestors","ancestors",-776045424)).cljs$core$IFn$_invoke$arity$1(h),tag))};cljs.core.ancestors.cljs$lang$maxFixedArity=2;
cljs.core.descendants=function cljs$core$descendants(var_args){var args11079=[];var len__7214__auto___11083=arguments.length;var i__7215__auto___11084=0;while(true){if(i__7215__auto___11084<len__7214__auto___11083){args11079.push(arguments[i__7215__auto___11084]);var G__11085=i__7215__auto___11084+1;i__7215__auto___11084=G__11085;continue}else;break}var G__11081=args11079.length;switch(G__11081){case 1:return cljs.core.descendants.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11079.length)].join(""));}};cljs.core.descendants.cljs$core$IFn$_invoke$arity$1=function(tag){return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(function(){var G__11082=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(G__11082):cljs.core.deref.call(null,G__11082)}(),tag)};
cljs.core.descendants.cljs$core$IFn$_invoke$arity$2=function(h,tag){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2((new cljs.core.Keyword(null,"descendants","descendants",1824886031)).cljs$core$IFn$_invoke$arity$1(h),tag))};cljs.core.descendants.cljs$lang$maxFixedArity=2;
cljs.core.derive=function cljs$core$derive(var_args){var args11087=[];var len__7214__auto___11090=arguments.length;var i__7215__auto___11091=0;while(true){if(i__7215__auto___11091<len__7214__auto___11090){args11087.push(arguments[i__7215__auto___11091]);var G__11092=i__7215__auto___11091+1;i__7215__auto___11091=G__11092;continue}else;break}var G__11089=args11087.length;switch(G__11089){case 2:return cljs.core.derive.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.derive.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11087.length)].join(""));}};
cljs.core.derive.cljs$core$IFn$_invoke$arity$2=function(tag,parent){if(cljs.core.truth_(cljs.core.namespace(parent)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null,"namespace","namespace",1263021155,null),new cljs.core.Symbol(null,"parent","parent",761652748,null))],0)))].join(""));cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.derive,
cljs.core.array_seq([tag,parent],0));return null};
cljs.core.derive.cljs$core$IFn$_invoke$arity$3=function(h,tag,parent){if(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(tag,parent));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null,"not\x3d","not\x3d",1466536204,null),new cljs.core.Symbol(null,"tag","tag",350170304,null),new cljs.core.Symbol(null,"parent","parent",761652748,null))],0)))].join(""));var tp=(new cljs.core.Keyword(null,
"parents","parents",-2027538891)).cljs$core$IFn$_invoke$arity$1(h);var td=(new cljs.core.Keyword(null,"descendants","descendants",1824886031)).cljs$core$IFn$_invoke$arity$1(h);var ta=(new cljs.core.Keyword(null,"ancestors","ancestors",-776045424)).cljs$core$IFn$_invoke$arity$1(h);var tf=function(tp,td,ta){return function(m,source,sources,target,targets){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(tp,td,ta){return function(ret,k){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret,
k,cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,cljs.core.get.cljs$core$IFn$_invoke$arity$3(targets,k,cljs.core.PersistentHashSet.EMPTY),cljs.core.cons(target,targets.cljs$core$IFn$_invoke$arity$1?targets.cljs$core$IFn$_invoke$arity$1(target):targets.call(null,target))))}}(tp,td,ta),m,cljs.core.cons(source,sources.cljs$core$IFn$_invoke$arity$1?sources.cljs$core$IFn$_invoke$arity$1(source):sources.call(null,source)))}}(tp,td,ta);var or__6156__auto__=cljs.core.contains_QMARK_(tp.cljs$core$IFn$_invoke$arity$1?
tp.cljs$core$IFn$_invoke$arity$1(tag):tp.call(null,tag),parent)?null:function(){if(cljs.core.contains_QMARK_(ta.cljs$core$IFn$_invoke$arity$1?ta.cljs$core$IFn$_invoke$arity$1(tag):ta.call(null,tag),parent))throw new Error([cljs.core.str(tag),cljs.core.str("already has"),cljs.core.str(parent),cljs.core.str("as ancestor")].join(""));else;if(cljs.core.contains_QMARK_(ta.cljs$core$IFn$_invoke$arity$1?ta.cljs$core$IFn$_invoke$arity$1(parent):ta.call(null,parent),tag))throw new Error([cljs.core.str("Cyclic derivation:"),
cljs.core.str(parent),cljs.core.str("has"),cljs.core.str(tag),cljs.core.str("as ancestor")].join(""));else;return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",-2027538891),cljs.core.assoc.cljs$core$IFn$_invoke$arity$3((new cljs.core.Keyword(null,"parents","parents",-2027538891)).cljs$core$IFn$_invoke$arity$1(h),tag,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(tp,tag,cljs.core.PersistentHashSet.EMPTY),parent)),new cljs.core.Keyword(null,
"ancestors","ancestors",-776045424),tf((new cljs.core.Keyword(null,"ancestors","ancestors",-776045424)).cljs$core$IFn$_invoke$arity$1(h),tag,td,parent,ta),new cljs.core.Keyword(null,"descendants","descendants",1824886031),tf((new cljs.core.Keyword(null,"descendants","descendants",1824886031)).cljs$core$IFn$_invoke$arity$1(h),parent,ta,tag,td)],null)}();if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return h};cljs.core.derive.cljs$lang$maxFixedArity=3;
cljs.core.underive=function cljs$core$underive(var_args){var args11097=[];var len__7214__auto___11100=arguments.length;var i__7215__auto___11101=0;while(true){if(i__7215__auto___11101<len__7214__auto___11100){args11097.push(arguments[i__7215__auto___11101]);var G__11102=i__7215__auto___11101+1;i__7215__auto___11101=G__11102;continue}else;break}var G__11099=args11097.length;switch(G__11099){case 2:return cljs.core.underive.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.underive.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11097.length)].join(""));}};cljs.core.underive.cljs$core$IFn$_invoke$arity$2=function(tag,parent){cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.underive,cljs.core.array_seq([tag,parent],0));return null};
cljs.core.underive.cljs$core$IFn$_invoke$arity$3=function(h,tag,parent){var parentMap=(new cljs.core.Keyword(null,"parents","parents",-2027538891)).cljs$core$IFn$_invoke$arity$1(h);var childsParents=cljs.core.truth_(parentMap.cljs$core$IFn$_invoke$arity$1?parentMap.cljs$core$IFn$_invoke$arity$1(tag):parentMap.call(null,tag))?cljs.core.disj.cljs$core$IFn$_invoke$arity$2(parentMap.cljs$core$IFn$_invoke$arity$1?parentMap.cljs$core$IFn$_invoke$arity$1(tag):parentMap.call(null,tag),parent):cljs.core.PersistentHashSet.EMPTY;
var newParents=cljs.core.truth_(cljs.core.not_empty(childsParents))?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(parentMap,tag,childsParents):cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(parentMap,tag);var deriv_seq=cljs.core.flatten(cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(parentMap,childsParents,newParents){return function(p1__11094_SHARP_){return cljs.core.cons(cljs.core.first(p1__11094_SHARP_),cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(cljs.core.first(p1__11094_SHARP_),cljs.core.second(p1__11094_SHARP_)))}}(parentMap,
childsParents,newParents),cljs.core.seq(newParents)));if(cljs.core.contains_QMARK_(parentMap.cljs$core$IFn$_invoke$arity$1?parentMap.cljs$core$IFn$_invoke$arity$1(tag):parentMap.call(null,tag),parent))return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(parentMap,childsParents,newParents,deriv_seq){return function(p1__11095_SHARP_,p2__11096_SHARP_){return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.derive,p1__11095_SHARP_,p2__11096_SHARP_)}}(parentMap,childsParents,newParents,
deriv_seq),cljs.core.make_hierarchy(),cljs.core.partition.cljs$core$IFn$_invoke$arity$2(2,deriv_seq));else return h};cljs.core.underive.cljs$lang$maxFixedArity=3;
cljs.core.reset_cache=function cljs$core$reset_cache(method_cache,method_table,cached_hierarchy,hierarchy){cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(method_cache,function(_){return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(method_table):cljs.core.deref.call(null,method_table)});return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(cached_hierarchy,function(_){return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy):
cljs.core.deref.call(null,hierarchy)})};
cljs.core.prefers_STAR_=function cljs$core$prefers_STAR_(x,y,prefer_table){var xprefs=(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(prefer_table):cljs.core.deref.call(null,prefer_table)).call(null,x);var or__6156__auto__=cljs.core.truth_(function(){var and__6144__auto__=xprefs;if(cljs.core.truth_(and__6144__auto__))return xprefs.cljs$core$IFn$_invoke$arity$1?xprefs.cljs$core$IFn$_invoke$arity$1(y):xprefs.call(null,y);else return and__6144__auto__}())?
true:null;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=function(){var ps=cljs.core.parents.cljs$core$IFn$_invoke$arity$1(y);while(true){if(cljs.core.count(ps)>0){if(cljs.core.truth_(cljs$core$prefers_STAR_(x,cljs.core.first(ps),prefer_table)));else;var G__11116=cljs.core.rest(ps);ps=G__11116;continue}else return null;break}}();if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=function(){var ps=cljs.core.parents.cljs$core$IFn$_invoke$arity$1(x);
while(true){if(cljs.core.count(ps)>0){if(cljs.core.truth_(cljs$core$prefers_STAR_(cljs.core.first(ps),y,prefer_table)));else;var G__11117=cljs.core.rest(ps);ps=G__11117;continue}else return null;break}}();if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else return false}}};
cljs.core.dominates=function cljs$core$dominates(x,y,prefer_table){var or__6156__auto__=cljs.core.prefers_STAR_(x,y,prefer_table);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(x,y)};
cljs.core.find_and_cache_best_method=function cljs$core$find_and_cache_best_method(name,dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){var best_entry=cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(be,p__11120){var vec__11121=p__11120;var k=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11121,0,null);var _=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11121,1,null);var e=vec__11121;if(cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?
cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy):cljs.core.deref.call(null,hierarchy),dispatch_val,k)){var be2=cljs.core.truth_(function(){var or__6156__auto__=be==null;if(or__6156__auto__)return or__6156__auto__;else return cljs.core.dominates(k,cljs.core.first(be),prefer_table)}())?e:be;if(cljs.core.truth_(cljs.core.dominates(cljs.core.first(be2),k,prefer_table)));else throw new Error([cljs.core.str("Multiple methods in multimethod '"),cljs.core.str(name),cljs.core.str("' match dispatch value: "),
cljs.core.str(dispatch_val),cljs.core.str(" -\x3e "),cljs.core.str(k),cljs.core.str(" and "),cljs.core.str(cljs.core.first(be2)),cljs.core.str(", and neither is preferred")].join(""));return be2}else return be},null,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(method_table):cljs.core.deref.call(null,method_table));if(cljs.core.truth_(best_entry))if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cached_hierarchy):
cljs.core.deref.call(null,cached_hierarchy),cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(hierarchy):cljs.core.deref.call(null,hierarchy))){cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(method_cache,cljs.core.assoc,dispatch_val,cljs.core.second(best_entry));return cljs.core.second(best_entry)}else{cljs.core.reset_cache(method_cache,method_table,cached_hierarchy,hierarchy);return cljs$core$find_and_cache_best_method(name,dispatch_val,hierarchy,method_table,
prefer_table,method_cache,cached_hierarchy)}else return null};cljs.core.IMultiFn=function(){};
cljs.core._reset=function cljs$core$_reset(mf){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_reset$arity$1==null))return mf.cljs$core$IMultiFn$_reset$arity$1(mf);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._reset[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto__.call(null,mf);else{var m__6812__auto____$1=cljs.core._reset["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto____$1.call(null,mf);else throw cljs.core.missing_protocol("IMultiFn.-reset",mf);}}};
cljs.core._add_method=function cljs$core$_add_method(mf,dispatch_val,method){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_add_method$arity$3==null))return mf.cljs$core$IMultiFn$_add_method$arity$3(mf,dispatch_val,method);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._add_method[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(mf,dispatch_val,method):m__6812__auto__.call(null,
mf,dispatch_val,method);else{var m__6812__auto____$1=cljs.core._add_method["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(mf,dispatch_val,method):m__6812__auto____$1.call(null,mf,dispatch_val,method);else throw cljs.core.missing_protocol("IMultiFn.-add-method",mf);}}};
cljs.core._remove_method=function cljs$core$_remove_method(mf,dispatch_val){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_remove_method$arity$2==null))return mf.cljs$core$IMultiFn$_remove_method$arity$2(mf,dispatch_val);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._remove_method[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(mf,dispatch_val):m__6812__auto__.call(null,
mf,dispatch_val);else{var m__6812__auto____$1=cljs.core._remove_method["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(mf,dispatch_val):m__6812__auto____$1.call(null,mf,dispatch_val);else throw cljs.core.missing_protocol("IMultiFn.-remove-method",mf);}}};
cljs.core._prefer_method=function cljs$core$_prefer_method(mf,dispatch_val,dispatch_val_y){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_prefer_method$arity$3==null))return mf.cljs$core$IMultiFn$_prefer_method$arity$3(mf,dispatch_val,dispatch_val_y);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._prefer_method[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$3?m__6812__auto__.cljs$core$IFn$_invoke$arity$3(mf,dispatch_val,
dispatch_val_y):m__6812__auto__.call(null,mf,dispatch_val,dispatch_val_y);else{var m__6812__auto____$1=cljs.core._prefer_method["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$3(mf,dispatch_val,dispatch_val_y):m__6812__auto____$1.call(null,mf,dispatch_val,dispatch_val_y);else throw cljs.core.missing_protocol("IMultiFn.-prefer-method",mf);}}};
cljs.core._get_method=function cljs$core$_get_method(mf,dispatch_val){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_get_method$arity$2==null))return mf.cljs$core$IMultiFn$_get_method$arity$2(mf,dispatch_val);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._get_method[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$2?m__6812__auto__.cljs$core$IFn$_invoke$arity$2(mf,dispatch_val):m__6812__auto__.call(null,mf,dispatch_val);
else{var m__6812__auto____$1=cljs.core._get_method["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$2(mf,dispatch_val):m__6812__auto____$1.call(null,mf,dispatch_val);else throw cljs.core.missing_protocol("IMultiFn.-get-method",mf);}}};
cljs.core._methods=function cljs$core$_methods(mf){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_methods$arity$1==null))return mf.cljs$core$IMultiFn$_methods$arity$1(mf);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._methods[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto__.call(null,mf);else{var m__6812__auto____$1=cljs.core._methods["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto____$1.call(null,mf);else throw cljs.core.missing_protocol("IMultiFn.-methods",mf);}}};
cljs.core._prefers=function cljs$core$_prefers(mf){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_prefers$arity$1==null))return mf.cljs$core$IMultiFn$_prefers$arity$1(mf);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._prefers[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto__.call(null,mf);else{var m__6812__auto____$1=cljs.core._prefers["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto____$1.call(null,mf);else throw cljs.core.missing_protocol("IMultiFn.-prefers",mf);}}};
cljs.core._default_dispatch_val=function cljs$core$_default_dispatch_val(mf){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_default_dispatch_val$arity$1==null))return mf.cljs$core$IMultiFn$_default_dispatch_val$arity$1(mf);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._default_dispatch_val[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto__.call(null,mf);
else{var m__6812__auto____$1=cljs.core._default_dispatch_val["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto____$1.call(null,mf);else throw cljs.core.missing_protocol("IMultiFn.-default-dispatch-val",mf);}}};
cljs.core._dispatch_fn=function cljs$core$_dispatch_fn(mf){if(!(mf==null)&&!(mf.cljs$core$IMultiFn$_dispatch_fn$arity$1==null))return mf.cljs$core$IMultiFn$_dispatch_fn$arity$1(mf);else{var x__6811__auto__=mf==null?null:mf;var m__6812__auto__=cljs.core._dispatch_fn[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.cljs$core$IFn$_invoke$arity$1?m__6812__auto__.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto__.call(null,mf);else{var m__6812__auto____$1=cljs.core._dispatch_fn["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1?m__6812__auto____$1.cljs$core$IFn$_invoke$arity$1(mf):m__6812__auto____$1.call(null,mf);else throw cljs.core.missing_protocol("IMultiFn.-dispatch-fn",mf);}}};cljs.core.throw_no_method_error=function cljs$core$throw_no_method_error(name,dispatch_val){throw new Error([cljs.core.str("No method in multimethod '"),cljs.core.str(name),cljs.core.str("' for dispatch value: "),cljs.core.str(dispatch_val)].join(""));};
cljs.core.MultiFn=function(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){this.name=name;this.dispatch_fn=dispatch_fn;this.default_dispatch_val=default_dispatch_val;this.hierarchy=hierarchy;this.method_table=method_table;this.prefer_table=prefer_table;this.method_cache=method_cache;this.cached_hierarchy=cached_hierarchy;this.cljs$lang$protocol_mask$partition0$=4194305;this.cljs$lang$protocol_mask$partition1$=4352};
cljs.core.MultiFn.prototype.call=function(){var G__11123=null;var G__11123__1=function(self__){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0():self__.dispatch_fn.call(null);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$0?
target_fn.cljs$core$IFn$_invoke$arity$0():target_fn.call(null)};var G__11123__2=function(self__,a){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1(a):self__.dispatch_fn.call(null,a);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$1?
target_fn.cljs$core$IFn$_invoke$arity$1(a):target_fn.call(null,a)};var G__11123__3=function(self__,a,b){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2(a,b):self__.dispatch_fn.call(null,a,b);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$2?
target_fn.cljs$core$IFn$_invoke$arity$2(a,b):target_fn.call(null,a,b)};var G__11123__4=function(self__,a,b,c){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3(a,b,c):self__.dispatch_fn.call(null,a,b,c);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$3?
target_fn.cljs$core$IFn$_invoke$arity$3(a,b,c):target_fn.call(null,a,b,c)};var G__11123__5=function(self__,a,b,c,d){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4(a,b,c,d):self__.dispatch_fn.call(null,a,b,c,d);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);
return target_fn.cljs$core$IFn$_invoke$arity$4?target_fn.cljs$core$IFn$_invoke$arity$4(a,b,c,d):target_fn.call(null,a,b,c,d)};var G__11123__6=function(self__,a,b,c,d,e){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5(a,b,c,d,e):self__.dispatch_fn.call(null,a,b,c,d,e);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$5?target_fn.cljs$core$IFn$_invoke$arity$5(a,b,c,d,e):target_fn.call(null,a,b,c,d,e)};var G__11123__7=function(self__,a,b,c,d,e,f){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6(a,b,c,d,e,f):self__.dispatch_fn.call(null,a,b,c,d,e,f);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));
else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$6?target_fn.cljs$core$IFn$_invoke$arity$6(a,b,c,d,e,f):target_fn.call(null,a,b,c,d,e,f)};var G__11123__8=function(self__,a,b,c,d,e,f,g){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7(a,b,c,d,e,f,g):self__.dispatch_fn.call(null,a,b,c,d,e,f,g);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,
dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$7?target_fn.cljs$core$IFn$_invoke$arity$7(a,b,c,d,e,f,g):target_fn.call(null,a,b,c,d,e,f,g)};var G__11123__9=function(self__,a,b,c,d,e,f,g,h){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):self__.dispatch_fn.call(null,
a,b,c,d,e,f,g,h);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$8?target_fn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):target_fn.call(null,a,b,c,d,e,f,g,h)};var G__11123__10=function(self__,a,b,c,d,e,f,g,h,i){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9?
self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$9?target_fn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):target_fn.call(null,a,b,c,d,e,f,g,h,i)};var G__11123__11=function(self__,a,b,c,d,e,f,g,h,i,j){var self__=this;
var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,i,j):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$10?target_fn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,
i,j):target_fn.call(null,a,b,c,d,e,f,g,h,i,j)};var G__11123__12=function(self__,a,b,c,d,e,f,g,h,i,j,k){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$11?target_fn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k)};var G__11123__13=function(self__,a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,g,h,i,j,k,l):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,
dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$12?target_fn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,g,h,i,j,k,l):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l)};var G__11123__14=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13(a,
b,c,d,e,f,g,h,i,j,k,l,m):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$13?target_fn.cljs$core$IFn$_invoke$arity$13(a,b,c,d,e,f,g,h,i,j,k,l,m):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};var G__11123__15=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var self____$1=
this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,i,j,k,l,m,n):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$14?target_fn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,
i,j,k,l,m,n):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)};var G__11123__16=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$15?target_fn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};var G__11123__17=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,
i,j,k,l,m,n,o,p);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$16?target_fn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};var G__11123__18=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=
self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$17?target_fn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):target_fn.call(null,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};var G__11123__19=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$18?target_fn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};var G__11123__20=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):self__.dispatch_fn.call(null,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$19?target_fn.cljs$core$IFn$_invoke$arity$19(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};var G__11123__21=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var self____$1=
this;var mf=self____$1;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$20?target_fn.cljs$core$IFn$_invoke$arity$20(a,
b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};var G__11123__22=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=this;var self____$1=this;var mf=self____$1;var dispatch_val=cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(self__.dispatch_fn,a,b,c,d,cljs.core.array_seq([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest],0));var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));
else cljs.core.throw_no_method_error(self__.name,dispatch_val);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(target_fn,a,b,c,d,cljs.core.array_seq([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest],0))};G__11123=function(self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){switch(arguments.length){case 1:return G__11123__1.call(this,self__);case 2:return G__11123__2.call(this,self__,a);case 3:return G__11123__3.call(this,self__,a,b);case 4:return G__11123__4.call(this,self__,a,b,c);case 5:return G__11123__5.call(this,
self__,a,b,c,d);case 6:return G__11123__6.call(this,self__,a,b,c,d,e);case 7:return G__11123__7.call(this,self__,a,b,c,d,e,f);case 8:return G__11123__8.call(this,self__,a,b,c,d,e,f,g);case 9:return G__11123__9.call(this,self__,a,b,c,d,e,f,g,h);case 10:return G__11123__10.call(this,self__,a,b,c,d,e,f,g,h,i);case 11:return G__11123__11.call(this,self__,a,b,c,d,e,f,g,h,i,j);case 12:return G__11123__12.call(this,self__,a,b,c,d,e,f,g,h,i,j,k);case 13:return G__11123__13.call(this,self__,a,b,c,d,e,f,g,
h,i,j,k,l);case 14:return G__11123__14.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m);case 15:return G__11123__15.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n);case 16:return G__11123__16.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);case 17:return G__11123__17.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);case 18:return G__11123__18.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);case 19:return G__11123__19.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);case 20:return G__11123__20.call(this,
self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);case 21:return G__11123__21.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);case 22:return G__11123__22.call(this,self__,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest)}throw new Error("Invalid arity: "+arguments.length);};G__11123.cljs$core$IFn$_invoke$arity$1=G__11123__1;G__11123.cljs$core$IFn$_invoke$arity$2=G__11123__2;G__11123.cljs$core$IFn$_invoke$arity$3=G__11123__3;G__11123.cljs$core$IFn$_invoke$arity$4=G__11123__4;G__11123.cljs$core$IFn$_invoke$arity$5=
G__11123__5;G__11123.cljs$core$IFn$_invoke$arity$6=G__11123__6;G__11123.cljs$core$IFn$_invoke$arity$7=G__11123__7;G__11123.cljs$core$IFn$_invoke$arity$8=G__11123__8;G__11123.cljs$core$IFn$_invoke$arity$9=G__11123__9;G__11123.cljs$core$IFn$_invoke$arity$10=G__11123__10;G__11123.cljs$core$IFn$_invoke$arity$11=G__11123__11;G__11123.cljs$core$IFn$_invoke$arity$12=G__11123__12;G__11123.cljs$core$IFn$_invoke$arity$13=G__11123__13;G__11123.cljs$core$IFn$_invoke$arity$14=G__11123__14;G__11123.cljs$core$IFn$_invoke$arity$15=
G__11123__15;G__11123.cljs$core$IFn$_invoke$arity$16=G__11123__16;G__11123.cljs$core$IFn$_invoke$arity$17=G__11123__17;G__11123.cljs$core$IFn$_invoke$arity$18=G__11123__18;G__11123.cljs$core$IFn$_invoke$arity$19=G__11123__19;G__11123.cljs$core$IFn$_invoke$arity$20=G__11123__20;G__11123.cljs$core$IFn$_invoke$arity$21=G__11123__21;G__11123.cljs$core$IFn$_invoke$arity$22=G__11123__22;return G__11123}();
cljs.core.MultiFn.prototype.apply=function(self__,args11122){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args11122)))};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$0=function(){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$0():self__.dispatch_fn.call(null);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$0?target_fn.cljs$core$IFn$_invoke$arity$0():
target_fn.call(null)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$1=function(a){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$1(a):self__.dispatch_fn.call(null,a);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$1?target_fn.cljs$core$IFn$_invoke$arity$1(a):target_fn.call(null,
a)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$2=function(a,b){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$2(a,b):self__.dispatch_fn.call(null,a,b);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$2?target_fn.cljs$core$IFn$_invoke$arity$2(a,b):
target_fn.call(null,a,b)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$3=function(a,b,c){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$3(a,b,c):self__.dispatch_fn.call(null,a,b,c);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$3?target_fn.cljs$core$IFn$_invoke$arity$3(a,
b,c):target_fn.call(null,a,b,c)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$4=function(a,b,c,d){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$4(a,b,c,d):self__.dispatch_fn.call(null,a,b,c,d);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$4?target_fn.cljs$core$IFn$_invoke$arity$4(a,
b,c,d):target_fn.call(null,a,b,c,d)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$5=function(a,b,c,d,e){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$5(a,b,c,d,e):self__.dispatch_fn.call(null,a,b,c,d,e);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$5?target_fn.cljs$core$IFn$_invoke$arity$5(a,
b,c,d,e):target_fn.call(null,a,b,c,d,e)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$6=function(a,b,c,d,e,f){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$6(a,b,c,d,e,f):self__.dispatch_fn.call(null,a,b,c,d,e,f);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$6?target_fn.cljs$core$IFn$_invoke$arity$6(a,
b,c,d,e,f):target_fn.call(null,a,b,c,d,e,f)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$7=function(a,b,c,d,e,f,g){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$7(a,b,c,d,e,f,g):self__.dispatch_fn.call(null,a,b,c,d,e,f,g);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$7?target_fn.cljs$core$IFn$_invoke$arity$7(a,
b,c,d,e,f,g):target_fn.call(null,a,b,c,d,e,f,g)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$8=function(a,b,c,d,e,f,g,h){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$8?
target_fn.cljs$core$IFn$_invoke$arity$8(a,b,c,d,e,f,g,h):target_fn.call(null,a,b,c,d,e,f,g,h)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$9=function(a,b,c,d,e,f,g,h,i){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$9?
target_fn.cljs$core$IFn$_invoke$arity$9(a,b,c,d,e,f,g,h,i):target_fn.call(null,a,b,c,d,e,f,g,h,i)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$10=function(a,b,c,d,e,f,g,h,i,j){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,i,j):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$10?
target_fn.cljs$core$IFn$_invoke$arity$10(a,b,c,d,e,f,g,h,i,j):target_fn.call(null,a,b,c,d,e,f,g,h,i,j)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$11=function(a,b,c,d,e,f,g,h,i,j,k){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$11?
target_fn.cljs$core$IFn$_invoke$arity$11(a,b,c,d,e,f,g,h,i,j,k):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$12=function(a,b,c,d,e,f,g,h,i,j,k,l){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,g,h,i,j,k,l):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$12?
target_fn.cljs$core$IFn$_invoke$arity$12(a,b,c,d,e,f,g,h,i,j,k,l):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$13=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$13(a,b,c,d,e,f,g,h,i,j,k,l,m):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$13?
target_fn.cljs$core$IFn$_invoke$arity$13(a,b,c,d,e,f,g,h,i,j,k,l,m):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$14=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,i,j,k,l,m,n):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$14?
target_fn.cljs$core$IFn$_invoke$arity$14(a,b,c,d,e,f,g,h,i,j,k,l,m,n):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$15=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);
return target_fn.cljs$core$IFn$_invoke$arity$15?target_fn.cljs$core$IFn$_invoke$arity$15(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$16=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);
return target_fn.cljs$core$IFn$_invoke$arity$16?target_fn.cljs$core$IFn$_invoke$arity$16(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$17=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$17?target_fn.cljs$core$IFn$_invoke$arity$17(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$18=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$18?target_fn.cljs$core$IFn$_invoke$arity$18(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$19=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$19(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$19?target_fn.cljs$core$IFn$_invoke$arity$19(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$20=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var self__=this;var mf=this;var dispatch_val=self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20?self__.dispatch_fn.cljs$core$IFn$_invoke$arity$20(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):self__.dispatch_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,
dispatch_val);return target_fn.cljs$core$IFn$_invoke$arity$20?target_fn.cljs$core$IFn$_invoke$arity$20(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):target_fn.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)};
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$21=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest){var self__=this;var mf=this;var dispatch_val=cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(self__.dispatch_fn,a,b,c,d,cljs.core.array_seq([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest],0));var target_fn=mf.cljs$core$IMultiFn$_get_method$arity$2(null,dispatch_val);if(cljs.core.truth_(target_fn));else cljs.core.throw_no_method_error(self__.name,dispatch_val);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(target_fn,
a,b,c,d,cljs.core.array_seq([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,rest],0))};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefer_method$arity$3=function(mf,dispatch_val_x,dispatch_val_y){var self__=this;var mf__$1=this;if(cljs.core.truth_(cljs.core.prefers_STAR_(dispatch_val_x,dispatch_val_y,self__.prefer_table)))throw new Error([cljs.core.str("Preference conflict in multimethod '"),cljs.core.str(self__.name),cljs.core.str("': "),cljs.core.str(dispatch_val_y),cljs.core.str(" is already preferred to "),cljs.core.str(dispatch_val_x)].join(""));else;cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.prefer_table,
function(mf__$1){return function(old){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(old,dispatch_val_x,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(old,dispatch_val_x,cljs.core.PersistentHashSet.EMPTY),dispatch_val_y))}}(mf__$1));return cljs.core.reset_cache(self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy)};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_default_dispatch_val$arity$1=function(mf){var self__=this;var mf__$1=this;return self__.default_dispatch_val};cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_remove_method$arity$2=function(mf,dispatch_val){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__.method_table,cljs.core.dissoc,dispatch_val);cljs.core.reset_cache(self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy);return mf__$1};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_methods$arity$1=function(mf){var self__=this;var mf__$1=this;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_table):cljs.core.deref.call(null,self__.method_table)};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefers$arity$1=function(mf){var self__=this;var mf__$1=this;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.prefer_table):cljs.core.deref.call(null,self__.prefer_table)};cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_dispatch_fn$arity$1=function(mf){var self__=this;var mf__$1=this;return self__.dispatch_fn};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_add_method$arity$3=function(mf,dispatch_val,method){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(self__.method_table,cljs.core.assoc,dispatch_val,method);cljs.core.reset_cache(self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy);return mf__$1};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_reset$arity$1=function(mf){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.method_table,function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.method_cache,function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.prefer_table,
function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.cached_hierarchy,function(mf__$1){return function(mf__$2){return null}}(mf__$1));return mf__$1};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_get_method$arity$2=function(mf,dispatch_val){var self__=this;var mf__$1=this;if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.cached_hierarchy):cljs.core.deref.call(null,self__.cached_hierarchy),cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.hierarchy):cljs.core.deref.call(null,self__.hierarchy)));else cljs.core.reset_cache(self__.method_cache,
self__.method_table,self__.cached_hierarchy,self__.hierarchy);var temp__4655__auto__=(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_cache):cljs.core.deref.call(null,self__.method_cache)).call(null,dispatch_val);if(cljs.core.truth_(temp__4655__auto__)){var target_fn=temp__4655__auto__;return target_fn}else{var temp__4655__auto____$1=cljs.core.find_and_cache_best_method(self__.name,dispatch_val,self__.hierarchy,self__.method_table,self__.prefer_table,
self__.method_cache,self__.cached_hierarchy);if(cljs.core.truth_(temp__4655__auto____$1)){var target_fn=temp__4655__auto____$1;return target_fn}else return(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(self__.method_table):cljs.core.deref.call(null,self__.method_table)).call(null,self__.default_dispatch_val)}};cljs.core.MultiFn.prototype.cljs$core$INamed$_name$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core._name(self__.name)};
cljs.core.MultiFn.prototype.cljs$core$INamed$_namespace$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core._namespace(self__.name)};cljs.core.MultiFn.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};
cljs.core.MultiFn.getBasis=function(){return new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"dispatch-fn","dispatch-fn",-1401088155,null),new cljs.core.Symbol(null,"default-dispatch-val","default-dispatch-val",-1231201266,null),new cljs.core.Symbol(null,"hierarchy","hierarchy",587061186,null),new cljs.core.Symbol(null,"method-table","method-table",-1878263165,null),new cljs.core.Symbol(null,
"prefer-table","prefer-table",462168584,null),new cljs.core.Symbol(null,"method-cache","method-cache",1230193905,null),new cljs.core.Symbol(null,"cached-hierarchy","cached-hierarchy",-1085460203,null)],null)};cljs.core.MultiFn.cljs$lang$type=true;cljs.core.MultiFn.cljs$lang$ctorStr="cljs.core/MultiFn";cljs.core.MultiFn.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/MultiFn")};
cljs.core.__GT_MultiFn=function cljs$core$__GT_MultiFn(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){return new cljs.core.MultiFn(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy)};cljs.core.remove_all_methods=function cljs$core$remove_all_methods(multifn){return cljs.core._reset(multifn)};
cljs.core.remove_method=function cljs$core$remove_method(multifn,dispatch_val){return cljs.core._remove_method(multifn,dispatch_val)};cljs.core.prefer_method=function cljs$core$prefer_method(multifn,dispatch_val_x,dispatch_val_y){return cljs.core._prefer_method(multifn,dispatch_val_x,dispatch_val_y)};cljs.core.methods$=function cljs$core$methods(multifn){return cljs.core._methods(multifn)};
cljs.core.get_method=function cljs$core$get_method(multifn,dispatch_val){return cljs.core._get_method(multifn,dispatch_val)};cljs.core.prefers=function cljs$core$prefers(multifn){return cljs.core._prefers(multifn)};cljs.core.default_dispatch_val=function cljs$core$default_dispatch_val(multifn){return cljs.core._default_dispatch_val(multifn)};cljs.core.dispatch_fn=function cljs$core$dispatch_fn(multifn){return cljs.core._dispatch_fn(multifn)};
cljs.core.UUID=function(uuid,__hash){this.uuid=uuid;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=2153775104;this.cljs$lang$protocol_mask$partition1$=2048};cljs.core.UUID.prototype.toString=function(){var self__=this;var _=this;return self__.uuid};cljs.core.UUID.prototype.equiv=function(other){var self__=this;var this$=this;return this$.cljs$core$IEquiv$_equiv$arity$2(null,other)};
cljs.core.UUID.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;return other instanceof cljs.core.UUID&&self__.uuid===other.uuid};cljs.core.UUID.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(_,writer,___$1){var self__=this;var ___$2=this;return cljs.core._write(writer,[cljs.core.str('#uuid "'),cljs.core.str(self__.uuid),cljs.core.str('"')].join(""))};
cljs.core.UUID.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.__hash==null)self__.__hash=cljs.core.hash(self__.uuid);else;return self__.__hash};cljs.core.UUID.prototype.cljs$core$IComparable$_compare$arity$2=function(_,other){var self__=this;var ___$1=this;var G__11124=self__.uuid;var G__11125=other.uuid;return goog.array.defaultCompare(G__11124,G__11125)};
cljs.core.UUID.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"uuid","uuid",-504564192,null),cljs.core.with_meta(new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.UUID.cljs$lang$type=true;cljs.core.UUID.cljs$lang$ctorStr="cljs.core/UUID";
cljs.core.UUID.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/UUID")};cljs.core.__GT_UUID=function cljs$core$__GT_UUID(uuid,__hash){return new cljs.core.UUID(uuid,__hash)};cljs.core.uuid=function cljs$core$uuid(s){return new cljs.core.UUID(s,null)};
cljs.core.random_uuid=function cljs$core$random_uuid(){var hex=function cljs$core$random_uuid_$_hex(){return cljs.core.rand_int(16).toString(16)};var rhex=(8|3&cljs.core.rand_int(16)).toString(16);return cljs.core.uuid([cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str("-"),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str("-"),
cljs.core.str("4"),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str("-"),cljs.core.str(rhex),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str("-"),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex()),cljs.core.str(hex())].join(""))};
cljs.core.pr_writer_ex_info=function cljs$core$pr_writer_ex_info(obj,writer,opts){cljs.core._write(writer,"#error {:message ");cljs.core.pr_writer(obj.message,writer,opts);if(cljs.core.truth_(obj.data)){cljs.core._write(writer,", :data ");cljs.core.pr_writer(obj.data,writer,opts)}else;if(cljs.core.truth_(obj.cause)){cljs.core._write(writer,", :cause ");cljs.core.pr_writer(obj.cause,writer,opts)}else;return cljs.core._write(writer,"}")};
cljs.core.ExceptionInfo=function cljs$core$ExceptionInfo(message,data,cause){var e=new Error(message);var this$=this;this$.message=message;this$.data=data;this$.cause=cause;this$.name=e.name;this$.description=e.description;this$.number=e.number;this$.fileName=e.fileName;this$.lineNumber=e.lineNumber;this$.columnNumber=e.columnNumber;this$.stack=e.stack;return this$};cljs.core.ExceptionInfo.prototype.__proto__=Error.prototype;cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(obj,writer,opts){var obj__$1=this;return cljs.core.pr_writer_ex_info(obj__$1,writer,opts)};cljs.core.ExceptionInfo.prototype.toString=function(){var this$=this;return cljs.core.pr_str_STAR_(this$)};
cljs.core.ex_info=function cljs$core$ex_info(var_args){var args11126=[];var len__7214__auto___11129=arguments.length;var i__7215__auto___11130=0;while(true){if(i__7215__auto___11130<len__7214__auto___11129){args11126.push(arguments[i__7215__auto___11130]);var G__11131=i__7215__auto___11130+1;i__7215__auto___11130=G__11131;continue}else;break}var G__11128=args11126.length;switch(G__11128){case 2:return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11126.length)].join(""));}};cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2=function(msg,data){return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(msg,data,null)};cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3=function(msg,data,cause){return new cljs.core.ExceptionInfo(msg,data,cause)};cljs.core.ex_info.cljs$lang$maxFixedArity=3;
cljs.core.ex_data=function cljs$core$ex_data(ex){if(ex instanceof cljs.core.ExceptionInfo)return ex.data;else return null};cljs.core.ex_message=function cljs$core$ex_message(ex){if(ex instanceof Error)return ex.message;else return null};cljs.core.ex_cause=function cljs$core$ex_cause(ex){if(ex instanceof cljs.core.ExceptionInfo)return ex.cause;else return null};
cljs.core.comparator=function cljs$core$comparator(pred){return function(x,y){if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$2?pred.cljs$core$IFn$_invoke$arity$2(x,y):pred.call(null,x,y)))return-1;else if(cljs.core.truth_(pred.cljs$core$IFn$_invoke$arity$2?pred.cljs$core$IFn$_invoke$arity$2(y,x):pred.call(null,y,x)))return 1;else return 0}};
cljs.core.special_symbol_QMARK_=function cljs$core$special_symbol_QMARK_(x){return cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,19,[new cljs.core.Symbol(null,"\x26","\x26",-2144855648,null),null,new cljs.core.Symbol(null,"defrecord*","defrecord*",-1936366207,null),null,new cljs.core.Symbol(null,"try","try",-1273693247,null),null,new cljs.core.Symbol(null,"loop*","loop*",615029416,null),null,new cljs.core.Symbol(null,"do","do",1686842252,null),
null,new cljs.core.Symbol(null,"letfn*","letfn*",-110097810,null),null,new cljs.core.Symbol(null,"if","if",1181717262,null),null,new cljs.core.Symbol(null,"new","new",-444906321,null),null,new cljs.core.Symbol(null,"ns","ns",2082130287,null),null,new cljs.core.Symbol(null,"deftype*","deftype*",962659890,null),null,new cljs.core.Symbol(null,"let*","let*",1920721458,null),null,new cljs.core.Symbol(null,"js*","js*",-1134233646,null),null,new cljs.core.Symbol(null,"fn*","fn*",-752876845,null),null,new cljs.core.Symbol(null,
"recur","recur",1202958259,null),null,new cljs.core.Symbol(null,"set!","set!",250714521,null),null,new cljs.core.Symbol(null,".",".",1975675962,null),null,new cljs.core.Symbol(null,"quote","quote",1377916282,null),null,new cljs.core.Symbol(null,"throw","throw",595905694,null),null,new cljs.core.Symbol(null,"def","def",597100991,null),null],null),null),x)};
cljs.core.test=function cljs$core$test(v){var f=v.cljs$lang$test;if(cljs.core.truth_(f)){f.cljs$core$IFn$_invoke$arity$0?f.cljs$core$IFn$_invoke$arity$0():f.call(null);return new cljs.core.Keyword(null,"ok","ok",967785236)}else return new cljs.core.Keyword(null,"no-test","no-test",-1679482642)};cljs.core.TaggedLiteral=function(tag,form){this.tag=tag;this.form=form;this.cljs$lang$protocol_mask$partition0$=2153775360;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.TaggedLiteral.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_(coll)};cljs.core.TaggedLiteral.prototype.cljs$core$IEquiv$_equiv$arity$2=function(this$,other){var self__=this;var this$__$1=this;return other instanceof cljs.core.TaggedLiteral&&cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.tag,other.tag)&&cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.form,other.form)};
cljs.core.TaggedLiteral.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return 31*cljs.core.hash(self__.tag)+cljs.core.hash(self__.form)};cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$2=function(this$,v){var self__=this;var this$__$1=this;return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this$__$1,v,null)};
cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$3=function(this$,v,not_found){var self__=this;var this$__$1=this;var G__11133=v instanceof cljs.core.Keyword?v.fqn:null;switch(G__11133){case "tag":return self__.tag;break;case "form":return self__.form;break;default:return not_found}};
cljs.core.TaggedLiteral.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(o,writer,opts){var self__=this;var o__$1=this;cljs.core._write(writer,[cljs.core.str("#"),cljs.core.str(self__.tag),cljs.core.str(" ")].join(""));return cljs.core.pr_writer(self__.form,writer,opts)};
cljs.core.TaggedLiteral.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"tag","tag",350170304,null),new cljs.core.Symbol(null,"form","form",16469056,null)],null)};cljs.core.TaggedLiteral.cljs$lang$type=true;cljs.core.TaggedLiteral.cljs$lang$ctorStr="cljs.core/TaggedLiteral";
cljs.core.TaggedLiteral.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/TaggedLiteral")};cljs.core.__GT_TaggedLiteral=function cljs$core$__GT_TaggedLiteral(tag,form){return new cljs.core.TaggedLiteral(tag,form)};cljs.core.tagged_literal_QMARK_=function cljs$core$tagged_literal_QMARK_(value){return value instanceof cljs.core.TaggedLiteral};
cljs.core.tagged_literal=function cljs$core$tagged_literal(tag,form){if(tag instanceof cljs.core.Symbol);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([cljs.core.list(new cljs.core.Symbol(null,"symbol?","symbol?",1820680511,null),new cljs.core.Symbol(null,"tag","tag",350170304,null))],0)))].join(""));return new cljs.core.TaggedLiteral(tag,form)};
cljs.core.js_reserved_arr=["abstract","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","export","extends","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","try","typeof","var","void","volatile",
"while","with","yield","methods","null"];cljs.core.js_reserved=null;cljs.core.js_reserved_QMARK_=function cljs$core$js_reserved_QMARK_(x){if(cljs.core.js_reserved==null)cljs.core.js_reserved=cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(p1__11135_SHARP_,p2__11136_SHARP_){goog.object.set(p1__11135_SHARP_,p2__11136_SHARP_,true);return p1__11135_SHARP_},{},cljs.core.js_reserved_arr);else;return cljs.core.js_reserved.hasOwnProperty(x)};
cljs.core.demunge_pattern=function cljs$core$demunge_pattern(){if(cljs.core.truth_(cljs.core.DEMUNGE_PATTERN));else cljs.core.DEMUNGE_PATTERN=function(){var ks=cljs.core.sort.cljs$core$IFn$_invoke$arity$2(function(a,b){return b.length-a.length},cljs.core.js_keys(cljs.core.DEMUNGE_MAP));var ks__$1=ks;var ret="";while(true){if(cljs.core.seq(ks__$1)){var G__11139=cljs.core.next(ks__$1);var G__11140=[cljs.core.str(function(){var G__11138=ret;if(!(ret===""))return[cljs.core.str(G__11138),cljs.core.str("|")].join("");
else return G__11138}()),cljs.core.str(cljs.core.first(ks__$1))].join("");ks__$1=G__11139;ret=G__11140;continue}else return[cljs.core.str(ret),cljs.core.str("|\\$")].join("");break}}();return cljs.core.DEMUNGE_PATTERN};
cljs.core.munge_str=function cljs$core$munge_str(name){var sb=new goog.string.StringBuffer;var i_11141=0;while(true){if(i_11141<name.length){var c_11142=name.charAt(i_11141);var sub_11143=goog.object.get(cljs.core.CHAR_MAP,c_11142);if(!(sub_11143==null))sb.append(sub_11143);else sb.append(c_11142);var G__11144=i_11141+1;i_11141=G__11144;continue}else;break}return sb.toString()};
cljs.core.munge=function cljs$core$munge(name){var name_SINGLEQUOTE_=cljs.core.munge_str([cljs.core.str(name)].join(""));var name_SINGLEQUOTE___$1=name_SINGLEQUOTE_===".."?"_DOT__DOT_":cljs.core.truth_(cljs.core.js_reserved_QMARK_(name_SINGLEQUOTE_))?[cljs.core.str(name_SINGLEQUOTE_),cljs.core.str("$")].join(""):name_SINGLEQUOTE_;if(name instanceof cljs.core.Symbol)return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(name_SINGLEQUOTE___$1);else return[cljs.core.str(name_SINGLEQUOTE___$1)].join("")};
cljs.core.demunge_str=function cljs$core$demunge_str(munged_name){var r=new RegExp(cljs.core.demunge_pattern(),"g");var munged_name__$1=cljs.core.truth_(goog.string.endsWith(munged_name,"$"))?munged_name.substring(0,munged_name.length-1):munged_name;var ret="";var last_match_end=0;while(true){var temp__4655__auto__=r.exec(munged_name__$1);if(cljs.core.truth_(temp__4655__auto__)){var match=temp__4655__auto__;var vec__11146=match;var x=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__11146,0,null);
var G__11147=[cljs.core.str(ret),cljs.core.str(munged_name__$1.substring(last_match_end,r.lastIndex-x.length)),cljs.core.str(x==="$"?"/":goog.object.get(cljs.core.DEMUNGE_MAP,x))].join("");var G__11148=r.lastIndex;ret=G__11147;last_match_end=G__11148;continue}else return[cljs.core.str(ret),cljs.core.str(munged_name__$1.substring(last_match_end,munged_name__$1.length))].join("");break}};
cljs.core.demunge=function cljs$core$demunge(name){return(name instanceof cljs.core.Symbol?cljs.core.symbol:cljs.core.str).call(null,function(){var name_SINGLEQUOTE_=[cljs.core.str(name)].join("");if(name_SINGLEQUOTE_==="_DOT__DOT_")return"..";else return cljs.core.demunge_str([cljs.core.str(name)].join(""))}())};cljs.core.ns_lookup=function cljs$core$ns_lookup(ns_obj,k){return function(){return goog.object.get(ns_obj,k)}};
cljs.core.Namespace=function(obj,name){this.obj=obj;this.name=name;this.cljs$lang$protocol_mask$partition0$=6291456;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.Namespace.prototype.findInternedVar=function(sym){var self__=this;var this$=this;var k=cljs.core.munge([cljs.core.str(sym)].join(""));if(goog.object.containsKey(self__.obj,k)){var var_sym=cljs.core.symbol.cljs$core$IFn$_invoke$arity$2([cljs.core.str(self__.name)].join(""),[cljs.core.str(sym)].join(""));var var_meta=new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ns","ns",441598760),this$],null);return new cljs.core.Var(cljs.core.ns_lookup(self__.obj,k),var_sym,var_meta)}else return null};
cljs.core.Namespace.prototype.getName=function(){var self__=this;var _=this;return self__.name};cljs.core.Namespace.prototype.toString=function(){var self__=this;var _=this;return[cljs.core.str(self__.name)].join("")};cljs.core.Namespace.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;if(other instanceof cljs.core.Namespace)return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(self__.name,other.name);else return false};
cljs.core.Namespace.prototype.cljs$core$IHash$_hash$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.hash(self__.name)};cljs.core.Namespace.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"obj","obj",-1672671807,null),new cljs.core.Symbol(null,"name","name",-810760592,null)],null)};cljs.core.Namespace.cljs$lang$type=true;cljs.core.Namespace.cljs$lang$ctorStr="cljs.core/Namespace";
cljs.core.Namespace.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write(writer__6755__auto__,"cljs.core/Namespace")};cljs.core.__GT_Namespace=function cljs$core$__GT_Namespace(obj,name){return new cljs.core.Namespace(obj,name)};cljs.core.NS_CACHE=null;
cljs.core.find_ns_obj_STAR_=function cljs$core$find_ns_obj_STAR_(ctxt,xs){while(true){if(ctxt==null)return null;else if(xs==null)return ctxt;else{var G__11153=function(){var G__11151=ctxt;var G__11152=cljs.core.first(xs);return goog.object.get(G__11151,G__11152)}();var G__11154=cljs.core.next(xs);ctxt=G__11153;xs=G__11154;continue}break}};
cljs.core.find_ns_obj=function cljs$core$find_ns_obj(ns){var munged_ns=cljs.core.munge([cljs.core.str(ns)].join(""));var segs=munged_ns.split(".");var G__11158=cljs.core._STAR_target_STAR_;switch(G__11158){case "nodejs":if(COMPILED)return cljs.core.find_ns_obj_STAR_(function(){try{var G__11160=cljs.core.first(segs);return eval(G__11160)}catch(e11159){if(e11159 instanceof ReferenceError){var e=e11159;return null}else throw e11159;}}(),cljs.core.next(segs));else return cljs.core.find_ns_obj_STAR_(global,
segs);break;case "default":return cljs.core.find_ns_obj_STAR_(goog.global,segs);break;default:throw new Error([cljs.core.str("find-ns-obj not supported for target "),cljs.core.str(cljs.core._STAR_target_STAR_)].join(""));}};
cljs.core.ns_interns_STAR_=function cljs$core$ns_interns_STAR_(sym){var ns_obj=cljs.core.find_ns_obj(sym);var ns=new cljs.core.Namespace(ns_obj,sym);var step=function(ns_obj,ns){return function cljs$core$ns_interns_STAR__$_step(ret,k){var var_sym=cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(cljs.core.demunge(k));return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(ret,var_sym,new cljs.core.Var(function(var_sym,ns_obj,ns){return function(){return goog.object.get(ns_obj,k)}}(var_sym,ns_obj,ns),cljs.core.symbol.cljs$core$IFn$_invoke$arity$2([cljs.core.str(sym)].join(""),
[cljs.core.str(var_sym)].join("")),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ns","ns",441598760),ns],null)))}}(ns_obj,ns);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(step,cljs.core.PersistentArrayMap.EMPTY,cljs.core.js_keys(ns_obj))};
cljs.core.create_ns=function cljs$core$create_ns(var_args){var args11162=[];var len__7214__auto___11165=arguments.length;var i__7215__auto___11166=0;while(true){if(i__7215__auto___11166<len__7214__auto___11165){args11162.push(arguments[i__7215__auto___11166]);var G__11167=i__7215__auto___11166+1;i__7215__auto___11166=G__11167;continue}else;break}var G__11164=args11162.length;switch(G__11164){case 1:return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11162.length)].join(""));}};cljs.core.create_ns.cljs$core$IFn$_invoke$arity$1=function(sym){return cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(sym,cljs.core.find_ns_obj(sym))};cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2=function(sym,ns_obj){return new cljs.core.Namespace(ns_obj,sym)};cljs.core.create_ns.cljs$lang$maxFixedArity=2;
cljs.core.find_ns=function cljs$core$find_ns(ns){if(cljs.core.NS_CACHE==null)cljs.core.NS_CACHE=function(){var G__11170=cljs.core.PersistentArrayMap.EMPTY;return cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11170):cljs.core.atom.call(null,G__11170)}();else;var the_ns=cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cljs.core.NS_CACHE):cljs.core.deref.call(null,cljs.core.NS_CACHE),
ns);if(!(the_ns==null))return the_ns;else{var ns_obj=cljs.core.find_ns_obj(ns);if(ns_obj==null)return null;else{var new_ns=cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(ns,ns_obj);cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(cljs.core.NS_CACHE,cljs.core.assoc,ns,new_ns);return new_ns}}};
cljs.core.find_macros_ns=function cljs$core$find_macros_ns(ns){if(cljs.core.NS_CACHE==null)cljs.core.NS_CACHE=function(){var G__11172=cljs.core.PersistentArrayMap.EMPTY;return cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(G__11172):cljs.core.atom.call(null,G__11172)}();else;var the_ns=cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(cljs.core.NS_CACHE):cljs.core.deref.call(null,
cljs.core.NS_CACHE),ns);if(!(the_ns==null))return the_ns;else{var ns_str=[cljs.core.str(ns)].join("");var ns__$1=!goog.string.contains(ns_str,"$macros")?cljs.core.symbol.cljs$core$IFn$_invoke$arity$1([cljs.core.str(ns_str),cljs.core.str("$macros")].join("")):ns;var ns_obj=cljs.core.find_ns_obj(ns__$1);if(ns_obj==null)return null;else{var new_ns=cljs.core.create_ns.cljs$core$IFn$_invoke$arity$2(ns__$1,ns_obj);cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(cljs.core.NS_CACHE,cljs.core.assoc,ns__$1,
new_ns);return new_ns}}};cljs.core.ns_name=function cljs$core$ns_name(ns_obj){return ns_obj.name};goog.provide("cljs.core.async.impl.protocols");goog.require("cljs.core");cljs.core.async.impl.protocols.MAX_QUEUE_SIZE=1024;cljs.core.async.impl.protocols.ReadPort=function(){};
cljs.core.async.impl.protocols.take_BANG_=function cljs$core$async$impl$protocols$take_BANG_(port,fn1_handler){if(!(port==null)&&!(port.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2==null))return port.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2(port,fn1_handler);else{var x__6811__auto__=port==null?null:port;var m__6812__auto__=cljs.core.async.impl.protocols.take_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,port,fn1_handler);
else{var m__6812__auto____$1=cljs.core.async.impl.protocols.take_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,port,fn1_handler);else throw cljs.core.missing_protocol.call(null,"ReadPort.take!",port);}}};cljs.core.async.impl.protocols.WritePort=function(){};
cljs.core.async.impl.protocols.put_BANG_=function cljs$core$async$impl$protocols$put_BANG_(port,val,fn1_handler){if(!(port==null)&&!(port.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3==null))return port.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3(port,val,fn1_handler);else{var x__6811__auto__=port==null?null:port;var m__6812__auto__=cljs.core.async.impl.protocols.put_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,port,val,
fn1_handler);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.put_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,port,val,fn1_handler);else throw cljs.core.missing_protocol.call(null,"WritePort.put!",port);}}};cljs.core.async.impl.protocols.Channel=function(){};
cljs.core.async.impl.protocols.close_BANG_=function cljs$core$async$impl$protocols$close_BANG_(chan){if(!(chan==null)&&!(chan.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1==null))return chan.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1(chan);else{var x__6811__auto__=chan==null?null:chan;var m__6812__auto__=cljs.core.async.impl.protocols.close_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,chan);else{var m__6812__auto____$1=
cljs.core.async.impl.protocols.close_BANG_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,chan);else throw cljs.core.missing_protocol.call(null,"Channel.close!",chan);}}};
cljs.core.async.impl.protocols.closed_QMARK_=function cljs$core$async$impl$protocols$closed_QMARK_(chan){if(!(chan==null)&&!(chan.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1==null))return chan.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1(chan);else{var x__6811__auto__=chan==null?null:chan;var m__6812__auto__=cljs.core.async.impl.protocols.closed_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,chan);else{var m__6812__auto____$1=
cljs.core.async.impl.protocols.closed_QMARK_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,chan);else throw cljs.core.missing_protocol.call(null,"Channel.closed?",chan);}}};cljs.core.async.impl.protocols.Handler=function(){};
cljs.core.async.impl.protocols.active_QMARK_=function cljs$core$async$impl$protocols$active_QMARK_(h){if(!(h==null)&&!(h.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1==null))return h.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1(h);else{var x__6811__auto__=h==null?null:h;var m__6812__auto__=cljs.core.async.impl.protocols.active_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,h);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.active_QMARK_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,h);else throw cljs.core.missing_protocol.call(null,"Handler.active?",h);}}};
cljs.core.async.impl.protocols.blockable_QMARK_=function cljs$core$async$impl$protocols$blockable_QMARK_(h){if(!(h==null)&&!(h.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1==null))return h.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1(h);else{var x__6811__auto__=h==null?null:h;var m__6812__auto__=cljs.core.async.impl.protocols.blockable_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,h);else{var m__6812__auto____$1=
cljs.core.async.impl.protocols.blockable_QMARK_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,h);else throw cljs.core.missing_protocol.call(null,"Handler.blockable?",h);}}};
cljs.core.async.impl.protocols.commit=function cljs$core$async$impl$protocols$commit(h){if(!(h==null)&&!(h.cljs$core$async$impl$protocols$Handler$commit$arity$1==null))return h.cljs$core$async$impl$protocols$Handler$commit$arity$1(h);else{var x__6811__auto__=h==null?null:h;var m__6812__auto__=cljs.core.async.impl.protocols.commit[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,h);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.commit["_"];if(!(m__6812__auto____$1==
null))return m__6812__auto____$1.call(null,h);else throw cljs.core.missing_protocol.call(null,"Handler.commit",h);}}};cljs.core.async.impl.protocols.Buffer=function(){};
cljs.core.async.impl.protocols.full_QMARK_=function cljs$core$async$impl$protocols$full_QMARK_(b){if(!(b==null)&&!(b.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1==null))return b.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1(b);else{var x__6811__auto__=b==null?null:b;var m__6812__auto__=cljs.core.async.impl.protocols.full_QMARK_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,b);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.full_QMARK_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,b);else throw cljs.core.missing_protocol.call(null,"Buffer.full?",b);}}};
cljs.core.async.impl.protocols.remove_BANG_=function cljs$core$async$impl$protocols$remove_BANG_(b){if(!(b==null)&&!(b.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1==null))return b.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1(b);else{var x__6811__auto__=b==null?null:b;var m__6812__auto__=cljs.core.async.impl.protocols.remove_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,b);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.remove_BANG_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,b);else throw cljs.core.missing_protocol.call(null,"Buffer.remove!",b);}}};
cljs.core.async.impl.protocols.add_BANG__STAR_=function cljs$core$async$impl$protocols$add_BANG__STAR_(b,itm){if(!(b==null)&&!(b.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2==null))return b.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2(b,itm);else{var x__6811__auto__=b==null?null:b;var m__6812__auto__=cljs.core.async.impl.protocols.add_BANG__STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,b,itm);else{var m__6812__auto____$1=
cljs.core.async.impl.protocols.add_BANG__STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,b,itm);else throw cljs.core.missing_protocol.call(null,"Buffer.add!*",b);}}};
cljs.core.async.impl.protocols.close_buf_BANG_=function cljs$core$async$impl$protocols$close_buf_BANG_(b){if(!(b==null)&&!(b.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1==null))return b.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1(b);else{var x__6811__auto__=b==null?null:b;var m__6812__auto__=cljs.core.async.impl.protocols.close_buf_BANG_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,b);else{var m__6812__auto____$1=cljs.core.async.impl.protocols.close_buf_BANG_["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,b);else throw cljs.core.missing_protocol.call(null,"Buffer.close-buf!",b);}}};
cljs.core.async.impl.protocols.add_BANG_=function cljs$core$async$impl$protocols$add_BANG_(var_args){var args11177=[];var len__7214__auto___11180=arguments.length;var i__7215__auto___11181=0;while(true){if(i__7215__auto___11181<len__7214__auto___11180){args11177.push(arguments[i__7215__auto___11181]);var G__11182=i__7215__auto___11181+1;i__7215__auto___11181=G__11182;continue}else;break}var G__11179=args11177.length;switch(G__11179){case 1:return cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11177.length)].join(""));}};cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$1=function(b){return b};
cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$2=function(b,itm){if(!(itm==null));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"not","not",1044554643,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),new cljs.core.Symbol(null,"itm","itm",-713282527,null)))))].join(""));return cljs.core.async.impl.protocols.add_BANG__STAR_.call(null,b,itm)};
cljs.core.async.impl.protocols.add_BANG_.cljs$lang$maxFixedArity=2;cljs.core.async.impl.protocols.UnblockingBuffer=function(){};goog.provide("cljs.core.async.impl.buffers");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");cljs.core.async.impl.buffers.acopy=function cljs$core$async$impl$buffers$acopy(src,src_start,dest,dest_start,len){var cnt=0;while(true){if(cnt<len){dest[dest_start+cnt]=src[src_start+cnt];var G__11186=cnt+1;cnt=G__11186;continue}else return null;break}};
cljs.core.async.impl.buffers.RingBuffer=function(head,tail,length,arr){this.head=head;this.tail=tail;this.length=length;this.arr=arr};cljs.core.async.impl.buffers.RingBuffer.prototype.pop=function(){var self__=this;var _=this;if(self__.length===0)return null;else{var x=self__.arr[self__.tail];self__.arr[self__.tail]=null;self__.tail=(self__.tail+1)%self__.arr.length;self__.length=self__.length-1;return x}};
cljs.core.async.impl.buffers.RingBuffer.prototype.unshift=function(x){var self__=this;var _=this;self__.arr[self__.head]=x;self__.head=(self__.head+1)%self__.arr.length;self__.length=self__.length+1;return null};cljs.core.async.impl.buffers.RingBuffer.prototype.unbounded_unshift=function(x){var self__=this;var this$=this;if(self__.length+1===self__.arr.length)this$.resize();else;return this$.unshift(x)};
cljs.core.async.impl.buffers.RingBuffer.prototype.resize=function(){var self__=this;var _=this;var new_arr_size=self__.arr.length*2;var new_arr=new Array(new_arr_size);if(self__.tail<self__.head){cljs.core.async.impl.buffers.acopy.call(null,self__.arr,self__.tail,new_arr,0,self__.length);self__.tail=0;self__.head=self__.length;return self__.arr=new_arr}else if(self__.tail>self__.head){cljs.core.async.impl.buffers.acopy.call(null,self__.arr,self__.tail,new_arr,0,self__.arr.length-self__.tail);cljs.core.async.impl.buffers.acopy.call(null,
self__.arr,0,new_arr,self__.arr.length-self__.tail,self__.head);self__.tail=0;self__.head=self__.length;return self__.arr=new_arr}else if(self__.tail===self__.head){self__.tail=0;self__.head=0;return self__.arr=new_arr}else return null};
cljs.core.async.impl.buffers.RingBuffer.prototype.cleanup=function(keep_QMARK_){var self__=this;var this$=this;var n__7059__auto__=self__.length;var x=0;while(true){if(x<n__7059__auto__){var v_11187=this$.pop();if(keep_QMARK_.call(null,v_11187))this$.unshift(v_11187);else;var G__11188=x+1;x=G__11188;continue}else return null;break}};
cljs.core.async.impl.buffers.RingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"head","head",869147608,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"tail","tail",494507963,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),
true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"length","length",-2065447907,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.async.impl.buffers.RingBuffer.cljs$lang$type=true;
cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/RingBuffer";cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.buffers/RingBuffer")};
cljs.core.async.impl.buffers.__GT_RingBuffer=function cljs$core$async$impl$buffers$__GT_RingBuffer(head,tail,length,arr){return new cljs.core.async.impl.buffers.RingBuffer(head,tail,length,arr)};
cljs.core.async.impl.buffers.ring_buffer=function cljs$core$async$impl$buffers$ring_buffer(n){if(n>0);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Can't create a ring buffer of size 0"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3e","\x3e",1085014381,null),new cljs.core.Symbol(null,"n","n",-2092305744,null),0)))].join(""));return new cljs.core.async.impl.buffers.RingBuffer(0,0,0,new Array(n))};
cljs.core.async.impl.buffers.FixedBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition0$=2;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length===self__.n};
cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;self__.buf.unbounded_unshift(itm);return this$__$1};
cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return null};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};
cljs.core.async.impl.buffers.FixedBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)};cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/FixedBuffer";
cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.buffers/FixedBuffer")};cljs.core.async.impl.buffers.__GT_FixedBuffer=function cljs$core$async$impl$buffers$__GT_FixedBuffer(buf,n){return new cljs.core.async.impl.buffers.FixedBuffer(buf,n)};
cljs.core.async.impl.buffers.fixed_buffer=function cljs$core$async$impl$buffers$fixed_buffer(n){return new cljs.core.async.impl.buffers.FixedBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};cljs.core.async.impl.buffers.DroppingBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition0$=2;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=true;
cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return false};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};
cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(self__.buf.length===self__.n);else self__.buf.unshift(itm);return this$__$1};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return null};
cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};cljs.core.async.impl.buffers.DroppingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)};cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$type=true;
cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/DroppingBuffer";cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.buffers/DroppingBuffer")};
cljs.core.async.impl.buffers.__GT_DroppingBuffer=function cljs$core$async$impl$buffers$__GT_DroppingBuffer(buf,n){return new cljs.core.async.impl.buffers.DroppingBuffer(buf,n)};cljs.core.async.impl.buffers.dropping_buffer=function cljs$core$async$impl$buffers$dropping_buffer(n){return new cljs.core.async.impl.buffers.DroppingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};
cljs.core.async.impl.buffers.SlidingBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition0$=2;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=true;cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;
cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return false};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};
cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(self__.buf.length===self__.n)cljs.core.async.impl.protocols.remove_BANG_.call(null,this$__$1);else;self__.buf.unshift(itm);return this$__$1};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return null};
cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};cljs.core.async.impl.buffers.SlidingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)};cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$type=true;
cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/SlidingBuffer";cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.buffers/SlidingBuffer")};
cljs.core.async.impl.buffers.__GT_SlidingBuffer=function cljs$core$async$impl$buffers$__GT_SlidingBuffer(buf,n){return new cljs.core.async.impl.buffers.SlidingBuffer(buf,n)};cljs.core.async.impl.buffers.sliding_buffer=function cljs$core$async$impl$buffers$sliding_buffer(n){return new cljs.core.async.impl.buffers.SlidingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};if(typeof cljs.core.async.impl.buffers.NO_VAL!=="undefined");else cljs.core.async.impl.buffers.NO_VAL=new Object;
cljs.core.async.impl.buffers.undelivered_QMARK_=function cljs$core$async$impl$buffers$undelivered_QMARK_(val){return cljs.core.async.impl.buffers.NO_VAL===val};cljs.core.async.impl.buffers.PromiseBuffer=function(val){this.val=val;this.cljs$lang$protocol_mask$partition0$=2;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=true;
cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return false};cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(_){var self__=this;var ___$1=this;return self__.val};
cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(cljs.core.truth_(cljs.core.async.impl.buffers.undelivered_QMARK_.call(null,self__.val)))self__.val=itm;else;return this$__$1};
cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$async$impl$protocols$Buffer$close_buf_BANG_$arity$1=function(_){var self__=this;var ___$1=this;if(cljs.core.truth_(cljs.core.async.impl.buffers.undelivered_QMARK_.call(null,self__.val)))return self__.val=null;else return null};
cljs.core.async.impl.buffers.PromiseBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;if(cljs.core.truth_(cljs.core.async.impl.buffers.undelivered_QMARK_.call(null,self__.val)))return 0;else return 1};
cljs.core.async.impl.buffers.PromiseBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.async.impl.buffers.PromiseBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.PromiseBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/PromiseBuffer";
cljs.core.async.impl.buffers.PromiseBuffer.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.buffers/PromiseBuffer")};cljs.core.async.impl.buffers.__GT_PromiseBuffer=function cljs$core$async$impl$buffers$__GT_PromiseBuffer(val){return new cljs.core.async.impl.buffers.PromiseBuffer(val)};cljs.core.async.impl.buffers.promise_buffer=function cljs$core$async$impl$buffers$promise_buffer(){return new cljs.core.async.impl.buffers.PromiseBuffer(cljs.core.async.impl.buffers.NO_VAL)};goog.provide("goog.debug.EntryPointMonitor");goog.provide("goog.debug.entryPointRegistry");goog.require("goog.asserts");goog.debug.EntryPointMonitor=function(){};goog.debug.EntryPointMonitor.prototype.wrap;goog.debug.EntryPointMonitor.prototype.unwrap;goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=false;
goog.debug.entryPointRegistry.register=function(callback){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=callback;if(goog.debug.entryPointRegistry.monitorsMayExist_){var monitors=goog.debug.entryPointRegistry.monitors_;for(var i=0;i<monitors.length;i++)callback(goog.bind(monitors[i].wrap,monitors[i]))}};
goog.debug.entryPointRegistry.monitorAll=function(monitor){goog.debug.entryPointRegistry.monitorsMayExist_=true;var transformer=goog.bind(monitor.wrap,monitor);for(var i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](transformer);goog.debug.entryPointRegistry.monitors_.push(monitor)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(monitor){var monitors=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(monitor==monitors[monitors.length-1],"Only the most recent monitor can be unwrapped.");var transformer=goog.bind(monitor.unwrap,monitor);for(var i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](transformer);monitors.length--};goog.provide("goog.dom.TagName");
goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",
DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",
NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",
TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.provide("goog.functions");goog.functions.constant=function(retValue){return function(){return retValue}};goog.functions.FALSE=goog.functions.constant(false);goog.functions.TRUE=goog.functions.constant(true);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(opt_returnValue,var_args){return opt_returnValue};goog.functions.error=function(message){return function(){throw Error(message);}};goog.functions.fail=function(err){return function(){throw err;}};
goog.functions.lock=function(f,opt_numArgs){opt_numArgs=opt_numArgs||0;return function(){return f.apply(this,Array.prototype.slice.call(arguments,0,opt_numArgs))}};goog.functions.nth=function(n){return function(){return arguments[n]}};goog.functions.withReturnValue=function(f,retValue){return goog.functions.sequence(f,goog.functions.constant(retValue))};goog.functions.equalTo=function(value,opt_useLooseComparison){return function(other){return opt_useLooseComparison?value==other:value===other}};
goog.functions.compose=function(fn,var_args){var functions=arguments;var length=functions.length;return function(){var result;if(length)result=functions[length-1].apply(this,arguments);for(var i=length-2;i>=0;i--)result=functions[i].call(this,result);return result}};goog.functions.sequence=function(var_args){var functions=arguments;var length=functions.length;return function(){var result;for(var i=0;i<length;i++)result=functions[i].apply(this,arguments);return result}};
goog.functions.and=function(var_args){var functions=arguments;var length=functions.length;return function(){for(var i=0;i<length;i++)if(!functions[i].apply(this,arguments))return false;return true}};goog.functions.or=function(var_args){var functions=arguments;var length=functions.length;return function(){for(var i=0;i<length;i++)if(functions[i].apply(this,arguments))return true;return false}};goog.functions.not=function(f){return function(){return!f.apply(this,arguments)}};
goog.functions.create=function(constructor,var_args){var temp=function(){};temp.prototype=constructor.prototype;var obj=new temp;constructor.apply(obj,Array.prototype.slice.call(arguments,1));return obj};goog.define("goog.functions.CACHE_RETURN_VALUE",true);goog.functions.cacheReturnValue=function(fn){var called=false;var value;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return fn();if(!called){value=fn();called=true}return value}};
goog.functions.once=function(f){var inner=f;return function(){if(inner){var tmp=inner;inner=null;tmp()}}};goog.functions.debounce=function(f,interval,opt_scope){if(opt_scope)f=goog.bind(f,opt_scope);var timeout=null;return(function(var_args){goog.global.clearTimeout(timeout);var args=arguments;timeout=goog.global.setTimeout(function(){f.apply(null,args)},interval)})};
goog.functions.throttle=function(f,interval,opt_scope){if(opt_scope)f=goog.bind(f,opt_scope);var timeout=null;var shouldFire=false;var args=[];var handleTimeout=function(){timeout=null;if(shouldFire){shouldFire=false;fire()}};var fire=function(){timeout=goog.global.setTimeout(handleTimeout,interval);f.apply(null,args)};return(function(var_args){args=arguments;if(!timeout)fire();else shouldFire=true})};goog.provide("goog.labs.userAgent.util");goog.require("goog.string");goog.labs.userAgent.util.getNativeUserAgentString_=function(){var navigator=goog.labs.userAgent.util.getNavigator_();if(navigator){var userAgent=navigator.userAgent;if(userAgent)return userAgent}return""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();
goog.labs.userAgent.util.setUserAgent=function(opt_userAgent){goog.labs.userAgent.util.userAgent_=opt_userAgent||goog.labs.userAgent.util.getNativeUserAgentString_()};goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(str){var userAgent=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(userAgent,str)};
goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(str){var userAgent=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(userAgent,str)};goog.labs.userAgent.util.extractVersionTuples=function(userAgent){var versionRegExp=new RegExp("(\\w[\\w ]+)"+"/"+"([^\\s]+)"+"\\s*"+"(?:\\((.*?)\\))?","g");var data=[];var match;while(match=versionRegExp.exec(userAgent))data.push([match[1],match[2],match[3]||undefined]);return data};goog.provide("goog.labs.userAgent.browser");goog.require("goog.array");goog.require("goog.labs.userAgent.util");goog.require("goog.object");goog.require("goog.string");goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};
goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};
goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};
goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};
goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};
goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;
goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};
goog.labs.userAgent.browser.getVersion=function(){var userAgentString=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(userAgentString);var versionTuples=goog.labs.userAgent.util.extractVersionTuples(userAgentString);var versionMap={};goog.array.forEach(versionTuples,function(tuple){var key=tuple[0];var value=tuple[1];versionMap[key]=value});var versionMapHasKey=goog.partial(goog.object.containsKey,versionMap);function lookUpValueWithKeys(keys){var key=
goog.array.find(keys,versionMapHasKey);return versionMap[key]||""}if(goog.labs.userAgent.browser.isOpera())return lookUpValueWithKeys(["Version","Opera","OPR"]);if(goog.labs.userAgent.browser.isEdge())return lookUpValueWithKeys(["Edge"]);if(goog.labs.userAgent.browser.isChrome())return lookUpValueWithKeys(["Chrome","CriOS"]);var tuple=versionTuples[2];return tuple&&tuple[1]||""};
goog.labs.userAgent.browser.isVersionOrHigher=function(version){return goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),version)>=0};
goog.labs.userAgent.browser.getIEVersion_=function(userAgent){var rv=/rv: *([\d\.]*)/.exec(userAgent);if(rv&&rv[1])return rv[1];var version="";var msie=/MSIE +([\d\.]+)/.exec(userAgent);if(msie&&msie[1]){var tridentVersion=/Trident\/(\d.\d)/.exec(userAgent);if(msie[1]=="7.0")if(tridentVersion&&tridentVersion[1])switch(tridentVersion[1]){case "4.0":version="8.0";break;case "5.0":version="9.0";break;case "6.0":version="10.0";break;case "7.0":version="11.0";break}else version="7.0";else version=msie[1]}return version};goog.provide("goog.labs.userAgent.engine");goog.require("goog.array");goog.require("goog.labs.userAgent.util");goog.require("goog.string");goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};
goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};
goog.labs.userAgent.engine.getVersion=function(){var userAgentString=goog.labs.userAgent.util.getUserAgent();if(userAgentString){var tuples=goog.labs.userAgent.util.extractVersionTuples(userAgentString);var engineTuple=goog.labs.userAgent.engine.getEngineTuple_(tuples);if(engineTuple){if(engineTuple[0]=="Gecko")return goog.labs.userAgent.engine.getVersionForKey_(tuples,"Firefox");return engineTuple[1]}var browserTuple=tuples[0];var info;if(browserTuple&&(info=browserTuple[2])){var match=/Trident\/([^\s;]+)/.exec(info);
if(match)return match[1]}}return""};goog.labs.userAgent.engine.getEngineTuple_=function(tuples){if(!goog.labs.userAgent.engine.isEdge())return tuples[1];for(var i=0;i<tuples.length;i++){var tuple=tuples[i];if(tuple[0]=="Edge")return tuple}};goog.labs.userAgent.engine.isVersionOrHigher=function(version){return goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),version)>=0};
goog.labs.userAgent.engine.getVersionForKey_=function(tuples,key){var pair=goog.array.find(tuples,function(pair){return key==pair[0]});return pair&&pair[1]||""};goog.provide("goog.async.nextTick");goog.provide("goog.async.throwException");goog.require("goog.debug.entryPointRegistry");goog.require("goog.dom.TagName");goog.require("goog.functions");goog.require("goog.labs.userAgent.browser");goog.require("goog.labs.userAgent.engine");goog.async.throwException=function(exception){goog.global.setTimeout(function(){throw exception;},0)};
goog.async.nextTick=function(callback,opt_context,opt_useSetImmediate){var cb=callback;if(opt_context)cb=goog.bind(callback,opt_context);cb=goog.async.nextTick.wrapCallback_(cb);if(goog.isFunction(goog.global.setImmediate)&&(opt_useSetImmediate||!goog.global.Window||!goog.global.Window.prototype||goog.global.Window.prototype.setImmediate!=goog.global.setImmediate)){goog.global.setImmediate(cb);return}if(!goog.async.nextTick.setImmediate_)goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_();
goog.async.nextTick.setImmediate_(cb)};goog.async.nextTick.setImmediate_;
goog.async.nextTick.getSetImmediateEmulator_=function(){var Channel=goog.global["MessageChannel"];if(typeof Channel==="undefined"&&typeof window!=="undefined"&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto())Channel=function(){var iframe=document.createElement(goog.dom.TagName.IFRAME);iframe.style.display="none";iframe.src="";document.documentElement.appendChild(iframe);var win=iframe.contentWindow;var doc=win.document;doc.open();doc.write("");doc.close();var message=
"callImmediate"+Math.random();var origin=win.location.protocol=="file:"?"*":win.location.protocol+"//"+win.location.host;var onmessage=goog.bind(function(e){if(origin!="*"&&e.origin!=origin||e.data!=message)return;this["port1"].onmessage()},this);win.addEventListener("message",onmessage,false);this["port1"]={};this["port2"]={postMessage:function(){win.postMessage(message,origin)}}};if(typeof Channel!=="undefined"&&!goog.labs.userAgent.browser.isIE()){var channel=new Channel;var head={};var tail=head;
channel["port1"].onmessage=function(){if(goog.isDef(head.next)){head=head.next;var cb=head.cb;head.cb=null;cb()}};return function(cb){tail.next={cb:cb};tail=tail.next;channel["port2"].postMessage(0)}}if(typeof document!=="undefined"&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT))return function(cb){var script=document.createElement(goog.dom.TagName.SCRIPT);script.onreadystatechange=function(){script.onreadystatechange=null;script.parentNode.removeChild(script);script=null;
cb();cb=null};document.documentElement.appendChild(script)};return function(cb){goog.global.setTimeout(cb,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;goog.debug.entryPointRegistry.register(function(transformer){goog.async.nextTick.wrapCallback_=transformer});goog.provide("cljs.core.async.impl.dispatch");goog.require("cljs.core");goog.require("cljs.core.async.impl.buffers");goog.require("goog.async.nextTick");cljs.core.async.impl.dispatch.tasks=cljs.core.async.impl.buffers.ring_buffer.call(null,32);cljs.core.async.impl.dispatch.running_QMARK_=false;cljs.core.async.impl.dispatch.queued_QMARK_=false;cljs.core.async.impl.dispatch.TASK_BATCH_SIZE=1024;
cljs.core.async.impl.dispatch.process_messages=function cljs$core$async$impl$dispatch$process_messages(){cljs.core.async.impl.dispatch.running_QMARK_=true;cljs.core.async.impl.dispatch.queued_QMARK_=false;var count_11191=0;while(true){var m_11192=cljs.core.async.impl.dispatch.tasks.pop();if(m_11192==null);else{m_11192.call(null);if(count_11191<cljs.core.async.impl.dispatch.TASK_BATCH_SIZE){var G__11193=count_11191+1;count_11191=G__11193;continue}else;}break}cljs.core.async.impl.dispatch.running_QMARK_=
false;if(cljs.core.async.impl.dispatch.tasks.length>0)return cljs.core.async.impl.dispatch.queue_dispatcher.call(null);else return null};
cljs.core.async.impl.dispatch.queue_dispatcher=function cljs$core$async$impl$dispatch$queue_dispatcher(){if(cljs.core.truth_(function(){var and__6144__auto__=cljs.core.async.impl.dispatch.queued_QMARK_;if(cljs.core.truth_(and__6144__auto__))return cljs.core.async.impl.dispatch.running_QMARK_;else return and__6144__auto__}()))return null;else{cljs.core.async.impl.dispatch.queued_QMARK_=true;return goog.async.nextTick(cljs.core.async.impl.dispatch.process_messages)}};
cljs.core.async.impl.dispatch.run=function cljs$core$async$impl$dispatch$run(f){cljs.core.async.impl.dispatch.tasks.unbounded_unshift(f);return cljs.core.async.impl.dispatch.queue_dispatcher.call(null)};cljs.core.async.impl.dispatch.queue_delay=function cljs$core$async$impl$dispatch$queue_delay(f,delay){return setTimeout(f,delay)};goog.provide("cljs.core.async.impl.channels");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.buffers");
cljs.core.async.impl.channels.box=function cljs$core$async$impl$channels$box(val){if(typeof cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199!=="undefined");else{cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199=function(box,val,meta11200){this.box=box;this.val=val;this.meta11200=meta11200;this.cljs$lang$protocol_mask$partition0$=425984;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(_11201,meta11200__$1){var self__=this;var _11201__$1=this;return new cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199(self__.box,self__.val,meta11200__$1)};cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.prototype.cljs$core$IMeta$_meta$arity$1=function(_11201){var self__=this;var _11201__$1=this;return self__.meta11200};cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;
var ___$1=this;return self__.val};cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"box","box",-1123515375,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,
1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null)],null)))],null)),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"meta11200","meta11200",1486488123,null)],null)};cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.cljs$lang$type=true;cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.cljs$lang$ctorStr="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels11199";cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199.cljs$lang$ctorPrWriter=
function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels11199")};cljs.core.async.impl.channels.__GT_t_cljs$core$async$impl$channels11199=function cljs$core$async$impl$channels$box_$___GT_t_cljs$core$async$impl$channels11199(box__$1,val__$1,meta11200){return new cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199(box__$1,val__$1,meta11200)}}return new cljs.core.async.impl.channels.t_cljs$core$async$impl$channels11199(cljs$core$async$impl$channels$box,
val,cljs.core.PersistentArrayMap.EMPTY)};cljs.core.async.impl.channels.PutBox=function(handler,val){this.handler=handler;this.val=val};cljs.core.async.impl.channels.PutBox.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"val","val",1769233139,null)],null)};cljs.core.async.impl.channels.PutBox.cljs$lang$type=true;
cljs.core.async.impl.channels.PutBox.cljs$lang$ctorStr="cljs.core.async.impl.channels/PutBox";cljs.core.async.impl.channels.PutBox.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.channels/PutBox")};cljs.core.async.impl.channels.__GT_PutBox=function cljs$core$async$impl$channels$__GT_PutBox(handler,val){return new cljs.core.async.impl.channels.PutBox(handler,val)};
cljs.core.async.impl.channels.put_active_QMARK_=function cljs$core$async$impl$channels$put_active_QMARK_(box){return cljs.core.async.impl.protocols.active_QMARK_.call(null,box.handler)};cljs.core.async.impl.channels.MAX_DIRTY=64;cljs.core.async.impl.channels.MMC=function(){};
cljs.core.async.impl.channels.abort=function cljs$core$async$impl$channels$abort(this$){if(!(this$==null)&&!(this$.cljs$core$async$impl$channels$MMC$abort$arity$1==null))return this$.cljs$core$async$impl$channels$MMC$abort$arity$1(this$);else{var x__6811__auto__=this$==null?null:this$;var m__6812__auto__=cljs.core.async.impl.channels.abort[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,this$);else{var m__6812__auto____$1=cljs.core.async.impl.channels.abort["_"];
if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,this$);else throw cljs.core.missing_protocol.call(null,"MMC.abort",this$);}}};cljs.core.async.impl.channels.ManyToManyChannel=function(takes,dirty_takes,puts,dirty_puts,buf,closed,add_BANG_){this.takes=takes;this.dirty_takes=dirty_takes;this.puts=puts;this.dirty_puts=dirty_puts;this.buf=buf;this.closed=closed;this.add_BANG_=add_BANG_};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$channels$MMC$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$channels$MMC$abort$arity$1=function(this$){var self__=this;var this$__$1=this;while(true){var putter_11202=self__.puts.pop();if(putter_11202==null);else{var put_handler_11203=putter_11202.handler;var val_11204=putter_11202.val;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,put_handler_11203)){var put_cb_11205=cljs.core.async.impl.protocols.commit.call(null,put_handler_11203);cljs.core.async.impl.dispatch.run.call(null,
function(put_cb_11205,put_handler_11203,val_11204,putter_11202,this$__$1){return function(){return put_cb_11205.call(null,true)}}(put_cb_11205,put_handler_11203,val_11204,putter_11202,this$__$1))}else continue}break}self__.puts.cleanup(cljs.core.constantly.call(null,false));return cljs.core.async.impl.protocols.close_BANG_.call(null,this$__$1)};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(this$,val,handler){var self__=this;var this$__$1=this;if(!(val==null));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Can't put nil in on a channel"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"not","not",1044554643,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),
new cljs.core.Symbol(null,"val","val",1769233139,null)))))].join(""));var closed__$1=self__.closed;if(closed__$1||!cljs.core.async.impl.protocols.active_QMARK_.call(null,handler))return cljs.core.async.impl.channels.box.call(null,!closed__$1);else if(cljs.core.truth_(function(){var and__6144__auto__=self__.buf;if(cljs.core.truth_(and__6144__auto__))return cljs.core.not.call(null,cljs.core.async.impl.protocols.full_QMARK_.call(null,self__.buf));else return and__6144__auto__}())){cljs.core.async.impl.protocols.commit.call(null,
handler);var done_QMARK_=cljs.core.reduced_QMARK_.call(null,self__.add_BANG_.call(null,self__.buf,val));while(true){if(self__.takes.length>0&&cljs.core.count.call(null,self__.buf)>0){var taker_11206=self__.takes.pop();if(cljs.core.async.impl.protocols.active_QMARK_.call(null,taker_11206)){var take_cb_11207=cljs.core.async.impl.protocols.commit.call(null,taker_11206);var val_11208__$1=cljs.core.async.impl.protocols.remove_BANG_.call(null,self__.buf);cljs.core.async.impl.dispatch.run.call(null,function(take_cb_11207,
val_11208__$1,taker_11206,done_QMARK_,closed__$1,this$__$1){return function(){return take_cb_11207.call(null,val_11208__$1)}}(take_cb_11207,val_11208__$1,taker_11206,done_QMARK_,closed__$1,this$__$1))}else continue}else;break}if(done_QMARK_)cljs.core.async.impl.channels.abort.call(null,this$__$1);else;return cljs.core.async.impl.channels.box.call(null,true)}else{var taker=function(){while(true){var taker=self__.takes.pop();if(cljs.core.truth_(taker))if(cljs.core.truth_(cljs.core.async.impl.protocols.active_QMARK_.call(null,
taker)))return taker;else continue;else return null;break}}();if(cljs.core.truth_(taker)){var take_cb=cljs.core.async.impl.protocols.commit.call(null,taker);cljs.core.async.impl.protocols.commit.call(null,handler);cljs.core.async.impl.dispatch.run.call(null,function(take_cb,taker,closed__$1,this$__$1){return function(){return take_cb.call(null,val)}}(take_cb,taker,closed__$1,this$__$1));return cljs.core.async.impl.channels.box.call(null,true)}else{if(self__.dirty_puts>cljs.core.async.impl.channels.MAX_DIRTY){self__.dirty_puts=
0;self__.puts.cleanup(cljs.core.async.impl.channels.put_active_QMARK_)}else self__.dirty_puts=self__.dirty_puts+1;if(cljs.core.truth_(cljs.core.async.impl.protocols.blockable_QMARK_.call(null,handler))){if(self__.puts.length<cljs.core.async.impl.protocols.MAX_QUEUE_SIZE);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("No more than "),cljs.core.str(cljs.core.async.impl.protocols.MAX_QUEUE_SIZE),cljs.core.str(" pending puts are allowed on a single channel."),cljs.core.str(" Consider using a windowed buffer.")].join("")),
cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3c","\x3c",993667236,null),cljs.core.list(new cljs.core.Symbol(null,".-length",".-length",-280799999,null),new cljs.core.Symbol(null,"puts","puts",-1883877054,null)),new cljs.core.Symbol("impl","MAX-QUEUE-SIZE","impl/MAX-QUEUE-SIZE",1508600732,null))))].join(""));self__.puts.unbounded_unshift(new cljs.core.async.impl.channels.PutBox(handler,val))}else;return null}}};
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(this$,handler){var self__=this;var this$__$1=this;if(!cljs.core.async.impl.protocols.active_QMARK_.call(null,handler))return null;else if(!(self__.buf==null)&&cljs.core.count.call(null,self__.buf)>0){var _=cljs.core.async.impl.protocols.commit.call(null,handler);var retval=cljs.core.async.impl.channels.box.call(null,cljs.core.async.impl.protocols.remove_BANG_.call(null,self__.buf));
while(true){if(cljs.core.truth_(cljs.core.async.impl.protocols.full_QMARK_.call(null,self__.buf)));else{var putter_11209=self__.puts.pop();if(putter_11209==null);else{var put_handler_11210=putter_11209.handler;var val_11211=putter_11209.val;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,put_handler_11210)){var put_cb_11212=cljs.core.async.impl.protocols.commit.call(null,put_handler_11210);cljs.core.async.impl.protocols.commit.call(null,handler);cljs.core.async.impl.dispatch.run.call(null,
function(put_cb_11212,put_handler_11210,val_11211,putter_11209,_,retval,this$__$1){return function(){return put_cb_11212.call(null,true)}}(put_cb_11212,put_handler_11210,val_11211,putter_11209,_,retval,this$__$1));if(cljs.core.reduced_QMARK_.call(null,self__.add_BANG_.call(null,self__.buf,val_11211)))cljs.core.async.impl.channels.abort.call(null,this$__$1);else;}else;continue}}break}return retval}else{var putter=function(){while(true){var putter=self__.puts.pop();if(cljs.core.truth_(putter))if(cljs.core.async.impl.protocols.active_QMARK_.call(null,
putter.handler))return putter;else continue;else return null;break}}();if(cljs.core.truth_(putter)){var put_cb=cljs.core.async.impl.protocols.commit.call(null,putter.handler);cljs.core.async.impl.protocols.commit.call(null,handler);cljs.core.async.impl.dispatch.run.call(null,function(put_cb,putter,this$__$1){return function(){return put_cb.call(null,true)}}(put_cb,putter,this$__$1));return cljs.core.async.impl.channels.box.call(null,putter.val)}else if(cljs.core.truth_(self__.closed)){if(cljs.core.truth_(self__.buf))self__.add_BANG_.call(null,
self__.buf);else;if(cljs.core.truth_(function(){var and__6144__auto__=cljs.core.async.impl.protocols.active_QMARK_.call(null,handler);if(cljs.core.truth_(and__6144__auto__))return cljs.core.async.impl.protocols.commit.call(null,handler);else return and__6144__auto__}())){var has_val=function(){var and__6144__auto__=self__.buf;if(cljs.core.truth_(and__6144__auto__))return cljs.core.count.call(null,self__.buf)>0;else return and__6144__auto__}();var val=cljs.core.truth_(has_val)?cljs.core.async.impl.protocols.remove_BANG_.call(null,
self__.buf):null;return cljs.core.async.impl.channels.box.call(null,val)}else return null}else{if(self__.dirty_takes>cljs.core.async.impl.channels.MAX_DIRTY){self__.dirty_takes=0;self__.takes.cleanup(cljs.core.async.impl.protocols.active_QMARK_)}else self__.dirty_takes=self__.dirty_takes+1;if(cljs.core.truth_(cljs.core.async.impl.protocols.blockable_QMARK_.call(null,handler))){if(self__.takes.length<cljs.core.async.impl.protocols.MAX_QUEUE_SIZE);else throw new Error([cljs.core.str("Assert failed: "),
cljs.core.str([cljs.core.str("No more than "),cljs.core.str(cljs.core.async.impl.protocols.MAX_QUEUE_SIZE),cljs.core.str(" pending takes are allowed on a single channel.")].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3c","\x3c",993667236,null),cljs.core.list(new cljs.core.Symbol(null,".-length",".-length",-280799999,null),new cljs.core.Symbol(null,"takes","takes",298247964,null)),new cljs.core.Symbol("impl","MAX-QUEUE-SIZE","impl/MAX-QUEUE-SIZE",
1508600732,null))))].join(""));self__.takes.unbounded_unshift(handler)}else;return null}}};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return self__.closed};
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.closed)return null;else{self__.closed=true;if(cljs.core.truth_(function(){var and__6144__auto__=self__.buf;if(cljs.core.truth_(and__6144__auto__))return self__.puts.length===0;else return and__6144__auto__}()))self__.add_BANG_.call(null,self__.buf);else;while(true){var taker_11213=self__.takes.pop();if(taker_11213==null);
else{if(cljs.core.async.impl.protocols.active_QMARK_.call(null,taker_11213)){var take_cb_11214=cljs.core.async.impl.protocols.commit.call(null,taker_11213);var val_11215=cljs.core.truth_(function(){var and__6144__auto__=self__.buf;if(cljs.core.truth_(and__6144__auto__))return cljs.core.count.call(null,self__.buf)>0;else return and__6144__auto__}())?cljs.core.async.impl.protocols.remove_BANG_.call(null,self__.buf):null;cljs.core.async.impl.dispatch.run.call(null,function(take_cb_11214,val_11215,taker_11213,
this$__$1){return function(){return take_cb_11214.call(null,val_11215)}}(take_cb_11214,val_11215,taker_11213,this$__$1))}else;continue}break}if(cljs.core.truth_(self__.buf))cljs.core.async.impl.protocols.close_buf_BANG_.call(null,self__.buf);else;return null}};
cljs.core.async.impl.channels.ManyToManyChannel.getBasis=function(){return new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"takes","takes",298247964,null),cljs.core.with_meta(new cljs.core.Symbol(null,"dirty-takes","dirty-takes",575642138,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"puts","puts",-1883877054,null),cljs.core.with_meta(new cljs.core.Symbol(null,
"dirty-puts","dirty-puts",57041148,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"not-native","not-native",-236392494,null)],null)),cljs.core.with_meta(new cljs.core.Symbol(null,"closed","closed",720856168,null),new cljs.core.PersistentArrayMap(null,
1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"add!","add!",2046056845,null)],null)};cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$type=true;cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorStr="cljs.core.async.impl.channels/ManyToManyChannel";
cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.channels/ManyToManyChannel")};
cljs.core.async.impl.channels.__GT_ManyToManyChannel=function cljs$core$async$impl$channels$__GT_ManyToManyChannel(takes,dirty_takes,puts,dirty_puts,buf,closed,add_BANG_){return new cljs.core.async.impl.channels.ManyToManyChannel(takes,dirty_takes,puts,dirty_puts,buf,closed,add_BANG_)};cljs.core.async.impl.channels.ex_handler=function cljs$core$async$impl$channels$ex_handler(ex){console.log(ex);return null};
cljs.core.async.impl.channels.handle=function cljs$core$async$impl$channels$handle(buf,exh,t){var else$=function(){var or__6156__auto__=exh;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.async.impl.channels.ex_handler}().call(null,t);if(else$==null)return buf;else return cljs.core.async.impl.protocols.add_BANG_.call(null,buf,else$)};
cljs.core.async.impl.channels.chan=function cljs$core$async$impl$channels$chan(var_args){var args11216=[];var len__7214__auto___11221=arguments.length;var i__7215__auto___11222=0;while(true){if(i__7215__auto___11222<len__7214__auto___11221){args11216.push(arguments[i__7215__auto___11222]);var G__11223=i__7215__auto___11222+1;i__7215__auto___11222=G__11223;continue}else;break}var G__11218=args11216.length;switch(G__11218){case 1:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args11216.length)].join(""));}};cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$1=function(buf){return cljs.core.async.impl.channels.chan.call(null,buf,null)};
cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$2=function(buf,xform){return cljs.core.async.impl.channels.chan.call(null,buf,xform,null)};
cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$3=function(buf,xform,exh){return new cljs.core.async.impl.channels.ManyToManyChannel(cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,buf,false,function(){var add_BANG_=cljs.core.truth_(xform)?xform.call(null,cljs.core.async.impl.protocols.add_BANG_):cljs.core.async.impl.protocols.add_BANG_;return function(add_BANG_){return function(){var G__11225=null;var G__11225__1=function(buf__$1){try{return add_BANG_.call(null,
buf__$1)}catch(e11219){var t=e11219;return cljs.core.async.impl.channels.handle.call(null,buf__$1,exh,t)}};var G__11225__2=function(buf__$1,val){try{return add_BANG_.call(null,buf__$1,val)}catch(e11220){var t=e11220;return cljs.core.async.impl.channels.handle.call(null,buf__$1,exh,t)}};G__11225=function(buf__$1,val){switch(arguments.length){case 1:return G__11225__1.call(this,buf__$1);case 2:return G__11225__2.call(this,buf__$1,val)}throw new Error("Invalid arity: "+arguments.length);};G__11225.cljs$core$IFn$_invoke$arity$1=
G__11225__1;G__11225.cljs$core$IFn$_invoke$arity$2=G__11225__2;return G__11225}()}(add_BANG_)}())};cljs.core.async.impl.channels.chan.cljs$lang$maxFixedArity=3;goog.provide("cljs.core.async.impl.ioc_helpers");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");cljs.core.async.impl.ioc_helpers.FN_IDX=0;cljs.core.async.impl.ioc_helpers.STATE_IDX=1;cljs.core.async.impl.ioc_helpers.VALUE_IDX=2;cljs.core.async.impl.ioc_helpers.BINDINGS_IDX=3;cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES=4;cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION=5;cljs.core.async.impl.ioc_helpers.USER_START_IDX=6;
cljs.core.async.impl.ioc_helpers.aset_object=function cljs$core$async$impl$ioc_helpers$aset_object(arr,idx,o){return arr[idx][o]};cljs.core.async.impl.ioc_helpers.aget_object=function cljs$core$async$impl$ioc_helpers$aget_object(arr,idx){return arr[idx]};
cljs.core.async.impl.ioc_helpers.finished_QMARK_=function cljs$core$async$impl$ioc_helpers$finished_QMARK_(state_array){return cljs.core.keyword_identical_QMARK_.call(null,state_array[cljs.core.async.impl.ioc_helpers.STATE_IDX],new cljs.core.Keyword(null,"finished","finished",-1018867731))};
cljs.core.async.impl.ioc_helpers.fn_handler=function cljs$core$async$impl$ioc_helpers$fn_handler(f){if(typeof cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461!=="undefined");else{cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461=function(fn_handler,f,meta12462){this.fn_handler=fn_handler;this.f=f;this.meta12462=meta12462;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(_12463,meta12462__$1){var self__=this;var _12463__$1=this;return new cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461(self__.fn_handler,self__.f,meta12462__$1)};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$IMeta$_meta$arity$1=function(_12463){var self__=this;var _12463__$1=this;return self__.meta12462};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$async$impl$protocols$Handler$=
true;cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return true};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return true};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=
function(_){var self__=this;var ___$1=this;return self__.f};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"fn-handler","fn-handler",648785851,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"private","private",-558947994),true,new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,
"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"f","f",43394975,null)],null)))],null)),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"meta12462","meta12462",1700041412,null)],null)};cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.cljs$lang$type=true;cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.cljs$lang$ctorStr=
"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers12461";cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers12461")};cljs.core.async.impl.ioc_helpers.__GT_t_cljs$core$async$impl$ioc_helpers12461=function cljs$core$async$impl$ioc_helpers$fn_handler_$___GT_t_cljs$core$async$impl$ioc_helpers12461(fn_handler__$1,
f__$1,meta12462){return new cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461(fn_handler__$1,f__$1,meta12462)}}return new cljs.core.async.impl.ioc_helpers.t_cljs$core$async$impl$ioc_helpers12461(cljs$core$async$impl$ioc_helpers$fn_handler,f,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.async.impl.ioc_helpers.run_state_machine=function cljs$core$async$impl$ioc_helpers$run_state_machine(state){return cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.FN_IDX).call(null,state)};
cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped=function cljs$core$async$impl$ioc_helpers$run_state_machine_wrapped(state){try{return cljs.core.async.impl.ioc_helpers.run_state_machine.call(null,state)}catch(e12465){if(e12465 instanceof Object){var ex=e12465;cljs.core.async.impl.protocols.close_BANG_.call(null,cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.USER_START_IDX));throw ex;}else throw e12465;}};
cljs.core.async.impl.ioc_helpers.take_BANG_=function cljs$core$async$impl$ioc_helpers$take_BANG_(state,blk,c){var temp__4655__auto__=cljs.core.async.impl.protocols.take_BANG_.call(null,c,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(x){var statearr_12468_12470=state;statearr_12468_12470[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=x;statearr_12468_12470[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state)}));
if(cljs.core.truth_(temp__4655__auto__)){var cb=temp__4655__auto__;var statearr_12469_12471=state;statearr_12469_12471[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);statearr_12469_12471[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null};
cljs.core.async.impl.ioc_helpers.put_BANG_=function cljs$core$async$impl$ioc_helpers$put_BANG_(state,blk,c,val){var temp__4655__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,c,val,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(ret_val){var statearr_12474_12476=state;statearr_12474_12476[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=ret_val;statearr_12474_12476[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state)}));if(cljs.core.truth_(temp__4655__auto__)){var cb=temp__4655__auto__;var statearr_12475_12477=state;statearr_12475_12477[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);statearr_12475_12477[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null};
cljs.core.async.impl.ioc_helpers.return_chan=function cljs$core$async$impl$ioc_helpers$return_chan(state,value){var c=state[cljs.core.async.impl.ioc_helpers.USER_START_IDX];if(value==null);else cljs.core.async.impl.protocols.put_BANG_.call(null,c,value,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(c){return function(){return null}}(c)));cljs.core.async.impl.protocols.close_BANG_.call(null,c);return c};
cljs.core.async.impl.ioc_helpers.ExceptionFrame=function(catch_block,catch_exception,finally_block,continue_block,prev,__meta,__extmap,__hash){this.catch_block=catch_block;this.catch_exception=catch_exception;this.finally_block=finally_block;this.continue_block=continue_block;this.prev=prev;this.__meta=__meta;this.__extmap=__extmap;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=2229667594;this.cljs$lang$protocol_mask$partition1$=8192};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$2=function(this__6770__auto__,k__6771__auto__){var self__=this;var this__6770__auto____$1=this;return cljs.core._lookup.call(null,this__6770__auto____$1,k__6771__auto__,null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$3=function(this__6772__auto__,k12479,else__6773__auto__){var self__=this;var this__6772__auto____$1=this;var G__12481=k12479 instanceof cljs.core.Keyword?k12479.fqn:null;switch(G__12481){case "catch-block":return self__.catch_block;break;case "catch-exception":return self__.catch_exception;break;case "finally-block":return self__.finally_block;break;case "continue-block":return self__.continue_block;break;case "prev":return self__.prev;
break;default:return cljs.core.get.call(null,self__.__extmap,k12479,else__6773__auto__)}};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(this__6784__auto__,writer__6785__auto__,opts__6786__auto__){var self__=this;var this__6784__auto____$1=this;var pr_pair__6787__auto__=function(this__6784__auto____$1){return function(keyval__6788__auto__){return cljs.core.pr_sequential_writer.call(null,writer__6785__auto__,cljs.core.pr_writer,""," ","",opts__6786__auto__,keyval__6788__auto__)}}(this__6784__auto____$1);return cljs.core.pr_sequential_writer.call(null,
writer__6785__auto__,pr_pair__6787__auto__,"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",opts__6786__auto__,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),self__.catch_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"catch-exception","catch-exception",-1997306795),self__.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),self__.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),self__.continue_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"prev","prev",-1597069226),self__.prev],null)],null),self__.__extmap))};cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IIterable$=true;
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IIterable$_iterator$arity$1=function(G__12478){var self__=this;var G__12478__$1=this;return new cljs.core.RecordIter(0,G__12478__$1,5,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),new cljs.core.Keyword(null,"finally-block","finally-block",832982472),new cljs.core.Keyword(null,
"continue-block","continue-block",-1852047850),new cljs.core.Keyword(null,"prev","prev",-1597069226)],null),cljs.core._iterator.call(null,self__.__extmap))};cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMeta$_meta$arity$1=function(this__6768__auto__){var self__=this;var this__6768__auto____$1=this;return self__.__meta};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICloneable$_clone$arity$1=function(this__6764__auto__){var self__=this;var this__6764__auto____$1=this;return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,self__.__hash)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICounted$_count$arity$1=function(this__6774__auto__){var self__=this;var this__6774__auto____$1=this;return 5+cljs.core.count.call(null,self__.__extmap)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IHash$_hash$arity$1=function(this__6765__auto__){var self__=this;var this__6765__auto____$1=this;var h__6591__auto__=self__.__hash;if(!(h__6591__auto__==null))return h__6591__auto__;else{var h__6591__auto____$1=cljs.core.hash_imap.call(null,this__6765__auto____$1);self__.__hash=h__6591__auto____$1;return h__6591__auto____$1}};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IEquiv$_equiv$arity$2=function(this__6766__auto__,other__6767__auto__){var self__=this;var this__6766__auto____$1=this;if(cljs.core.truth_(function(){var and__6144__auto__=other__6767__auto__;if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=this__6766__auto____$1.constructor===other__6767__auto__.constructor;if(and__6144__auto____$1)return cljs.core.equiv_map.call(null,this__6766__auto____$1,other__6767__auto__);
else return and__6144__auto____$1}else return and__6144__auto__}()))return true;else return false};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMap$_dissoc$arity$2=function(this__6779__auto__,k__6780__auto__){var self__=this;var this__6779__auto____$1=this;if(cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),null,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),null,new cljs.core.Keyword(null,"catch-exception","catch-exception",
-1997306795),null,new cljs.core.Keyword(null,"prev","prev",-1597069226),null,new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),null],null),null),k__6780__auto__))return cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this__6779__auto____$1),self__.__meta),k__6780__auto__);else return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,
self__.prev,self__.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,self__.__extmap,k__6780__auto__)),null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IAssociative$_assoc$arity$3=function(this__6777__auto__,k__6778__auto__,G__12478){var self__=this;var this__6777__auto____$1=this;var pred__12482=cljs.core.keyword_identical_QMARK_;var expr__12483=k__6778__auto__;if(cljs.core.truth_(pred__12482.call(null,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),expr__12483)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(G__12478,self__.catch_exception,self__.finally_block,
self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__12482.call(null,new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),expr__12483)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,G__12478,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__12482.call(null,new cljs.core.Keyword(null,"finally-block","finally-block",832982472),
expr__12483)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,G__12478,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__12482.call(null,new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),expr__12483)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,G__12478,self__.prev,self__.__meta,self__.__extmap,
null);else if(cljs.core.truth_(pred__12482.call(null,new cljs.core.Keyword(null,"prev","prev",-1597069226),expr__12483)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,G__12478,self__.__meta,self__.__extmap,null);else return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,cljs.core.assoc.call(null,
self__.__extmap,k__6778__auto__,G__12478),null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ISeqable$_seq$arity$1=function(this__6782__auto__){var self__=this;var this__6782__auto____$1=this;return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),self__.catch_block],null),new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),self__.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),self__.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),self__.continue_block],
null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"prev","prev",-1597069226),self__.prev],null)],null),self__.__extmap))};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(this__6769__auto__,G__12478){var self__=this;var this__6769__auto____$1=this;return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,G__12478,self__.__extmap,self__.__hash)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICollection$_conj$arity$2=function(this__6775__auto__,entry__6776__auto__){var self__=this;var this__6775__auto____$1=this;if(cljs.core.vector_QMARK_.call(null,entry__6776__auto__))return cljs.core._assoc.call(null,this__6775__auto____$1,cljs.core._nth.call(null,entry__6776__auto__,0),cljs.core._nth.call(null,entry__6776__auto__,1));else return cljs.core.reduce.call(null,cljs.core._conj,this__6775__auto____$1,entry__6776__auto__)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"catch-block","catch-block",-1479223021,null),cljs.core.with_meta(new cljs.core.Symbol(null,"catch-exception","catch-exception",-356775268,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol(null,"Class","Class",2064526977,null)],null)),new cljs.core.Symbol(null,
"finally-block","finally-block",-1821453297,null),new cljs.core.Symbol(null,"continue-block","continue-block",-211516323,null),new cljs.core.Symbol(null,"prev","prev",43462301,null)],null)};cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$type=true;cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrSeq=function(this__6804__auto__){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrWriter=function(this__6804__auto__,writer__6805__auto__){return cljs.core._write.call(null,writer__6805__auto__,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")};
cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame=function cljs$core$async$impl$ioc_helpers$__GT_ExceptionFrame(catch_block,catch_exception,finally_block,continue_block,prev){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(catch_block,catch_exception,finally_block,continue_block,prev,null,null,null)};
cljs.core.async.impl.ioc_helpers.map__GT_ExceptionFrame=function cljs$core$async$impl$ioc_helpers$map__GT_ExceptionFrame(G__12480){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame((new cljs.core.Keyword(null,"catch-block","catch-block",1175212748)).cljs$core$IFn$_invoke$arity$1(G__12480),(new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795)).cljs$core$IFn$_invoke$arity$1(G__12480),(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(G__12480),
(new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850)).cljs$core$IFn$_invoke$arity$1(G__12480),(new cljs.core.Keyword(null,"prev","prev",-1597069226)).cljs$core$IFn$_invoke$arity$1(G__12480),null,cljs.core.dissoc.call(null,G__12480,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),new cljs.core.Keyword(null,"finally-block","finally-block",832982472),new cljs.core.Keyword(null,"continue-block",
"continue-block",-1852047850),new cljs.core.Keyword(null,"prev","prev",-1597069226)),null)};
cljs.core.async.impl.ioc_helpers.add_exception_frame=function cljs$core$async$impl$ioc_helpers$add_exception_frame(state,catch_block,catch_exception,finally_block,continue_block){var statearr_12487=state;statearr_12487[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame.call(null,catch_block,catch_exception,finally_block,continue_block,cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES));
return statearr_12487};
cljs.core.async.impl.ioc_helpers.process_exception=function cljs$core$async$impl$ioc_helpers$process_exception(state){while(true){var exception_frame=cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES);var catch_block=(new cljs.core.Keyword(null,"catch-block","catch-block",1175212748)).cljs$core$IFn$_invoke$arity$1(exception_frame);var catch_exception=(new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795)).cljs$core$IFn$_invoke$arity$1(exception_frame);
var exception=cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION);if(cljs.core.truth_(function(){var and__6144__auto__=exception;if(cljs.core.truth_(and__6144__auto__))return cljs.core.not.call(null,exception_frame);else return and__6144__auto__}()))throw exception;else if(cljs.core.truth_(function(){var and__6144__auto__=exception;if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=catch_block;if(cljs.core.truth_(and__6144__auto____$1))return cljs.core._EQ_.call(null,
new cljs.core.Keyword(null,"default","default",-1987822328),catch_exception)||exception instanceof catch_exception;else return and__6144__auto____$1}else return and__6144__auto__}())){var statearr_12493=state;statearr_12493[cljs.core.async.impl.ioc_helpers.STATE_IDX]=catch_block;statearr_12493[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=exception;statearr_12493[cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION]=null;statearr_12493[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,
exception_frame,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),null,new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),null);return statearr_12493}else if(cljs.core.truth_(function(){var and__6144__auto__=exception;if(cljs.core.truth_(and__6144__auto__))return cljs.core.not.call(null,catch_block)&&cljs.core.not.call(null,(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame));else return and__6144__auto__}())){var statearr_12494_12498=
state;statearr_12494_12498[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=(new cljs.core.Keyword(null,"prev","prev",-1597069226)).cljs$core$IFn$_invoke$arity$1(exception_frame);var G__12499=state;state=G__12499;continue}else if(cljs.core.truth_(function(){var and__6144__auto__=exception;if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=cljs.core.not.call(null,catch_block);if(and__6144__auto____$1)return(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame);
else return and__6144__auto____$1}else return and__6144__auto__}())){var statearr_12495=state;statearr_12495[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame);statearr_12495[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,exception_frame,new cljs.core.Keyword(null,"finally-block","finally-block",832982472),null);return statearr_12495}else if(cljs.core.truth_(function(){var and__6144__auto__=
cljs.core.not.call(null,exception);if(and__6144__auto__)return(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame);else return and__6144__auto__}())){var statearr_12496=state;statearr_12496[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame);statearr_12496[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,
exception_frame,new cljs.core.Keyword(null,"finally-block","finally-block",832982472),null);return statearr_12496}else if(cljs.core.not.call(null,exception)&&cljs.core.not.call(null,(new cljs.core.Keyword(null,"finally-block","finally-block",832982472)).cljs$core$IFn$_invoke$arity$1(exception_frame))){var statearr_12497=state;statearr_12497[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850)).cljs$core$IFn$_invoke$arity$1(exception_frame);
statearr_12497[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=(new cljs.core.Keyword(null,"prev","prev",-1597069226)).cljs$core$IFn$_invoke$arity$1(exception_frame);return statearr_12497}else throw new Error("No matching clause");break}};goog.provide("cljs.core.async.impl.timers");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.dispatch");cljs.core.async.impl.timers.MAX_LEVEL=15;cljs.core.async.impl.timers.P=1/2;
cljs.core.async.impl.timers.random_level=function cljs$core$async$impl$timers$random_level(var_args){var args12502=[];var len__7214__auto___12505=arguments.length;var i__7215__auto___12506=0;while(true){if(i__7215__auto___12506<len__7214__auto___12505){args12502.push(arguments[i__7215__auto___12506]);var G__12507=i__7215__auto___12506+1;i__7215__auto___12506=G__12507;continue}else;break}var G__12504=args12502.length;switch(G__12504){case 0:return cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$0();
break;case 1:return cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12502.length)].join(""));}};cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.async.impl.timers.random_level.call(null,0)};
cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$1=function(level){while(true){if(Math.random()<cljs.core.async.impl.timers.P&&level<cljs.core.async.impl.timers.MAX_LEVEL){var G__12509=level+1;level=G__12509;continue}else return level;break}};cljs.core.async.impl.timers.random_level.cljs$lang$maxFixedArity=1;
cljs.core.async.impl.timers.SkipListNode=function(key,val,forward){this.key=key;this.val=val;this.forward=forward;this.cljs$lang$protocol_mask$partition0$=2155872256;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,self__.val),self__.key)};
cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var self__=this;var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};
cljs.core.async.impl.timers.SkipListNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),cljs.core.with_meta(new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null)),new cljs.core.Symbol(null,"forward","forward",1083186224,null)],null)};
cljs.core.async.impl.timers.SkipListNode.cljs$lang$type=true;cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipListNode";cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.timers/SkipListNode")};
cljs.core.async.impl.timers.__GT_SkipListNode=function cljs$core$async$impl$timers$__GT_SkipListNode(key,val,forward){return new cljs.core.async.impl.timers.SkipListNode(key,val,forward)};
cljs.core.async.impl.timers.skip_list_node=function cljs$core$async$impl$timers$skip_list_node(var_args){var args12510=[];var len__7214__auto___12513=arguments.length;var i__7215__auto___12514=0;while(true){if(i__7215__auto___12514<len__7214__auto___12513){args12510.push(arguments[i__7215__auto___12514]);var G__12515=i__7215__auto___12514+1;i__7215__auto___12514=G__12515;continue}else;break}var G__12512=args12510.length;switch(G__12512){case 1:return cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 3:return cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12510.length)].join(""));}};cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$1=function(level){return cljs.core.async.impl.timers.skip_list_node.call(null,null,null,level)};
cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$3=function(k,v,level){var arr=new Array(level+1);var i_12517=0;while(true){if(i_12517<arr.length){arr[i_12517]=null;var G__12518=i_12517+1;i_12517=G__12518;continue}else;break}return new cljs.core.async.impl.timers.SkipListNode(k,v,arr)};cljs.core.async.impl.timers.skip_list_node.cljs$lang$maxFixedArity=3;
cljs.core.async.impl.timers.least_greater_node=function cljs$core$async$impl$timers$least_greater_node(var_args){var args12519=[];var len__7214__auto___12522=arguments.length;var i__7215__auto___12523=0;while(true){if(i__7215__auto___12523<len__7214__auto___12522){args12519.push(arguments[i__7215__auto___12523]);var G__12524=i__7215__auto___12523+1;i__7215__auto___12523=G__12524;continue}else;break}var G__12521=args12519.length;switch(G__12521){case 3:return cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 4:return cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12519.length)].join(""));}};cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$3=function(x,k,level){return cljs.core.async.impl.timers.least_greater_node.call(null,x,k,level,null)};
cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$4=function(x,k,level,update){while(true){if(!(level<0)){var x__$1=function(){var x__$1=x;while(true){var temp__4655__auto__=x__$1.forward[level];if(cljs.core.truth_(temp__4655__auto__)){var x_SINGLEQUOTE_=temp__4655__auto__;if(x_SINGLEQUOTE_.key<k){var G__12526=x_SINGLEQUOTE_;x__$1=G__12526;continue}else return x__$1}else return x__$1;break}}();if(update==null);else update[level]=x__$1;var G__12527=x__$1;var G__12528=k;var G__12529=
level-1;var G__12530=update;x=G__12527;k=G__12528;level=G__12529;update=G__12530;continue}else return x;break}};cljs.core.async.impl.timers.least_greater_node.cljs$lang$maxFixedArity=4;cljs.core.async.impl.timers.SkipList=function(header,level){this.header=header;this.level=level;this.cljs$lang$protocol_mask$partition0$=2155872256;this.cljs$lang$protocol_mask$partition1$=0};
cljs.core.async.impl.timers.SkipList.prototype.put=function(k,v){var self__=this;var coll=this;var update=new Array(cljs.core.async.impl.timers.MAX_LEVEL);var x=cljs.core.async.impl.timers.least_greater_node.call(null,self__.header,k,self__.level,update);var x__$1=x.forward[0];if(!(x__$1==null)&&x__$1.key===k)return x__$1.val=v;else{var new_level=cljs.core.async.impl.timers.random_level.call(null);if(new_level>self__.level){var i_12531=self__.level+1;while(true){if(i_12531<=new_level+1){update[i_12531]=
self__.header;var G__12532=i_12531+1;i_12531=G__12532;continue}else;break}self__.level=new_level}else;var x__$2=cljs.core.async.impl.timers.skip_list_node.call(null,k,v,new Array(new_level));var i=0;while(true){if(i<=self__.level){var links=update[i].forward;x__$2.forward[i]=links[i];return links[i]=x__$2}else return null;break}}};
cljs.core.async.impl.timers.SkipList.prototype.remove=function(k){var self__=this;var coll=this;var update=new Array(cljs.core.async.impl.timers.MAX_LEVEL);var x=cljs.core.async.impl.timers.least_greater_node.call(null,self__.header,k,self__.level,update);var x__$1=x.forward[0];if(!(x__$1==null)&&x__$1.key===k){var i_12533=0;while(true){if(i_12533<=self__.level){var links_12534=update[i_12533].forward;if(links_12534[i_12533]===x__$1){links_12534[i_12533]=x__$1.forward[i_12533];var G__12535=i_12533+
1;i_12533=G__12535;continue}else{var G__12536=i_12533+1;i_12533=G__12536;continue}}else;break}while(true){if(self__.level>0&&self__.header.forward[self__.level]==null){self__.level=self__.level-1;continue}else return null;break}}else return null};
cljs.core.async.impl.timers.SkipList.prototype.ceilingEntry=function(k){var self__=this;var coll=this;var x=self__.header;var level__$1=self__.level;while(true){if(!(level__$1<0)){var nx=function(){var x__$1=x;while(true){var x_SINGLEQUOTE_=x__$1.forward[level__$1];if(x_SINGLEQUOTE_==null)return null;else if(x_SINGLEQUOTE_.key>=k)return x_SINGLEQUOTE_;else{var G__12537=x_SINGLEQUOTE_;x__$1=G__12537;continue}break}}();if(!(nx==null)){var G__12538=nx;var G__12539=level__$1-1;x=G__12538;level__$1=G__12539;
continue}else{var G__12540=x;var G__12541=level__$1-1;x=G__12540;level__$1=G__12541;continue}}else if(x===self__.header)return null;else return x;break}};
cljs.core.async.impl.timers.SkipList.prototype.floorEntry=function(k){var self__=this;var coll=this;var x=self__.header;var level__$1=self__.level;while(true){if(!(level__$1<0)){var nx=function(){var x__$1=x;while(true){var x_SINGLEQUOTE_=x__$1.forward[level__$1];if(!(x_SINGLEQUOTE_==null))if(x_SINGLEQUOTE_.key>k)return x__$1;else{var G__12542=x_SINGLEQUOTE_;x__$1=G__12542;continue}else if(level__$1===0)return x__$1;else return null;break}}();if(cljs.core.truth_(nx)){var G__12543=nx;var G__12544=
level__$1-1;x=G__12543;level__$1=G__12544;continue}else{var G__12545=x;var G__12546=level__$1-1;x=G__12545;level__$1=G__12546;continue}}else if(x===self__.header)return null;else return x;break}};
cljs.core.async.impl.timers.SkipList.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var iter=function(coll__$1){return function cljs$core$async$impl$timers$iter(node){return new cljs.core.LazySeq(null,function(coll__$1){return function(){if(node==null)return null;else return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[node.key,node.val],null),cljs$core$async$impl$timers$iter.call(null,node.forward[0]))}}(coll__$1),
null,null)}}(coll__$1);return iter.call(null,self__.header.forward[0])};cljs.core.async.impl.timers.SkipList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var self__=this;var coll__$1=this;var pr_pair=function(coll__$1){return function(keyval){return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,""," ","",opts,keyval)}}(coll__$1);return cljs.core.pr_sequential_writer.call(null,writer,pr_pair,"{",", ","}",opts,coll__$1)};
cljs.core.async.impl.timers.SkipList.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"header","header",1759972661,null),cljs.core.with_meta(new cljs.core.Symbol(null,"level","level",-1363938217,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"mutable","mutable",875778266),true],null))],null)};cljs.core.async.impl.timers.SkipList.cljs$lang$type=true;
cljs.core.async.impl.timers.SkipList.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipList";cljs.core.async.impl.timers.SkipList.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async.impl.timers/SkipList")};cljs.core.async.impl.timers.__GT_SkipList=function cljs$core$async$impl$timers$__GT_SkipList(header,level){return new cljs.core.async.impl.timers.SkipList(header,level)};
cljs.core.async.impl.timers.skip_list=function cljs$core$async$impl$timers$skip_list(){return new cljs.core.async.impl.timers.SkipList(cljs.core.async.impl.timers.skip_list_node.call(null,0),0)};cljs.core.async.impl.timers.timeouts_map=cljs.core.async.impl.timers.skip_list.call(null);cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS=10;
cljs.core.async.impl.timers.timeout=function cljs$core$async$impl$timers$timeout(msecs){var timeout__$1=(new Date).valueOf()+msecs;var me=cljs.core.async.impl.timers.timeouts_map.ceilingEntry(timeout__$1);var or__6156__auto__=cljs.core.truth_(function(){var and__6144__auto__=me;if(cljs.core.truth_(and__6144__auto__))return me.key<timeout__$1+cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS;else return and__6144__auto__}())?me.val:null;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;
else{var timeout_channel=cljs.core.async.impl.channels.chan.call(null,null);cljs.core.async.impl.timers.timeouts_map.put(timeout__$1,timeout_channel);cljs.core.async.impl.dispatch.queue_delay.call(null,function(timeout_channel,or__6156__auto__,timeout__$1,me){return function(){cljs.core.async.impl.timers.timeouts_map.remove(timeout__$1);return cljs.core.async.impl.protocols.close_BANG_.call(null,timeout_channel)}}(timeout_channel,or__6156__auto__,timeout__$1,me),msecs);return timeout_channel}};goog.provide("cljs.core.async");goog.require("cljs.core");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.ioc_helpers");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.timers");
cljs.core.async.fn_handler=function cljs$core$async$fn_handler(var_args){var args12602=[];var len__7214__auto___12608=arguments.length;var i__7215__auto___12609=0;while(true){if(i__7215__auto___12609<len__7214__auto___12608){args12602.push(arguments[i__7215__auto___12609]);var G__12610=i__7215__auto___12609+1;i__7215__auto___12609=G__12610;continue}else;break}var G__12604=args12602.length;switch(G__12604){case 1:return cljs.core.async.fn_handler.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.async.fn_handler.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12602.length)].join(""));}};cljs.core.async.fn_handler.cljs$core$IFn$_invoke$arity$1=function(f){return cljs.core.async.fn_handler.call(null,f,true)};
cljs.core.async.fn_handler.cljs$core$IFn$_invoke$arity$2=function(f,blockable){if(typeof cljs.core.async.t_cljs$core$async12605!=="undefined");else{cljs.core.async.t_cljs$core$async12605=function(f,blockable,meta12606){this.f=f;this.blockable=blockable;this.meta12606=meta12606;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_12607,meta12606__$1){var self__=this;
var _12607__$1=this;return new cljs.core.async.t_cljs$core$async12605(self__.f,self__.blockable,meta12606__$1)};cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$IMeta$_meta$arity$1=function(_12607){var self__=this;var _12607__$1=this;return self__.meta12606};cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=this;
var ___$1=this;return true};cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return self__.blockable};cljs.core.async.t_cljs$core$async12605.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(_){var self__=this;var ___$1=this;return self__.f};cljs.core.async.t_cljs$core$async12605.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"blockable","blockable",-28395259,null),new cljs.core.Symbol(null,"meta12606","meta12606",-1370667569,null)],null)};cljs.core.async.t_cljs$core$async12605.cljs$lang$type=true;cljs.core.async.t_cljs$core$async12605.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async12605";cljs.core.async.t_cljs$core$async12605.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,
writer__6755__auto__,"cljs.core.async/t_cljs$core$async12605")};cljs.core.async.__GT_t_cljs$core$async12605=function cljs$core$async$__GT_t_cljs$core$async12605(f__$1,blockable__$1,meta12606){return new cljs.core.async.t_cljs$core$async12605(f__$1,blockable__$1,meta12606)}}return new cljs.core.async.t_cljs$core$async12605(f,blockable,cljs.core.PersistentArrayMap.EMPTY)};cljs.core.async.fn_handler.cljs$lang$maxFixedArity=2;
cljs.core.async.buffer=function cljs$core$async$buffer(n){return cljs.core.async.impl.buffers.fixed_buffer.call(null,n)};cljs.core.async.dropping_buffer=function cljs$core$async$dropping_buffer(n){return cljs.core.async.impl.buffers.dropping_buffer.call(null,n)};cljs.core.async.sliding_buffer=function cljs$core$async$sliding_buffer(n){return cljs.core.async.impl.buffers.sliding_buffer.call(null,n)};
cljs.core.async.unblocking_buffer_QMARK_=function cljs$core$async$unblocking_buffer_QMARK_(buff){if(!(buff==null))if(false||buff.cljs$core$async$impl$protocols$UnblockingBuffer$)return true;else if(!buff.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,buff);else return false;else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,buff)};
cljs.core.async.chan=function cljs$core$async$chan(var_args){var args12614=[];var len__7214__auto___12617=arguments.length;var i__7215__auto___12618=0;while(true){if(i__7215__auto___12618<len__7214__auto___12617){args12614.push(arguments[i__7215__auto___12618]);var G__12619=i__7215__auto___12618+1;i__7215__auto___12618=G__12619;continue}else;break}var G__12616=args12614.length;switch(G__12616){case 0:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12614.length)].join(""));}};cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.async.chan.call(null,null)};
cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1=function(buf_or_n){return cljs.core.async.chan.call(null,buf_or_n,null,null)};cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2=function(buf_or_n,xform){return cljs.core.async.chan.call(null,buf_or_n,xform,null)};
cljs.core.async.chan.cljs$core$IFn$_invoke$arity$3=function(buf_or_n,xform,ex_handler){var buf_or_n__$1=cljs.core._EQ_.call(null,buf_or_n,0)?null:buf_or_n;if(cljs.core.truth_(xform))if(cljs.core.truth_(buf_or_n__$1));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("buffer must be supplied when transducer is"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Symbol(null,"buf-or-n","buf-or-n",-1646815050,null)))].join(""));else;return cljs.core.async.impl.channels.chan.call(null,
typeof buf_or_n__$1==="number"?cljs.core.async.buffer.call(null,buf_or_n__$1):buf_or_n__$1,xform,ex_handler)};cljs.core.async.chan.cljs$lang$maxFixedArity=3;
cljs.core.async.promise_chan=function cljs$core$async$promise_chan(var_args){var args12621=[];var len__7214__auto___12624=arguments.length;var i__7215__auto___12625=0;while(true){if(i__7215__auto___12625<len__7214__auto___12624){args12621.push(arguments[i__7215__auto___12625]);var G__12626=i__7215__auto___12625+1;i__7215__auto___12625=G__12626;continue}else;break}var G__12623=args12621.length;switch(G__12623){case 0:return cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$0();break;case 1:return cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12621.length)].join(""));}};cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.async.promise_chan.call(null,null)};cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$1=function(xform){return cljs.core.async.promise_chan.call(null,xform,null)};
cljs.core.async.promise_chan.cljs$core$IFn$_invoke$arity$2=function(xform,ex_handler){return cljs.core.async.chan.call(null,cljs.core.async.impl.buffers.promise_buffer.call(null),xform,ex_handler)};cljs.core.async.promise_chan.cljs$lang$maxFixedArity=2;cljs.core.async.timeout=function cljs$core$async$timeout(msecs){return cljs.core.async.impl.timers.timeout.call(null,msecs)};cljs.core.async._LT__BANG_=function cljs$core$async$_LT__BANG_(port){throw new Error("\x3c! used not in (go ...) block");};
cljs.core.async.take_BANG_=function cljs$core$async$take_BANG_(var_args){var args12628=[];var len__7214__auto___12631=arguments.length;var i__7215__auto___12632=0;while(true){if(i__7215__auto___12632<len__7214__auto___12631){args12628.push(arguments[i__7215__auto___12632]);var G__12633=i__7215__auto___12632+1;i__7215__auto___12632=G__12633;continue}else;break}var G__12630=args12628.length;switch(G__12630){case 2:return cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12628.length)].join(""));}};cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$2=function(port,fn1){return cljs.core.async.take_BANG_.call(null,port,fn1,true)};
cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$3=function(port,fn1,on_caller_QMARK_){var ret=cljs.core.async.impl.protocols.take_BANG_.call(null,port,cljs.core.async.fn_handler.call(null,fn1));if(cljs.core.truth_(ret)){var val_12635=cljs.core.deref.call(null,ret);if(cljs.core.truth_(on_caller_QMARK_))fn1.call(null,val_12635);else cljs.core.async.impl.dispatch.run.call(null,function(val_12635,ret){return function(){return fn1.call(null,val_12635)}}(val_12635,ret))}else;return null};
cljs.core.async.take_BANG_.cljs$lang$maxFixedArity=3;cljs.core.async.nop=function cljs$core$async$nop(_){return null};cljs.core.async.fhnop=cljs.core.async.fn_handler.call(null,cljs.core.async.nop);cljs.core.async._GT__BANG_=function cljs$core$async$_GT__BANG_(port,val){throw new Error("\x3e! used not in (go ...) block");};
cljs.core.async.put_BANG_=function cljs$core$async$put_BANG_(var_args){var args12636=[];var len__7214__auto___12639=arguments.length;var i__7215__auto___12640=0;while(true){if(i__7215__auto___12640<len__7214__auto___12639){args12636.push(arguments[i__7215__auto___12640]);var G__12641=i__7215__auto___12640+1;i__7215__auto___12640=G__12641;continue}else;break}var G__12638=args12636.length;switch(G__12638){case 2:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;case 4:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12636.length)].join(""));}};
cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2=function(port,val){var temp__4655__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,port,val,cljs.core.async.fhnop);if(cljs.core.truth_(temp__4655__auto__)){var ret=temp__4655__auto__;return cljs.core.deref.call(null,ret)}else return true};cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$3=function(port,val,fn1){return cljs.core.async.put_BANG_.call(null,port,val,fn1,true)};
cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$4=function(port,val,fn1,on_caller_QMARK_){var temp__4655__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,port,val,cljs.core.async.fn_handler.call(null,fn1));if(cljs.core.truth_(temp__4655__auto__)){var retb=temp__4655__auto__;var ret=cljs.core.deref.call(null,retb);if(cljs.core.truth_(on_caller_QMARK_))fn1.call(null,ret);else cljs.core.async.impl.dispatch.run.call(null,function(ret,retb,temp__4655__auto__){return function(){return fn1.call(null,
ret)}}(ret,retb,temp__4655__auto__));return ret}else return true};cljs.core.async.put_BANG_.cljs$lang$maxFixedArity=4;cljs.core.async.close_BANG_=function cljs$core$async$close_BANG_(port){return cljs.core.async.impl.protocols.close_BANG_.call(null,port)};
cljs.core.async.random_array=function cljs$core$async$random_array(n){var a=new Array(n);var n__7059__auto___12643=n;var x_12644=0;while(true){if(x_12644<n__7059__auto___12643){a[x_12644]=0;var G__12645=x_12644+1;x_12644=G__12645;continue}else;break}var i=1;while(true){if(cljs.core._EQ_.call(null,i,n))return a;else{var j=cljs.core.rand_int.call(null,i);a[i]=a[j];a[j]=i;var G__12646=i+1;i=G__12646;continue}break}};
cljs.core.async.alt_flag=function cljs$core$async$alt_flag(){var flag=cljs.core.atom.call(null,true);if(typeof cljs.core.async.t_cljs$core$async12650!=="undefined");else{cljs.core.async.t_cljs$core$async12650=function(alt_flag,flag,meta12651){this.alt_flag=alt_flag;this.flag=flag;this.meta12651=meta12651;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(flag){return function(_12652,
meta12651__$1){var self__=this;var _12652__$1=this;return new cljs.core.async.t_cljs$core$async12650(self__.alt_flag,self__.flag,meta12651__$1)}}(flag);cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$IMeta$_meta$arity$1=function(flag){return function(_12652){var self__=this;var _12652__$1=this;return self__.meta12651}}(flag);cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=
function(flag){return function(_){var self__=this;var ___$1=this;return cljs.core.deref.call(null,self__.flag)}}(flag);cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1=function(flag){return function(_){var self__=this;var ___$1=this;return true}}(flag);cljs.core.async.t_cljs$core$async12650.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(flag){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,
self__.flag,null);return true}}(flag);cljs.core.async.t_cljs$core$async12650.getBasis=function(flag){return function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"alt-flag","alt-flag",-1794972754,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"private","private",-558947994),true,new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote",
"quote",1377916282,null),cljs.core.list(cljs.core.PersistentVector.EMPTY))],null)),new cljs.core.Symbol(null,"flag","flag",-1565787888,null),new cljs.core.Symbol(null,"meta12651","meta12651",23786523,null)],null)}}(flag);cljs.core.async.t_cljs$core$async12650.cljs$lang$type=true;cljs.core.async.t_cljs$core$async12650.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async12650";cljs.core.async.t_cljs$core$async12650.cljs$lang$ctorPrWriter=function(flag){return function(this__6754__auto__,writer__6755__auto__,
opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async12650")}}(flag);cljs.core.async.__GT_t_cljs$core$async12650=function(flag){return function cljs$core$async$alt_flag_$___GT_t_cljs$core$async12650(alt_flag__$1,flag__$1,meta12651){return new cljs.core.async.t_cljs$core$async12650(alt_flag__$1,flag__$1,meta12651)}}(flag)}return new cljs.core.async.t_cljs$core$async12650(cljs$core$async$alt_flag,flag,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.async.alt_handler=function cljs$core$async$alt_handler(flag,cb){if(typeof cljs.core.async.t_cljs$core$async12656!=="undefined");else{cljs.core.async.t_cljs$core$async12656=function(alt_handler,flag,cb,meta12657){this.alt_handler=alt_handler;this.flag=flag;this.cb=cb;this.meta12657=meta12657;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_12658,meta12657__$1){var self__=
this;var _12658__$1=this;return new cljs.core.async.t_cljs$core$async12656(self__.alt_handler,self__.flag,self__.cb,meta12657__$1)};cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$IMeta$_meta$arity$1=function(_12658){var self__=this;var _12658__$1=this;return self__.meta12657};cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=
this;var ___$1=this;return cljs.core.async.impl.protocols.active_QMARK_.call(null,self__.flag)};cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return true};cljs.core.async.t_cljs$core$async12656.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(_){var self__=this;var ___$1=this;cljs.core.async.impl.protocols.commit.call(null,self__.flag);return self__.cb};cljs.core.async.t_cljs$core$async12656.getBasis=
function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"alt-handler","alt-handler",963786170,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"private","private",-558947994),true,new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Symbol(null,"flag","flag",-1565787888,null),new cljs.core.Symbol(null,"cb","cb",-2064487928,null)],null)))],null)),new cljs.core.Symbol(null,"flag","flag",-1565787888,null),new cljs.core.Symbol(null,"cb","cb",-2064487928,null),new cljs.core.Symbol(null,"meta12657","meta12657",-1453389725,null)],null)};cljs.core.async.t_cljs$core$async12656.cljs$lang$type=true;cljs.core.async.t_cljs$core$async12656.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async12656";cljs.core.async.t_cljs$core$async12656.cljs$lang$ctorPrWriter=
function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async12656")};cljs.core.async.__GT_t_cljs$core$async12656=function cljs$core$async$alt_handler_$___GT_t_cljs$core$async12656(alt_handler__$1,flag__$1,cb__$1,meta12657){return new cljs.core.async.t_cljs$core$async12656(alt_handler__$1,flag__$1,cb__$1,meta12657)}}return new cljs.core.async.t_cljs$core$async12656(cljs$core$async$alt_handler,flag,cb,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.async.do_alts=function cljs$core$async$do_alts(fret,ports,opts){var flag=cljs.core.async.alt_flag.call(null);var n=cljs.core.count.call(null,ports);var idxs=cljs.core.async.random_array.call(null,n);var priority=(new cljs.core.Keyword(null,"priority","priority",1431093715)).cljs$core$IFn$_invoke$arity$1(opts);var ret=function(){var i=0;while(true){if(i<n){var idx=cljs.core.truth_(priority)?i:idxs[i];var port=cljs.core.nth.call(null,ports,idx);var wport=cljs.core.vector_QMARK_.call(null,
port)?port.call(null,0):null;var vbox=cljs.core.truth_(wport)?function(){var val=port.call(null,1);return cljs.core.async.impl.protocols.put_BANG_.call(null,wport,val,cljs.core.async.alt_handler.call(null,flag,function(i,val,idx,port,wport,flag,n,idxs,priority){return function(p1__12659_SHARP_){return fret.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__12659_SHARP_,wport],null))}}(i,val,idx,port,wport,flag,n,idxs,priority)))}():cljs.core.async.impl.protocols.take_BANG_.call(null,
port,cljs.core.async.alt_handler.call(null,flag,function(i,idx,port,wport,flag,n,idxs,priority){return function(p1__12660_SHARP_){return fret.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__12660_SHARP_,port],null))}}(i,idx,port,wport,flag,n,idxs,priority)));if(cljs.core.truth_(vbox))return cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.deref.call(null,vbox),function(){var or__6156__auto__=
wport;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return port}()],null));else{var G__12661=i+1;i=G__12661;continue}}else return null;break}}();var or__6156__auto__=ret;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else if(cljs.core.contains_QMARK_.call(null,opts,new cljs.core.Keyword(null,"default","default",-1987822328))){var temp__4657__auto__=function(){var and__6144__auto__=cljs.core.async.impl.protocols.active_QMARK_.call(null,flag);if(cljs.core.truth_(and__6144__auto__))return cljs.core.async.impl.protocols.commit.call(null,
flag);else return and__6144__auto__}();if(cljs.core.truth_(temp__4657__auto__)){var got=temp__4657__auto__;return cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[(new cljs.core.Keyword(null,"default","default",-1987822328)).cljs$core$IFn$_invoke$arity$1(opts),new cljs.core.Keyword(null,"default","default",-1987822328)],null))}else return null}else return null};
cljs.core.async.alts_BANG_=function cljs$core$async$alts_BANG_(var_args){var args__7221__auto__=[];var len__7214__auto___12667=arguments.length;var i__7215__auto___12668=0;while(true){if(i__7215__auto___12668<len__7214__auto___12667){args__7221__auto__.push(arguments[i__7215__auto___12668]);var G__12669=i__7215__auto___12668+1;i__7215__auto___12668=G__12669;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):null;return cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],
argseq__7222__auto__)};cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(ports,p__12664){var map__12665=p__12664;var map__12665__$1=(!(map__12665==null)?map__12665.cljs$lang$protocol_mask$partition0$&64||map__12665.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__12665):map__12665;var opts=map__12665__$1;throw new Error("alts! used not in (go ...) block");};cljs.core.async.alts_BANG_.cljs$lang$maxFixedArity=1;
cljs.core.async.alts_BANG_.cljs$lang$applyTo=function(seq12662){var G__12663=cljs.core.first.call(null,seq12662);var seq12662__$1=cljs.core.next.call(null,seq12662);return cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__12663,seq12662__$1)};
cljs.core.async.offer_BANG_=function cljs$core$async$offer_BANG_(port,val){var ret=cljs.core.async.impl.protocols.put_BANG_.call(null,port,val,cljs.core.async.fn_handler.call(null,cljs.core.async.nop,false));if(cljs.core.truth_(ret))return cljs.core.deref.call(null,ret);else return null};
cljs.core.async.poll_BANG_=function cljs$core$async$poll_BANG_(port){var ret=cljs.core.async.impl.protocols.take_BANG_.call(null,port,cljs.core.async.fn_handler.call(null,cljs.core.async.nop,false));if(cljs.core.truth_(ret))return cljs.core.deref.call(null,ret);else return null};
cljs.core.async.pipe=function cljs$core$async$pipe(var_args){var args12670=[];var len__7214__auto___12720=arguments.length;var i__7215__auto___12721=0;while(true){if(i__7215__auto___12721<len__7214__auto___12720){args12670.push(arguments[i__7215__auto___12721]);var G__12722=i__7215__auto___12721+1;i__7215__auto___12721=G__12722;continue}else;break}var G__12672=args12670.length;switch(G__12672){case 2:return cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args12670.length)].join(""));}};cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$2=function(from,to){return cljs.core.async.pipe.call(null,from,to,true)};
cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$3=function(from,to,close_QMARK_){var c__12557__auto___12724=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___12724){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___12724){return function(state_12696){var state_val_12697=state_12696[1];if(state_val_12697===7){var inst_12692=state_12696[2];var state_12696__$1=state_12696;var statearr_12698_12725=
state_12696__$1;statearr_12698_12725[2]=inst_12692;statearr_12698_12725[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===1){var state_12696__$1=state_12696;var statearr_12699_12726=state_12696__$1;statearr_12699_12726[2]=null;statearr_12699_12726[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===4){var inst_12675=state_12696[7];var inst_12675__$1=state_12696[2];var inst_12676=inst_12675__$1==null;var state_12696__$1=
function(){var statearr_12700=state_12696;statearr_12700[7]=inst_12675__$1;return statearr_12700}();if(cljs.core.truth_(inst_12676)){var statearr_12701_12727=state_12696__$1;statearr_12701_12727[1]=5}else{var statearr_12702_12728=state_12696__$1;statearr_12702_12728[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===13){var state_12696__$1=state_12696;var statearr_12703_12729=state_12696__$1;statearr_12703_12729[2]=null;statearr_12703_12729[1]=14;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_12697===6){var inst_12675=state_12696[7];var state_12696__$1=state_12696;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_12696__$1,11,to,inst_12675)}else if(state_val_12697===3){var inst_12694=state_12696[2];var state_12696__$1=state_12696;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_12696__$1,inst_12694)}else if(state_val_12697===12){var state_12696__$1=state_12696;var statearr_12704_12730=state_12696__$1;statearr_12704_12730[2]=
null;statearr_12704_12730[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===2){var state_12696__$1=state_12696;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_12696__$1,4,from)}else if(state_val_12697===11){var inst_12685=state_12696[2];var state_12696__$1=state_12696;if(cljs.core.truth_(inst_12685)){var statearr_12705_12731=state_12696__$1;statearr_12705_12731[1]=12}else{var statearr_12706_12732=state_12696__$1;statearr_12706_12732[1]=
13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===9){var state_12696__$1=state_12696;var statearr_12707_12733=state_12696__$1;statearr_12707_12733[2]=null;statearr_12707_12733[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===5){var state_12696__$1=state_12696;if(cljs.core.truth_(close_QMARK_)){var statearr_12708_12734=state_12696__$1;statearr_12708_12734[1]=8}else{var statearr_12709_12735=state_12696__$1;statearr_12709_12735[1]=
9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===14){var inst_12690=state_12696[2];var state_12696__$1=state_12696;var statearr_12710_12736=state_12696__$1;statearr_12710_12736[2]=inst_12690;statearr_12710_12736[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===10){var inst_12682=state_12696[2];var state_12696__$1=state_12696;var statearr_12711_12737=state_12696__$1;statearr_12711_12737[2]=inst_12682;statearr_12711_12737[1]=
7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12697===8){var inst_12679=cljs.core.async.close_BANG_.call(null,to);var state_12696__$1=state_12696;var statearr_12712_12738=state_12696__$1;statearr_12712_12738[2]=inst_12679;statearr_12712_12738[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___12724);return function(switch__12445__auto__,c__12557__auto___12724){return function(){var cljs$core$async$state_machine__12446__auto__=
null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_12716=[null,null,null,null,null,null,null,null];statearr_12716[0]=cljs$core$async$state_machine__12446__auto__;statearr_12716[1]=1;return statearr_12716};var cljs$core$async$state_machine__12446__auto____1=function(state_12696){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_12696);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e12717){if(e12717 instanceof Object){var ex__12449__auto__=e12717;var statearr_12718_12739=state_12696;statearr_12718_12739[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_12696);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e12717;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268))){var G__12740=state_12696;state_12696=G__12740;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_12696){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_12696)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___12724)}();var state__12559__auto__=function(){var statearr_12719=f__12558__auto__.call(null);statearr_12719[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___12724;return statearr_12719}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___12724));return to};cljs.core.async.pipe.cljs$lang$maxFixedArity=3;
cljs.core.async.pipeline_STAR_=function cljs$core$async$pipeline_STAR_(n,to,xf,from,close_QMARK_,ex_handler,type){if(n>0);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"pos?","pos?",-244377722,null),new cljs.core.Symbol(null,"n","n",-2092305744,null))))].join(""));var jobs=cljs.core.async.chan.call(null,n);var results=cljs.core.async.chan.call(null,n);var process=function(jobs,results){return function(p__12924){var vec__12925=
p__12924;var v=cljs.core.nth.call(null,vec__12925,0,null);var p=cljs.core.nth.call(null,vec__12925,1,null);var job=vec__12925;if(job==null){cljs.core.async.close_BANG_.call(null,results);return null}else{var res=cljs.core.async.chan.call(null,1,xf,ex_handler);var c__12557__auto___13107=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results){return function(){var f__12558__auto__=function(){var switch__12445__auto__=
function(c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results){return function(state_12930){var state_val_12931=state_12930[1];if(state_val_12931===1){var state_12930__$1=state_12930;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_12930__$1,2,res,v)}else if(state_val_12931===2){var inst_12927=state_12930[2];var inst_12928=cljs.core.async.close_BANG_.call(null,res);var state_12930__$1=function(){var statearr_12932=state_12930;statearr_12932[7]=inst_12927;return statearr_12932}();
return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_12930__$1,inst_12928)}else return null}}(c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results);return function(switch__12445__auto__,c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results){return function(){var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=null;var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0=function(){var statearr_12936=[null,null,null,null,null,null,null,null];statearr_12936[0]=
cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__;statearr_12936[1]=1;return statearr_12936};var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1=function(state_12930){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_12930);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;
break}}catch(e12937){if(e12937 instanceof Object){var ex__12449__auto__=e12937;var statearr_12938_13108=state_12930;statearr_12938_13108[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_12930);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e12937;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13109=state_12930;state_12930=G__13109;continue}else return ret_value__12447__auto__;
break}};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=function(state_12930){switch(arguments.length){case 0:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1.call(this,state_12930)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0;
cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1;return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results)}();var state__12559__auto__=function(){var statearr_12939=f__12558__auto__.call(null);statearr_12939[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13107;return statearr_12939}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___13107,res,vec__12925,v,p,job,jobs,results));cljs.core.async.put_BANG_.call(null,p,res);return true}}}(jobs,results);var async=function(jobs,results,process){return function(p__12940){var vec__12941=p__12940;var v=cljs.core.nth.call(null,vec__12941,0,null);var p=cljs.core.nth.call(null,vec__12941,1,null);var job=vec__12941;if(job==null){cljs.core.async.close_BANG_.call(null,results);
return null}else{var res=cljs.core.async.chan.call(null,1);xf.call(null,v,res);cljs.core.async.put_BANG_.call(null,p,res);return true}}}(jobs,results,process);var n__7059__auto___13110=n;var __13111=0;while(true){if(__13111<n__7059__auto___13110){var G__12942_13112=type instanceof cljs.core.Keyword?type.fqn:null;switch(G__12942_13112){case "compute":var c__12557__auto___13114=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(__13111,c__12557__auto___13114,G__12942_13112,
n__7059__auto___13110,jobs,results,process,async){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(__13111,c__12557__auto___13114,G__12942_13112,n__7059__auto___13110,jobs,results,process,async){return function(state_12955){var state_val_12956=state_12955[1];if(state_val_12956===1){var state_12955__$1=state_12955;var statearr_12957_13115=state_12955__$1;statearr_12957_13115[2]=null;statearr_12957_13115[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12956===
2){var state_12955__$1=state_12955;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_12955__$1,4,jobs)}else if(state_val_12956===3){var inst_12953=state_12955[2];var state_12955__$1=state_12955;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_12955__$1,inst_12953)}else if(state_val_12956===4){var inst_12945=state_12955[2];var inst_12946=process.call(null,inst_12945);var state_12955__$1=state_12955;if(cljs.core.truth_(inst_12946)){var statearr_12958_13116=state_12955__$1;
statearr_12958_13116[1]=5}else{var statearr_12959_13117=state_12955__$1;statearr_12959_13117[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12956===5){var state_12955__$1=state_12955;var statearr_12960_13118=state_12955__$1;statearr_12960_13118[2]=null;statearr_12960_13118[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12956===6){var state_12955__$1=state_12955;var statearr_12961_13119=state_12955__$1;statearr_12961_13119[2]=
null;statearr_12961_13119[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12956===7){var inst_12951=state_12955[2];var state_12955__$1=state_12955;var statearr_12962_13120=state_12955__$1;statearr_12962_13120[2]=inst_12951;statearr_12962_13120[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(__13111,c__12557__auto___13114,G__12942_13112,n__7059__auto___13110,jobs,results,process,async);return function(__13111,switch__12445__auto__,
c__12557__auto___13114,G__12942_13112,n__7059__auto___13110,jobs,results,process,async){return function(){var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=null;var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0=function(){var statearr_12966=[null,null,null,null,null,null,null];statearr_12966[0]=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__;statearr_12966[1]=1;return statearr_12966};var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1=
function(state_12955){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_12955);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e12967){if(e12967 instanceof Object){var ex__12449__auto__=e12967;var statearr_12968_13121=state_12955;statearr_12968_13121[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_12955);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e12967;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13122=state_12955;state_12955=G__13122;continue}else return ret_value__12447__auto__;break}};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=function(state_12955){switch(arguments.length){case 0:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0.call(this);
case 1:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1.call(this,state_12955)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0;cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1;return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__}()}(__13111,
switch__12445__auto__,c__12557__auto___13114,G__12942_13112,n__7059__auto___13110,jobs,results,process,async)}();var state__12559__auto__=function(){var statearr_12969=f__12558__auto__.call(null);statearr_12969[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13114;return statearr_12969}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(__13111,c__12557__auto___13114,G__12942_13112,n__7059__auto___13110,jobs,results,process,async));
break;case "async":var c__12557__auto___13123=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(__13111,c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(__13111,c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async){return function(state_12982){var state_val_12983=state_12982[1];if(state_val_12983===1){var state_12982__$1=
state_12982;var statearr_12984_13124=state_12982__$1;statearr_12984_13124[2]=null;statearr_12984_13124[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12983===2){var state_12982__$1=state_12982;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_12982__$1,4,jobs)}else if(state_val_12983===3){var inst_12980=state_12982[2];var state_12982__$1=state_12982;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_12982__$1,inst_12980)}else if(state_val_12983===
4){var inst_12972=state_12982[2];var inst_12973=async.call(null,inst_12972);var state_12982__$1=state_12982;if(cljs.core.truth_(inst_12973)){var statearr_12985_13125=state_12982__$1;statearr_12985_13125[1]=5}else{var statearr_12986_13126=state_12982__$1;statearr_12986_13126[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12983===5){var state_12982__$1=state_12982;var statearr_12987_13127=state_12982__$1;statearr_12987_13127[2]=null;statearr_12987_13127[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_12983===6){var state_12982__$1=state_12982;var statearr_12988_13128=state_12982__$1;statearr_12988_13128[2]=null;statearr_12988_13128[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_12983===7){var inst_12978=state_12982[2];var state_12982__$1=state_12982;var statearr_12989_13129=state_12982__$1;statearr_12989_13129[2]=inst_12978;statearr_12989_13129[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(__13111,
c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async);return function(__13111,switch__12445__auto__,c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async){return function(){var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=null;var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0=function(){var statearr_12993=[null,null,null,null,null,null,null];statearr_12993[0]=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__;
statearr_12993[1]=1;return statearr_12993};var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1=function(state_12982){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_12982);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e12994){if(e12994 instanceof Object){var ex__12449__auto__=
e12994;var statearr_12995_13130=state_12982;statearr_12995_13130[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_12982);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e12994;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13131=state_12982;state_12982=G__13131;continue}else return ret_value__12447__auto__;break}};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=
function(state_12982){switch(arguments.length){case 0:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1.call(this,state_12982)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0;cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1;return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__}()}(__13111,switch__12445__auto__,c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async)}();var state__12559__auto__=function(){var statearr_12996=f__12558__auto__.call(null);statearr_12996[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13123;return statearr_12996}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(__13111,c__12557__auto___13123,G__12942_13112,n__7059__auto___13110,jobs,results,process,async));break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(type)].join(""));}var G__13132=__13111+1;__13111=G__13132;continue}else;break}var c__12557__auto___13133=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___13133,jobs,results,process,async){return function(){var f__12558__auto__=function(){var switch__12445__auto__=
function(c__12557__auto___13133,jobs,results,process,async){return function(state_13018){var state_val_13019=state_13018[1];if(state_val_13019===1){var state_13018__$1=state_13018;var statearr_13020_13134=state_13018__$1;statearr_13020_13134[2]=null;statearr_13020_13134[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13019===2){var state_13018__$1=state_13018;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13018__$1,4,from)}else if(state_val_13019===
3){var inst_13016=state_13018[2];var state_13018__$1=state_13018;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13018__$1,inst_13016)}else if(state_val_13019===4){var inst_12999=state_13018[7];var inst_12999__$1=state_13018[2];var inst_13000=inst_12999__$1==null;var state_13018__$1=function(){var statearr_13021=state_13018;statearr_13021[7]=inst_12999__$1;return statearr_13021}();if(cljs.core.truth_(inst_13000)){var statearr_13022_13135=state_13018__$1;statearr_13022_13135[1]=
5}else{var statearr_13023_13136=state_13018__$1;statearr_13023_13136[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13019===5){var inst_13002=cljs.core.async.close_BANG_.call(null,jobs);var state_13018__$1=state_13018;var statearr_13024_13137=state_13018__$1;statearr_13024_13137[2]=inst_13002;statearr_13024_13137[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13019===6){var inst_12999=state_13018[7];var inst_13004=state_13018[8];
var inst_13004__$1=cljs.core.async.chan.call(null,1);var inst_13005=cljs.core.PersistentVector.EMPTY_NODE;var inst_13006=[inst_12999,inst_13004__$1];var inst_13007=new cljs.core.PersistentVector(null,2,5,inst_13005,inst_13006,null);var state_13018__$1=function(){var statearr_13025=state_13018;statearr_13025[8]=inst_13004__$1;return statearr_13025}();return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_13018__$1,8,jobs,inst_13007)}else if(state_val_13019===7){var inst_13014=state_13018[2];
var state_13018__$1=state_13018;var statearr_13026_13138=state_13018__$1;statearr_13026_13138[2]=inst_13014;statearr_13026_13138[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13019===8){var inst_13004=state_13018[8];var inst_13009=state_13018[2];var state_13018__$1=function(){var statearr_13027=state_13018;statearr_13027[9]=inst_13009;return statearr_13027}();return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_13018__$1,9,results,inst_13004)}else if(state_val_13019===
9){var inst_13011=state_13018[2];var state_13018__$1=function(){var statearr_13028=state_13018;statearr_13028[10]=inst_13011;return statearr_13028}();var statearr_13029_13139=state_13018__$1;statearr_13029_13139[2]=null;statearr_13029_13139[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___13133,jobs,results,process,async);return function(switch__12445__auto__,c__12557__auto___13133,jobs,results,process,async){return function(){var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=
null;var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0=function(){var statearr_13033=[null,null,null,null,null,null,null,null,null,null,null];statearr_13033[0]=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__;statearr_13033[1]=1;return statearr_13033};var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1=function(state_13018){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_13018);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13034){if(e13034 instanceof Object){var ex__12449__auto__=e13034;var statearr_13035_13140=state_13018;statearr_13035_13140[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13018);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13034;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13141=state_13018;state_13018=G__13141;continue}else return ret_value__12447__auto__;break}};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=function(state_13018){switch(arguments.length){case 0:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1.call(this,state_13018)}throw new Error("Invalid arity: "+
arguments.length);};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0;cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1;return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___13133,jobs,results,process,async)}();var state__12559__auto__=
function(){var statearr_13036=f__12558__auto__.call(null);statearr_13036[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13133;return statearr_13036}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___13133,jobs,results,process,async));var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__,jobs,results,process,async){return function(){var f__12558__auto__=
function(){var switch__12445__auto__=function(c__12557__auto__,jobs,results,process,async){return function(state_13074){var state_val_13075=state_13074[1];if(state_val_13075===7){var inst_13070=state_13074[2];var state_13074__$1=state_13074;var statearr_13076_13142=state_13074__$1;statearr_13076_13142[2]=inst_13070;statearr_13076_13142[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===20){var state_13074__$1=state_13074;var statearr_13077_13143=state_13074__$1;
statearr_13077_13143[2]=null;statearr_13077_13143[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===1){var state_13074__$1=state_13074;var statearr_13078_13144=state_13074__$1;statearr_13078_13144[2]=null;statearr_13078_13144[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===4){var inst_13039=state_13074[7];var inst_13039__$1=state_13074[2];var inst_13040=inst_13039__$1==null;var state_13074__$1=function(){var statearr_13079=
state_13074;statearr_13079[7]=inst_13039__$1;return statearr_13079}();if(cljs.core.truth_(inst_13040)){var statearr_13080_13145=state_13074__$1;statearr_13080_13145[1]=5}else{var statearr_13081_13146=state_13074__$1;statearr_13081_13146[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===15){var inst_13052=state_13074[8];var state_13074__$1=state_13074;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_13074__$1,18,to,inst_13052)}else if(state_val_13075===
21){var inst_13065=state_13074[2];var state_13074__$1=state_13074;var statearr_13082_13147=state_13074__$1;statearr_13082_13147[2]=inst_13065;statearr_13082_13147[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===13){var inst_13067=state_13074[2];var state_13074__$1=function(){var statearr_13083=state_13074;statearr_13083[9]=inst_13067;return statearr_13083}();var statearr_13084_13148=state_13074__$1;statearr_13084_13148[2]=null;statearr_13084_13148[1]=
2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===6){var inst_13039=state_13074[7];var state_13074__$1=state_13074;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13074__$1,11,inst_13039)}else if(state_val_13075===17){var inst_13060=state_13074[2];var state_13074__$1=state_13074;if(cljs.core.truth_(inst_13060)){var statearr_13085_13149=state_13074__$1;statearr_13085_13149[1]=19}else{var statearr_13086_13150=state_13074__$1;statearr_13086_13150[1]=
20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===3){var inst_13072=state_13074[2];var state_13074__$1=state_13074;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13074__$1,inst_13072)}else if(state_val_13075===12){var inst_13049=state_13074[10];var state_13074__$1=state_13074;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13074__$1,14,inst_13049)}else if(state_val_13075===2){var state_13074__$1=state_13074;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_13074__$1,4,results)}else if(state_val_13075===19){var state_13074__$1=state_13074;var statearr_13087_13151=state_13074__$1;statearr_13087_13151[2]=null;statearr_13087_13151[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===11){var inst_13049=state_13074[2];var state_13074__$1=function(){var statearr_13088=state_13074;statearr_13088[10]=inst_13049;return statearr_13088}();var statearr_13089_13152=state_13074__$1;statearr_13089_13152[2]=null;statearr_13089_13152[1]=
12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===9){var state_13074__$1=state_13074;var statearr_13090_13153=state_13074__$1;statearr_13090_13153[2]=null;statearr_13090_13153[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===5){var state_13074__$1=state_13074;if(cljs.core.truth_(close_QMARK_)){var statearr_13091_13154=state_13074__$1;statearr_13091_13154[1]=8}else{var statearr_13092_13155=state_13074__$1;statearr_13092_13155[1]=
9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===14){var inst_13052=state_13074[8];var inst_13054=state_13074[11];var inst_13052__$1=state_13074[2];var inst_13053=inst_13052__$1==null;var inst_13054__$1=cljs.core.not.call(null,inst_13053);var state_13074__$1=function(){var statearr_13093=state_13074;statearr_13093[8]=inst_13052__$1;statearr_13093[11]=inst_13054__$1;return statearr_13093}();if(inst_13054__$1){var statearr_13094_13156=state_13074__$1;statearr_13094_13156[1]=
15}else{var statearr_13095_13157=state_13074__$1;statearr_13095_13157[1]=16}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===16){var inst_13054=state_13074[11];var state_13074__$1=state_13074;var statearr_13096_13158=state_13074__$1;statearr_13096_13158[2]=inst_13054;statearr_13096_13158[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===10){var inst_13046=state_13074[2];var state_13074__$1=state_13074;var statearr_13097_13159=
state_13074__$1;statearr_13097_13159[2]=inst_13046;statearr_13097_13159[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===18){var inst_13057=state_13074[2];var state_13074__$1=state_13074;var statearr_13098_13160=state_13074__$1;statearr_13098_13160[2]=inst_13057;statearr_13098_13160[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13075===8){var inst_13043=cljs.core.async.close_BANG_.call(null,to);var state_13074__$1=
state_13074;var statearr_13099_13161=state_13074__$1;statearr_13099_13161[2]=inst_13043;statearr_13099_13161[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__,jobs,results,process,async);return function(switch__12445__auto__,c__12557__auto__,jobs,results,process,async){return function(){var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=null;var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0=function(){var statearr_13103=
[null,null,null,null,null,null,null,null,null,null,null,null];statearr_13103[0]=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__;statearr_13103[1]=1;return statearr_13103};var cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1=function(state_13074){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_13074);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13104){if(e13104 instanceof Object){var ex__12449__auto__=e13104;var statearr_13105_13162=state_13074;statearr_13105_13162[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13074);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13104;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268))){var G__13163=state_13074;state_13074=G__13163;continue}else return ret_value__12447__auto__;break}};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__=function(state_13074){switch(arguments.length){case 0:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1.call(this,state_13074)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____0;cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$pipeline_STAR__$_state_machine__12446__auto____1;return cljs$core$async$pipeline_STAR__$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__,jobs,results,process,async)}();var state__12559__auto__=function(){var statearr_13106=f__12558__auto__.call(null);statearr_13106[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto__;return statearr_13106}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__,jobs,results,process,async));return c__12557__auto__};
cljs.core.async.pipeline_async=function cljs$core$async$pipeline_async(var_args){var args13164=[];var len__7214__auto___13167=arguments.length;var i__7215__auto___13168=0;while(true){if(i__7215__auto___13168<len__7214__auto___13167){args13164.push(arguments[i__7215__auto___13168]);var G__13169=i__7215__auto___13168+1;i__7215__auto___13168=G__13169;continue}else;break}var G__13166=args13164.length;switch(G__13166){case 4:return cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;case 5:return cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args13164.length)].join(""));}};cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$4=function(n,to,af,from){return cljs.core.async.pipeline_async.call(null,n,to,af,from,true)};
cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$5=function(n,to,af,from,close_QMARK_){return cljs.core.async.pipeline_STAR_.call(null,n,to,af,from,close_QMARK_,null,new cljs.core.Keyword(null,"async","async",1050769601))};cljs.core.async.pipeline_async.cljs$lang$maxFixedArity=5;
cljs.core.async.pipeline=function cljs$core$async$pipeline(var_args){var args13171=[];var len__7214__auto___13174=arguments.length;var i__7215__auto___13175=0;while(true){if(i__7215__auto___13175<len__7214__auto___13174){args13171.push(arguments[i__7215__auto___13175]);var G__13176=i__7215__auto___13175+1;i__7215__auto___13175=G__13176;continue}else;break}var G__13173=args13171.length;switch(G__13173){case 4:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],
arguments[3]);break;case 5:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args13171.length)].join(""));}};
cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$4=function(n,to,xf,from){return cljs.core.async.pipeline.call(null,n,to,xf,from,true)};cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$5=function(n,to,xf,from,close_QMARK_){return cljs.core.async.pipeline.call(null,n,to,xf,from,close_QMARK_,null)};
cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$6=function(n,to,xf,from,close_QMARK_,ex_handler){return cljs.core.async.pipeline_STAR_.call(null,n,to,xf,from,close_QMARK_,ex_handler,new cljs.core.Keyword(null,"compute","compute",1555393130))};cljs.core.async.pipeline.cljs$lang$maxFixedArity=6;
cljs.core.async.split=function cljs$core$async$split(var_args){var args13178=[];var len__7214__auto___13231=arguments.length;var i__7215__auto___13232=0;while(true){if(i__7215__auto___13232<len__7214__auto___13231){args13178.push(arguments[i__7215__auto___13232]);var G__13233=i__7215__auto___13232+1;i__7215__auto___13232=G__13233;continue}else;break}var G__13180=args13178.length;switch(G__13180){case 2:return cljs.core.async.split.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 4:return cljs.core.async.split.cljs$core$IFn$_invoke$arity$4(arguments[0],
arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args13178.length)].join(""));}};cljs.core.async.split.cljs$core$IFn$_invoke$arity$2=function(p,ch){return cljs.core.async.split.call(null,p,ch,null,null)};
cljs.core.async.split.cljs$core$IFn$_invoke$arity$4=function(p,ch,t_buf_or_n,f_buf_or_n){var tc=cljs.core.async.chan.call(null,t_buf_or_n);var fc=cljs.core.async.chan.call(null,f_buf_or_n);var c__12557__auto___13235=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___13235,tc,fc){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___13235,tc,fc){return function(state_13206){var state_val_13207=state_13206[1];
if(state_val_13207===7){var inst_13202=state_13206[2];var state_13206__$1=state_13206;var statearr_13208_13236=state_13206__$1;statearr_13208_13236[2]=inst_13202;statearr_13208_13236[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===1){var state_13206__$1=state_13206;var statearr_13209_13237=state_13206__$1;statearr_13209_13237[2]=null;statearr_13209_13237[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===4){var inst_13183=
state_13206[7];var inst_13183__$1=state_13206[2];var inst_13184=inst_13183__$1==null;var state_13206__$1=function(){var statearr_13210=state_13206;statearr_13210[7]=inst_13183__$1;return statearr_13210}();if(cljs.core.truth_(inst_13184)){var statearr_13211_13238=state_13206__$1;statearr_13211_13238[1]=5}else{var statearr_13212_13239=state_13206__$1;statearr_13212_13239[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===13){var state_13206__$1=state_13206;
var statearr_13213_13240=state_13206__$1;statearr_13213_13240[2]=null;statearr_13213_13240[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===6){var inst_13183=state_13206[7];var inst_13189=p.call(null,inst_13183);var state_13206__$1=state_13206;if(cljs.core.truth_(inst_13189)){var statearr_13214_13241=state_13206__$1;statearr_13214_13241[1]=9}else{var statearr_13215_13242=state_13206__$1;statearr_13215_13242[1]=10}return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_13207===3){var inst_13204=state_13206[2];var state_13206__$1=state_13206;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13206__$1,inst_13204)}else if(state_val_13207===12){var state_13206__$1=state_13206;var statearr_13216_13243=state_13206__$1;statearr_13216_13243[2]=null;statearr_13216_13243[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===2){var state_13206__$1=state_13206;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_13206__$1,4,ch)}else if(state_val_13207===11){var inst_13183=state_13206[7];var inst_13193=state_13206[2];var state_13206__$1=state_13206;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_13206__$1,8,inst_13193,inst_13183)}else if(state_val_13207===9){var state_13206__$1=state_13206;var statearr_13217_13244=state_13206__$1;statearr_13217_13244[2]=tc;statearr_13217_13244[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===5){var inst_13186=
cljs.core.async.close_BANG_.call(null,tc);var inst_13187=cljs.core.async.close_BANG_.call(null,fc);var state_13206__$1=function(){var statearr_13218=state_13206;statearr_13218[8]=inst_13186;return statearr_13218}();var statearr_13219_13245=state_13206__$1;statearr_13219_13245[2]=inst_13187;statearr_13219_13245[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===14){var inst_13200=state_13206[2];var state_13206__$1=state_13206;var statearr_13220_13246=state_13206__$1;
statearr_13220_13246[2]=inst_13200;statearr_13220_13246[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===10){var state_13206__$1=state_13206;var statearr_13221_13247=state_13206__$1;statearr_13221_13247[2]=fc;statearr_13221_13247[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13207===8){var inst_13195=state_13206[2];var state_13206__$1=state_13206;if(cljs.core.truth_(inst_13195)){var statearr_13222_13248=state_13206__$1;
statearr_13222_13248[1]=12}else{var statearr_13223_13249=state_13206__$1;statearr_13223_13249[1]=13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___13235,tc,fc);return function(switch__12445__auto__,c__12557__auto___13235,tc,fc){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_13227=[null,null,null,null,null,null,null,null,null];statearr_13227[0]=cljs$core$async$state_machine__12446__auto__;
statearr_13227[1]=1;return statearr_13227};var cljs$core$async$state_machine__12446__auto____1=function(state_13206){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_13206);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13228){if(e13228 instanceof Object){var ex__12449__auto__=e13228;
var statearr_13229_13250=state_13206;statearr_13229_13250[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13206);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13228;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13251=state_13206;state_13206=G__13251;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=
function(state_13206){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_13206)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;
return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___13235,tc,fc)}();var state__12559__auto__=function(){var statearr_13230=f__12558__auto__.call(null);statearr_13230[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13235;return statearr_13230}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___13235,tc,fc));return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[tc,fc],null)};cljs.core.async.split.cljs$lang$maxFixedArity=4;
cljs.core.async.reduce=function cljs$core$async$reduce(f,init,ch){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_13315){var state_val_13316=state_13315[1];if(state_val_13316===7){var inst_13311=state_13315[2];var state_13315__$1=state_13315;var statearr_13317_13338=state_13315__$1;statearr_13317_13338[2]=
inst_13311;statearr_13317_13338[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===1){var inst_13295=init;var state_13315__$1=function(){var statearr_13318=state_13315;statearr_13318[7]=inst_13295;return statearr_13318}();var statearr_13319_13339=state_13315__$1;statearr_13319_13339[2]=null;statearr_13319_13339[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===4){var inst_13298=state_13315[8];var inst_13298__$1=state_13315[2];
var inst_13299=inst_13298__$1==null;var state_13315__$1=function(){var statearr_13320=state_13315;statearr_13320[8]=inst_13298__$1;return statearr_13320}();if(cljs.core.truth_(inst_13299)){var statearr_13321_13340=state_13315__$1;statearr_13321_13340[1]=5}else{var statearr_13322_13341=state_13315__$1;statearr_13322_13341[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===6){var inst_13302=state_13315[9];var inst_13298=state_13315[8];var inst_13295=state_13315[7];
var inst_13302__$1=f.call(null,inst_13295,inst_13298);var inst_13303=cljs.core.reduced_QMARK_.call(null,inst_13302__$1);var state_13315__$1=function(){var statearr_13323=state_13315;statearr_13323[9]=inst_13302__$1;return statearr_13323}();if(inst_13303){var statearr_13324_13342=state_13315__$1;statearr_13324_13342[1]=8}else{var statearr_13325_13343=state_13315__$1;statearr_13325_13343[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===3){var inst_13313=state_13315[2];
var state_13315__$1=state_13315;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13315__$1,inst_13313)}else if(state_val_13316===2){var state_13315__$1=state_13315;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13315__$1,4,ch)}else if(state_val_13316===9){var inst_13302=state_13315[9];var inst_13295=inst_13302;var state_13315__$1=function(){var statearr_13326=state_13315;statearr_13326[7]=inst_13295;return statearr_13326}();var statearr_13327_13344=state_13315__$1;
statearr_13327_13344[2]=null;statearr_13327_13344[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===5){var inst_13295=state_13315[7];var state_13315__$1=state_13315;var statearr_13328_13345=state_13315__$1;statearr_13328_13345[2]=inst_13295;statearr_13328_13345[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===10){var inst_13309=state_13315[2];var state_13315__$1=state_13315;var statearr_13329_13346=state_13315__$1;
statearr_13329_13346[2]=inst_13309;statearr_13329_13346[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13316===8){var inst_13302=state_13315[9];var inst_13305=cljs.core.deref.call(null,inst_13302);var state_13315__$1=state_13315;var statearr_13330_13347=state_13315__$1;statearr_13330_13347[2]=inst_13305;statearr_13330_13347[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var cljs$core$async$reduce_$_state_machine__12446__auto__=null;var cljs$core$async$reduce_$_state_machine__12446__auto____0=function(){var statearr_13334=[null,null,null,null,null,null,null,null,null,null];statearr_13334[0]=cljs$core$async$reduce_$_state_machine__12446__auto__;statearr_13334[1]=1;return statearr_13334};var cljs$core$async$reduce_$_state_machine__12446__auto____1=function(state_13315){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=
switch__12445__auto__.call(null,state_13315);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13335){if(e13335 instanceof Object){var ex__12449__auto__=e13335;var statearr_13336_13348=state_13315;statearr_13336_13348[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13315);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13335;
}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13349=state_13315;state_13315=G__13349;continue}else return ret_value__12447__auto__;break}};cljs$core$async$reduce_$_state_machine__12446__auto__=function(state_13315){switch(arguments.length){case 0:return cljs$core$async$reduce_$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$reduce_$_state_machine__12446__auto____1.call(this,state_13315)}throw new Error("Invalid arity: "+
arguments.length);};cljs$core$async$reduce_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$reduce_$_state_machine__12446__auto____0;cljs$core$async$reduce_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$reduce_$_state_machine__12446__auto____1;return cljs$core$async$reduce_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_13337=f__12558__auto__.call(null);statearr_13337[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto__;return statearr_13337}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
cljs.core.async.onto_chan=function cljs$core$async$onto_chan(var_args){var args13350=[];var len__7214__auto___13402=arguments.length;var i__7215__auto___13403=0;while(true){if(i__7215__auto___13403<len__7214__auto___13402){args13350.push(arguments[i__7215__auto___13403]);var G__13404=i__7215__auto___13403+1;i__7215__auto___13403=G__13404;continue}else;break}var G__13352=args13350.length;switch(G__13352){case 2:return cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args13350.length)].join(""));}};cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2=function(ch,coll){return cljs.core.async.onto_chan.call(null,ch,coll,true)};
cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$3=function(ch,coll,close_QMARK_){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_13377){var state_val_13378=state_13377[1];if(state_val_13378===7){var inst_13359=state_13377[2];var state_13377__$1=state_13377;var statearr_13379_13406=state_13377__$1;
statearr_13379_13406[2]=inst_13359;statearr_13379_13406[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===1){var inst_13353=cljs.core.seq.call(null,coll);var inst_13354=inst_13353;var state_13377__$1=function(){var statearr_13380=state_13377;statearr_13380[7]=inst_13354;return statearr_13380}();var statearr_13381_13407=state_13377__$1;statearr_13381_13407[2]=null;statearr_13381_13407[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===
4){var inst_13354=state_13377[7];var inst_13357=cljs.core.first.call(null,inst_13354);var state_13377__$1=state_13377;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_13377__$1,7,ch,inst_13357)}else if(state_val_13378===13){var inst_13371=state_13377[2];var state_13377__$1=state_13377;var statearr_13382_13408=state_13377__$1;statearr_13382_13408[2]=inst_13371;statearr_13382_13408[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===6){var inst_13362=
state_13377[2];var state_13377__$1=state_13377;if(cljs.core.truth_(inst_13362)){var statearr_13383_13409=state_13377__$1;statearr_13383_13409[1]=8}else{var statearr_13384_13410=state_13377__$1;statearr_13384_13410[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===3){var inst_13375=state_13377[2];var state_13377__$1=state_13377;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13377__$1,inst_13375)}else if(state_val_13378===12){var state_13377__$1=
state_13377;var statearr_13385_13411=state_13377__$1;statearr_13385_13411[2]=null;statearr_13385_13411[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===2){var inst_13354=state_13377[7];var state_13377__$1=state_13377;if(cljs.core.truth_(inst_13354)){var statearr_13386_13412=state_13377__$1;statearr_13386_13412[1]=4}else{var statearr_13387_13413=state_13377__$1;statearr_13387_13413[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===
11){var inst_13368=cljs.core.async.close_BANG_.call(null,ch);var state_13377__$1=state_13377;var statearr_13388_13414=state_13377__$1;statearr_13388_13414[2]=inst_13368;statearr_13388_13414[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===9){var state_13377__$1=state_13377;if(cljs.core.truth_(close_QMARK_)){var statearr_13389_13415=state_13377__$1;statearr_13389_13415[1]=11}else{var statearr_13390_13416=state_13377__$1;statearr_13390_13416[1]=12}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_13378===5){var inst_13354=state_13377[7];var state_13377__$1=state_13377;var statearr_13391_13417=state_13377__$1;statearr_13391_13417[2]=inst_13354;statearr_13391_13417[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13378===10){var inst_13373=state_13377[2];var state_13377__$1=state_13377;var statearr_13392_13418=state_13377__$1;statearr_13392_13418[2]=inst_13373;statearr_13392_13418[1]=3;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_13378===8){var inst_13354=state_13377[7];var inst_13364=cljs.core.next.call(null,inst_13354);var inst_13354__$1=inst_13364;var state_13377__$1=function(){var statearr_13393=state_13377;statearr_13393[7]=inst_13354__$1;return statearr_13393}();var statearr_13394_13419=state_13377__$1;statearr_13394_13419[2]=null;statearr_13394_13419[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_13398=[null,null,null,null,null,null,null,null];statearr_13398[0]=cljs$core$async$state_machine__12446__auto__;statearr_13398[1]=1;return statearr_13398};var cljs$core$async$state_machine__12446__auto____1=function(state_13377){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_13377);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13399){if(e13399 instanceof Object){var ex__12449__auto__=e13399;var statearr_13400_13420=state_13377;statearr_13400_13420[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13377);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13399;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13421=state_13377;state_13377=G__13421;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_13377){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_13377)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_13401=f__12558__auto__.call(null);statearr_13401[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_13401}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};cljs.core.async.onto_chan.cljs$lang$maxFixedArity=3;cljs.core.async.to_chan=function cljs$core$async$to_chan(coll){var ch=cljs.core.async.chan.call(null,cljs.core.bounded_count.call(null,100,coll));cljs.core.async.onto_chan.call(null,ch,coll);return ch};cljs.core.async.Mux=function(){};
cljs.core.async.muxch_STAR_=function cljs$core$async$muxch_STAR_(_){if(!(_==null)&&!(_.cljs$core$async$Mux$muxch_STAR_$arity$1==null))return _.cljs$core$async$Mux$muxch_STAR_$arity$1(_);else{var x__6811__auto__=_==null?null:_;var m__6812__auto__=cljs.core.async.muxch_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,_);else{var m__6812__auto____$1=cljs.core.async.muxch_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,_);
else throw cljs.core.missing_protocol.call(null,"Mux.muxch*",_);}}};cljs.core.async.Mult=function(){};
cljs.core.async.tap_STAR_=function cljs$core$async$tap_STAR_(m,ch,close_QMARK_){if(!(m==null)&&!(m.cljs$core$async$Mult$tap_STAR_$arity$3==null))return m.cljs$core$async$Mult$tap_STAR_$arity$3(m,ch,close_QMARK_);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.tap_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,ch,close_QMARK_);else{var m__6812__auto____$1=cljs.core.async.tap_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,ch,close_QMARK_);else throw cljs.core.missing_protocol.call(null,"Mult.tap*",m);}}};
cljs.core.async.untap_STAR_=function cljs$core$async$untap_STAR_(m,ch){if(!(m==null)&&!(m.cljs$core$async$Mult$untap_STAR_$arity$2==null))return m.cljs$core$async$Mult$untap_STAR_$arity$2(m,ch);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.untap_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,ch);else{var m__6812__auto____$1=cljs.core.async.untap_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,ch);else throw cljs.core.missing_protocol.call(null,"Mult.untap*",m);}}};
cljs.core.async.untap_all_STAR_=function cljs$core$async$untap_all_STAR_(m){if(!(m==null)&&!(m.cljs$core$async$Mult$untap_all_STAR_$arity$1==null))return m.cljs$core$async$Mult$untap_all_STAR_$arity$1(m);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.untap_all_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m);else{var m__6812__auto____$1=cljs.core.async.untap_all_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m);else throw cljs.core.missing_protocol.call(null,"Mult.untap-all*",m);}}};
cljs.core.async.mult=function cljs$core$async$mult(ch){var cs=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var m=function(){if(typeof cljs.core.async.t_cljs$core$async13643!=="undefined");else{cljs.core.async.t_cljs$core$async13643=function(mult,ch,cs,meta13644){this.mult=mult;this.ch=ch;this.cs=cs;this.meta13644=meta13644;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(cs){return function(_13645,meta13644__$1){var self__=this;var _13645__$1=this;return new cljs.core.async.t_cljs$core$async13643(self__.mult,self__.ch,self__.cs,meta13644__$1)}}(cs);cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$IMeta$_meta$arity$1=function(cs){return function(_13645){var self__=this;var _13645__$1=this;return self__.meta13644}}(cs);cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mux$=true;cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=
function(cs){return function(_){var self__=this;var ___$1=this;return self__.ch}}(cs);cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mult$=true;cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mult$tap_STAR_$arity$3=function(cs){return function(_,ch__$1,close_QMARK_){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.assoc,ch__$1,close_QMARK_);return null}}(cs);cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mult$untap_STAR_$arity$2=
function(cs){return function(_,ch__$1){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.dissoc,ch__$1);return null}}(cs);cljs.core.async.t_cljs$core$async13643.prototype.cljs$core$async$Mult$untap_all_STAR_$arity$1=function(cs){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,self__.cs,cljs.core.PersistentArrayMap.EMPTY);return null}}(cs);cljs.core.async.t_cljs$core$async13643.getBasis=function(cs){return function(){return new cljs.core.PersistentVector(null,
4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"mult","mult",-1187640995,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ch","ch",1085813622,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),
"Creates and returns a mult(iple) of the supplied channel. Channels\n  containing copies of the channel can be created with 'tap', and\n  detached with 'untap'.\n\n  Each item is distributed to all taps in parallel and synchronously,\n  i.e. each tap must accept before the next item is distributed. Use\n  buffering/windowing to prevent slow taps from holding up the mult.\n\n  Items received when there are no taps get dropped.\n\n  If a tap puts to a closed channel, it will be removed from the mult."],
null)),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"cs","cs",-117024463,null),new cljs.core.Symbol(null,"meta13644","meta13644",2083115625,null)],null)}}(cs);cljs.core.async.t_cljs$core$async13643.cljs$lang$type=true;cljs.core.async.t_cljs$core$async13643.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async13643";cljs.core.async.t_cljs$core$async13643.cljs$lang$ctorPrWriter=function(cs){return function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,
writer__6755__auto__,"cljs.core.async/t_cljs$core$async13643")}}(cs);cljs.core.async.__GT_t_cljs$core$async13643=function(cs){return function cljs$core$async$mult_$___GT_t_cljs$core$async13643(mult__$1,ch__$1,cs__$1,meta13644){return new cljs.core.async.t_cljs$core$async13643(mult__$1,ch__$1,cs__$1,meta13644)}}(cs)}return new cljs.core.async.t_cljs$core$async13643(cljs$core$async$mult,ch,cs,cljs.core.PersistentArrayMap.EMPTY)}();var dchan=cljs.core.async.chan.call(null,1);var dctr=cljs.core.atom.call(null,
null);var done=function(cs,m,dchan,dctr){return function(_){if(cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec)===0)return cljs.core.async.put_BANG_.call(null,dchan,true);else return null}}(cs,m,dchan,dctr);var c__12557__auto___13864=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___13864,cs,m,dchan,dctr,done){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___13864,cs,m,dchan,dctr,done){return function(state_13776){var state_val_13777=
state_13776[1];if(state_val_13777===7){var inst_13772=state_13776[2];var state_13776__$1=state_13776;var statearr_13778_13865=state_13776__$1;statearr_13778_13865[2]=inst_13772;statearr_13778_13865[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===20){var inst_13677=state_13776[7];var inst_13687=cljs.core.first.call(null,inst_13677);var inst_13688=cljs.core.nth.call(null,inst_13687,0,null);var inst_13689=cljs.core.nth.call(null,inst_13687,1,null);var state_13776__$1=
function(){var statearr_13779=state_13776;statearr_13779[8]=inst_13688;return statearr_13779}();if(cljs.core.truth_(inst_13689)){var statearr_13780_13866=state_13776__$1;statearr_13780_13866[1]=22}else{var statearr_13781_13867=state_13776__$1;statearr_13781_13867[1]=23}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===27){var inst_13717=state_13776[9];var inst_13719=state_13776[10];var inst_13648=state_13776[11];var inst_13724=state_13776[12];var inst_13724__$1=
cljs.core._nth.call(null,inst_13717,inst_13719);var inst_13725=cljs.core.async.put_BANG_.call(null,inst_13724__$1,inst_13648,done);var state_13776__$1=function(){var statearr_13782=state_13776;statearr_13782[12]=inst_13724__$1;return statearr_13782}();if(cljs.core.truth_(inst_13725)){var statearr_13783_13868=state_13776__$1;statearr_13783_13868[1]=30}else{var statearr_13784_13869=state_13776__$1;statearr_13784_13869[1]=31}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===
1){var state_13776__$1=state_13776;var statearr_13785_13870=state_13776__$1;statearr_13785_13870[2]=null;statearr_13785_13870[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===24){var inst_13677=state_13776[7];var inst_13694=state_13776[2];var inst_13695=cljs.core.next.call(null,inst_13677);var inst_13657=inst_13695;var inst_13658=null;var inst_13659=0;var inst_13660=0;var state_13776__$1=function(){var statearr_13786=state_13776;statearr_13786[13]=inst_13658;
statearr_13786[14]=inst_13657;statearr_13786[15]=inst_13659;statearr_13786[16]=inst_13694;statearr_13786[17]=inst_13660;return statearr_13786}();var statearr_13787_13871=state_13776__$1;statearr_13787_13871[2]=null;statearr_13787_13871[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===39){var state_13776__$1=state_13776;var statearr_13791_13872=state_13776__$1;statearr_13791_13872[2]=null;statearr_13791_13872[1]=41;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_13777===4){var inst_13648=state_13776[11];var inst_13648__$1=state_13776[2];var inst_13649=inst_13648__$1==null;var state_13776__$1=function(){var statearr_13792=state_13776;statearr_13792[11]=inst_13648__$1;return statearr_13792}();if(cljs.core.truth_(inst_13649)){var statearr_13793_13873=state_13776__$1;statearr_13793_13873[1]=5}else{var statearr_13794_13874=state_13776__$1;statearr_13794_13874[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===
15){var inst_13658=state_13776[13];var inst_13657=state_13776[14];var inst_13659=state_13776[15];var inst_13660=state_13776[17];var inst_13673=state_13776[2];var inst_13674=inst_13660+1;var tmp13788=inst_13658;var tmp13789=inst_13657;var tmp13790=inst_13659;var inst_13657__$1=tmp13789;var inst_13658__$1=tmp13788;var inst_13659__$1=tmp13790;var inst_13660__$1=inst_13674;var state_13776__$1=function(){var statearr_13795=state_13776;statearr_13795[13]=inst_13658__$1;statearr_13795[14]=inst_13657__$1;
statearr_13795[15]=inst_13659__$1;statearr_13795[17]=inst_13660__$1;statearr_13795[18]=inst_13673;return statearr_13795}();var statearr_13796_13875=state_13776__$1;statearr_13796_13875[2]=null;statearr_13796_13875[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===21){var inst_13698=state_13776[2];var state_13776__$1=state_13776;var statearr_13800_13876=state_13776__$1;statearr_13800_13876[2]=inst_13698;statearr_13800_13876[1]=18;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_13777===31){var inst_13724=state_13776[12];var inst_13728=done.call(null,null);var inst_13729=cljs.core.async.untap_STAR_.call(null,m,inst_13724);var state_13776__$1=function(){var statearr_13801=state_13776;statearr_13801[19]=inst_13728;return statearr_13801}();var statearr_13802_13877=state_13776__$1;statearr_13802_13877[2]=inst_13729;statearr_13802_13877[1]=32;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===32){var inst_13717=
state_13776[9];var inst_13719=state_13776[10];var inst_13718=state_13776[20];var inst_13716=state_13776[21];var inst_13731=state_13776[2];var inst_13732=inst_13719+1;var tmp13797=inst_13717;var tmp13798=inst_13718;var tmp13799=inst_13716;var inst_13716__$1=tmp13799;var inst_13717__$1=tmp13797;var inst_13718__$1=tmp13798;var inst_13719__$1=inst_13732;var state_13776__$1=function(){var statearr_13803=state_13776;statearr_13803[9]=inst_13717__$1;statearr_13803[10]=inst_13719__$1;statearr_13803[20]=inst_13718__$1;
statearr_13803[22]=inst_13731;statearr_13803[21]=inst_13716__$1;return statearr_13803}();var statearr_13804_13878=state_13776__$1;statearr_13804_13878[2]=null;statearr_13804_13878[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===40){var inst_13744=state_13776[23];var inst_13748=done.call(null,null);var inst_13749=cljs.core.async.untap_STAR_.call(null,m,inst_13744);var state_13776__$1=function(){var statearr_13805=state_13776;statearr_13805[24]=inst_13748;
return statearr_13805}();var statearr_13806_13879=state_13776__$1;statearr_13806_13879[2]=inst_13749;statearr_13806_13879[1]=41;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===33){var inst_13735=state_13776[25];var inst_13737=cljs.core.chunked_seq_QMARK_.call(null,inst_13735);var state_13776__$1=state_13776;if(inst_13737){var statearr_13807_13880=state_13776__$1;statearr_13807_13880[1]=36}else{var statearr_13808_13881=state_13776__$1;statearr_13808_13881[1]=
37}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===13){var inst_13667=state_13776[26];var inst_13670=cljs.core.async.close_BANG_.call(null,inst_13667);var state_13776__$1=state_13776;var statearr_13809_13882=state_13776__$1;statearr_13809_13882[2]=inst_13670;statearr_13809_13882[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===22){var inst_13688=state_13776[8];var inst_13691=cljs.core.async.close_BANG_.call(null,
inst_13688);var state_13776__$1=state_13776;var statearr_13810_13883=state_13776__$1;statearr_13810_13883[2]=inst_13691;statearr_13810_13883[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===36){var inst_13735=state_13776[25];var inst_13739=cljs.core.chunk_first.call(null,inst_13735);var inst_13740=cljs.core.chunk_rest.call(null,inst_13735);var inst_13741=cljs.core.count.call(null,inst_13739);var inst_13716=inst_13740;var inst_13717=inst_13739;var inst_13718=
inst_13741;var inst_13719=0;var state_13776__$1=function(){var statearr_13811=state_13776;statearr_13811[9]=inst_13717;statearr_13811[10]=inst_13719;statearr_13811[20]=inst_13718;statearr_13811[21]=inst_13716;return statearr_13811}();var statearr_13812_13884=state_13776__$1;statearr_13812_13884[2]=null;statearr_13812_13884[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===41){var inst_13735=state_13776[25];var inst_13751=state_13776[2];var inst_13752=cljs.core.next.call(null,
inst_13735);var inst_13716=inst_13752;var inst_13717=null;var inst_13718=0;var inst_13719=0;var state_13776__$1=function(){var statearr_13813=state_13776;statearr_13813[9]=inst_13717;statearr_13813[10]=inst_13719;statearr_13813[20]=inst_13718;statearr_13813[27]=inst_13751;statearr_13813[21]=inst_13716;return statearr_13813}();var statearr_13814_13885=state_13776__$1;statearr_13814_13885[2]=null;statearr_13814_13885[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===
43){var state_13776__$1=state_13776;var statearr_13815_13886=state_13776__$1;statearr_13815_13886[2]=null;statearr_13815_13886[1]=44;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===29){var inst_13760=state_13776[2];var state_13776__$1=state_13776;var statearr_13816_13887=state_13776__$1;statearr_13816_13887[2]=inst_13760;statearr_13816_13887[1]=26;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===44){var inst_13769=state_13776[2];
var state_13776__$1=function(){var statearr_13817=state_13776;statearr_13817[28]=inst_13769;return statearr_13817}();var statearr_13818_13888=state_13776__$1;statearr_13818_13888[2]=null;statearr_13818_13888[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===6){var inst_13708=state_13776[29];var inst_13707=cljs.core.deref.call(null,cs);var inst_13708__$1=cljs.core.keys.call(null,inst_13707);var inst_13709=cljs.core.count.call(null,inst_13708__$1);var inst_13710=
cljs.core.reset_BANG_.call(null,dctr,inst_13709);var inst_13715=cljs.core.seq.call(null,inst_13708__$1);var inst_13716=inst_13715;var inst_13717=null;var inst_13718=0;var inst_13719=0;var state_13776__$1=function(){var statearr_13819=state_13776;statearr_13819[9]=inst_13717;statearr_13819[10]=inst_13719;statearr_13819[29]=inst_13708__$1;statearr_13819[20]=inst_13718;statearr_13819[21]=inst_13716;statearr_13819[30]=inst_13710;return statearr_13819}();var statearr_13820_13889=state_13776__$1;statearr_13820_13889[2]=
null;statearr_13820_13889[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===28){var inst_13716=state_13776[21];var inst_13735=state_13776[25];var inst_13735__$1=cljs.core.seq.call(null,inst_13716);var state_13776__$1=function(){var statearr_13821=state_13776;statearr_13821[25]=inst_13735__$1;return statearr_13821}();if(inst_13735__$1){var statearr_13822_13890=state_13776__$1;statearr_13822_13890[1]=33}else{var statearr_13823_13891=state_13776__$1;statearr_13823_13891[1]=
34}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===25){var inst_13719=state_13776[10];var inst_13718=state_13776[20];var inst_13721=inst_13719<inst_13718;var inst_13722=inst_13721;var state_13776__$1=state_13776;if(cljs.core.truth_(inst_13722)){var statearr_13824_13892=state_13776__$1;statearr_13824_13892[1]=27}else{var statearr_13825_13893=state_13776__$1;statearr_13825_13893[1]=28}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===
34){var state_13776__$1=state_13776;var statearr_13826_13894=state_13776__$1;statearr_13826_13894[2]=null;statearr_13826_13894[1]=35;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===17){var state_13776__$1=state_13776;var statearr_13827_13895=state_13776__$1;statearr_13827_13895[2]=null;statearr_13827_13895[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===3){var inst_13774=state_13776[2];var state_13776__$1=state_13776;
return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_13776__$1,inst_13774)}else if(state_val_13777===12){var inst_13703=state_13776[2];var state_13776__$1=state_13776;var statearr_13828_13896=state_13776__$1;statearr_13828_13896[2]=inst_13703;statearr_13828_13896[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===2){var state_13776__$1=state_13776;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13776__$1,4,ch)}else if(state_val_13777===
23){var state_13776__$1=state_13776;var statearr_13829_13897=state_13776__$1;statearr_13829_13897[2]=null;statearr_13829_13897[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===35){var inst_13758=state_13776[2];var state_13776__$1=state_13776;var statearr_13830_13898=state_13776__$1;statearr_13830_13898[2]=inst_13758;statearr_13830_13898[1]=29;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===19){var inst_13677=state_13776[7];
var inst_13681=cljs.core.chunk_first.call(null,inst_13677);var inst_13682=cljs.core.chunk_rest.call(null,inst_13677);var inst_13683=cljs.core.count.call(null,inst_13681);var inst_13657=inst_13682;var inst_13658=inst_13681;var inst_13659=inst_13683;var inst_13660=0;var state_13776__$1=function(){var statearr_13831=state_13776;statearr_13831[13]=inst_13658;statearr_13831[14]=inst_13657;statearr_13831[15]=inst_13659;statearr_13831[17]=inst_13660;return statearr_13831}();var statearr_13832_13899=state_13776__$1;
statearr_13832_13899[2]=null;statearr_13832_13899[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===11){var inst_13657=state_13776[14];var inst_13677=state_13776[7];var inst_13677__$1=cljs.core.seq.call(null,inst_13657);var state_13776__$1=function(){var statearr_13833=state_13776;statearr_13833[7]=inst_13677__$1;return statearr_13833}();if(inst_13677__$1){var statearr_13834_13900=state_13776__$1;statearr_13834_13900[1]=16}else{var statearr_13835_13901=state_13776__$1;
statearr_13835_13901[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===9){var inst_13705=state_13776[2];var state_13776__$1=state_13776;var statearr_13836_13902=state_13776__$1;statearr_13836_13902[2]=inst_13705;statearr_13836_13902[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===5){var inst_13655=cljs.core.deref.call(null,cs);var inst_13656=cljs.core.seq.call(null,inst_13655);var inst_13657=inst_13656;var inst_13658=
null;var inst_13659=0;var inst_13660=0;var state_13776__$1=function(){var statearr_13837=state_13776;statearr_13837[13]=inst_13658;statearr_13837[14]=inst_13657;statearr_13837[15]=inst_13659;statearr_13837[17]=inst_13660;return statearr_13837}();var statearr_13838_13903=state_13776__$1;statearr_13838_13903[2]=null;statearr_13838_13903[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===14){var state_13776__$1=state_13776;var statearr_13839_13904=state_13776__$1;
statearr_13839_13904[2]=null;statearr_13839_13904[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===45){var inst_13766=state_13776[2];var state_13776__$1=state_13776;var statearr_13840_13905=state_13776__$1;statearr_13840_13905[2]=inst_13766;statearr_13840_13905[1]=44;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===26){var inst_13708=state_13776[29];var inst_13762=state_13776[2];var inst_13763=cljs.core.seq.call(null,
inst_13708);var state_13776__$1=function(){var statearr_13841=state_13776;statearr_13841[31]=inst_13762;return statearr_13841}();if(inst_13763){var statearr_13842_13906=state_13776__$1;statearr_13842_13906[1]=42}else{var statearr_13843_13907=state_13776__$1;statearr_13843_13907[1]=43}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===16){var inst_13677=state_13776[7];var inst_13679=cljs.core.chunked_seq_QMARK_.call(null,inst_13677);var state_13776__$1=state_13776;
if(inst_13679){var statearr_13844_13908=state_13776__$1;statearr_13844_13908[1]=19}else{var statearr_13845_13909=state_13776__$1;statearr_13845_13909[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===38){var inst_13755=state_13776[2];var state_13776__$1=state_13776;var statearr_13846_13910=state_13776__$1;statearr_13846_13910[2]=inst_13755;statearr_13846_13910[1]=35;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===
30){var state_13776__$1=state_13776;var statearr_13847_13911=state_13776__$1;statearr_13847_13911[2]=null;statearr_13847_13911[1]=32;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===10){var inst_13658=state_13776[13];var inst_13660=state_13776[17];var inst_13666=cljs.core._nth.call(null,inst_13658,inst_13660);var inst_13667=cljs.core.nth.call(null,inst_13666,0,null);var inst_13668=cljs.core.nth.call(null,inst_13666,1,null);var state_13776__$1=function(){var statearr_13848=
state_13776;statearr_13848[26]=inst_13667;return statearr_13848}();if(cljs.core.truth_(inst_13668)){var statearr_13849_13912=state_13776__$1;statearr_13849_13912[1]=13}else{var statearr_13850_13913=state_13776__$1;statearr_13850_13913[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===18){var inst_13701=state_13776[2];var state_13776__$1=state_13776;var statearr_13851_13914=state_13776__$1;statearr_13851_13914[2]=inst_13701;statearr_13851_13914[1]=12;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_13777===42){var state_13776__$1=state_13776;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_13776__$1,45,dchan)}else if(state_val_13777===37){var inst_13744=state_13776[23];var inst_13648=state_13776[11];var inst_13735=state_13776[25];var inst_13744__$1=cljs.core.first.call(null,inst_13735);var inst_13745=cljs.core.async.put_BANG_.call(null,inst_13744__$1,inst_13648,done);var state_13776__$1=function(){var statearr_13852=state_13776;
statearr_13852[23]=inst_13744__$1;return statearr_13852}();if(cljs.core.truth_(inst_13745)){var statearr_13853_13915=state_13776__$1;statearr_13853_13915[1]=39}else{var statearr_13854_13916=state_13776__$1;statearr_13854_13916[1]=40}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_13777===8){var inst_13659=state_13776[15];var inst_13660=state_13776[17];var inst_13662=inst_13660<inst_13659;var inst_13663=inst_13662;var state_13776__$1=state_13776;if(cljs.core.truth_(inst_13663)){var statearr_13855_13917=
state_13776__$1;statearr_13855_13917[1]=10}else{var statearr_13856_13918=state_13776__$1;statearr_13856_13918[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___13864,cs,m,dchan,dctr,done);return function(switch__12445__auto__,c__12557__auto___13864,cs,m,dchan,dctr,done){return function(){var cljs$core$async$mult_$_state_machine__12446__auto__=null;var cljs$core$async$mult_$_state_machine__12446__auto____0=function(){var statearr_13860=[null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_13860[0]=cljs$core$async$mult_$_state_machine__12446__auto__;statearr_13860[1]=1;return statearr_13860};var cljs$core$async$mult_$_state_machine__12446__auto____1=function(state_13776){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_13776);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e13861){if(e13861 instanceof Object){var ex__12449__auto__=e13861;var statearr_13862_13919=state_13776;statearr_13862_13919[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_13776);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e13861;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__13920=state_13776;state_13776=G__13920;continue}else return ret_value__12447__auto__;break}};cljs$core$async$mult_$_state_machine__12446__auto__=function(state_13776){switch(arguments.length){case 0:return cljs$core$async$mult_$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$mult_$_state_machine__12446__auto____1.call(this,state_13776)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$mult_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$mult_$_state_machine__12446__auto____0;cljs$core$async$mult_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$mult_$_state_machine__12446__auto____1;return cljs$core$async$mult_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___13864,cs,m,dchan,dctr,done)}();var state__12559__auto__=function(){var statearr_13863=f__12558__auto__.call(null);statearr_13863[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___13864;return statearr_13863}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___13864,cs,m,dchan,dctr,done));return m};
cljs.core.async.tap=function cljs$core$async$tap(var_args){var args13921=[];var len__7214__auto___13924=arguments.length;var i__7215__auto___13925=0;while(true){if(i__7215__auto___13925<len__7214__auto___13924){args13921.push(arguments[i__7215__auto___13925]);var G__13926=i__7215__auto___13925+1;i__7215__auto___13925=G__13926;continue}else;break}var G__13923=args13921.length;switch(G__13923){case 2:return cljs.core.async.tap.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.tap.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args13921.length)].join(""));}};cljs.core.async.tap.cljs$core$IFn$_invoke$arity$2=function(mult,ch){return cljs.core.async.tap.call(null,mult,ch,true)};cljs.core.async.tap.cljs$core$IFn$_invoke$arity$3=function(mult,ch,close_QMARK_){cljs.core.async.tap_STAR_.call(null,mult,ch,close_QMARK_);return ch};cljs.core.async.tap.cljs$lang$maxFixedArity=3;
cljs.core.async.untap=function cljs$core$async$untap(mult,ch){return cljs.core.async.untap_STAR_.call(null,mult,ch)};cljs.core.async.untap_all=function cljs$core$async$untap_all(mult){return cljs.core.async.untap_all_STAR_.call(null,mult)};cljs.core.async.Mix=function(){};
cljs.core.async.admix_STAR_=function cljs$core$async$admix_STAR_(m,ch){if(!(m==null)&&!(m.cljs$core$async$Mix$admix_STAR_$arity$2==null))return m.cljs$core$async$Mix$admix_STAR_$arity$2(m,ch);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.admix_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,ch);else{var m__6812__auto____$1=cljs.core.async.admix_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,ch);else throw cljs.core.missing_protocol.call(null,"Mix.admix*",m);}}};
cljs.core.async.unmix_STAR_=function cljs$core$async$unmix_STAR_(m,ch){if(!(m==null)&&!(m.cljs$core$async$Mix$unmix_STAR_$arity$2==null))return m.cljs$core$async$Mix$unmix_STAR_$arity$2(m,ch);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.unmix_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,ch);else{var m__6812__auto____$1=cljs.core.async.unmix_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,ch);else throw cljs.core.missing_protocol.call(null,"Mix.unmix*",m);}}};
cljs.core.async.unmix_all_STAR_=function cljs$core$async$unmix_all_STAR_(m){if(!(m==null)&&!(m.cljs$core$async$Mix$unmix_all_STAR_$arity$1==null))return m.cljs$core$async$Mix$unmix_all_STAR_$arity$1(m);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.unmix_all_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m);else{var m__6812__auto____$1=cljs.core.async.unmix_all_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m);else throw cljs.core.missing_protocol.call(null,"Mix.unmix-all*",m);}}};
cljs.core.async.toggle_STAR_=function cljs$core$async$toggle_STAR_(m,state_map){if(!(m==null)&&!(m.cljs$core$async$Mix$toggle_STAR_$arity$2==null))return m.cljs$core$async$Mix$toggle_STAR_$arity$2(m,state_map);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.toggle_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,state_map);else{var m__6812__auto____$1=cljs.core.async.toggle_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,state_map);else throw cljs.core.missing_protocol.call(null,"Mix.toggle*",m);}}};
cljs.core.async.solo_mode_STAR_=function cljs$core$async$solo_mode_STAR_(m,mode){if(!(m==null)&&!(m.cljs$core$async$Mix$solo_mode_STAR_$arity$2==null))return m.cljs$core$async$Mix$solo_mode_STAR_$arity$2(m,mode);else{var x__6811__auto__=m==null?null:m;var m__6812__auto__=cljs.core.async.solo_mode_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,m,mode);else{var m__6812__auto____$1=cljs.core.async.solo_mode_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
m,mode);else throw cljs.core.missing_protocol.call(null,"Mix.solo-mode*",m);}}};
cljs.core.async.ioc_alts_BANG_=function cljs$core$async$ioc_alts_BANG_(var_args){var args__7221__auto__=[];var len__7214__auto___13938=arguments.length;var i__7215__auto___13939=0;while(true){if(i__7215__auto___13939<len__7214__auto___13938){args__7221__auto__.push(arguments[i__7215__auto___13939]);var G__13940=i__7215__auto___13939+1;i__7215__auto___13939=G__13940;continue}else;break}var argseq__7222__auto__=3<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(3),0):null;
return cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7222__auto__)};
cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(state,cont_block,ports,p__13932){var map__13933=p__13932;var map__13933__$1=(!(map__13933==null)?map__13933.cljs$lang$protocol_mask$partition0$&64||map__13933.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__13933):map__13933;var opts=map__13933__$1;var statearr_13935_13941=state;statearr_13935_13941[cljs.core.async.impl.ioc_helpers.STATE_IDX]=cont_block;var temp__4657__auto__=cljs.core.async.do_alts.call(null,
function(map__13933,map__13933__$1,opts){return function(val){var statearr_13936_13942=state;statearr_13936_13942[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=val;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state)}}(map__13933,map__13933__$1,opts),ports,opts);if(cljs.core.truth_(temp__4657__auto__)){var cb=temp__4657__auto__;var statearr_13937_13943=state;statearr_13937_13943[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else return null};cljs.core.async.ioc_alts_BANG_.cljs$lang$maxFixedArity=3;
cljs.core.async.ioc_alts_BANG_.cljs$lang$applyTo=function(seq13928){var G__13929=cljs.core.first.call(null,seq13928);var seq13928__$1=cljs.core.next.call(null,seq13928);var G__13930=cljs.core.first.call(null,seq13928__$1);var seq13928__$2=cljs.core.next.call(null,seq13928__$1);var G__13931=cljs.core.first.call(null,seq13928__$2);var seq13928__$3=cljs.core.next.call(null,seq13928__$2);return cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__13929,G__13930,G__13931,seq13928__$3)};
cljs.core.async.mix=function cljs$core$async$mix(out){var cs=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var solo_modes=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pause","pause",-2095325672),null,new cljs.core.Keyword(null,"mute","mute",1151223646),null],null),null);var attrs=cljs.core.conj.call(null,solo_modes,new cljs.core.Keyword(null,"solo","solo",-316350075));var solo_mode=cljs.core.atom.call(null,new cljs.core.Keyword(null,
"mute","mute",1151223646));var change=cljs.core.async.chan.call(null);var changed=function(cs,solo_modes,attrs,solo_mode,change){return function(){return cljs.core.async.put_BANG_.call(null,change,true)}}(cs,solo_modes,attrs,solo_mode,change);var pick=function(cs,solo_modes,attrs,solo_mode,change,changed){return function(attr,chs){return cljs.core.reduce_kv.call(null,function(cs,solo_modes,attrs,solo_mode,change,changed){return function(ret,c,v){if(cljs.core.truth_(attr.call(null,v)))return cljs.core.conj.call(null,
ret,c);else return ret}}(cs,solo_modes,attrs,solo_mode,change,changed),cljs.core.PersistentHashSet.EMPTY,chs)}}(cs,solo_modes,attrs,solo_mode,change,changed);var calc_state=function(cs,solo_modes,attrs,solo_mode,change,changed,pick){return function(){var chs=cljs.core.deref.call(null,cs);var mode=cljs.core.deref.call(null,solo_mode);var solos=pick.call(null,new cljs.core.Keyword(null,"solo","solo",-316350075),chs);var pauses=pick.call(null,new cljs.core.Keyword(null,"pause","pause",-2095325672),chs);
return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"solos","solos",1441458643),solos,new cljs.core.Keyword(null,"mutes","mutes",1068806309),pick.call(null,new cljs.core.Keyword(null,"mute","mute",1151223646),chs),new cljs.core.Keyword(null,"reads","reads",-1215067361),cljs.core.conj.call(null,cljs.core._EQ_.call(null,mode,new cljs.core.Keyword(null,"pause","pause",-2095325672))&&!cljs.core.empty_QMARK_.call(null,solos)?cljs.core.vec.call(null,solos):cljs.core.vec.call(null,
cljs.core.remove.call(null,pauses,cljs.core.keys.call(null,chs))),change)],null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick);var m=function(){if(typeof cljs.core.async.t_cljs$core$async14107!=="undefined");else{cljs.core.async.t_cljs$core$async14107=function(change,mix,solo_mode,pick,cs,calc_state,out,changed,solo_modes,attrs,meta14108){this.change=change;this.mix=mix;this.solo_mode=solo_mode;this.pick=pick;this.cs=cs;this.calc_state=calc_state;this.out=out;this.changed=changed;this.solo_modes=
solo_modes;this.attrs=attrs;this.meta14108=meta14108;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_14109,meta14108__$1){var self__=this;var _14109__$1=this;return new cljs.core.async.t_cljs$core$async14107(self__.change,self__.mix,self__.solo_mode,self__.pick,self__.cs,self__.calc_state,
self__.out,self__.changed,self__.solo_modes,self__.attrs,meta14108__$1)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$IMeta$_meta$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_14109){var self__=this;var _14109__$1=this;return self__.meta14108}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mux$=
true;cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_){var self__=this;var ___$1=this;return self__.out}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$=true;cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$admix_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,
changed,pick,calc_state){return function(_,ch){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.assoc,ch,cljs.core.PersistentArrayMap.EMPTY);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$unmix_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,ch){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,
self__.cs,cljs.core.dissoc,ch);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$unmix_all_STAR_$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,self__.cs,cljs.core.PersistentArrayMap.EMPTY);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,
calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$toggle_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,state_map){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.partial.call(null,cljs.core.merge_with,cljs.core.merge),state_map);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.prototype.cljs$core$async$Mix$solo_mode_STAR_$arity$2=
function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,mode){var self__=this;var ___$1=this;if(cljs.core.truth_(self__.solo_modes.call(null,mode)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("mode must be one of: "),cljs.core.str(self__.solo_modes)].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"solo-modes","solo-modes",882180540,null),new cljs.core.Symbol(null,
"mode","mode",-2000032078,null))))].join(""));cljs.core.reset_BANG_.call(null,self__.solo_mode,mode);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.getBasis=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(){return new cljs.core.PersistentVector(null,11,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"change","change",477485025,null),cljs.core.with_meta(new cljs.core.Symbol(null,
"mix","mix",2121373763,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"out","out",729986010,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),"Creates and returns a mix of one or more input channels which will\n  be put on the supplied out channel. Input sources can be added to\n  the mix with 'admix', and removed with 'unmix'. A mix supports\n  soloing, muting and pausing multiple inputs atomically using\n  'toggle', and can solo using either muting or pausing as determined\n  by 'solo-mode'.\n\n  Each channel can have zero or more boolean modes set via 'toggle':\n\n  :solo - when true, only this (ond other soloed) channel(s) will appear\n          in the mix output channel. :mute and :pause states of soloed\n          channels are ignored. If solo-mode is :mute, non-soloed\n          channels are muted, if :pause, non-soloed channels are\n          paused.\n\n  :mute - muted channels will have their contents consumed but not included in the mix\n  :pause - paused channels will not have their contents consumed (and thus also not included in the mix)\n"],
null)),new cljs.core.Symbol(null,"solo-mode","solo-mode",2031788074,null),new cljs.core.Symbol(null,"pick","pick",1300068175,null),new cljs.core.Symbol(null,"cs","cs",-117024463,null),new cljs.core.Symbol(null,"calc-state","calc-state",-349968968,null),new cljs.core.Symbol(null,"out","out",729986010,null),new cljs.core.Symbol(null,"changed","changed",-2083710852,null),new cljs.core.Symbol(null,"solo-modes","solo-modes",882180540,null),new cljs.core.Symbol(null,"attrs","attrs",-450137186,null),new cljs.core.Symbol(null,
"meta14108","meta14108",370705733,null)],null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t_cljs$core$async14107.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14107.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async14107";cljs.core.async.t_cljs$core$async14107.cljs$lang$ctorPrWriter=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,
writer__6755__auto__,"cljs.core.async/t_cljs$core$async14107")}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.__GT_t_cljs$core$async14107=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function cljs$core$async$mix_$___GT_t_cljs$core$async14107(change__$1,mix__$1,solo_mode__$1,pick__$1,cs__$1,calc_state__$1,out__$1,changed__$1,solo_modes__$1,attrs__$1,meta14108){return new cljs.core.async.t_cljs$core$async14107(change__$1,mix__$1,solo_mode__$1,
pick__$1,cs__$1,calc_state__$1,out__$1,changed__$1,solo_modes__$1,attrs__$1,meta14108)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state)}return new cljs.core.async.t_cljs$core$async14107(change,cljs$core$async$mix,solo_mode,pick,cs,calc_state,out,changed,solo_modes,attrs,cljs.core.PersistentArrayMap.EMPTY)}();var c__12557__auto___14270=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,
pick,calc_state,m){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m){return function(state_14207){var state_val_14208=state_14207[1];if(state_val_14208===7){var inst_14125=state_14207[2];var state_14207__$1=state_14207;var statearr_14209_14271=state_14207__$1;statearr_14209_14271[2]=inst_14125;statearr_14209_14271[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===
20){var inst_14137=state_14207[7];var state_14207__$1=state_14207;var statearr_14210_14272=state_14207__$1;statearr_14210_14272[2]=inst_14137;statearr_14210_14272[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===27){var state_14207__$1=state_14207;var statearr_14211_14273=state_14207__$1;statearr_14211_14273[2]=null;statearr_14211_14273[1]=28;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===1){var inst_14113=state_14207[8];
var inst_14113__$1=calc_state.call(null);var inst_14115=inst_14113__$1==null;var inst_14116=cljs.core.not.call(null,inst_14115);var state_14207__$1=function(){var statearr_14212=state_14207;statearr_14212[8]=inst_14113__$1;return statearr_14212}();if(inst_14116){var statearr_14213_14274=state_14207__$1;statearr_14213_14274[1]=2}else{var statearr_14214_14275=state_14207__$1;statearr_14214_14275[1]=3}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===24){var inst_14160=
state_14207[9];var inst_14167=state_14207[10];var inst_14181=state_14207[11];var inst_14181__$1=inst_14160.call(null,inst_14167);var state_14207__$1=function(){var statearr_14215=state_14207;statearr_14215[11]=inst_14181__$1;return statearr_14215}();if(cljs.core.truth_(inst_14181__$1)){var statearr_14216_14276=state_14207__$1;statearr_14216_14276[1]=29}else{var statearr_14217_14277=state_14207__$1;statearr_14217_14277[1]=30}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===
4){var inst_14128=state_14207[2];var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14128)){var statearr_14218_14278=state_14207__$1;statearr_14218_14278[1]=8}else{var statearr_14219_14279=state_14207__$1;statearr_14219_14279[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===15){var inst_14154=state_14207[2];var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14154)){var statearr_14220_14280=state_14207__$1;statearr_14220_14280[1]=19}else{var statearr_14221_14281=
state_14207__$1;statearr_14221_14281[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===21){var inst_14159=state_14207[12];var inst_14159__$1=state_14207[2];var inst_14160=cljs.core.get.call(null,inst_14159__$1,new cljs.core.Keyword(null,"solos","solos",1441458643));var inst_14161=cljs.core.get.call(null,inst_14159__$1,new cljs.core.Keyword(null,"mutes","mutes",1068806309));var inst_14162=cljs.core.get.call(null,inst_14159__$1,new cljs.core.Keyword(null,
"reads","reads",-1215067361));var state_14207__$1=function(){var statearr_14222=state_14207;statearr_14222[9]=inst_14160;statearr_14222[13]=inst_14161;statearr_14222[12]=inst_14159__$1;return statearr_14222}();return cljs.core.async.ioc_alts_BANG_.call(null,state_14207__$1,22,inst_14162)}else if(state_val_14208===31){var inst_14189=state_14207[2];var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14189)){var statearr_14223_14282=state_14207__$1;statearr_14223_14282[1]=32}else{var statearr_14224_14283=
state_14207__$1;statearr_14224_14283[1]=33}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===32){var inst_14166=state_14207[14];var state_14207__$1=state_14207;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14207__$1,35,out,inst_14166)}else if(state_val_14208===33){var inst_14159=state_14207[12];var inst_14137=inst_14159;var state_14207__$1=function(){var statearr_14225=state_14207;statearr_14225[7]=inst_14137;return statearr_14225}();var statearr_14226_14284=
state_14207__$1;statearr_14226_14284[2]=null;statearr_14226_14284[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===13){var inst_14137=state_14207[7];var inst_14144=inst_14137.cljs$lang$protocol_mask$partition0$;var inst_14145=inst_14144&64;var inst_14146=inst_14137.cljs$core$ISeq$;var inst_14147=inst_14145||inst_14146;var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14147)){var statearr_14227_14285=state_14207__$1;statearr_14227_14285[1]=16}else{var statearr_14228_14286=
state_14207__$1;statearr_14228_14286[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===22){var inst_14167=state_14207[10];var inst_14166=state_14207[14];var inst_14165=state_14207[2];var inst_14166__$1=cljs.core.nth.call(null,inst_14165,0,null);var inst_14167__$1=cljs.core.nth.call(null,inst_14165,1,null);var inst_14168=inst_14166__$1==null;var inst_14169=cljs.core._EQ_.call(null,inst_14167__$1,change);var inst_14170=inst_14168||inst_14169;var state_14207__$1=
function(){var statearr_14229=state_14207;statearr_14229[10]=inst_14167__$1;statearr_14229[14]=inst_14166__$1;return statearr_14229}();if(cljs.core.truth_(inst_14170)){var statearr_14230_14287=state_14207__$1;statearr_14230_14287[1]=23}else{var statearr_14231_14288=state_14207__$1;statearr_14231_14288[1]=24}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===36){var inst_14159=state_14207[12];var inst_14137=inst_14159;var state_14207__$1=function(){var statearr_14232=
state_14207;statearr_14232[7]=inst_14137;return statearr_14232}();var statearr_14233_14289=state_14207__$1;statearr_14233_14289[2]=null;statearr_14233_14289[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===29){var inst_14181=state_14207[11];var state_14207__$1=state_14207;var statearr_14234_14290=state_14207__$1;statearr_14234_14290[2]=inst_14181;statearr_14234_14290[1]=31;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===
6){var state_14207__$1=state_14207;var statearr_14235_14291=state_14207__$1;statearr_14235_14291[2]=false;statearr_14235_14291[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===28){var inst_14177=state_14207[2];var inst_14178=calc_state.call(null);var inst_14137=inst_14178;var state_14207__$1=function(){var statearr_14236=state_14207;statearr_14236[7]=inst_14137;statearr_14236[15]=inst_14177;return statearr_14236}();var statearr_14237_14292=state_14207__$1;
statearr_14237_14292[2]=null;statearr_14237_14292[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===25){var inst_14203=state_14207[2];var state_14207__$1=state_14207;var statearr_14238_14293=state_14207__$1;statearr_14238_14293[2]=inst_14203;statearr_14238_14293[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===34){var inst_14201=state_14207[2];var state_14207__$1=state_14207;var statearr_14239_14294=state_14207__$1;
statearr_14239_14294[2]=inst_14201;statearr_14239_14294[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===17){var state_14207__$1=state_14207;var statearr_14240_14295=state_14207__$1;statearr_14240_14295[2]=false;statearr_14240_14295[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===3){var state_14207__$1=state_14207;var statearr_14241_14296=state_14207__$1;statearr_14241_14296[2]=false;statearr_14241_14296[1]=
4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===12){var inst_14205=state_14207[2];var state_14207__$1=state_14207;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14207__$1,inst_14205)}else if(state_val_14208===2){var inst_14113=state_14207[8];var inst_14118=inst_14113.cljs$lang$protocol_mask$partition0$;var inst_14119=inst_14118&64;var inst_14120=inst_14113.cljs$core$ISeq$;var inst_14121=inst_14119||inst_14120;var state_14207__$1=state_14207;
if(cljs.core.truth_(inst_14121)){var statearr_14242_14297=state_14207__$1;statearr_14242_14297[1]=5}else{var statearr_14243_14298=state_14207__$1;statearr_14243_14298[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===23){var inst_14166=state_14207[14];var inst_14172=inst_14166==null;var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14172)){var statearr_14244_14299=state_14207__$1;statearr_14244_14299[1]=26}else{var statearr_14245_14300=state_14207__$1;
statearr_14245_14300[1]=27}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===35){var inst_14192=state_14207[2];var state_14207__$1=state_14207;if(cljs.core.truth_(inst_14192)){var statearr_14246_14301=state_14207__$1;statearr_14246_14301[1]=36}else{var statearr_14247_14302=state_14207__$1;statearr_14247_14302[1]=37}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===19){var inst_14137=state_14207[7];var inst_14156=cljs.core.apply.call(null,
cljs.core.hash_map,inst_14137);var state_14207__$1=state_14207;var statearr_14248_14303=state_14207__$1;statearr_14248_14303[2]=inst_14156;statearr_14248_14303[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===11){var inst_14137=state_14207[7];var inst_14141=inst_14137==null;var inst_14142=cljs.core.not.call(null,inst_14141);var state_14207__$1=state_14207;if(inst_14142){var statearr_14249_14304=state_14207__$1;statearr_14249_14304[1]=13}else{var statearr_14250_14305=
state_14207__$1;statearr_14250_14305[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===9){var inst_14113=state_14207[8];var state_14207__$1=state_14207;var statearr_14251_14306=state_14207__$1;statearr_14251_14306[2]=inst_14113;statearr_14251_14306[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===5){var state_14207__$1=state_14207;var statearr_14252_14307=state_14207__$1;statearr_14252_14307[2]=true;statearr_14252_14307[1]=
7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===14){var state_14207__$1=state_14207;var statearr_14253_14308=state_14207__$1;statearr_14253_14308[2]=false;statearr_14253_14308[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===26){var inst_14167=state_14207[10];var inst_14174=cljs.core.swap_BANG_.call(null,cs,cljs.core.dissoc,inst_14167);var state_14207__$1=state_14207;var statearr_14254_14309=state_14207__$1;statearr_14254_14309[2]=
inst_14174;statearr_14254_14309[1]=28;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===16){var state_14207__$1=state_14207;var statearr_14255_14310=state_14207__$1;statearr_14255_14310[2]=true;statearr_14255_14310[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===38){var inst_14197=state_14207[2];var state_14207__$1=state_14207;var statearr_14256_14311=state_14207__$1;statearr_14256_14311[2]=inst_14197;statearr_14256_14311[1]=
34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===30){var inst_14160=state_14207[9];var inst_14161=state_14207[13];var inst_14167=state_14207[10];var inst_14184=cljs.core.empty_QMARK_.call(null,inst_14160);var inst_14185=inst_14161.call(null,inst_14167);var inst_14186=cljs.core.not.call(null,inst_14185);var inst_14187=inst_14184&&inst_14186;var state_14207__$1=state_14207;var statearr_14257_14312=state_14207__$1;statearr_14257_14312[2]=inst_14187;statearr_14257_14312[1]=
31;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===10){var inst_14113=state_14207[8];var inst_14133=state_14207[2];var inst_14134=cljs.core.get.call(null,inst_14133,new cljs.core.Keyword(null,"solos","solos",1441458643));var inst_14135=cljs.core.get.call(null,inst_14133,new cljs.core.Keyword(null,"mutes","mutes",1068806309));var inst_14136=cljs.core.get.call(null,inst_14133,new cljs.core.Keyword(null,"reads","reads",-1215067361));var inst_14137=inst_14113;var state_14207__$1=
function(){var statearr_14258=state_14207;statearr_14258[7]=inst_14137;statearr_14258[16]=inst_14134;statearr_14258[17]=inst_14135;statearr_14258[18]=inst_14136;return statearr_14258}();var statearr_14259_14313=state_14207__$1;statearr_14259_14313[2]=null;statearr_14259_14313[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===18){var inst_14151=state_14207[2];var state_14207__$1=state_14207;var statearr_14260_14314=state_14207__$1;statearr_14260_14314[2]=
inst_14151;statearr_14260_14314[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===37){var state_14207__$1=state_14207;var statearr_14261_14315=state_14207__$1;statearr_14261_14315[2]=null;statearr_14261_14315[1]=38;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14208===8){var inst_14113=state_14207[8];var inst_14130=cljs.core.apply.call(null,cljs.core.hash_map,inst_14113);var state_14207__$1=state_14207;var statearr_14262_14316=
state_14207__$1;statearr_14262_14316[2]=inst_14130;statearr_14262_14316[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m);return function(switch__12445__auto__,c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m){return function(){var cljs$core$async$mix_$_state_machine__12446__auto__=null;var cljs$core$async$mix_$_state_machine__12446__auto____0=
function(){var statearr_14266=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_14266[0]=cljs$core$async$mix_$_state_machine__12446__auto__;statearr_14266[1]=1;return statearr_14266};var cljs$core$async$mix_$_state_machine__12446__auto____1=function(state_14207){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14207);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14267){if(e14267 instanceof Object){var ex__12449__auto__=e14267;var statearr_14268_14317=state_14207;statearr_14268_14317[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14207);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e14267;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__14318=state_14207;state_14207=G__14318;continue}else return ret_value__12447__auto__;break}};cljs$core$async$mix_$_state_machine__12446__auto__=function(state_14207){switch(arguments.length){case 0:return cljs$core$async$mix_$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$mix_$_state_machine__12446__auto____1.call(this,state_14207)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$mix_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$mix_$_state_machine__12446__auto____0;cljs$core$async$mix_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$mix_$_state_machine__12446__auto____1;return cljs$core$async$mix_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m)}();var state__12559__auto__=function(){var statearr_14269=f__12558__auto__.call(null);statearr_14269[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto___14270;return statearr_14269}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___14270,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m));return m};cljs.core.async.admix=function cljs$core$async$admix(mix,ch){return cljs.core.async.admix_STAR_.call(null,mix,ch)};cljs.core.async.unmix=function cljs$core$async$unmix(mix,ch){return cljs.core.async.unmix_STAR_.call(null,mix,ch)};
cljs.core.async.unmix_all=function cljs$core$async$unmix_all(mix){return cljs.core.async.unmix_all_STAR_.call(null,mix)};cljs.core.async.toggle=function cljs$core$async$toggle(mix,state_map){return cljs.core.async.toggle_STAR_.call(null,mix,state_map)};cljs.core.async.solo_mode=function cljs$core$async$solo_mode(mix,mode){return cljs.core.async.solo_mode_STAR_.call(null,mix,mode)};cljs.core.async.Pub=function(){};
cljs.core.async.sub_STAR_=function cljs$core$async$sub_STAR_(p,v,ch,close_QMARK_){if(!(p==null)&&!(p.cljs$core$async$Pub$sub_STAR_$arity$4==null))return p.cljs$core$async$Pub$sub_STAR_$arity$4(p,v,ch,close_QMARK_);else{var x__6811__auto__=p==null?null:p;var m__6812__auto__=cljs.core.async.sub_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,p,v,ch,close_QMARK_);else{var m__6812__auto____$1=cljs.core.async.sub_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
p,v,ch,close_QMARK_);else throw cljs.core.missing_protocol.call(null,"Pub.sub*",p);}}};
cljs.core.async.unsub_STAR_=function cljs$core$async$unsub_STAR_(p,v,ch){if(!(p==null)&&!(p.cljs$core$async$Pub$unsub_STAR_$arity$3==null))return p.cljs$core$async$Pub$unsub_STAR_$arity$3(p,v,ch);else{var x__6811__auto__=p==null?null:p;var m__6812__auto__=cljs.core.async.unsub_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,p,v,ch);else{var m__6812__auto____$1=cljs.core.async.unsub_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
p,v,ch);else throw cljs.core.missing_protocol.call(null,"Pub.unsub*",p);}}};
cljs.core.async.unsub_all_STAR_=function cljs$core$async$unsub_all_STAR_(var_args){var args14319=[];var len__7214__auto___14322=arguments.length;var i__7215__auto___14323=0;while(true){if(i__7215__auto___14323<len__7214__auto___14322){args14319.push(arguments[i__7215__auto___14323]);var G__14324=i__7215__auto___14323+1;i__7215__auto___14323=G__14324;continue}else;break}var G__14321=args14319.length;switch(G__14321){case 1:return cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;
case 2:return cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14319.length)].join(""));}};
cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$1=function(p){if(!(p==null)&&!(p.cljs$core$async$Pub$unsub_all_STAR_$arity$1==null))return p.cljs$core$async$Pub$unsub_all_STAR_$arity$1(p);else{var x__6811__auto__=p==null?null:p;var m__6812__auto__=cljs.core.async.unsub_all_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,p);else{var m__6812__auto____$1=cljs.core.async.unsub_all_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
p);else throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",p);}}};
cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$2=function(p,v){if(!(p==null)&&!(p.cljs$core$async$Pub$unsub_all_STAR_$arity$2==null))return p.cljs$core$async$Pub$unsub_all_STAR_$arity$2(p,v);else{var x__6811__auto__=p==null?null:p;var m__6812__auto__=cljs.core.async.unsub_all_STAR_[goog.typeOf(x__6811__auto__)];if(!(m__6812__auto__==null))return m__6812__auto__.call(null,p,v);else{var m__6812__auto____$1=cljs.core.async.unsub_all_STAR_["_"];if(!(m__6812__auto____$1==null))return m__6812__auto____$1.call(null,
p,v);else throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",p);}}};cljs.core.async.unsub_all_STAR_.cljs$lang$maxFixedArity=2;
cljs.core.async.pub=function cljs$core$async$pub(var_args){var args14327=[];var len__7214__auto___14452=arguments.length;var i__7215__auto___14453=0;while(true){if(i__7215__auto___14453<len__7214__auto___14452){args14327.push(arguments[i__7215__auto___14453]);var G__14454=i__7215__auto___14453+1;i__7215__auto___14453=G__14454;continue}else;break}var G__14329=args14327.length;switch(G__14329){case 2:return cljs.core.async.pub.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.pub.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14327.length)].join(""));}};cljs.core.async.pub.cljs$core$IFn$_invoke$arity$2=function(ch,topic_fn){return cljs.core.async.pub.call(null,ch,topic_fn,cljs.core.constantly.call(null,null))};
cljs.core.async.pub.cljs$core$IFn$_invoke$arity$3=function(ch,topic_fn,buf_fn){var mults=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var ensure_mult=function(mults){return function(topic){var or__6156__auto__=cljs.core.get.call(null,cljs.core.deref.call(null,mults),topic);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return cljs.core.get.call(null,cljs.core.swap_BANG_.call(null,mults,function(or__6156__auto__,mults){return function(p1__14326_SHARP_){if(cljs.core.truth_(p1__14326_SHARP_.call(null,
topic)))return p1__14326_SHARP_;else return cljs.core.assoc.call(null,p1__14326_SHARP_,topic,cljs.core.async.mult.call(null,cljs.core.async.chan.call(null,buf_fn.call(null,topic))))}}(or__6156__auto__,mults)),topic)}}(mults);var p=function(){if(typeof cljs.core.async.t_cljs$core$async14330!=="undefined");else{cljs.core.async.t_cljs$core$async14330=function(ch,topic_fn,buf_fn,mults,ensure_mult,meta14331){this.ch=ch;this.topic_fn=topic_fn;this.buf_fn=buf_fn;this.mults=mults;this.ensure_mult=ensure_mult;
this.meta14331=meta14331;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(mults,ensure_mult){return function(_14332,meta14331__$1){var self__=this;var _14332__$1=this;return new cljs.core.async.t_cljs$core$async14330(self__.ch,self__.topic_fn,self__.buf_fn,self__.mults,self__.ensure_mult,meta14331__$1)}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$IMeta$_meta$arity$1=
function(mults,ensure_mult){return function(_14332){var self__=this;var _14332__$1=this;return self__.meta14331}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Mux$=true;cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(mults,ensure_mult){return function(_){var self__=this;var ___$1=this;return self__.ch}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Pub$=true;cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Pub$sub_STAR_$arity$4=
function(mults,ensure_mult){return function(p,topic,ch__$1,close_QMARK_){var self__=this;var p__$1=this;var m=self__.ensure_mult.call(null,topic);return cljs.core.async.tap.call(null,m,ch__$1,close_QMARK_)}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Pub$unsub_STAR_$arity$3=function(mults,ensure_mult){return function(p,topic,ch__$1){var self__=this;var p__$1=this;var temp__4657__auto__=cljs.core.get.call(null,cljs.core.deref.call(null,self__.mults),topic);
if(cljs.core.truth_(temp__4657__auto__)){var m=temp__4657__auto__;return cljs.core.async.untap.call(null,m,ch__$1)}else return null}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$1=function(mults,ensure_mult){return function(_){var self__=this;var ___$1=this;return cljs.core.reset_BANG_.call(null,self__.mults,cljs.core.PersistentArrayMap.EMPTY)}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$2=
function(mults,ensure_mult){return function(_,topic){var self__=this;var ___$1=this;return cljs.core.swap_BANG_.call(null,self__.mults,cljs.core.dissoc,topic)}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.getBasis=function(mults,ensure_mult){return function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"topic-fn","topic-fn",-862449736,null),new cljs.core.Symbol(null,
"buf-fn","buf-fn",-1200281591,null),new cljs.core.Symbol(null,"mults","mults",-461114485,null),new cljs.core.Symbol(null,"ensure-mult","ensure-mult",1796584816,null),new cljs.core.Symbol(null,"meta14331","meta14331",-1404079490,null)],null)}}(mults,ensure_mult);cljs.core.async.t_cljs$core$async14330.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14330.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async14330";cljs.core.async.t_cljs$core$async14330.cljs$lang$ctorPrWriter=function(mults,ensure_mult){return function(this__6754__auto__,
writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async14330")}}(mults,ensure_mult);cljs.core.async.__GT_t_cljs$core$async14330=function(mults,ensure_mult){return function cljs$core$async$__GT_t_cljs$core$async14330(ch__$1,topic_fn__$1,buf_fn__$1,mults__$1,ensure_mult__$1,meta14331){return new cljs.core.async.t_cljs$core$async14330(ch__$1,topic_fn__$1,buf_fn__$1,mults__$1,ensure_mult__$1,meta14331)}}(mults,ensure_mult)}return new cljs.core.async.t_cljs$core$async14330(ch,
topic_fn,buf_fn,mults,ensure_mult,cljs.core.PersistentArrayMap.EMPTY)}();var c__12557__auto___14456=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14456,mults,ensure_mult,p){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14456,mults,ensure_mult,p){return function(state_14404){var state_val_14405=state_14404[1];if(state_val_14405===7){var inst_14400=state_14404[2];var state_14404__$1=state_14404;
var statearr_14406_14457=state_14404__$1;statearr_14406_14457[2]=inst_14400;statearr_14406_14457[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===20){var state_14404__$1=state_14404;var statearr_14407_14458=state_14404__$1;statearr_14407_14458[2]=null;statearr_14407_14458[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===1){var state_14404__$1=state_14404;var statearr_14408_14459=state_14404__$1;statearr_14408_14459[2]=
null;statearr_14408_14459[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===24){var inst_14383=state_14404[7];var inst_14392=cljs.core.swap_BANG_.call(null,mults,cljs.core.dissoc,inst_14383);var state_14404__$1=state_14404;var statearr_14409_14460=state_14404__$1;statearr_14409_14460[2]=inst_14392;statearr_14409_14460[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===4){var inst_14335=state_14404[8];var inst_14335__$1=
state_14404[2];var inst_14336=inst_14335__$1==null;var state_14404__$1=function(){var statearr_14410=state_14404;statearr_14410[8]=inst_14335__$1;return statearr_14410}();if(cljs.core.truth_(inst_14336)){var statearr_14411_14461=state_14404__$1;statearr_14411_14461[1]=5}else{var statearr_14412_14462=state_14404__$1;statearr_14412_14462[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===15){var inst_14377=state_14404[2];var state_14404__$1=state_14404;var statearr_14413_14463=
state_14404__$1;statearr_14413_14463[2]=inst_14377;statearr_14413_14463[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===21){var inst_14397=state_14404[2];var state_14404__$1=function(){var statearr_14414=state_14404;statearr_14414[9]=inst_14397;return statearr_14414}();var statearr_14415_14464=state_14404__$1;statearr_14415_14464[2]=null;statearr_14415_14464[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===13){var inst_14359=
state_14404[10];var inst_14361=cljs.core.chunked_seq_QMARK_.call(null,inst_14359);var state_14404__$1=state_14404;if(inst_14361){var statearr_14416_14465=state_14404__$1;statearr_14416_14465[1]=16}else{var statearr_14417_14466=state_14404__$1;statearr_14417_14466[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===22){var inst_14389=state_14404[2];var state_14404__$1=state_14404;if(cljs.core.truth_(inst_14389)){var statearr_14418_14467=state_14404__$1;statearr_14418_14467[1]=
23}else{var statearr_14419_14468=state_14404__$1;statearr_14419_14468[1]=24}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===6){var inst_14385=state_14404[11];var inst_14383=state_14404[7];var inst_14335=state_14404[8];var inst_14383__$1=topic_fn.call(null,inst_14335);var inst_14384=cljs.core.deref.call(null,mults);var inst_14385__$1=cljs.core.get.call(null,inst_14384,inst_14383__$1);var state_14404__$1=function(){var statearr_14420=state_14404;statearr_14420[11]=
inst_14385__$1;statearr_14420[7]=inst_14383__$1;return statearr_14420}();if(cljs.core.truth_(inst_14385__$1)){var statearr_14421_14469=state_14404__$1;statearr_14421_14469[1]=19}else{var statearr_14422_14470=state_14404__$1;statearr_14422_14470[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===25){var inst_14394=state_14404[2];var state_14404__$1=state_14404;var statearr_14423_14471=state_14404__$1;statearr_14423_14471[2]=inst_14394;statearr_14423_14471[1]=
21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===17){var inst_14359=state_14404[10];var inst_14368=cljs.core.first.call(null,inst_14359);var inst_14369=cljs.core.async.muxch_STAR_.call(null,inst_14368);var inst_14370=cljs.core.async.close_BANG_.call(null,inst_14369);var inst_14371=cljs.core.next.call(null,inst_14359);var inst_14345=inst_14371;var inst_14346=null;var inst_14347=0;var inst_14348=0;var state_14404__$1=function(){var statearr_14424=state_14404;
statearr_14424[12]=inst_14345;statearr_14424[13]=inst_14370;statearr_14424[14]=inst_14348;statearr_14424[15]=inst_14347;statearr_14424[16]=inst_14346;return statearr_14424}();var statearr_14425_14472=state_14404__$1;statearr_14425_14472[2]=null;statearr_14425_14472[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===3){var inst_14402=state_14404[2];var state_14404__$1=state_14404;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14404__$1,
inst_14402)}else if(state_val_14405===12){var inst_14379=state_14404[2];var state_14404__$1=state_14404;var statearr_14426_14473=state_14404__$1;statearr_14426_14473[2]=inst_14379;statearr_14426_14473[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===2){var state_14404__$1=state_14404;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_14404__$1,4,ch)}else if(state_val_14405===23){var state_14404__$1=state_14404;var statearr_14427_14474=state_14404__$1;
statearr_14427_14474[2]=null;statearr_14427_14474[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===19){var inst_14385=state_14404[11];var inst_14335=state_14404[8];var inst_14387=cljs.core.async.muxch_STAR_.call(null,inst_14385);var state_14404__$1=state_14404;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14404__$1,22,inst_14387,inst_14335)}else if(state_val_14405===11){var inst_14345=state_14404[12];var inst_14359=state_14404[10];var inst_14359__$1=
cljs.core.seq.call(null,inst_14345);var state_14404__$1=function(){var statearr_14428=state_14404;statearr_14428[10]=inst_14359__$1;return statearr_14428}();if(inst_14359__$1){var statearr_14429_14475=state_14404__$1;statearr_14429_14475[1]=13}else{var statearr_14430_14476=state_14404__$1;statearr_14430_14476[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===9){var inst_14381=state_14404[2];var state_14404__$1=state_14404;var statearr_14431_14477=state_14404__$1;
statearr_14431_14477[2]=inst_14381;statearr_14431_14477[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===5){var inst_14342=cljs.core.deref.call(null,mults);var inst_14343=cljs.core.vals.call(null,inst_14342);var inst_14344=cljs.core.seq.call(null,inst_14343);var inst_14345=inst_14344;var inst_14346=null;var inst_14347=0;var inst_14348=0;var state_14404__$1=function(){var statearr_14432=state_14404;statearr_14432[12]=inst_14345;statearr_14432[14]=inst_14348;
statearr_14432[15]=inst_14347;statearr_14432[16]=inst_14346;return statearr_14432}();var statearr_14433_14478=state_14404__$1;statearr_14433_14478[2]=null;statearr_14433_14478[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===14){var state_14404__$1=state_14404;var statearr_14437_14479=state_14404__$1;statearr_14437_14479[2]=null;statearr_14437_14479[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===16){var inst_14359=
state_14404[10];var inst_14363=cljs.core.chunk_first.call(null,inst_14359);var inst_14364=cljs.core.chunk_rest.call(null,inst_14359);var inst_14365=cljs.core.count.call(null,inst_14363);var inst_14345=inst_14364;var inst_14346=inst_14363;var inst_14347=inst_14365;var inst_14348=0;var state_14404__$1=function(){var statearr_14438=state_14404;statearr_14438[12]=inst_14345;statearr_14438[14]=inst_14348;statearr_14438[15]=inst_14347;statearr_14438[16]=inst_14346;return statearr_14438}();var statearr_14439_14480=
state_14404__$1;statearr_14439_14480[2]=null;statearr_14439_14480[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===10){var inst_14345=state_14404[12];var inst_14348=state_14404[14];var inst_14347=state_14404[15];var inst_14346=state_14404[16];var inst_14353=cljs.core._nth.call(null,inst_14346,inst_14348);var inst_14354=cljs.core.async.muxch_STAR_.call(null,inst_14353);var inst_14355=cljs.core.async.close_BANG_.call(null,inst_14354);var inst_14356=inst_14348+
1;var tmp14434=inst_14345;var tmp14435=inst_14347;var tmp14436=inst_14346;var inst_14345__$1=tmp14434;var inst_14346__$1=tmp14436;var inst_14347__$1=tmp14435;var inst_14348__$1=inst_14356;var state_14404__$1=function(){var statearr_14440=state_14404;statearr_14440[17]=inst_14355;statearr_14440[12]=inst_14345__$1;statearr_14440[14]=inst_14348__$1;statearr_14440[15]=inst_14347__$1;statearr_14440[16]=inst_14346__$1;return statearr_14440}();var statearr_14441_14481=state_14404__$1;statearr_14441_14481[2]=
null;statearr_14441_14481[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===18){var inst_14374=state_14404[2];var state_14404__$1=state_14404;var statearr_14442_14482=state_14404__$1;statearr_14442_14482[2]=inst_14374;statearr_14442_14482[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14405===8){var inst_14348=state_14404[14];var inst_14347=state_14404[15];var inst_14350=inst_14348<inst_14347;var inst_14351=inst_14350;
var state_14404__$1=state_14404;if(cljs.core.truth_(inst_14351)){var statearr_14443_14483=state_14404__$1;statearr_14443_14483[1]=10}else{var statearr_14444_14484=state_14404__$1;statearr_14444_14484[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___14456,mults,ensure_mult,p);return function(switch__12445__auto__,c__12557__auto___14456,mults,ensure_mult,p){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=
function(){var statearr_14448=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_14448[0]=cljs$core$async$state_machine__12446__auto__;statearr_14448[1]=1;return statearr_14448};var cljs$core$async$state_machine__12446__auto____1=function(state_14404){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14404);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14449){if(e14449 instanceof Object){var ex__12449__auto__=e14449;var statearr_14450_14485=state_14404;statearr_14450_14485[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14404);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e14449;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268))){var G__14486=state_14404;state_14404=G__14486;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_14404){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_14404)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14456,mults,ensure_mult,p)}();var state__12559__auto__=function(){var statearr_14451=f__12558__auto__.call(null);statearr_14451[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___14456;return statearr_14451}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___14456,mults,ensure_mult,p));return p};cljs.core.async.pub.cljs$lang$maxFixedArity=3;
cljs.core.async.sub=function cljs$core$async$sub(var_args){var args14487=[];var len__7214__auto___14490=arguments.length;var i__7215__auto___14491=0;while(true){if(i__7215__auto___14491<len__7214__auto___14490){args14487.push(arguments[i__7215__auto___14491]);var G__14492=i__7215__auto___14491+1;i__7215__auto___14491=G__14492;continue}else;break}var G__14489=args14487.length;switch(G__14489){case 3:return cljs.core.async.sub.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;
case 4:return cljs.core.async.sub.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14487.length)].join(""));}};cljs.core.async.sub.cljs$core$IFn$_invoke$arity$3=function(p,topic,ch){return cljs.core.async.sub.call(null,p,topic,ch,true)};cljs.core.async.sub.cljs$core$IFn$_invoke$arity$4=function(p,topic,ch,close_QMARK_){return cljs.core.async.sub_STAR_.call(null,p,topic,ch,close_QMARK_)};
cljs.core.async.sub.cljs$lang$maxFixedArity=4;cljs.core.async.unsub=function cljs$core$async$unsub(p,topic,ch){return cljs.core.async.unsub_STAR_.call(null,p,topic,ch)};
cljs.core.async.unsub_all=function cljs$core$async$unsub_all(var_args){var args14494=[];var len__7214__auto___14497=arguments.length;var i__7215__auto___14498=0;while(true){if(i__7215__auto___14498<len__7214__auto___14497){args14494.push(arguments[i__7215__auto___14498]);var G__14499=i__7215__auto___14498+1;i__7215__auto___14498=G__14499;continue}else;break}var G__14496=args14494.length;switch(G__14496){case 1:return cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14494.length)].join(""));}};cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$1=function(p){return cljs.core.async.unsub_all_STAR_.call(null,p)};cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$2=function(p,topic){return cljs.core.async.unsub_all_STAR_.call(null,p,topic)};cljs.core.async.unsub_all.cljs$lang$maxFixedArity=2;
cljs.core.async.map=function cljs$core$async$map(var_args){var args14501=[];var len__7214__auto___14572=arguments.length;var i__7215__auto___14573=0;while(true){if(i__7215__auto___14573<len__7214__auto___14572){args14501.push(arguments[i__7215__auto___14573]);var G__14574=i__7215__auto___14573+1;i__7215__auto___14573=G__14574;continue}else;break}var G__14503=args14501.length;switch(G__14503){case 2:return cljs.core.async.map.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.map.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14501.length)].join(""));}};cljs.core.async.map.cljs$core$IFn$_invoke$arity$2=function(f,chs){return cljs.core.async.map.call(null,f,chs,null)};
cljs.core.async.map.cljs$core$IFn$_invoke$arity$3=function(f,chs,buf_or_n){var chs__$1=cljs.core.vec.call(null,chs);var out=cljs.core.async.chan.call(null,buf_or_n);var cnt=cljs.core.count.call(null,chs__$1);var rets=cljs.core.object_array.call(null,cnt);var dchan=cljs.core.async.chan.call(null,1);var dctr=cljs.core.atom.call(null,null);var done=cljs.core.mapv.call(null,function(chs__$1,out,cnt,rets,dchan,dctr){return function(i){return function(chs__$1,out,cnt,rets,dchan,dctr){return function(ret){rets[i]=
ret;if(cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec)===0)return cljs.core.async.put_BANG_.call(null,dchan,rets.slice(0));else return null}}(chs__$1,out,cnt,rets,dchan,dctr)}}(chs__$1,out,cnt,rets,dchan,dctr),cljs.core.range.call(null,cnt));var c__12557__auto___14576=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14576,chs__$1,out,cnt,rets,dchan,dctr,done){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14576,
chs__$1,out,cnt,rets,dchan,dctr,done){return function(state_14542){var state_val_14543=state_14542[1];if(state_val_14543===7){var state_14542__$1=state_14542;var statearr_14544_14577=state_14542__$1;statearr_14544_14577[2]=null;statearr_14544_14577[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===1){var state_14542__$1=state_14542;var statearr_14545_14578=state_14542__$1;statearr_14545_14578[2]=null;statearr_14545_14578[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_14543===4){var inst_14506=state_14542[7];var inst_14508=inst_14506<cnt;var state_14542__$1=state_14542;if(cljs.core.truth_(inst_14508)){var statearr_14546_14579=state_14542__$1;statearr_14546_14579[1]=6}else{var statearr_14547_14580=state_14542__$1;statearr_14547_14580[1]=7}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===15){var inst_14538=state_14542[2];var state_14542__$1=state_14542;var statearr_14548_14581=state_14542__$1;
statearr_14548_14581[2]=inst_14538;statearr_14548_14581[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===13){var inst_14531=cljs.core.async.close_BANG_.call(null,out);var state_14542__$1=state_14542;var statearr_14549_14582=state_14542__$1;statearr_14549_14582[2]=inst_14531;statearr_14549_14582[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===6){var state_14542__$1=state_14542;var statearr_14550_14583=state_14542__$1;
statearr_14550_14583[2]=null;statearr_14550_14583[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===3){var inst_14540=state_14542[2];var state_14542__$1=state_14542;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14542__$1,inst_14540)}else if(state_val_14543===12){var inst_14528=state_14542[8];var inst_14528__$1=state_14542[2];var inst_14529=cljs.core.some.call(null,cljs.core.nil_QMARK_,inst_14528__$1);var state_14542__$1=function(){var statearr_14551=
state_14542;statearr_14551[8]=inst_14528__$1;return statearr_14551}();if(cljs.core.truth_(inst_14529)){var statearr_14552_14584=state_14542__$1;statearr_14552_14584[1]=13}else{var statearr_14553_14585=state_14542__$1;statearr_14553_14585[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===2){var inst_14505=cljs.core.reset_BANG_.call(null,dctr,cnt);var inst_14506=0;var state_14542__$1=function(){var statearr_14554=state_14542;statearr_14554[7]=inst_14506;statearr_14554[9]=
inst_14505;return statearr_14554}();var statearr_14555_14586=state_14542__$1;statearr_14555_14586[2]=null;statearr_14555_14586[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===11){var inst_14506=state_14542[7];var _=cljs.core.async.impl.ioc_helpers.add_exception_frame.call(null,state_14542,10,Object,null,9);var inst_14515=chs__$1.call(null,inst_14506);var inst_14516=done.call(null,inst_14506);var inst_14517=cljs.core.async.take_BANG_.call(null,inst_14515,
inst_14516);var state_14542__$1=state_14542;var statearr_14556_14587=state_14542__$1;statearr_14556_14587[2]=inst_14517;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14542__$1);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===9){var inst_14506=state_14542[7];var inst_14519=state_14542[2];var inst_14520=inst_14506+1;var inst_14506__$1=inst_14520;var state_14542__$1=function(){var statearr_14557=state_14542;statearr_14557[7]=inst_14506__$1;
statearr_14557[10]=inst_14519;return statearr_14557}();var statearr_14558_14588=state_14542__$1;statearr_14558_14588[2]=null;statearr_14558_14588[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===5){var inst_14526=state_14542[2];var state_14542__$1=function(){var statearr_14559=state_14542;statearr_14559[11]=inst_14526;return statearr_14559}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_14542__$1,12,dchan)}else if(state_val_14543===
14){var inst_14528=state_14542[8];var inst_14533=cljs.core.apply.call(null,f,inst_14528);var state_14542__$1=state_14542;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14542__$1,16,out,inst_14533)}else if(state_val_14543===16){var inst_14535=state_14542[2];var state_14542__$1=function(){var statearr_14560=state_14542;statearr_14560[12]=inst_14535;return statearr_14560}();var statearr_14561_14589=state_14542__$1;statearr_14561_14589[2]=null;statearr_14561_14589[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_14543===10){var inst_14510=state_14542[2];var inst_14511=cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec);var state_14542__$1=function(){var statearr_14562=state_14542;statearr_14562[13]=inst_14510;return statearr_14562}();var statearr_14563_14590=state_14542__$1;statearr_14563_14590[2]=inst_14511;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14542__$1);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14543===
8){var inst_14524=state_14542[2];var state_14542__$1=state_14542;var statearr_14564_14591=state_14542__$1;statearr_14564_14591[2]=inst_14524;statearr_14564_14591[1]=5;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___14576,chs__$1,out,cnt,rets,dchan,dctr,done);return function(switch__12445__auto__,c__12557__auto___14576,chs__$1,out,cnt,rets,dchan,dctr,done){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=
function(){var statearr_14568=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_14568[0]=cljs$core$async$state_machine__12446__auto__;statearr_14568[1]=1;return statearr_14568};var cljs$core$async$state_machine__12446__auto____1=function(state_14542){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14542);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14569){if(e14569 instanceof Object){var ex__12449__auto__=e14569;var statearr_14570_14592=state_14542;statearr_14570_14592[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14542);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e14569;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268))){var G__14593=state_14542;state_14542=G__14593;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_14542){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_14542)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;
cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14576,chs__$1,out,cnt,rets,dchan,dctr,done)}();var state__12559__auto__=function(){var statearr_14571=f__12558__auto__.call(null);statearr_14571[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___14576;return statearr_14571}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___14576,chs__$1,out,cnt,rets,dchan,dctr,done));return out};cljs.core.async.map.cljs$lang$maxFixedArity=3;
cljs.core.async.merge=function cljs$core$async$merge(var_args){var args14595=[];var len__7214__auto___14651=arguments.length;var i__7215__auto___14652=0;while(true){if(i__7215__auto___14652<len__7214__auto___14651){args14595.push(arguments[i__7215__auto___14652]);var G__14653=i__7215__auto___14652+1;i__7215__auto___14652=G__14653;continue}else;break}var G__14597=args14595.length;switch(G__14597){case 1:return cljs.core.async.merge.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.async.merge.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14595.length)].join(""));}};cljs.core.async.merge.cljs$core$IFn$_invoke$arity$1=function(chs){return cljs.core.async.merge.call(null,chs,null)};
cljs.core.async.merge.cljs$core$IFn$_invoke$arity$2=function(chs,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___14655=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14655,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14655,out){return function(state_14627){var state_val_14628=state_14627[1];if(state_val_14628===7){var inst_14607=state_14627[7];var inst_14606=
state_14627[8];var inst_14606__$1=state_14627[2];var inst_14607__$1=cljs.core.nth.call(null,inst_14606__$1,0,null);var inst_14608=cljs.core.nth.call(null,inst_14606__$1,1,null);var inst_14609=inst_14607__$1==null;var state_14627__$1=function(){var statearr_14629=state_14627;statearr_14629[7]=inst_14607__$1;statearr_14629[8]=inst_14606__$1;statearr_14629[9]=inst_14608;return statearr_14629}();if(cljs.core.truth_(inst_14609)){var statearr_14630_14656=state_14627__$1;statearr_14630_14656[1]=8}else{var statearr_14631_14657=
state_14627__$1;statearr_14631_14657[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===1){var inst_14598=cljs.core.vec.call(null,chs);var inst_14599=inst_14598;var state_14627__$1=function(){var statearr_14632=state_14627;statearr_14632[10]=inst_14599;return statearr_14632}();var statearr_14633_14658=state_14627__$1;statearr_14633_14658[2]=null;statearr_14633_14658[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===
4){var inst_14599=state_14627[10];var state_14627__$1=state_14627;return cljs.core.async.ioc_alts_BANG_.call(null,state_14627__$1,7,inst_14599)}else if(state_val_14628===6){var inst_14623=state_14627[2];var state_14627__$1=state_14627;var statearr_14634_14659=state_14627__$1;statearr_14634_14659[2]=inst_14623;statearr_14634_14659[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===3){var inst_14625=state_14627[2];var state_14627__$1=state_14627;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_14627__$1,inst_14625)}else if(state_val_14628===2){var inst_14599=state_14627[10];var inst_14601=cljs.core.count.call(null,inst_14599);var inst_14602=inst_14601>0;var state_14627__$1=state_14627;if(cljs.core.truth_(inst_14602)){var statearr_14636_14660=state_14627__$1;statearr_14636_14660[1]=4}else{var statearr_14637_14661=state_14627__$1;statearr_14637_14661[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===11){var inst_14599=state_14627[10];var inst_14616=
state_14627[2];var tmp14635=inst_14599;var inst_14599__$1=tmp14635;var state_14627__$1=function(){var statearr_14638=state_14627;statearr_14638[10]=inst_14599__$1;statearr_14638[11]=inst_14616;return statearr_14638}();var statearr_14639_14662=state_14627__$1;statearr_14639_14662[2]=null;statearr_14639_14662[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===9){var inst_14607=state_14627[7];var state_14627__$1=state_14627;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,
state_14627__$1,11,out,inst_14607)}else if(state_val_14628===5){var inst_14621=cljs.core.async.close_BANG_.call(null,out);var state_14627__$1=state_14627;var statearr_14640_14663=state_14627__$1;statearr_14640_14663[2]=inst_14621;statearr_14640_14663[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===10){var inst_14619=state_14627[2];var state_14627__$1=state_14627;var statearr_14641_14664=state_14627__$1;statearr_14641_14664[2]=inst_14619;statearr_14641_14664[1]=
6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14628===8){var inst_14607=state_14627[7];var inst_14599=state_14627[10];var inst_14606=state_14627[8];var inst_14608=state_14627[9];var inst_14611=function(){var cs=inst_14599;var vec__14604=inst_14606;var v=inst_14607;var c=inst_14608;return function(cs,vec__14604,v,c,inst_14607,inst_14599,inst_14606,inst_14608,state_val_14628,c__12557__auto___14655,out){return function(p1__14594_SHARP_){return cljs.core.not_EQ_.call(null,
c,p1__14594_SHARP_)}}(cs,vec__14604,v,c,inst_14607,inst_14599,inst_14606,inst_14608,state_val_14628,c__12557__auto___14655,out)}();var inst_14612=cljs.core.filterv.call(null,inst_14611,inst_14599);var inst_14599__$1=inst_14612;var state_14627__$1=function(){var statearr_14642=state_14627;statearr_14642[10]=inst_14599__$1;return statearr_14642}();var statearr_14643_14665=state_14627__$1;statearr_14643_14665[2]=null;statearr_14643_14665[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___14655,
out);return function(switch__12445__auto__,c__12557__auto___14655,out){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_14647=[null,null,null,null,null,null,null,null,null,null,null,null];statearr_14647[0]=cljs$core$async$state_machine__12446__auto__;statearr_14647[1]=1;return statearr_14647};var cljs$core$async$state_machine__12446__auto____1=function(state_14627){while(true){var ret_value__12447__auto__=
function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14627);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14648){if(e14648 instanceof Object){var ex__12449__auto__=e14648;var statearr_14649_14666=state_14627;statearr_14649_14666[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14627);return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else throw e14648;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__14667=state_14627;state_14627=G__14667;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_14627){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,
state_14627)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14655,out)}();var state__12559__auto__=function(){var statearr_14650=f__12558__auto__.call(null);
statearr_14650[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___14655;return statearr_14650}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___14655,out));return out};cljs.core.async.merge.cljs$lang$maxFixedArity=2;cljs.core.async.into=function cljs$core$async$into(coll,ch){return cljs.core.async.reduce.call(null,cljs.core.conj,coll,ch)};
cljs.core.async.take=function cljs$core$async$take(var_args){var args14668=[];var len__7214__auto___14717=arguments.length;var i__7215__auto___14718=0;while(true){if(i__7215__auto___14718<len__7214__auto___14717){args14668.push(arguments[i__7215__auto___14718]);var G__14719=i__7215__auto___14718+1;i__7215__auto___14718=G__14719;continue}else;break}var G__14670=args14668.length;switch(G__14670){case 2:return cljs.core.async.take.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;case 3:return cljs.core.async.take.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14668.length)].join(""));}};cljs.core.async.take.cljs$core$IFn$_invoke$arity$2=function(n,ch){return cljs.core.async.take.call(null,n,ch,null)};
cljs.core.async.take.cljs$core$IFn$_invoke$arity$3=function(n,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___14721=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14721,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14721,out){return function(state_14694){var state_val_14695=state_14694[1];if(state_val_14695===7){var inst_14676=state_14694[7];var inst_14676__$1=
state_14694[2];var inst_14677=inst_14676__$1==null;var inst_14678=cljs.core.not.call(null,inst_14677);var state_14694__$1=function(){var statearr_14696=state_14694;statearr_14696[7]=inst_14676__$1;return statearr_14696}();if(inst_14678){var statearr_14697_14722=state_14694__$1;statearr_14697_14722[1]=8}else{var statearr_14698_14723=state_14694__$1;statearr_14698_14723[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===1){var inst_14671=0;var state_14694__$1=
function(){var statearr_14699=state_14694;statearr_14699[8]=inst_14671;return statearr_14699}();var statearr_14700_14724=state_14694__$1;statearr_14700_14724[2]=null;statearr_14700_14724[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===4){var state_14694__$1=state_14694;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_14694__$1,7,ch)}else if(state_val_14695===6){var inst_14689=state_14694[2];var state_14694__$1=state_14694;var statearr_14701_14725=
state_14694__$1;statearr_14701_14725[2]=inst_14689;statearr_14701_14725[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===3){var inst_14691=state_14694[2];var inst_14692=cljs.core.async.close_BANG_.call(null,out);var state_14694__$1=function(){var statearr_14702=state_14694;statearr_14702[9]=inst_14691;return statearr_14702}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14694__$1,inst_14692)}else if(state_val_14695===2){var inst_14671=
state_14694[8];var inst_14673=inst_14671<n;var state_14694__$1=state_14694;if(cljs.core.truth_(inst_14673)){var statearr_14703_14726=state_14694__$1;statearr_14703_14726[1]=4}else{var statearr_14704_14727=state_14694__$1;statearr_14704_14727[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===11){var inst_14671=state_14694[8];var inst_14681=state_14694[2];var inst_14682=inst_14671+1;var inst_14671__$1=inst_14682;var state_14694__$1=function(){var statearr_14705=
state_14694;statearr_14705[10]=inst_14681;statearr_14705[8]=inst_14671__$1;return statearr_14705}();var statearr_14706_14728=state_14694__$1;statearr_14706_14728[2]=null;statearr_14706_14728[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===9){var state_14694__$1=state_14694;var statearr_14707_14729=state_14694__$1;statearr_14707_14729[2]=null;statearr_14707_14729[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===
5){var state_14694__$1=state_14694;var statearr_14708_14730=state_14694__$1;statearr_14708_14730[2]=null;statearr_14708_14730[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===10){var inst_14686=state_14694[2];var state_14694__$1=state_14694;var statearr_14709_14731=state_14694__$1;statearr_14709_14731[2]=inst_14686;statearr_14709_14731[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14695===8){var inst_14676=state_14694[7];
var state_14694__$1=state_14694;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14694__$1,11,out,inst_14676)}else return null}}(c__12557__auto___14721,out);return function(switch__12445__auto__,c__12557__auto___14721,out){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_14713=[null,null,null,null,null,null,null,null,null,null,null];statearr_14713[0]=cljs$core$async$state_machine__12446__auto__;
statearr_14713[1]=1;return statearr_14713};var cljs$core$async$state_machine__12446__auto____1=function(state_14694){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14694);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14714){if(e14714 instanceof Object){var ex__12449__auto__=e14714;
var statearr_14715_14732=state_14694;statearr_14715_14732[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14694);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e14714;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__14733=state_14694;state_14694=G__14733;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=
function(state_14694){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_14694)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;
return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14721,out)}();var state__12559__auto__=function(){var statearr_14716=f__12558__auto__.call(null);statearr_14716[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___14721;return statearr_14716}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto___14721,out));return out};cljs.core.async.take.cljs$lang$maxFixedArity=3;
cljs.core.async.map_LT_=function cljs$core$async$map_LT_(f,ch){if(typeof cljs.core.async.t_cljs$core$async14741!=="undefined");else{cljs.core.async.t_cljs$core$async14741=function(map_LT_,f,ch,meta14742){this.map_LT_=map_LT_;this.f=f;this.ch=ch;this.meta14742=meta14742;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_14743,meta14742__$1){var self__=this;var _14743__$1=
this;return new cljs.core.async.t_cljs$core$async14741(self__.map_LT_,self__.f,self__.ch,meta14742__$1)};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$IMeta$_meta$arity$1=function(_14743){var self__=this;var _14743__$1=this;return self__.meta14742};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(_){var self__=this;var ___$1=
this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$ReadPort$=true;cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=
function(_,fn1){var self__=this;var ___$1=this;var ret=cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,function(){if(typeof cljs.core.async.t_cljs$core$async14744!=="undefined");else{cljs.core.async.t_cljs$core$async14744=function(map_LT_,f,ch,meta14742,_,fn1,meta14745){this.map_LT_=map_LT_;this.f=f;this.ch=ch;this.meta14742=meta14742;this._=_;this.fn1=fn1;this.meta14745=meta14745;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(___$1){return function(_14746,meta14745__$1){var self__=this;var _14746__$1=this;return new cljs.core.async.t_cljs$core$async14744(self__.map_LT_,self__.f,self__.ch,self__.meta14742,self__._,self__.fn1,meta14745__$1)}}(___$1);cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$IMeta$_meta$arity$1=function(___$1){return function(_14746){var self__=this;var _14746__$1=this;return self__.meta14745}}(___$1);cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$async$impl$protocols$Handler$=
true;cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(___$1){return function(___$1){var self__=this;var ___$2=this;return cljs.core.async.impl.protocols.active_QMARK_.call(null,self__.fn1)}}(___$1);cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$async$impl$protocols$Handler$blockable_QMARK_$arity$1=function(___$1){return function(___$1){var self__=this;var ___$2=this;return true}}(___$1);cljs.core.async.t_cljs$core$async14744.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=
function(___$1){return function(___$1){var self__=this;var ___$2=this;var f1=cljs.core.async.impl.protocols.commit.call(null,self__.fn1);return function(f1,___$2,___$1){return function(p1__14734_SHARP_){return f1.call(null,p1__14734_SHARP_==null?null:self__.f.call(null,p1__14734_SHARP_))}}(f1,___$2,___$1)}}(___$1);cljs.core.async.t_cljs$core$async14744.getBasis=function(___$1){return function(){return new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,
"map\x3c","map\x3c",-1235808357,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),"Deprecated - this function will be removed. Use transducer instead"],
null)),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta14742","meta14742",-428150116,null),cljs.core.with_meta(new cljs.core.Symbol(null,"_","_",-1201019570,null),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),new cljs.core.Symbol("cljs.core.async","t_cljs$core$async14741","cljs.core.async/t_cljs$core$async14741",762198020,null)],null)),new cljs.core.Symbol(null,"fn1",
"fn1",895834444,null),new cljs.core.Symbol(null,"meta14745","meta14745",-1819698604,null)],null)}}(___$1);cljs.core.async.t_cljs$core$async14744.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14744.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async14744";cljs.core.async.t_cljs$core$async14744.cljs$lang$ctorPrWriter=function(___$1){return function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async14744")}}(___$1);
cljs.core.async.__GT_t_cljs$core$async14744=function(___$1){return function cljs$core$async$map_LT__$___GT_t_cljs$core$async14744(map_LT___$1,f__$1,ch__$1,meta14742__$1,___$2,fn1__$1,meta14745){return new cljs.core.async.t_cljs$core$async14744(map_LT___$1,f__$1,ch__$1,meta14742__$1,___$2,fn1__$1,meta14745)}}(___$1)}return new cljs.core.async.t_cljs$core$async14744(self__.map_LT_,self__.f,self__.ch,self__.meta14742,___$1,fn1,cljs.core.PersistentArrayMap.EMPTY)}());if(cljs.core.truth_(function(){var and__6144__auto__=
ret;if(cljs.core.truth_(and__6144__auto__))return!(cljs.core.deref.call(null,ret)==null);else return and__6144__auto__}()))return cljs.core.async.impl.channels.box.call(null,self__.f.call(null,cljs.core.deref.call(null,ret)));else return ret};cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t_cljs$core$async14741.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(_,val,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.put_BANG_.call(null,
self__.ch,val,fn1)};cljs.core.async.t_cljs$core$async14741.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"map\x3c","map\x3c",-1235808357,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),"Deprecated - this function will be removed. Use transducer instead"],null)),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta14742","meta14742",-428150116,null)],null)};cljs.core.async.t_cljs$core$async14741.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14741.cljs$lang$ctorStr=
"cljs.core.async/t_cljs$core$async14741";cljs.core.async.t_cljs$core$async14741.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async14741")};cljs.core.async.__GT_t_cljs$core$async14741=function cljs$core$async$map_LT__$___GT_t_cljs$core$async14741(map_LT___$1,f__$1,ch__$1,meta14742){return new cljs.core.async.t_cljs$core$async14741(map_LT___$1,f__$1,ch__$1,meta14742)}}return new cljs.core.async.t_cljs$core$async14741(cljs$core$async$map_LT_,
f,ch,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.async.map_GT_=function cljs$core$async$map_GT_(f,ch){if(typeof cljs.core.async.t_cljs$core$async14750!=="undefined");else{cljs.core.async.t_cljs$core$async14750=function(map_GT_,f,ch,meta14751){this.map_GT_=map_GT_;this.f=f;this.ch=ch;this.meta14751=meta14751;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_14752,meta14751__$1){var self__=this;var _14752__$1=
this;return new cljs.core.async.t_cljs$core$async14750(self__.map_GT_,self__.f,self__.ch,meta14751__$1)};cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$IMeta$_meta$arity$1=function(_14752){var self__=this;var _14752__$1=this;return self__.meta14751};cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(_){var self__=this;var ___$1=
this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$ReadPort$=true;cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(_,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,fn1)};cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t_cljs$core$async14750.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=
function(_,val,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.put_BANG_.call(null,self__.ch,self__.f.call(null,val),fn1)};cljs.core.async.t_cljs$core$async14750.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"map\x3e","map\x3e",1676369295,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,
"quote","quote",1377916282,null),cljs.core.list(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),"Deprecated - this function will be removed. Use transducer instead"],null)),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta14751",
"meta14751",-2133394900,null)],null)};cljs.core.async.t_cljs$core$async14750.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14750.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async14750";cljs.core.async.t_cljs$core$async14750.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async14750")};cljs.core.async.__GT_t_cljs$core$async14750=function cljs$core$async$map_GT__$___GT_t_cljs$core$async14750(map_GT___$1,
f__$1,ch__$1,meta14751){return new cljs.core.async.t_cljs$core$async14750(map_GT___$1,f__$1,ch__$1,meta14751)}}return new cljs.core.async.t_cljs$core$async14750(cljs$core$async$map_GT_,f,ch,cljs.core.PersistentArrayMap.EMPTY)};
cljs.core.async.filter_GT_=function cljs$core$async$filter_GT_(p,ch){if(typeof cljs.core.async.t_cljs$core$async14756!=="undefined");else{cljs.core.async.t_cljs$core$async14756=function(filter_GT_,p,ch,meta14757){this.filter_GT_=filter_GT_;this.p=p;this.ch=ch;this.meta14757=meta14757;this.cljs$lang$protocol_mask$partition0$=393216;this.cljs$lang$protocol_mask$partition1$=0};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_14758,meta14757__$1){var self__=
this;var _14758__$1=this;return new cljs.core.async.t_cljs$core$async14756(self__.filter_GT_,self__.p,self__.ch,meta14757__$1)};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$IMeta$_meta$arity$1=function(_14758){var self__=this;var _14758__$1=this;return self__.meta14757};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(_){var self__=
this;var ___$1=this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$ReadPort$=true;cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=
function(_,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,fn1)};cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t_cljs$core$async14756.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(_,val,fn1){var self__=this;var ___$1=this;if(cljs.core.truth_(self__.p.call(null,val)))return cljs.core.async.impl.protocols.put_BANG_.call(null,self__.ch,val,fn1);else return cljs.core.async.impl.channels.box.call(null,
cljs.core.not.call(null,cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)))};cljs.core.async.t_cljs$core$async14756.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.with_meta(new cljs.core.Symbol(null,"filter\x3e","filter\x3e",-37644455,null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.Symbol(null,"quote","quote",1377916282,null),
cljs.core.list(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"p","p",1791580836,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null)],null))),new cljs.core.Keyword(null,"doc","doc",1913296891),"Deprecated - this function will be removed. Use transducer instead"],null)),new cljs.core.Symbol(null,"p","p",1791580836,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta14757","meta14757",866774700,null)],
null)};cljs.core.async.t_cljs$core$async14756.cljs$lang$type=true;cljs.core.async.t_cljs$core$async14756.cljs$lang$ctorStr="cljs.core.async/t_cljs$core$async14756";cljs.core.async.t_cljs$core$async14756.cljs$lang$ctorPrWriter=function(this__6754__auto__,writer__6755__auto__,opt__6756__auto__){return cljs.core._write.call(null,writer__6755__auto__,"cljs.core.async/t_cljs$core$async14756")};cljs.core.async.__GT_t_cljs$core$async14756=function cljs$core$async$filter_GT__$___GT_t_cljs$core$async14756(filter_GT___$1,
p__$1,ch__$1,meta14757){return new cljs.core.async.t_cljs$core$async14756(filter_GT___$1,p__$1,ch__$1,meta14757)}}return new cljs.core.async.t_cljs$core$async14756(cljs$core$async$filter_GT_,p,ch,cljs.core.PersistentArrayMap.EMPTY)};cljs.core.async.remove_GT_=function cljs$core$async$remove_GT_(p,ch){return cljs.core.async.filter_GT_.call(null,cljs.core.complement.call(null,p),ch)};
cljs.core.async.filter_LT_=function cljs$core$async$filter_LT_(var_args){var args14759=[];var len__7214__auto___14803=arguments.length;var i__7215__auto___14804=0;while(true){if(i__7215__auto___14804<len__7214__auto___14803){args14759.push(arguments[i__7215__auto___14804]);var G__14805=i__7215__auto___14804+1;i__7215__auto___14804=G__14805;continue}else;break}var G__14761=args14759.length;switch(G__14761){case 2:return cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14759.length)].join(""));}};cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$2=function(p,ch){return cljs.core.async.filter_LT_.call(null,p,ch,null)};
cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$3=function(p,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___14807=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___14807,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___14807,out){return function(state_14782){var state_val_14783=state_14782[1];if(state_val_14783===7){var inst_14778=state_14782[2];
var state_14782__$1=state_14782;var statearr_14784_14808=state_14782__$1;statearr_14784_14808[2]=inst_14778;statearr_14784_14808[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===1){var state_14782__$1=state_14782;var statearr_14785_14809=state_14782__$1;statearr_14785_14809[2]=null;statearr_14785_14809[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===4){var inst_14764=state_14782[7];var inst_14764__$1=state_14782[2];
var inst_14765=inst_14764__$1==null;var state_14782__$1=function(){var statearr_14786=state_14782;statearr_14786[7]=inst_14764__$1;return statearr_14786}();if(cljs.core.truth_(inst_14765)){var statearr_14787_14810=state_14782__$1;statearr_14787_14810[1]=5}else{var statearr_14788_14811=state_14782__$1;statearr_14788_14811[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===6){var inst_14764=state_14782[7];var inst_14769=p.call(null,inst_14764);var state_14782__$1=
state_14782;if(cljs.core.truth_(inst_14769)){var statearr_14789_14812=state_14782__$1;statearr_14789_14812[1]=8}else{var statearr_14790_14813=state_14782__$1;statearr_14790_14813[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===3){var inst_14780=state_14782[2];var state_14782__$1=state_14782;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14782__$1,inst_14780)}else if(state_val_14783===2){var state_14782__$1=state_14782;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_14782__$1,4,ch)}else if(state_val_14783===11){var inst_14772=state_14782[2];var state_14782__$1=state_14782;var statearr_14791_14814=state_14782__$1;statearr_14791_14814[2]=inst_14772;statearr_14791_14814[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===9){var state_14782__$1=state_14782;var statearr_14792_14815=state_14782__$1;statearr_14792_14815[2]=null;statearr_14792_14815[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===
5){var inst_14767=cljs.core.async.close_BANG_.call(null,out);var state_14782__$1=state_14782;var statearr_14793_14816=state_14782__$1;statearr_14793_14816[2]=inst_14767;statearr_14793_14816[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===10){var inst_14775=state_14782[2];var state_14782__$1=function(){var statearr_14794=state_14782;statearr_14794[8]=inst_14775;return statearr_14794}();var statearr_14795_14817=state_14782__$1;statearr_14795_14817[2]=null;
statearr_14795_14817[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14783===8){var inst_14764=state_14782[7];var state_14782__$1=state_14782;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14782__$1,11,out,inst_14764)}else return null}}(c__12557__auto___14807,out);return function(switch__12445__auto__,c__12557__auto___14807,out){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=
function(){var statearr_14799=[null,null,null,null,null,null,null,null,null];statearr_14799[0]=cljs$core$async$state_machine__12446__auto__;statearr_14799[1]=1;return statearr_14799};var cljs$core$async$state_machine__12446__auto____1=function(state_14782){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14782);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur",
"recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e14800){if(e14800 instanceof Object){var ex__12449__auto__=e14800;var statearr_14801_14818=state_14782;statearr_14801_14818[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14782);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e14800;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__14819=
state_14782;state_14782=G__14819;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_14782){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_14782)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;
cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___14807,out)}();var state__12559__auto__=function(){var statearr_14802=f__12558__auto__.call(null);statearr_14802[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___14807;return statearr_14802}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___14807,out));return out};cljs.core.async.filter_LT_.cljs$lang$maxFixedArity=3;
cljs.core.async.remove_LT_=function cljs$core$async$remove_LT_(var_args){var args14820=[];var len__7214__auto___14823=arguments.length;var i__7215__auto___14824=0;while(true){if(i__7215__auto___14824<len__7214__auto___14823){args14820.push(arguments[i__7215__auto___14824]);var G__14825=i__7215__auto___14824+1;i__7215__auto___14824=G__14825;continue}else;break}var G__14822=args14820.length;switch(G__14822){case 2:return cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args14820.length)].join(""));}};cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$2=function(p,ch){return cljs.core.async.remove_LT_.call(null,p,ch,null)};
cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$3=function(p,ch,buf_or_n){return cljs.core.async.filter_LT_.call(null,cljs.core.complement.call(null,p),ch,buf_or_n)};cljs.core.async.remove_LT_.cljs$lang$maxFixedArity=3;
cljs.core.async.mapcat_STAR_=function cljs$core$async$mapcat_STAR_(f,in$,out){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_14992){var state_val_14993=state_14992[1];if(state_val_14993===7){var inst_14988=state_14992[2];var state_14992__$1=state_14992;var statearr_14994_15035=state_14992__$1;statearr_14994_15035[2]=
inst_14988;statearr_14994_15035[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===20){var inst_14958=state_14992[7];var inst_14969=state_14992[2];var inst_14970=cljs.core.next.call(null,inst_14958);var inst_14944=inst_14970;var inst_14945=null;var inst_14946=0;var inst_14947=0;var state_14992__$1=function(){var statearr_14995=state_14992;statearr_14995[8]=inst_14947;statearr_14995[9]=inst_14945;statearr_14995[10]=inst_14944;statearr_14995[11]=inst_14946;
statearr_14995[12]=inst_14969;return statearr_14995}();var statearr_14996_15036=state_14992__$1;statearr_14996_15036[2]=null;statearr_14996_15036[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===1){var state_14992__$1=state_14992;var statearr_14997_15037=state_14992__$1;statearr_14997_15037[2]=null;statearr_14997_15037[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===4){var inst_14933=state_14992[13];var inst_14933__$1=
state_14992[2];var inst_14934=inst_14933__$1==null;var state_14992__$1=function(){var statearr_14998=state_14992;statearr_14998[13]=inst_14933__$1;return statearr_14998}();if(cljs.core.truth_(inst_14934)){var statearr_14999_15038=state_14992__$1;statearr_14999_15038[1]=5}else{var statearr_15000_15039=state_14992__$1;statearr_15000_15039[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===15){var state_14992__$1=state_14992;var statearr_15004_15040=state_14992__$1;
statearr_15004_15040[2]=null;statearr_15004_15040[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===21){var state_14992__$1=state_14992;var statearr_15005_15041=state_14992__$1;statearr_15005_15041[2]=null;statearr_15005_15041[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===13){var inst_14947=state_14992[8];var inst_14945=state_14992[9];var inst_14944=state_14992[10];var inst_14946=state_14992[11];var inst_14954=
state_14992[2];var inst_14955=inst_14947+1;var tmp15001=inst_14945;var tmp15002=inst_14944;var tmp15003=inst_14946;var inst_14944__$1=tmp15002;var inst_14945__$1=tmp15001;var inst_14946__$1=tmp15003;var inst_14947__$1=inst_14955;var state_14992__$1=function(){var statearr_15006=state_14992;statearr_15006[8]=inst_14947__$1;statearr_15006[9]=inst_14945__$1;statearr_15006[14]=inst_14954;statearr_15006[10]=inst_14944__$1;statearr_15006[11]=inst_14946__$1;return statearr_15006}();var statearr_15007_15042=
state_14992__$1;statearr_15007_15042[2]=null;statearr_15007_15042[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===22){var state_14992__$1=state_14992;var statearr_15008_15043=state_14992__$1;statearr_15008_15043[2]=null;statearr_15008_15043[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===6){var inst_14933=state_14992[13];var inst_14942=f.call(null,inst_14933);var inst_14943=cljs.core.seq.call(null,inst_14942);
var inst_14944=inst_14943;var inst_14945=null;var inst_14946=0;var inst_14947=0;var state_14992__$1=function(){var statearr_15009=state_14992;statearr_15009[8]=inst_14947;statearr_15009[9]=inst_14945;statearr_15009[10]=inst_14944;statearr_15009[11]=inst_14946;return statearr_15009}();var statearr_15010_15044=state_14992__$1;statearr_15010_15044[2]=null;statearr_15010_15044[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===17){var inst_14958=state_14992[7];
var inst_14962=cljs.core.chunk_first.call(null,inst_14958);var inst_14963=cljs.core.chunk_rest.call(null,inst_14958);var inst_14964=cljs.core.count.call(null,inst_14962);var inst_14944=inst_14963;var inst_14945=inst_14962;var inst_14946=inst_14964;var inst_14947=0;var state_14992__$1=function(){var statearr_15011=state_14992;statearr_15011[8]=inst_14947;statearr_15011[9]=inst_14945;statearr_15011[10]=inst_14944;statearr_15011[11]=inst_14946;return statearr_15011}();var statearr_15012_15045=state_14992__$1;
statearr_15012_15045[2]=null;statearr_15012_15045[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===3){var inst_14990=state_14992[2];var state_14992__$1=state_14992;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_14992__$1,inst_14990)}else if(state_val_14993===12){var inst_14978=state_14992[2];var state_14992__$1=state_14992;var statearr_15013_15046=state_14992__$1;statearr_15013_15046[2]=inst_14978;statearr_15013_15046[1]=9;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_14993===2){var state_14992__$1=state_14992;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_14992__$1,4,in$)}else if(state_val_14993===23){var inst_14986=state_14992[2];var state_14992__$1=state_14992;var statearr_15014_15047=state_14992__$1;statearr_15014_15047[2]=inst_14986;statearr_15014_15047[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===19){var inst_14973=state_14992[2];var state_14992__$1=
state_14992;var statearr_15015_15048=state_14992__$1;statearr_15015_15048[2]=inst_14973;statearr_15015_15048[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===11){var inst_14944=state_14992[10];var inst_14958=state_14992[7];var inst_14958__$1=cljs.core.seq.call(null,inst_14944);var state_14992__$1=function(){var statearr_15016=state_14992;statearr_15016[7]=inst_14958__$1;return statearr_15016}();if(inst_14958__$1){var statearr_15017_15049=state_14992__$1;
statearr_15017_15049[1]=14}else{var statearr_15018_15050=state_14992__$1;statearr_15018_15050[1]=15}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===9){var inst_14980=state_14992[2];var inst_14981=cljs.core.async.impl.protocols.closed_QMARK_.call(null,out);var state_14992__$1=function(){var statearr_15019=state_14992;statearr_15019[15]=inst_14980;return statearr_15019}();if(cljs.core.truth_(inst_14981)){var statearr_15020_15051=state_14992__$1;statearr_15020_15051[1]=
21}else{var statearr_15021_15052=state_14992__$1;statearr_15021_15052[1]=22}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===5){var inst_14936=cljs.core.async.close_BANG_.call(null,out);var state_14992__$1=state_14992;var statearr_15022_15053=state_14992__$1;statearr_15022_15053[2]=inst_14936;statearr_15022_15053[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===14){var inst_14958=state_14992[7];var inst_14960=cljs.core.chunked_seq_QMARK_.call(null,
inst_14958);var state_14992__$1=state_14992;if(inst_14960){var statearr_15023_15054=state_14992__$1;statearr_15023_15054[1]=17}else{var statearr_15024_15055=state_14992__$1;statearr_15024_15055[1]=18}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_14993===16){var inst_14976=state_14992[2];var state_14992__$1=state_14992;var statearr_15025_15056=state_14992__$1;statearr_15025_15056[2]=inst_14976;statearr_15025_15056[1]=12;return new cljs.core.Keyword(null,"recur","recur",
-437573268)}else if(state_val_14993===10){var inst_14947=state_14992[8];var inst_14945=state_14992[9];var inst_14952=cljs.core._nth.call(null,inst_14945,inst_14947);var state_14992__$1=state_14992;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14992__$1,13,out,inst_14952)}else if(state_val_14993===18){var inst_14958=state_14992[7];var inst_14967=cljs.core.first.call(null,inst_14958);var state_14992__$1=state_14992;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_14992__$1,
20,out,inst_14967)}else if(state_val_14993===8){var inst_14947=state_14992[8];var inst_14946=state_14992[11];var inst_14949=inst_14947<inst_14946;var inst_14950=inst_14949;var state_14992__$1=state_14992;if(cljs.core.truth_(inst_14950)){var statearr_15026_15057=state_14992__$1;statearr_15026_15057[1]=10}else{var statearr_15027_15058=state_14992__$1;statearr_15027_15058[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__=null;var cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____0=function(){var statearr_15031=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_15031[0]=cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__;statearr_15031[1]=1;return statearr_15031};var cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____1=function(state_14992){while(true){var ret_value__12447__auto__=
function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_14992);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15032){if(e15032 instanceof Object){var ex__12449__auto__=e15032;var statearr_15033_15059=state_14992;statearr_15033_15059[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_14992);return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else throw e15032;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15060=state_14992;state_14992=G__15060;continue}else return ret_value__12447__auto__;break}};cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__=function(state_14992){switch(arguments.length){case 0:return cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____1.call(this,
state_14992)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____0;cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$mapcat_STAR__$_state_machine__12446__auto____1;return cljs$core$async$mapcat_STAR__$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=
function(){var statearr_15034=f__12558__auto__.call(null);statearr_15034[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_15034}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
cljs.core.async.mapcat_LT_=function cljs$core$async$mapcat_LT_(var_args){var args15061=[];var len__7214__auto___15064=arguments.length;var i__7215__auto___15065=0;while(true){if(i__7215__auto___15065<len__7214__auto___15064){args15061.push(arguments[i__7215__auto___15065]);var G__15066=i__7215__auto___15065+1;i__7215__auto___15065=G__15066;continue}else;break}var G__15063=args15061.length;switch(G__15063){case 2:return cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15061.length)].join(""));}};cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$2=function(f,in$){return cljs.core.async.mapcat_LT_.call(null,f,in$,null)};
cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$3=function(f,in$,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);cljs.core.async.mapcat_STAR_.call(null,f,in$,out);return out};cljs.core.async.mapcat_LT_.cljs$lang$maxFixedArity=3;
cljs.core.async.mapcat_GT_=function cljs$core$async$mapcat_GT_(var_args){var args15068=[];var len__7214__auto___15071=arguments.length;var i__7215__auto___15072=0;while(true){if(i__7215__auto___15072<len__7214__auto___15071){args15068.push(arguments[i__7215__auto___15072]);var G__15073=i__7215__auto___15072+1;i__7215__auto___15072=G__15073;continue}else;break}var G__15070=args15068.length;switch(G__15070){case 2:return cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15068.length)].join(""));}};cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$2=function(f,out){return cljs.core.async.mapcat_GT_.call(null,f,out,null)};
cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$3=function(f,out,buf_or_n){var in$=cljs.core.async.chan.call(null,buf_or_n);cljs.core.async.mapcat_STAR_.call(null,f,in$,out);return in$};cljs.core.async.mapcat_GT_.cljs$lang$maxFixedArity=3;
cljs.core.async.unique=function cljs$core$async$unique(var_args){var args15075=[];var len__7214__auto___15126=arguments.length;var i__7215__auto___15127=0;while(true){if(i__7215__auto___15127<len__7214__auto___15126){args15075.push(arguments[i__7215__auto___15127]);var G__15128=i__7215__auto___15127+1;i__7215__auto___15127=G__15128;continue}else;break}var G__15077=args15075.length;switch(G__15077){case 1:return cljs.core.async.unique.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;case 2:return cljs.core.async.unique.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15075.length)].join(""));}};cljs.core.async.unique.cljs$core$IFn$_invoke$arity$1=function(ch){return cljs.core.async.unique.call(null,ch,null)};
cljs.core.async.unique.cljs$core$IFn$_invoke$arity$2=function(ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___15130=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___15130,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___15130,out){return function(state_15101){var state_val_15102=state_15101[1];if(state_val_15102===7){var inst_15096=state_15101[2];var state_15101__$1=
state_15101;var statearr_15103_15131=state_15101__$1;statearr_15103_15131[2]=inst_15096;statearr_15103_15131[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===1){var inst_15078=null;var state_15101__$1=function(){var statearr_15104=state_15101;statearr_15104[7]=inst_15078;return statearr_15104}();var statearr_15105_15132=state_15101__$1;statearr_15105_15132[2]=null;statearr_15105_15132[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===
4){var inst_15081=state_15101[8];var inst_15081__$1=state_15101[2];var inst_15082=inst_15081__$1==null;var inst_15083=cljs.core.not.call(null,inst_15082);var state_15101__$1=function(){var statearr_15106=state_15101;statearr_15106[8]=inst_15081__$1;return statearr_15106}();if(inst_15083){var statearr_15107_15133=state_15101__$1;statearr_15107_15133[1]=5}else{var statearr_15108_15134=state_15101__$1;statearr_15108_15134[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===
6){var state_15101__$1=state_15101;var statearr_15109_15135=state_15101__$1;statearr_15109_15135[2]=null;statearr_15109_15135[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===3){var inst_15098=state_15101[2];var inst_15099=cljs.core.async.close_BANG_.call(null,out);var state_15101__$1=function(){var statearr_15110=state_15101;statearr_15110[9]=inst_15098;return statearr_15110}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15101__$1,
inst_15099)}else if(state_val_15102===2){var state_15101__$1=state_15101;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15101__$1,4,ch)}else if(state_val_15102===11){var inst_15081=state_15101[8];var inst_15090=state_15101[2];var inst_15078=inst_15081;var state_15101__$1=function(){var statearr_15111=state_15101;statearr_15111[7]=inst_15078;statearr_15111[10]=inst_15090;return statearr_15111}();var statearr_15112_15136=state_15101__$1;statearr_15112_15136[2]=null;statearr_15112_15136[1]=
2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===9){var inst_15081=state_15101[8];var state_15101__$1=state_15101;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_15101__$1,11,out,inst_15081)}else if(state_val_15102===5){var inst_15078=state_15101[7];var inst_15081=state_15101[8];var inst_15085=cljs.core._EQ_.call(null,inst_15081,inst_15078);var state_15101__$1=state_15101;if(inst_15085){var statearr_15114_15137=state_15101__$1;statearr_15114_15137[1]=
8}else{var statearr_15115_15138=state_15101__$1;statearr_15115_15138[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===10){var inst_15093=state_15101[2];var state_15101__$1=state_15101;var statearr_15116_15139=state_15101__$1;statearr_15116_15139[2]=inst_15093;statearr_15116_15139[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15102===8){var inst_15078=state_15101[7];var tmp15113=inst_15078;var inst_15078__$1=tmp15113;
var state_15101__$1=function(){var statearr_15117=state_15101;statearr_15117[7]=inst_15078__$1;return statearr_15117}();var statearr_15118_15140=state_15101__$1;statearr_15118_15140[2]=null;statearr_15118_15140[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___15130,out);return function(switch__12445__auto__,c__12557__auto___15130,out){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=
function(){var statearr_15122=[null,null,null,null,null,null,null,null,null,null,null];statearr_15122[0]=cljs$core$async$state_machine__12446__auto__;statearr_15122[1]=1;return statearr_15122};var cljs$core$async$state_machine__12446__auto____1=function(state_15101){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15101);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15123){if(e15123 instanceof Object){var ex__12449__auto__=e15123;var statearr_15124_15141=state_15101;statearr_15124_15141[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15101);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15123;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268))){var G__15142=state_15101;state_15101=G__15142;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_15101){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_15101)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;
cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___15130,out)}();var state__12559__auto__=function(){var statearr_15125=f__12558__auto__.call(null);statearr_15125[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___15130;return statearr_15125}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___15130,out));return out};cljs.core.async.unique.cljs$lang$maxFixedArity=2;
cljs.core.async.partition=function cljs$core$async$partition(var_args){var args15143=[];var len__7214__auto___15213=arguments.length;var i__7215__auto___15214=0;while(true){if(i__7215__auto___15214<len__7214__auto___15213){args15143.push(arguments[i__7215__auto___15214]);var G__15215=i__7215__auto___15214+1;i__7215__auto___15214=G__15215;continue}else;break}var G__15145=args15143.length;switch(G__15145){case 2:return cljs.core.async.partition.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.partition.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15143.length)].join(""));}};cljs.core.async.partition.cljs$core$IFn$_invoke$arity$2=function(n,ch){return cljs.core.async.partition.call(null,n,ch,null)};
cljs.core.async.partition.cljs$core$IFn$_invoke$arity$3=function(n,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___15217=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___15217,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___15217,out){return function(state_15183){var state_val_15184=state_15183[1];if(state_val_15184===7){var inst_15179=state_15183[2];
var state_15183__$1=state_15183;var statearr_15185_15218=state_15183__$1;statearr_15185_15218[2]=inst_15179;statearr_15185_15218[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===1){var inst_15146=new Array(n);var inst_15147=inst_15146;var inst_15148=0;var state_15183__$1=function(){var statearr_15186=state_15183;statearr_15186[7]=inst_15147;statearr_15186[8]=inst_15148;return statearr_15186}();var statearr_15187_15219=state_15183__$1;statearr_15187_15219[2]=
null;statearr_15187_15219[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===4){var inst_15151=state_15183[9];var inst_15151__$1=state_15183[2];var inst_15152=inst_15151__$1==null;var inst_15153=cljs.core.not.call(null,inst_15152);var state_15183__$1=function(){var statearr_15188=state_15183;statearr_15188[9]=inst_15151__$1;return statearr_15188}();if(inst_15153){var statearr_15189_15220=state_15183__$1;statearr_15189_15220[1]=5}else{var statearr_15190_15221=
state_15183__$1;statearr_15190_15221[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===15){var inst_15173=state_15183[2];var state_15183__$1=state_15183;var statearr_15191_15222=state_15183__$1;statearr_15191_15222[2]=inst_15173;statearr_15191_15222[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===13){var state_15183__$1=state_15183;var statearr_15192_15223=state_15183__$1;statearr_15192_15223[2]=null;statearr_15192_15223[1]=
14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===6){var inst_15148=state_15183[8];var inst_15169=inst_15148>0;var state_15183__$1=state_15183;if(cljs.core.truth_(inst_15169)){var statearr_15193_15224=state_15183__$1;statearr_15193_15224[1]=12}else{var statearr_15194_15225=state_15183__$1;statearr_15194_15225[1]=13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===3){var inst_15181=state_15183[2];var state_15183__$1=state_15183;
return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15183__$1,inst_15181)}else if(state_val_15184===12){var inst_15147=state_15183[7];var inst_15171=cljs.core.vec.call(null,inst_15147);var state_15183__$1=state_15183;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_15183__$1,15,out,inst_15171)}else if(state_val_15184===2){var state_15183__$1=state_15183;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15183__$1,4,ch)}else if(state_val_15184===11){var inst_15163=
state_15183[2];var inst_15164=new Array(n);var inst_15147=inst_15164;var inst_15148=0;var state_15183__$1=function(){var statearr_15195=state_15183;statearr_15195[10]=inst_15163;statearr_15195[7]=inst_15147;statearr_15195[8]=inst_15148;return statearr_15195}();var statearr_15196_15226=state_15183__$1;statearr_15196_15226[2]=null;statearr_15196_15226[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===9){var inst_15147=state_15183[7];var inst_15161=cljs.core.vec.call(null,
inst_15147);var state_15183__$1=state_15183;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_15183__$1,11,out,inst_15161)}else if(state_val_15184===5){var inst_15147=state_15183[7];var inst_15151=state_15183[9];var inst_15156=state_15183[11];var inst_15148=state_15183[8];var inst_15155=inst_15147[inst_15148]=inst_15151;var inst_15156__$1=inst_15148+1;var inst_15157=inst_15156__$1<n;var state_15183__$1=function(){var statearr_15197=state_15183;statearr_15197[12]=inst_15155;statearr_15197[11]=
inst_15156__$1;return statearr_15197}();if(cljs.core.truth_(inst_15157)){var statearr_15198_15227=state_15183__$1;statearr_15198_15227[1]=8}else{var statearr_15199_15228=state_15183__$1;statearr_15199_15228[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===14){var inst_15176=state_15183[2];var inst_15177=cljs.core.async.close_BANG_.call(null,out);var state_15183__$1=function(){var statearr_15201=state_15183;statearr_15201[13]=inst_15176;return statearr_15201}();
var statearr_15202_15229=state_15183__$1;statearr_15202_15229[2]=inst_15177;statearr_15202_15229[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===10){var inst_15167=state_15183[2];var state_15183__$1=state_15183;var statearr_15203_15230=state_15183__$1;statearr_15203_15230[2]=inst_15167;statearr_15203_15230[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15184===8){var inst_15147=state_15183[7];var inst_15156=state_15183[11];
var tmp15200=inst_15147;var inst_15147__$1=tmp15200;var inst_15148=inst_15156;var state_15183__$1=function(){var statearr_15204=state_15183;statearr_15204[7]=inst_15147__$1;statearr_15204[8]=inst_15148;return statearr_15204}();var statearr_15205_15231=state_15183__$1;statearr_15205_15231[2]=null;statearr_15205_15231[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___15217,out);return function(switch__12445__auto__,c__12557__auto___15217,out){return function(){var cljs$core$async$state_machine__12446__auto__=
null;var cljs$core$async$state_machine__12446__auto____0=function(){var statearr_15209=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_15209[0]=cljs$core$async$state_machine__12446__auto__;statearr_15209[1]=1;return statearr_15209};var cljs$core$async$state_machine__12446__auto____1=function(state_15183){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15183);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15210){if(e15210 instanceof Object){var ex__12449__auto__=e15210;var statearr_15211_15232=state_15183;statearr_15211_15232[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15183);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15210;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15233=state_15183;state_15183=G__15233;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_15183){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_15183)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
cljs$core$async$state_machine__12446__auto____0;cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___15217,out)}();var state__12559__auto__=function(){var statearr_15212=f__12558__auto__.call(null);statearr_15212[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___15217;return statearr_15212}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___15217,out));return out};cljs.core.async.partition.cljs$lang$maxFixedArity=3;
cljs.core.async.partition_by=function cljs$core$async$partition_by(var_args){var args15234=[];var len__7214__auto___15308=arguments.length;var i__7215__auto___15309=0;while(true){if(i__7215__auto___15309<len__7214__auto___15308){args15234.push(arguments[i__7215__auto___15309]);var G__15310=i__7215__auto___15309+1;i__7215__auto___15309=G__15310;continue}else;break}var G__15236=args15234.length;switch(G__15236){case 2:return cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);
break;case 3:return cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15234.length)].join(""));}};cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$2=function(f,ch){return cljs.core.async.partition_by.call(null,f,ch,null)};
cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$3=function(f,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__12557__auto___15312=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___15312,out){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto___15312,out){return function(state_15278){var state_val_15279=state_15278[1];if(state_val_15279===7){var inst_15274=state_15278[2];
var state_15278__$1=state_15278;var statearr_15280_15313=state_15278__$1;statearr_15280_15313[2]=inst_15274;statearr_15280_15313[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===1){var inst_15237=[];var inst_15238=inst_15237;var inst_15239=new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",-69252123);var state_15278__$1=function(){var statearr_15281=state_15278;statearr_15281[7]=inst_15238;statearr_15281[8]=inst_15239;return statearr_15281}();
var statearr_15282_15314=state_15278__$1;statearr_15282_15314[2]=null;statearr_15282_15314[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===4){var inst_15242=state_15278[9];var inst_15242__$1=state_15278[2];var inst_15243=inst_15242__$1==null;var inst_15244=cljs.core.not.call(null,inst_15243);var state_15278__$1=function(){var statearr_15283=state_15278;statearr_15283[9]=inst_15242__$1;return statearr_15283}();if(inst_15244){var statearr_15284_15315=state_15278__$1;
statearr_15284_15315[1]=5}else{var statearr_15285_15316=state_15278__$1;statearr_15285_15316[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===15){var inst_15268=state_15278[2];var state_15278__$1=state_15278;var statearr_15286_15317=state_15278__$1;statearr_15286_15317[2]=inst_15268;statearr_15286_15317[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===13){var state_15278__$1=state_15278;var statearr_15287_15318=
state_15278__$1;statearr_15287_15318[2]=null;statearr_15287_15318[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===6){var inst_15238=state_15278[7];var inst_15263=inst_15238.length;var inst_15264=inst_15263>0;var state_15278__$1=state_15278;if(cljs.core.truth_(inst_15264)){var statearr_15288_15319=state_15278__$1;statearr_15288_15319[1]=12}else{var statearr_15289_15320=state_15278__$1;statearr_15289_15320[1]=13}return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_15279===3){var inst_15276=state_15278[2];var state_15278__$1=state_15278;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15278__$1,inst_15276)}else if(state_val_15279===12){var inst_15238=state_15278[7];var inst_15266=cljs.core.vec.call(null,inst_15238);var state_15278__$1=state_15278;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_15278__$1,15,out,inst_15266)}else if(state_val_15279===2){var state_15278__$1=state_15278;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_15278__$1,4,ch)}else if(state_val_15279===11){var inst_15246=state_15278[10];var inst_15242=state_15278[9];var inst_15256=state_15278[2];var inst_15257=[];var inst_15258=inst_15257.push(inst_15242);var inst_15238=inst_15257;var inst_15239=inst_15246;var state_15278__$1=function(){var statearr_15290=state_15278;statearr_15290[7]=inst_15238;statearr_15290[11]=inst_15256;statearr_15290[12]=inst_15258;statearr_15290[8]=inst_15239;return statearr_15290}();var statearr_15291_15321=state_15278__$1;
statearr_15291_15321[2]=null;statearr_15291_15321[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===9){var inst_15238=state_15278[7];var inst_15254=cljs.core.vec.call(null,inst_15238);var state_15278__$1=state_15278;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_15278__$1,11,out,inst_15254)}else if(state_val_15279===5){var inst_15246=state_15278[10];var inst_15239=state_15278[8];var inst_15242=state_15278[9];var inst_15246__$1=f.call(null,
inst_15242);var inst_15247=cljs.core._EQ_.call(null,inst_15246__$1,inst_15239);var inst_15248=cljs.core.keyword_identical_QMARK_.call(null,inst_15239,new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",-69252123));var inst_15249=inst_15247||inst_15248;var state_15278__$1=function(){var statearr_15292=state_15278;statearr_15292[10]=inst_15246__$1;return statearr_15292}();if(cljs.core.truth_(inst_15249)){var statearr_15293_15322=state_15278__$1;statearr_15293_15322[1]=8}else{var statearr_15294_15323=
state_15278__$1;statearr_15294_15323[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===14){var inst_15271=state_15278[2];var inst_15272=cljs.core.async.close_BANG_.call(null,out);var state_15278__$1=function(){var statearr_15296=state_15278;statearr_15296[13]=inst_15271;return statearr_15296}();var statearr_15297_15324=state_15278__$1;statearr_15297_15324[2]=inst_15272;statearr_15297_15324[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===
10){var inst_15261=state_15278[2];var state_15278__$1=state_15278;var statearr_15298_15325=state_15278__$1;statearr_15298_15325[2]=inst_15261;statearr_15298_15325[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15279===8){var inst_15238=state_15278[7];var inst_15246=state_15278[10];var inst_15242=state_15278[9];var inst_15251=inst_15238.push(inst_15242);var tmp15295=inst_15238;var inst_15238__$1=tmp15295;var inst_15239=inst_15246;var state_15278__$1=function(){var statearr_15299=
state_15278;statearr_15299[7]=inst_15238__$1;statearr_15299[14]=inst_15251;statearr_15299[8]=inst_15239;return statearr_15299}();var statearr_15300_15326=state_15278__$1;statearr_15300_15326[2]=null;statearr_15300_15326[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto___15312,out);return function(switch__12445__auto__,c__12557__auto___15312,out){return function(){var cljs$core$async$state_machine__12446__auto__=null;var cljs$core$async$state_machine__12446__auto____0=
function(){var statearr_15304=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_15304[0]=cljs$core$async$state_machine__12446__auto__;statearr_15304[1]=1;return statearr_15304};var cljs$core$async$state_machine__12446__auto____1=function(state_15278){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15278);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15305){if(e15305 instanceof Object){var ex__12449__auto__=e15305;var statearr_15306_15327=state_15278;statearr_15306_15327[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15278);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15305;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268))){var G__15328=state_15278;state_15278=G__15328;continue}else return ret_value__12447__auto__;break}};cljs$core$async$state_machine__12446__auto__=function(state_15278){switch(arguments.length){case 0:return cljs$core$async$state_machine__12446__auto____0.call(this);case 1:return cljs$core$async$state_machine__12446__auto____1.call(this,state_15278)}throw new Error("Invalid arity: "+arguments.length);};cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=cljs$core$async$state_machine__12446__auto____0;
cljs$core$async$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=cljs$core$async$state_machine__12446__auto____1;return cljs$core$async$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___15312,out)}();var state__12559__auto__=function(){var statearr_15307=f__12558__auto__.call(null);statearr_15307[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___15312;return statearr_15307}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___15312,out));return out};cljs.core.async.partition_by.cljs$lang$maxFixedArity=3;goog.provide("infinitelives.utils.string");goog.require("cljs.core");infinitelives.utils.string.ends_with_QMARK_=function infinitelives$utils$string$ends_with_QMARK_(str,end){var len=str.length;var end_len=end.length;return cljs.core.not_EQ_.call(null,-1,str.indexOf(end,len-end_len))};infinitelives.utils.string.starts_with_QMARK_=function infinitelives$utils$string$starts_with_QMARK_(str,start){return cljs.core._EQ_.call(null,0,str.indexOf(start))};
infinitelives.utils.string.url_keyword=function infinitelives$utils$string$url_keyword(url){return cljs.core.keyword.call(null,cljs.core.first.call(null,cljs.core.last.call(null,url.split("/")).split(".")))};infinitelives.utils.string.get_extension=function infinitelives$utils$string$get_extension(path){return cljs.core.last.call(null,path.split("."))};goog.provide("infinitelives.utils.sound");goog.require("cljs.core");goog.require("cljs.core.async");goog.require("infinitelives.utils.string");infinitelives.utils.sound.audio_context=cljs.core.truth_(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;infinitelives.utils.sound.default_gain=.7;if(typeof infinitelives.utils.sound._BANG_sounds!=="undefined");else infinitelives.utils.sound._BANG_sounds=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
infinitelives.utils.sound.load_sound=function infinitelives$utils$sound$load_sound(url){var req=new XMLHttpRequest;var c=cljs.core.async.chan.call(null);req.open("GET",url,true);req.responseType="arraybuffer";req.onload=function(req,c){return function(){return infinitelives.utils.sound.audio_context.decodeAudioData(req.response,function(req,c){return function(p1__15331_SHARP_){return cljs.core.async.put_BANG_.call(null,c,p1__15331_SHARP_)}}(req,c))}}(req,c);req.send();return c};
infinitelives.utils.sound.register_sound_BANG_=function infinitelives$utils$sound$register_sound_BANG_(url,obj){return cljs.core.swap_BANG_.call(null,infinitelives.utils.sound._BANG_sounds,cljs.core.assoc,infinitelives.utils.string.url_keyword.call(null,url),obj)};infinitelives.utils.sound.get_sound=function infinitelives$utils$sound$get_sound(key){return key.call(null,cljs.core.deref.call(null,infinitelives.utils.sound._BANG_sounds))};
infinitelives.utils.sound.play_sound=function infinitelives$utils$sound$play_sound(var_args){var args15332=[];var len__7214__auto___15340=arguments.length;var i__7215__auto___15341=0;while(true){if(i__7215__auto___15341<len__7214__auto___15340){args15332.push(arguments[i__7215__auto___15341]);var G__15342=i__7215__auto___15341+1;i__7215__auto___15341=G__15342;continue}else;break}var G__15337=args15332.length;switch(G__15337){case 1:return infinitelives.utils.sound.play_sound.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args15332.slice(2),0);return infinitelives.utils.sound.play_sound.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};
infinitelives.utils.sound.play_sound.cljs$core$IFn$_invoke$arity$variadic=function(buff,g,p__15338){var vec__15339=p__15338;var loop_flag=cljs.core.nth.call(null,vec__15339,0,null);var source=infinitelives.utils.sound.audio_context.createBufferSource();var gain=infinitelives.utils.sound.audio_context.createGain();if(cljs.core.truth_(loop_flag))source.loop=true;else source.loop=false;source.buffer=buff instanceof cljs.core.Keyword?infinitelives.utils.sound.get_sound.call(null,buff):buff;source.connect(gain);
gain.connect(infinitelives.utils.sound.audio_context.destination);gain.gain.value=g;source.start(0);return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[source,gain],null)};
infinitelives.utils.sound.play_sound.cljs$lang$applyTo=function(seq15333){var G__15334=cljs.core.first.call(null,seq15333);var seq15333__$1=cljs.core.next.call(null,seq15333);var G__15335=cljs.core.first.call(null,seq15333__$1);var seq15333__$2=cljs.core.next.call(null,seq15333__$1);return infinitelives.utils.sound.play_sound.cljs$core$IFn$_invoke$arity$variadic(G__15334,G__15335,seq15333__$2)};
infinitelives.utils.sound.play_sound.cljs$core$IFn$_invoke$arity$1=function(buff){return infinitelives.utils.sound.play_sound.call(null,buff,infinitelives.utils.sound.default_gain)};infinitelives.utils.sound.play_sound.cljs$lang$maxFixedArity=2;goog.provide("infinitelives.utils.events");goog.require("cljs.core");goog.require("cljs.core.async");if(typeof infinitelives.utils.events._STAR_devtools_passthrough_STAR_!=="undefined");else infinitelives.utils.events._STAR_devtools_passthrough_STAR_=true;infinitelives.utils.events.key_state=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);infinitelives.utils.events.ascii=function infinitelives$utils$events$ascii(c){return c.charCodeAt(0)};
infinitelives.utils.events.key_codes=cljs.core.merge.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"shift","shift",997140064),new cljs.core.Keyword(null,"down","down",1565245570),new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"home","home",-74557309),new cljs.core.Keyword(null,"insert","insert",1286475395),new cljs.core.Keyword(null,"f8","f8",-2141475484),new cljs.core.Keyword(null,"f1","f1",1714532389),new cljs.core.Keyword(null,"f10",
"f10",627525541),new cljs.core.Keyword(null,"alt","alt",-3214426),new cljs.core.Keyword(null,"esc","esc",-1671924121),new cljs.core.Keyword(null,"comma","comma",1699024745),new cljs.core.Keyword(null,"numlock","numlock",-1383996470),new cljs.core.Keyword(null,"f5","f5",1587057387),new cljs.core.Keyword(null,"pageup","pageup",1714543403),new cljs.core.Keyword(null,"delete","delete",-1768633620),new cljs.core.Keyword(null,"/","/",1282502798),new cljs.core.Keyword(null,"up","up",-269712113),new cljs.core.Keyword(null,
"enter","enter",1792452624),new cljs.core.Keyword(null,"backtick","backtick",44770640),new cljs.core.Keyword(null,"f11","f11",-1417398799),new cljs.core.Keyword(null,".",".",335144435),new cljs.core.Keyword(null,"f3","f3",1954829043),new cljs.core.Keyword(null,"quote","quote",-262615245),new cljs.core.Keyword(null,"f2","f2",396168596),new cljs.core.Keyword(null,"control","control",1892578036),new cljs.core.Keyword(null,"squareleft","squareleft",-1212370731),new cljs.core.Keyword(null,"scrolllock",
"scrolllock",-960203019),new cljs.core.Keyword(null,"f12","f12",853352790),new cljs.core.Keyword(null,"capslock","capslock",442493366),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.Keyword(null,"pagedown","pagedown",-2069718984),new cljs.core.Keyword(null,"pause","pause",-2095325672),new cljs.core.Keyword(null,"backspace","backspace",-696007848),new cljs.core.Keyword(null,"f7","f7",356150168),new cljs.core.Keyword(null,"f9","f9",704633338),new cljs.core.Keyword(null,"end","end",
-268185958),new cljs.core.Keyword(null,"tab","tab",-559583621),new cljs.core.Keyword(null,"f6","f6",2103080604),new cljs.core.Keyword(null,"f4","f4",990968764),new cljs.core.Keyword(null,"backslash","backslash",1790786526),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.Keyword(null,"squareright","squareright",1890515359)],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function(){var iter__6928__auto__=
function infinitelives$utils$events$iter__15346(s__15347){return new cljs.core.LazySeq(null,function(){var s__15347__$1=s__15347;while(true){var temp__4657__auto__=cljs.core.seq.call(null,s__15347__$1);if(temp__4657__auto__){var s__15347__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__15347__$2)){var c__6926__auto__=cljs.core.chunk_first.call(null,s__15347__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__15349=cljs.core.chunk_buffer.call(null,size__6927__auto__);
if(function(){var i__15348=0;while(true){if(i__15348<size__6927__auto__){var c=cljs.core._nth.call(null,c__6926__auto__,i__15348);cljs.core.chunk_append.call(null,b__15349,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.call(null,[cljs.core.str(c)].join("")),infinitelives.utils.events.ascii.call(null,c)-32],null));var G__15354=i__15348+1;i__15348=G__15354;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,
b__15349),infinitelives$utils$events$iter__15346.call(null,cljs.core.chunk_rest.call(null,s__15347__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15349),null)}else{var c=cljs.core.first.call(null,s__15347__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.call(null,[cljs.core.str(c)].join("")),infinitelives.utils.events.ascii.call(null,c)-32],null),infinitelives$utils$events$iter__15346.call(null,
cljs.core.rest.call(null,s__15347__$2)))}}else return null;break}},null,null)};return iter__6928__auto__.call(null,"0123456789abcdefghijklmnopqrstuvwxyz")}(),function(){var iter__6928__auto__=function infinitelives$utils$events$iter__15350(s__15351){return new cljs.core.LazySeq(null,function(){var s__15351__$1=s__15351;while(true){var temp__4657__auto__=cljs.core.seq.call(null,s__15351__$1);if(temp__4657__auto__){var s__15351__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__15351__$2)){var c__6926__auto__=
cljs.core.chunk_first.call(null,s__15351__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__15353=cljs.core.chunk_buffer.call(null,size__6927__auto__);if(function(){var i__15352=0;while(true){if(i__15352<size__6927__auto__){var c=cljs.core._nth.call(null,c__6926__auto__,i__15352);cljs.core.chunk_append.call(null,b__15353,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[c,infinitelives.utils.events.ascii.call(null,c)-32],null));var G__15355=
i__15352+1;i__15352=G__15355;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15353),infinitelives$utils$events$iter__15350.call(null,cljs.core.chunk_rest.call(null,s__15351__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15353),null)}else{var c=cljs.core.first.call(null,s__15351__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[c,infinitelives.utils.events.ascii.call(null,
c)-32],null),infinitelives$utils$events$iter__15350.call(null,cljs.core.rest.call(null,s__15351__$2)))}}else return null;break}},null,null)};return iter__6928__auto__.call(null,"0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-\x3d`/\\")}());
infinitelives.utils.events.handle_keydown_event=function infinitelives$utils$events$handle_keydown_event(ev){cljs.core.swap_BANG_.call(null,infinitelives.utils.events.key_state,function(old){return cljs.core.assoc.call(null,old,ev.keyCode,true)});if(cljs.core.truth_(function(){var and__6144__auto__=infinitelives.utils.events._STAR_devtools_passthrough_STAR_;if(cljs.core.truth_(and__6144__auto__)){var and__6144__auto____$1=ev.ctrlKey;if(cljs.core.truth_(and__6144__auto____$1))return ev.shiftKey;else return and__6144__auto____$1}else return and__6144__auto__}()))return false;
else return ev.preventDefault()};infinitelives.utils.events.handle_keyup_event=function infinitelives$utils$events$handle_keyup_event(ev){cljs.core.swap_BANG_.call(null,infinitelives.utils.events.key_state,function(old){return cljs.core.dissoc.call(null,old,ev.keyCode)});ev.preventDefault();return true};
infinitelives.utils.events.install_key_handler_BANG_=function infinitelives$utils$events$install_key_handler_BANG_(){window.addEventListener("keydown",infinitelives.utils.events.handle_keydown_event);return window.addEventListener("keyup",infinitelives.utils.events.handle_keyup_event)};
infinitelives.utils.events.is_pressed_QMARK_=function infinitelives$utils$events$is_pressed_QMARK_(code){return cljs.core.deref.call(null,infinitelives.utils.events.key_state).call(null,infinitelives.utils.events.key_codes.call(null,code))};infinitelives.utils.events.any_pressed_QMARK_=function infinitelives$utils$events$any_pressed_QMARK_(){return!(cljs.core.count.call(null,cljs.core.keys.call(null,cljs.core.deref.call(null,infinitelives.utils.events.key_state)))===0)};
infinitelives.utils.events.fallback_fps=60;
infinitelives.utils.events.make_request_animation_frame=function infinitelives$utils$events$make_request_animation_frame(){if(cljs.core.truth_(window.requestAnimationFrame))return function(p1__15356_SHARP_){return window.requestAnimationFrame(p1__15356_SHARP_)};else if(cljs.core.truth_(window.webkitRequestAnimationFrame))return function(p1__15357_SHARP_){return window.webkitRequestAnimationFrame(p1__15357_SHARP_)};else if(cljs.core.truth_(window.mozRequestAnimationFrame))return function(p1__15358_SHARP_){return window.mozRequestAnimationFrame(p1__15358_SHARP_)};else if(cljs.core.truth_(window.oRequestAnimationFrame))return function(p1__15359_SHARP_){return window.oRequestAnimationFrame(p1__15359_SHARP_)};
else if(cljs.core.truth_(window.msRequestAnimationFrame))return function(p1__15360_SHARP_){return window.msRequestAnimationFrame(p1__15360_SHARP_)};else return function(p1__15361_SHARP_){return window.setTimeout(p1__15361_SHARP_,1E3/infinitelives.utils.events.fallback_fps)}};infinitelives.utils.events.request_animation_frame=infinitelives.utils.events.make_request_animation_frame.call(null);
infinitelives.utils.events.next_frame=function infinitelives$utils$events$next_frame(){var c=cljs.core.async.chan.call(null);infinitelives.utils.events.request_animation_frame.call(null,function(c){return function(){return cljs.core.async.close_BANG_.call(null,c)}}(c));return c};
infinitelives.utils.events.wait_frames=function infinitelives$utils$events$wait_frames(frames){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_15409){var state_val_15410=state_15409[1];if(state_val_15410===1){var inst_15394=frames;var state_15409__$1=function(){var statearr_15411=state_15409;statearr_15411[7]=
inst_15394;return statearr_15411}();var statearr_15412_15426=state_15409__$1;statearr_15412_15426[2]=null;statearr_15412_15426[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15410===2){var inst_15394=state_15409[7];var inst_15396=inst_15394>0;var state_15409__$1=state_15409;if(cljs.core.truth_(inst_15396)){var statearr_15413_15427=state_15409__$1;statearr_15413_15427[1]=4}else{var statearr_15414_15428=state_15409__$1;statearr_15414_15428[1]=5}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_15410===3){var inst_15407=state_15409[2];var state_15409__$1=state_15409;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15409__$1,inst_15407)}else if(state_val_15410===4){var inst_15398=infinitelives.utils.events.next_frame.call(null);var state_15409__$1=state_15409;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15409__$1,7,inst_15398)}else if(state_val_15410===5){var state_15409__$1=state_15409;var statearr_15415_15429=
state_15409__$1;statearr_15415_15429[2]=null;statearr_15415_15429[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15410===6){var inst_15405=state_15409[2];var state_15409__$1=state_15409;var statearr_15416_15430=state_15409__$1;statearr_15416_15430[2]=inst_15405;statearr_15416_15430[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15410===7){var inst_15394=state_15409[7];var inst_15400=state_15409[2];var inst_15401=inst_15394-
1;var inst_15394__$1=inst_15401;var state_15409__$1=function(){var statearr_15417=state_15409;statearr_15417[7]=inst_15394__$1;statearr_15417[8]=inst_15400;return statearr_15417}();var statearr_15418_15431=state_15409__$1;statearr_15418_15431[2]=null;statearr_15418_15431[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__=
null;var infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____0=function(){var statearr_15422=[null,null,null,null,null,null,null,null,null];statearr_15422[0]=infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__;statearr_15422[1]=1;return statearr_15422};var infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____1=function(state_15409){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_15409);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15423){if(e15423 instanceof Object){var ex__12449__auto__=e15423;var statearr_15424_15432=state_15409;statearr_15424_15432[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15409);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15423;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15433=state_15409;state_15409=G__15433;continue}else return ret_value__12447__auto__;break}};infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__=function(state_15409){switch(arguments.length){case 0:return infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____0.call(this);case 1:return infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____1.call(this,state_15409)}throw new Error("Invalid arity: "+
arguments.length);};infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____0;infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$utils$events$wait_frames_$_state_machine__12446__auto____1;return infinitelives$utils$events$wait_frames_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=
function(){var statearr_15425=f__12558__auto__.call(null);statearr_15425[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_15425}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};infinitelives.utils.events.wait_time=function infinitelives$utils$events$wait_time(delay){return infinitelives.utils.events.wait_frames.call(null,60*(delay/1E3))};
infinitelives.utils.events._STAR_resize_chans_STAR_=cljs.core.atom.call(null,cljs.core.PersistentHashSet.EMPTY);infinitelives.utils.events.new_resize_chan=function infinitelives$utils$events$new_resize_chan(){var c=cljs.core.async.chan.call(null);cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_resize_chans_STAR_,cljs.core.conj,c);return c};
infinitelives.utils.events.del_resize_chan=function infinitelives$utils$events$del_resize_chan(c){return cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_resize_chans_STAR_,cljs.core.disj,c)};infinitelives.utils.events.clear_resize_chans_BANG_=function infinitelives$utils$events$clear_resize_chans_BANG_(){return cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_resize_chans_STAR_,cljs.core.PersistentHashSet.EMPTY)};
infinitelives.utils.events.resize_event_chan_handler=function infinitelives$utils$events$resize_event_chan_handler(ev){var size=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[window.innerWidth,window.innerHeight],null);var seq__15438=cljs.core.seq.call(null,cljs.core.deref.call(null,infinitelives.utils.events._STAR_resize_chans_STAR_));var chunk__15439=null;var count__15440=0;var i__15441=0;while(true){if(i__15441<count__15440){var c=cljs.core._nth.call(null,chunk__15439,
i__15441);cljs.core.async.put_BANG_.call(null,c,size);var G__15442=seq__15438;var G__15443=chunk__15439;var G__15444=count__15440;var G__15445=i__15441+1;seq__15438=G__15442;chunk__15439=G__15443;count__15440=G__15444;i__15441=G__15445;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__15438);if(temp__4657__auto__){var seq__15438__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__15438__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__15438__$1);var G__15446=
cljs.core.chunk_rest.call(null,seq__15438__$1);var G__15447=c__6959__auto__;var G__15448=cljs.core.count.call(null,c__6959__auto__);var G__15449=0;seq__15438=G__15446;chunk__15439=G__15447;count__15440=G__15448;i__15441=G__15449;continue}else{var c=cljs.core.first.call(null,seq__15438__$1);cljs.core.async.put_BANG_.call(null,c,size);var G__15450=cljs.core.next.call(null,seq__15438__$1);var G__15451=null;var G__15452=0;var G__15453=0;seq__15438=G__15450;chunk__15439=G__15451;count__15440=G__15452;
i__15441=G__15453;continue}}else return null}break}};infinitelives.utils.events.install_resize_handler_BANG_=function infinitelives$utils$events$install_resize_handler_BANG_(){return window.addEventListener("resize",infinitelives.utils.events.resize_event_chan_handler)};infinitelives.utils.events._STAR_frame_chans_STAR_=cljs.core.atom.call(null,cljs.core.PersistentHashSet.EMPTY);
infinitelives.utils.events.new_frame_chan=function infinitelives$utils$events$new_frame_chan(){var c=cljs.core.async.chan.call(null);cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_frame_chans_STAR_,cljs.core.conj,c);return c};infinitelives.utils.events.del_frame_chan_BANG_=function infinitelives$utils$events$del_frame_chan_BANG_(c){return cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_frame_chans_STAR_,cljs.core.disj,c)};
infinitelives.utils.events.clear_frame_chans_BANG_=function infinitelives$utils$events$clear_frame_chans_BANG_(){return cljs.core.swap_BANG_.call(null,infinitelives.utils.events._STAR_frame_chans_STAR_,cljs.core.PersistentHashSet.EMPTY)};
infinitelives.utils.events.frame_event_chan_handler=function infinitelives$utils$events$frame_event_chan_handler(ev){infinitelives.utils.events.request_animation_frame.call(null,infinitelives$utils$events$frame_event_chan_handler);var seq__15458=cljs.core.seq.call(null,cljs.core.deref.call(null,infinitelives.utils.events._STAR_frame_chans_STAR_));var chunk__15459=null;var count__15460=0;var i__15461=0;while(true){if(i__15461<count__15460){var c=cljs.core._nth.call(null,chunk__15459,i__15461);cljs.core.async.put_BANG_.call(null,
c,true);var G__15462=seq__15458;var G__15463=chunk__15459;var G__15464=count__15460;var G__15465=i__15461+1;seq__15458=G__15462;chunk__15459=G__15463;count__15460=G__15464;i__15461=G__15465;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__15458);if(temp__4657__auto__){var seq__15458__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__15458__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__15458__$1);var G__15466=cljs.core.chunk_rest.call(null,seq__15458__$1);
var G__15467=c__6959__auto__;var G__15468=cljs.core.count.call(null,c__6959__auto__);var G__15469=0;seq__15458=G__15466;chunk__15459=G__15467;count__15460=G__15468;i__15461=G__15469;continue}else{var c=cljs.core.first.call(null,seq__15458__$1);cljs.core.async.put_BANG_.call(null,c,true);var G__15470=cljs.core.next.call(null,seq__15458__$1);var G__15471=null;var G__15472=0;var G__15473=0;seq__15458=G__15470;chunk__15459=G__15471;count__15460=G__15472;i__15461=G__15473;continue}}else return null}break}};
infinitelives.utils.events.install_frame_handler_BANG_=function infinitelives$utils$events$install_frame_handler_BANG_(){return infinitelives.utils.events.request_animation_frame.call(null,infinitelives.utils.events.frame_event_chan_handler)};
infinitelives.utils.events.make_get_gamepads=function infinitelives$utils$events$make_get_gamepads(){if(cljs.core.truth_(navigator["getGamepads"]))return function(_AMPERSAND_args){return navigator["getGamepads"].apply(navigator,cljs.core.PersistentVector.EMPTY)};else if(cljs.core.truth_(navigator["wegkitGetGamepads"]))return function(_AMPERSAND_args){return navigator["webkitGetGamepads"].apply(navigator,cljs.core.PersistentVector.EMPTY)};else return function(){return cljs.core.List.EMPTY}};
infinitelives.utils.events.get_gamepads=infinitelives.utils.events.make_get_gamepads.call(null);infinitelives.utils.events._BANG_gamepads=new cljs.core.PersistentArrayMap(null,4,[0,cljs.core.atom.call(null,null),1,cljs.core.atom.call(null,null),2,cljs.core.atom.call(null,null),3,cljs.core.atom.call(null,null)],null);infinitelives.utils.events._BANG_gamepad_connected_callbacks=cljs.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
infinitelives.utils.events.initiate_gamepad_callbacks=function infinitelives$utils$events$initiate_gamepad_callbacks(gamepad_index,gamepad_data){var seq__15478=cljs.core.seq.call(null,cljs.core.deref.call(null,infinitelives.utils.events._BANG_gamepad_connected_callbacks));var chunk__15479=null;var count__15480=0;var i__15481=0;while(true){if(i__15481<count__15480){var g=cljs.core._nth.call(null,chunk__15479,i__15481);g.call(null,gamepad_index,cljs.core.get.call(null,infinitelives.utils.events._BANG_gamepads,
gamepad_index));var G__15482=seq__15478;var G__15483=chunk__15479;var G__15484=count__15480;var G__15485=i__15481+1;seq__15478=G__15482;chunk__15479=G__15483;count__15480=G__15484;i__15481=G__15485;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__15478);if(temp__4657__auto__){var seq__15478__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__15478__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__15478__$1);var G__15486=cljs.core.chunk_rest.call(null,
seq__15478__$1);var G__15487=c__6959__auto__;var G__15488=cljs.core.count.call(null,c__6959__auto__);var G__15489=0;seq__15478=G__15486;chunk__15479=G__15487;count__15480=G__15488;i__15481=G__15489;continue}else{var g=cljs.core.first.call(null,seq__15478__$1);g.call(null,gamepad_index,cljs.core.get.call(null,infinitelives.utils.events._BANG_gamepads,gamepad_index));var G__15490=cljs.core.next.call(null,seq__15478__$1);var G__15491=null;var G__15492=0;var G__15493=0;seq__15478=G__15490;chunk__15479=
G__15491;count__15480=G__15492;i__15481=G__15493;continue}}else return null}break}};infinitelives.utils.events.set_gamepad_atom_BANG_=function infinitelives$utils$events$set_gamepad_atom_BANG_(gamepad_index,value){var g=cljs.core.get.call(null,infinitelives.utils.events._BANG_gamepads,gamepad_index);return cljs.core.reset_BANG_.call(null,g,value)};infinitelives.utils.events.gamepad_handler_installed=cljs.core.atom.call(null,false);infinitelives.utils.events.get_gamepad_event_index=function infinitelives$utils$events$get_gamepad_event_index(ev){return ev["gamepad"]["index"]};
infinitelives.utils.events.install_gamepad_handler_BANG_=function infinitelives$utils$events$install_gamepad_handler_BANG_(){if(cljs.core.truth_(cljs.core.compare_and_set_BANG_.call(null,infinitelives.utils.events.gamepad_handler_installed,false,true))){var gamepads_15502=infinitelives.utils.events.get_gamepads.call(null);var seq__15498_15503=cljs.core.seq.call(null,cljs.core.range.call(null,4));var chunk__15499_15504=null;var count__15500_15505=0;var i__15501_15506=0;while(true){if(i__15501_15506<
count__15500_15505){var gamepad_index_15507=cljs.core._nth.call(null,chunk__15499_15504,i__15501_15506);var gamepad_data_15508=gamepads_15502[gamepad_index_15507];if(cljs.core.truth_(gamepad_data_15508))infinitelives.utils.events.set_gamepad_atom_BANG_.call(null,gamepad_index_15507,gamepad_data_15508);else;var G__15509=seq__15498_15503;var G__15510=chunk__15499_15504;var G__15511=count__15500_15505;var G__15512=i__15501_15506+1;seq__15498_15503=G__15509;chunk__15499_15504=G__15510;count__15500_15505=
G__15511;i__15501_15506=G__15512;continue}else{var temp__4657__auto___15513=cljs.core.seq.call(null,seq__15498_15503);if(temp__4657__auto___15513){var seq__15498_15514__$1=temp__4657__auto___15513;if(cljs.core.chunked_seq_QMARK_.call(null,seq__15498_15514__$1)){var c__6959__auto___15515=cljs.core.chunk_first.call(null,seq__15498_15514__$1);var G__15516=cljs.core.chunk_rest.call(null,seq__15498_15514__$1);var G__15517=c__6959__auto___15515;var G__15518=cljs.core.count.call(null,c__6959__auto___15515);
var G__15519=0;seq__15498_15503=G__15516;chunk__15499_15504=G__15517;count__15500_15505=G__15518;i__15501_15506=G__15519;continue}else{var gamepad_index_15520=cljs.core.first.call(null,seq__15498_15514__$1);var gamepad_data_15521=gamepads_15502[gamepad_index_15520];if(cljs.core.truth_(gamepad_data_15521))infinitelives.utils.events.set_gamepad_atom_BANG_.call(null,gamepad_index_15520,gamepad_data_15521);else;var G__15522=cljs.core.next.call(null,seq__15498_15514__$1);var G__15523=null;var G__15524=
0;var G__15525=0;seq__15498_15503=G__15522;chunk__15499_15504=G__15523;count__15500_15505=G__15524;i__15501_15506=G__15525;continue}}else;}break}window.addEventListener("gamepadconnected",function(ev){infinitelives.utils.events.set_gamepad_atom_BANG_.call(null,infinitelives.utils.events.get_gamepad_event_index.call(null,ev),ev["gamepad"]);return infinitelives.utils.events.initiate_gamepad_callbacks.call(null,infinitelives.utils.events.get_gamepad_event_index.call(null,ev),ev["gamepad"])});window.addEventListener("gamepaddisconnected",
function(ev){infinitelives.utils.events.set_gamepad_atom_BANG_.call(null,infinitelives.utils.events.get_gamepad_event_index.call(null,ev),null);return infinitelives.utils.events.initiate_gamepad_callbacks.call(null,infinitelives.utils.events.get_gamepad_event_index.call(null,ev),null)});return setInterval(infinitelives.utils.events.get_gamepads,25)}else return null};
infinitelives.utils.events.install_gamepad_listener=function infinitelives$utils$events$install_gamepad_listener(callback){infinitelives.utils.events.install_gamepad_handler_BANG_.call(null);cljs.core.swap_BANG_.call(null,infinitelives.utils.events._BANG_gamepad_connected_callbacks,cljs.core.conj,callback);var seq__15530=cljs.core.seq.call(null,cljs.core.range.call(null,4));var chunk__15531=null;var count__15532=0;var i__15533=0;while(true){if(i__15533<count__15532){var c=cljs.core._nth.call(null,
chunk__15531,i__15533);var g_15534=cljs.core.get.call(null,infinitelives.utils.events._BANG_gamepads,c);if(cljs.core.truth_(cljs.core.deref.call(null,g_15534)))callback.call(null,c,g_15534);else;var G__15535=seq__15530;var G__15536=chunk__15531;var G__15537=count__15532;var G__15538=i__15533+1;seq__15530=G__15535;chunk__15531=G__15536;count__15532=G__15537;i__15533=G__15538;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__15530);if(temp__4657__auto__){var seq__15530__$1=temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,seq__15530__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__15530__$1);var G__15539=cljs.core.chunk_rest.call(null,seq__15530__$1);var G__15540=c__6959__auto__;var G__15541=cljs.core.count.call(null,c__6959__auto__);var G__15542=0;seq__15530=G__15539;chunk__15531=G__15540;count__15532=G__15541;i__15533=G__15542;continue}else{var c=cljs.core.first.call(null,seq__15530__$1);var g_15543=cljs.core.get.call(null,infinitelives.utils.events._BANG_gamepads,
c);if(cljs.core.truth_(cljs.core.deref.call(null,g_15543)))callback.call(null,c,g_15543);else;var G__15544=cljs.core.next.call(null,seq__15530__$1);var G__15545=null;var G__15546=0;var G__15547=0;seq__15530=G__15544;chunk__15531=G__15545;count__15532=G__15546;i__15533=G__15547;continue}}else return null}break}};infinitelives.utils.events.install_key_handler_BANG_.call(null);infinitelives.utils.events.install_frame_handler_BANG_.call(null);infinitelives.utils.events.install_resize_handler_BANG_.call(null);goog.provide("infinitelives.utils.console");goog.require("cljs.core");
infinitelives.utils.console.log=function infinitelives$utils$console$log(var_args){var args__7221__auto__=[];var len__7214__auto___15553=arguments.length;var i__7215__auto___15554=0;while(true){if(i__7215__auto___15554<len__7214__auto___15553){args__7221__auto__.push(arguments[i__7215__auto___15554]);var G__15555=i__7215__auto___15554+1;i__7215__auto___15554=G__15555;continue}else;break}var argseq__7222__auto__=0<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(0),0):null;
return infinitelives.utils.console.log.cljs$core$IFn$_invoke$arity$variadic(argseq__7222__auto__)};infinitelives.utils.console.log.cljs$core$IFn$_invoke$arity$variadic=function(args){console.log.apply(console,cljs.core.clj__GT_js.call(null,cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,args)));return cljs.core.last.call(null,args)};infinitelives.utils.console.log.cljs$lang$maxFixedArity=0;
infinitelives.utils.console.log.cljs$lang$applyTo=function(seq15552){return infinitelives.utils.console.log.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,seq15552))};goog.provide("goog.vec.Float32Array");goog.vec.Float32Array=function(p0){this.length=(p0.length||p0);for(var i=0;i<this.length;i++)this[i]=p0[i]||0};goog.vec.Float32Array.BYTES_PER_ELEMENT=4;goog.vec.Float32Array.prototype.BYTES_PER_ELEMENT=4;goog.vec.Float32Array.prototype.set=function(values,opt_offset){opt_offset=opt_offset||0;for(var i=0;i<values.length&&opt_offset+i<this.length;i++)this[opt_offset+i]=values[i]};goog.vec.Float32Array.prototype.toString=Array.prototype.join;
if(typeof Float32Array=="undefined"){goog.exportProperty(goog.vec.Float32Array,"BYTES_PER_ELEMENT",goog.vec.Float32Array.BYTES_PER_ELEMENT);goog.exportProperty(goog.vec.Float32Array.prototype,"BYTES_PER_ELEMENT",goog.vec.Float32Array.prototype.BYTES_PER_ELEMENT);goog.exportProperty(goog.vec.Float32Array.prototype,"set",goog.vec.Float32Array.prototype.set);goog.exportProperty(goog.vec.Float32Array.prototype,"toString",goog.vec.Float32Array.prototype.toString);goog.exportSymbol("Float32Array",goog.vec.Float32Array)};goog.provide("goog.vec.Float64Array");goog.vec.Float64Array=function(p0){this.length=(p0.length||p0);for(var i=0;i<this.length;i++)this[i]=p0[i]||0};goog.vec.Float64Array.BYTES_PER_ELEMENT=8;goog.vec.Float64Array.prototype.BYTES_PER_ELEMENT=8;goog.vec.Float64Array.prototype.set=function(values,opt_offset){opt_offset=opt_offset||0;for(var i=0;i<values.length&&opt_offset+i<this.length;i++)this[opt_offset+i]=values[i]};goog.vec.Float64Array.prototype.toString=Array.prototype.join;
if(typeof Float64Array=="undefined"){try{goog.exportProperty(goog.vec.Float64Array,"BYTES_PER_ELEMENT",goog.vec.Float64Array.BYTES_PER_ELEMENT)}catch(float64ArrayError){}goog.exportProperty(goog.vec.Float64Array.prototype,"BYTES_PER_ELEMENT",goog.vec.Float64Array.prototype.BYTES_PER_ELEMENT);goog.exportProperty(goog.vec.Float64Array.prototype,"set",goog.vec.Float64Array.prototype.set);goog.exportProperty(goog.vec.Float64Array.prototype,"toString",goog.vec.Float64Array.prototype.toString);goog.exportSymbol("Float64Array",
goog.vec.Float64Array)};goog.provide("goog.vec");goog.provide("goog.vec.AnyType");goog.provide("goog.vec.ArrayType");goog.provide("goog.vec.Float32");goog.provide("goog.vec.Float64");goog.provide("goog.vec.Number");goog.require("goog.vec.Float32Array");goog.require("goog.vec.Float64Array");goog.vec.Float32;goog.vec.Float64;goog.vec.Number;goog.vec.AnyType;goog.vec.ArrayType;goog.vec.EPSILON=1E-6;goog.provide("goog.vec.Vec2");goog.require("goog.vec");goog.vec.Vec2.Float32;goog.vec.Vec2.Float64;goog.vec.Vec2.Number;goog.vec.Vec2.AnyType;goog.vec.Vec2.createFloat32=function(){return new Float32Array(2)};goog.vec.Vec2.createFloat64=function(){return new Float64Array(2)};goog.vec.Vec2.createNumber=function(){var a=new Array(2);goog.vec.Vec2.setFromValues(a,0,0);return a};
goog.vec.Vec2.createFloat32FromArray=function(vec){var newVec=goog.vec.Vec2.createFloat32();goog.vec.Vec2.setFromArray(newVec,vec);return newVec};goog.vec.Vec2.createFloat32FromValues=function(vec0,vec1){var a=goog.vec.Vec2.createFloat32();goog.vec.Vec2.setFromValues(a,vec0,vec1);return a};goog.vec.Vec2.cloneFloat32=goog.vec.Vec2.createFloat32FromArray;goog.vec.Vec2.createFloat64FromArray=function(vec){var newVec=goog.vec.Vec2.createFloat64();goog.vec.Vec2.setFromArray(newVec,vec);return newVec};
goog.vec.Vec2.createFloat64FromValues=function(vec0,vec1){var vec=goog.vec.Vec2.createFloat64();goog.vec.Vec2.setFromValues(vec,vec0,vec1);return vec};goog.vec.Vec2.cloneFloat64=goog.vec.Vec2.createFloat64FromArray;goog.vec.Vec2.setFromValues=function(vec,vec0,vec1){vec[0]=vec0;vec[1]=vec1;return vec};goog.vec.Vec2.setFromArray=function(vec,values){vec[0]=values[0];vec[1]=values[1];return vec};
goog.vec.Vec2.add=function(vec0,vec1,resultVec){resultVec[0]=vec0[0]+vec1[0];resultVec[1]=vec0[1]+vec1[1];return resultVec};goog.vec.Vec2.subtract=function(vec0,vec1,resultVec){resultVec[0]=vec0[0]-vec1[0];resultVec[1]=vec0[1]-vec1[1];return resultVec};goog.vec.Vec2.negate=function(vec0,resultVec){resultVec[0]=-vec0[0];resultVec[1]=-vec0[1];return resultVec};goog.vec.Vec2.abs=function(vec0,resultVec){resultVec[0]=Math.abs(vec0[0]);resultVec[1]=Math.abs(vec0[1]);return resultVec};
goog.vec.Vec2.scale=function(vec0,scalar,resultVec){resultVec[0]=vec0[0]*scalar;resultVec[1]=vec0[1]*scalar;return resultVec};goog.vec.Vec2.magnitudeSquared=function(vec0){var x=vec0[0],y=vec0[1];return x*x+y*y};goog.vec.Vec2.magnitude=function(vec0){var x=vec0[0],y=vec0[1];return Math.sqrt(x*x+y*y)};goog.vec.Vec2.normalize=function(vec0,resultVec){var ilen=1/goog.vec.Vec2.magnitude(vec0);resultVec[0]=vec0[0]*ilen;resultVec[1]=vec0[1]*ilen;return resultVec};
goog.vec.Vec2.dot=function(vec0,vec1){return vec0[0]*vec1[0]+vec0[1]*vec1[1]};goog.vec.Vec2.distanceSquared=function(vec0,vec1){var x=vec0[0]-vec1[0];var y=vec0[1]-vec1[1];return x*x+y*y};goog.vec.Vec2.distance=function(vec0,vec1){return Math.sqrt(goog.vec.Vec2.distanceSquared(vec0,vec1))};goog.vec.Vec2.direction=function(vec0,vec1,resultVec){var x=vec1[0]-vec0[0];var y=vec1[1]-vec0[1];var d=Math.sqrt(x*x+y*y);if(d){d=1/d;resultVec[0]=x*d;resultVec[1]=y*d}else resultVec[0]=resultVec[1]=0;return resultVec};
goog.vec.Vec2.lerp=function(vec0,vec1,f,resultVec){var x=vec0[0],y=vec0[1];resultVec[0]=(vec1[0]-x)*f+x;resultVec[1]=(vec1[1]-y)*f+y;return resultVec};goog.vec.Vec2.max=function(vec0,limit,resultVec){if(goog.isNumber(limit)){resultVec[0]=Math.max(vec0[0],limit);resultVec[1]=Math.max(vec0[1],limit)}else{resultVec[0]=Math.max(vec0[0],limit[0]);resultVec[1]=Math.max(vec0[1],limit[1])}return resultVec};
goog.vec.Vec2.min=function(vec0,limit,resultVec){if(goog.isNumber(limit)){resultVec[0]=Math.min(vec0[0],limit);resultVec[1]=Math.min(vec0[1],limit)}else{resultVec[0]=Math.min(vec0[0],limit[0]);resultVec[1]=Math.min(vec0[1],limit[1])}return resultVec};goog.vec.Vec2.equals=function(vec0,vec1){return vec0.length==vec1.length&&vec0[0]==vec1[0]&&vec0[1]==vec1[1]};goog.provide("infinitelives.utils.vec2");goog.require("cljs.core");goog.require("goog.vec.Vec2");infinitelives.utils.vec2._STAR_almost_delta_STAR_=1E-14;infinitelives.utils.vec2.vec2=goog.vec.Vec2.createFloat64FromValues;infinitelives.utils.vec2.make=goog.vec.Vec2.createFloat64;infinitelives.utils.vec2.zero=goog.vec.Vec2.createFloat64;infinitelives.utils.vec2.magnitude=goog.vec.Vec2.magnitude;infinitelives.utils.vec2.magnitude_squared=goog.vec.Vec2.magnitudeSquared;
infinitelives.utils.vec2.distance=goog.vec.Vec2.distance;infinitelives.utils.vec2.distance_squared=goog.vec.Vec2.distanceSquared;infinitelives.utils.vec2.equals=goog.vec.Vec2.equals;
infinitelives.utils.vec2.almost=function infinitelives$utils$vec2$almost(var_args){var args15558=[];var len__7214__auto___15572=arguments.length;var i__7215__auto___15573=0;while(true){if(i__7215__auto___15573<len__7214__auto___15572){args15558.push(arguments[i__7215__auto___15573]);var G__15574=i__7215__auto___15573+1;i__7215__auto___15573=G__15574;continue}else;break}var G__15563=args15558.length;switch(G__15563){case 2:return infinitelives.utils.vec2.almost.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args15558.slice(2),0);return infinitelives.utils.vec2.almost.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7233__auto__)}};infinitelives.utils.vec2.almost.cljs$core$IFn$_invoke$arity$2=function(v0,v1){return Math.abs(v0[0]-v1[0])<infinitelives.utils.vec2._STAR_almost_delta_STAR_&&Math.abs(v0[1]-v1[1])<infinitelives.utils.vec2._STAR_almost_delta_STAR_};
infinitelives.utils.vec2.almost.cljs$core$IFn$_invoke$arity$variadic=function(v0,v1,args){var vecs=cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[v0,v1],null),args);var xs=function(){var iter__6928__auto__=function(vecs){return function infinitelives$utils$vec2$iter__15564(s__15565){return new cljs.core.LazySeq(null,function(vecs){return function(){var s__15565__$1=s__15565;while(true){var temp__4657__auto__=cljs.core.seq.call(null,s__15565__$1);
if(temp__4657__auto__){var s__15565__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__15565__$2)){var c__6926__auto__=cljs.core.chunk_first.call(null,s__15565__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__15567=cljs.core.chunk_buffer.call(null,size__6927__auto__);if(function(){var i__15566=0;while(true){if(i__15566<size__6927__auto__){var v=cljs.core._nth.call(null,c__6926__auto__,i__15566);cljs.core.chunk_append.call(null,b__15567,v[0]);var G__15576=
i__15566+1;i__15566=G__15576;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15567),infinitelives$utils$vec2$iter__15564.call(null,cljs.core.chunk_rest.call(null,s__15565__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15567),null)}else{var v=cljs.core.first.call(null,s__15565__$2);return cljs.core.cons.call(null,v[0],infinitelives$utils$vec2$iter__15564.call(null,cljs.core.rest.call(null,s__15565__$2)))}}else return null;
break}}}(vecs),null,null)}}(vecs);return iter__6928__auto__.call(null,vecs)}();var ys=function(){var iter__6928__auto__=function(vecs,xs){return function infinitelives$utils$vec2$iter__15568(s__15569){return new cljs.core.LazySeq(null,function(vecs,xs){return function(){var s__15569__$1=s__15569;while(true){var temp__4657__auto__=cljs.core.seq.call(null,s__15569__$1);if(temp__4657__auto__){var s__15569__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__15569__$2)){var c__6926__auto__=
cljs.core.chunk_first.call(null,s__15569__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__15571=cljs.core.chunk_buffer.call(null,size__6927__auto__);if(function(){var i__15570=0;while(true){if(i__15570<size__6927__auto__){var v=cljs.core._nth.call(null,c__6926__auto__,i__15570);cljs.core.chunk_append.call(null,b__15571,v[1]);var G__15577=i__15570+1;i__15570=G__15577;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15571),
infinitelives$utils$vec2$iter__15568.call(null,cljs.core.chunk_rest.call(null,s__15569__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15571),null)}else{var v=cljs.core.first.call(null,s__15569__$2);return cljs.core.cons.call(null,v[1],infinitelives$utils$vec2$iter__15568.call(null,cljs.core.rest.call(null,s__15569__$2)))}}else return null;break}}}(vecs,xs),null,null)}}(vecs,xs);return iter__6928__auto__.call(null,vecs)}();var min_x=cljs.core.reduce.call(null,cljs.core.min,
xs);var max_x=cljs.core.reduce.call(null,cljs.core.max,xs);var min_y=cljs.core.reduce.call(null,cljs.core.min,ys);var max_y=cljs.core.reduce.call(null,cljs.core.max,ys);return max_x-min_x<infinitelives.utils.vec2._STAR_almost_delta_STAR_&&max_y-min_y<infinitelives.utils.vec2._STAR_almost_delta_STAR_};
infinitelives.utils.vec2.almost.cljs$lang$applyTo=function(seq15559){var G__15560=cljs.core.first.call(null,seq15559);var seq15559__$1=cljs.core.next.call(null,seq15559);var G__15561=cljs.core.first.call(null,seq15559__$1);var seq15559__$2=cljs.core.next.call(null,seq15559__$1);return infinitelives.utils.vec2.almost.cljs$core$IFn$_invoke$arity$variadic(G__15560,G__15561,seq15559__$2)};infinitelives.utils.vec2.almost.cljs$lang$maxFixedArity=2;
infinitelives.utils.vec2.add=function infinitelives$utils$vec2$add(v0,v1){return goog.vec.Vec2.add(v0,v1,infinitelives.utils.vec2.make.call(null))};
infinitelives.utils.vec2.sub=function infinitelives$utils$vec2$sub(var_args){var args15578=[];var len__7214__auto___15581=arguments.length;var i__7215__auto___15582=0;while(true){if(i__7215__auto___15582<len__7214__auto___15581){args15578.push(arguments[i__7215__auto___15582]);var G__15583=i__7215__auto___15582+1;i__7215__auto___15582=G__15583;continue}else;break}var G__15580=args15578.length;switch(G__15580){case 1:return infinitelives.utils.vec2.sub.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;
case 2:return infinitelives.utils.vec2.sub.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15578.length)].join(""));}};infinitelives.utils.vec2.sub.cljs$core$IFn$_invoke$arity$1=function(v){return goog.vec.Vec2.negate(v,infinitelives.utils.vec2.make.call(null))};infinitelives.utils.vec2.sub.cljs$core$IFn$_invoke$arity$2=function(v0,v1){return goog.vec.Vec2.subtract(v0,v1,infinitelives.utils.vec2.make.call(null))};
infinitelives.utils.vec2.sub.cljs$lang$maxFixedArity=2;infinitelives.utils.vec2.dot=function infinitelives$utils$vec2$dot(v0,v1){return goog.vec.Vec2.dot(v0,v1)};infinitelives.utils.vec2.scale=function infinitelives$utils$vec2$scale(v,scalar){return goog.vec.Vec2.scale(v,scalar,infinitelives.utils.vec2.make.call(null))};infinitelives.utils.vec2.unit=function infinitelives$utils$vec2$unit(v){return goog.vec.Vec2.normalize(v,infinitelives.utils.vec2.make.call(null))};
infinitelives.utils.vec2.abs=function infinitelives$utils$vec2$abs(v){return goog.vec.Vec2.abs(v,infinitelives.utils.vec2.make.call(null))};infinitelives.utils.vec2.direction=function infinitelives$utils$vec2$direction(v0,v1){return goog.vec.Vec2.direction(v0,v1,infinitelives.utils.vec2.make.call(null))};
infinitelives.utils.vec2.rotate=function infinitelives$utils$vec2$rotate(v,ang){var cos=Math.cos(ang);var sin=Math.sin(ang);return infinitelives.utils.vec2.vec2.call(null,cos*v[0]-sin*v[1],cos*v[1]+sin*v[0])};infinitelives.utils.vec2.random_unit=function infinitelives$utils$vec2$random_unit(){var ang=cljs.core.rand.call(null)*Math.PI*2;return infinitelives.utils.vec2.vec2.call(null,Math.cos(ang),Math.sin(ang))};
infinitelives.utils.vec2.random=function infinitelives$utils$vec2$random(){var mag=Math.sqrt(cljs.core.rand.call(null));var ang=cljs.core.rand.call(null)*Math.PI*2;return infinitelives.utils.vec2.vec2.call(null,mag*Math.cos(ang),mag*Math.sin(ang))};infinitelives.utils.vec2.lerp=function infinitelives$utils$vec2$lerp(v0,v1,f){return goog.vec.Vec2.lerp(v0,v1,f,infinitelives.utils.vec2.make.call(null))};
infinitelives.utils.vec2.heading=function infinitelives$utils$vec2$heading(v){var pi_on_2=Math.PI/2;var x=v[0];var y=v[1];if(cljs.core._EQ_.call(null,0,x))if(y<0)return 3*pi_on_2;else return pi_on_2;else if(cljs.core._EQ_.call(null,0,y))if(x<0)return Math.PI;else return 0;else if(x>0)if(y>0)return Math.atan(y/x);else return Math.PI+Math.PI+Math.atan(y/x);else return Math.PI+Math.atan(y/x)};
infinitelives.utils.vec2.truncate=function infinitelives$utils$vec2$truncate(v,scalar){var len=infinitelives.utils.vec2.magnitude.call(null,v);if(len>scalar)return infinitelives.utils.vec2.scale.call(null,infinitelives.utils.vec2.unit.call(null,v),scalar);else return v};infinitelives.utils.vec2.as_vector=function infinitelives$utils$vec2$as_vector(v){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[v[0],v[1]],null)};infinitelives.utils.vec2.get_x=function infinitelives$utils$vec2$get_x(v){return v[0]};
infinitelives.utils.vec2.get_y=function infinitelives$utils$vec2$get_y(v){return v[1]};goog.provide("infinitelives.pixi.texture");goog.require("cljs.core");infinitelives.pixi.texture.sub_texture=function infinitelives$pixi$texture$sub_texture(texture,p__15587,p__15588){var vec__15591=p__15587;var x=cljs.core.nth.call(null,vec__15591,0,null);var y=cljs.core.nth.call(null,vec__15591,1,null);var vec__15592=p__15588;var w=cljs.core.nth.call(null,vec__15592,0,null);var h=cljs.core.nth.call(null,vec__15592,1,null);return new PIXI.Texture(texture,new PIXI.Rectangle(x,y,w,h))};
if(typeof infinitelives.pixi.texture.texture_store!=="undefined");else infinitelives.pixi.texture.texture_store=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);infinitelives.pixi.texture.add_BANG_=function infinitelives$pixi$texture$add_BANG_(key,texture){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.texture.texture_store,cljs.core.assoc,key,texture)};
infinitelives.pixi.texture.remove_BANG_=function infinitelives$pixi$texture$remove_BANG_(key){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.texture.texture_store,cljs.core.dissoc,key)};infinitelives.pixi.texture.get=function infinitelives$pixi$texture$get(key){return cljs.core.deref.call(null,infinitelives.pixi.texture.texture_store).call(null,key)};
infinitelives.pixi.texture.set_texture_BANG_=function infinitelives$pixi$texture$set_texture_BANG_(key,texture){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.texture.texture_store,cljs.core.assoc,key,texture)};
infinitelives.pixi.texture.load_sprite_sheet_BANG_=function infinitelives$pixi$texture$load_sprite_sheet_BANG_(texture,asset_description){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.texture.texture_store,function(p1__15593_SHARP_){return cljs.core.into.call(null,p1__15593_SHARP_,function(){var iter__6928__auto__=function infinitelives$pixi$texture$load_sprite_sheet_BANG__$_iter__15610(s__15611){return new cljs.core.LazySeq(null,function(){var s__15611__$1=s__15611;while(true){var temp__4657__auto__=
cljs.core.seq.call(null,s__15611__$1);if(temp__4657__auto__){var s__15611__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__15611__$2)){var c__6926__auto__=cljs.core.chunk_first.call(null,s__15611__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__15613=cljs.core.chunk_buffer.call(null,size__6927__auto__);if(function(){var i__15612=0;while(true){if(i__15612<size__6927__auto__){var vec__15620=cljs.core._nth.call(null,c__6926__auto__,i__15612);var key=cljs.core.nth.call(null,
vec__15620,0,null);var map__15621=cljs.core.nth.call(null,vec__15620,1,null);var map__15621__$1=(!(map__15621==null)?map__15621.cljs$lang$protocol_mask$partition0$&64||map__15621.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15621):map__15621;var pos=cljs.core.get.call(null,map__15621__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var size=cljs.core.get.call(null,map__15621__$1,new cljs.core.Keyword(null,"size","size",1098693007));cljs.core.chunk_append.call(null,
b__15613,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[key,infinitelives.pixi.texture.sub_texture.call(null,texture,pos,size)],null));var G__15626=i__15612+1;i__15612=G__15626;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__15613),infinitelives$pixi$texture$load_sprite_sheet_BANG__$_iter__15610.call(null,cljs.core.chunk_rest.call(null,s__15611__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,
b__15613),null)}else{var vec__15623=cljs.core.first.call(null,s__15611__$2);var key=cljs.core.nth.call(null,vec__15623,0,null);var map__15624=cljs.core.nth.call(null,vec__15623,1,null);var map__15624__$1=(!(map__15624==null)?map__15624.cljs$lang$protocol_mask$partition0$&64||map__15624.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15624):map__15624;var pos=cljs.core.get.call(null,map__15624__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var size=cljs.core.get.call(null,
map__15624__$1,new cljs.core.Keyword(null,"size","size",1098693007));return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[key,infinitelives.pixi.texture.sub_texture.call(null,texture,pos,size)],null),infinitelives$pixi$texture$load_sprite_sheet_BANG__$_iter__15610.call(null,cljs.core.rest.call(null,s__15611__$2)))}}else return null;break}},null,null)};return iter__6928__auto__.call(null,asset_description)}())})};goog.provide("infinitelives.pixi.sprite");goog.require("cljs.core");goog.require("infinitelives.utils.vec2");goog.require("infinitelives.pixi.texture");infinitelives.pixi.sprite.make_point=function infinitelives$pixi$sprite$make_point(x,y){return new PIXI.Point(x,y)};
infinitelives.pixi.sprite.make_sprite=function infinitelives$pixi$sprite$make_sprite(var_args){var args__7221__auto__=[];var len__7214__auto___15634=arguments.length;var i__7215__auto___15635=0;while(true){if(i__7215__auto___15635<len__7214__auto___15634){args__7221__auto__.push(arguments[i__7215__auto___15635]);var G__15636=i__7215__auto___15635+1;i__7215__auto___15635=G__15636;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),
0):null;return infinitelives.pixi.sprite.make_sprite.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};
infinitelives.pixi.sprite.make_sprite.cljs$core$IFn$_invoke$arity$variadic=function(texture,p__15631){var map__15632=p__15631;var map__15632__$1=(!(map__15632==null)?map__15632.cljs$lang$protocol_mask$partition0$&64||map__15632.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15632):map__15632;var x=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"x","x",2099068185),0);var mousedown=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,
"mousedown","mousedown",1391242074));var xhandle=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"xhandle","xhandle",373504767),.5);var y=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"y","y",-1757859776),0);var tiling=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"tiling","tiling",-1693991967),false);var rotation=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"rotation","rotation",-1728051644),0);var interactive=cljs.core.get.call(null,
map__15632__$1,new cljs.core.Keyword(null,"interactive","interactive",-2024078362));var scale=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"scale","scale",-230427353),1);var tint=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"tint","tint",-1286736913));var tiling_width=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"tiling-width","tiling-width",-97440781));var yhandle=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"yhandle",
"yhandle",608395252),.5);var tiling_height=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"tiling-height","tiling-height",-1474681674));var alpha=cljs.core.get.call(null,map__15632__$1,new cljs.core.Keyword(null,"alpha","alpha",-1574982441),1);var s=cljs.core.truth_(tiling)?new PIXI.extras.TilingSprite(texture instanceof cljs.core.Keyword?infinitelives.pixi.texture.get.call(null,texture):texture,tiling_width,tiling_height):new PIXI.Sprite(texture instanceof cljs.core.Keyword?infinitelives.pixi.texture.get.call(null,
texture):texture);s.anchor=infinitelives.pixi.sprite.make_point.call(null,xhandle,yhandle);s.x=x;s.y=y;s.rotation=rotation;if(cljs.core._EQ_.call(null,scale,1));else s.scale=typeof scale==="number"?infinitelives.pixi.sprite.make_point.call(null,scale,scale):infinitelives.pixi.sprite.make_point.call(null,cljs.core.get.call(null,scale,0),cljs.core.get.call(null,scale,1));if(cljs.core._EQ_.call(null,1,alpha));else s.alpha=alpha;if(interactive==null);else s.interactive=interactive;if(mousedown==null);
else s.mousedown=mousedown;if(tint==null);else s.tint=tint;return s};infinitelives.pixi.sprite.make_sprite.cljs$lang$maxFixedArity=1;infinitelives.pixi.sprite.make_sprite.cljs$lang$applyTo=function(seq15629){var G__15630=cljs.core.first.call(null,seq15629);var seq15629__$1=cljs.core.next.call(null,seq15629);return infinitelives.pixi.sprite.make_sprite.cljs$core$IFn$_invoke$arity$variadic(G__15630,seq15629__$1)};
infinitelives.pixi.sprite.set_pos_BANG_=function infinitelives$pixi$sprite$set_pos_BANG_(var_args){var args15637=[];var len__7214__auto___15640=arguments.length;var i__7215__auto___15641=0;while(true){if(i__7215__auto___15641<len__7214__auto___15640){args15637.push(arguments[i__7215__auto___15641]);var G__15642=i__7215__auto___15641+1;i__7215__auto___15641=G__15642;continue}else;break}var G__15639=args15637.length;switch(G__15639){case 3:return infinitelives.pixi.sprite.set_pos_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],
arguments[1],arguments[2]);break;case 2:return infinitelives.pixi.sprite.set_pos_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15637.length)].join(""));}};infinitelives.pixi.sprite.set_pos_BANG_.cljs$core$IFn$_invoke$arity$3=function(sprite,x,y){sprite.position.x=x;return sprite.position.y=y};
infinitelives.pixi.sprite.set_pos_BANG_.cljs$core$IFn$_invoke$arity$2=function(sprite,pos){if(cljs.core.vector_QMARK_.call(null,pos))return infinitelives.pixi.sprite.set_pos_BANG_.call(null,sprite,pos.call(null,0),pos.call(null,1));else return infinitelives.pixi.sprite.set_pos_BANG_.call(null,sprite,pos[0],pos[1])};infinitelives.pixi.sprite.set_pos_BANG_.cljs$lang$maxFixedArity=3;infinitelives.pixi.sprite.set_x_BANG_=function infinitelives$pixi$sprite$set_x_BANG_(sprite,x){return sprite.x=x};
infinitelives.pixi.sprite.set_y_BANG_=function infinitelives$pixi$sprite$set_y_BANG_(sprite,y){return sprite.y=y};infinitelives.pixi.sprite.set_anchor_BANG_=function infinitelives$pixi$sprite$set_anchor_BANG_(sprite,x,y){return sprite.anchor=infinitelives.pixi.sprite.make_point.call(null,x,y)};infinitelives.pixi.sprite.set_alpha_BANG_=function infinitelives$pixi$sprite$set_alpha_BANG_(sprite,alpha){return sprite.alpha=alpha};
infinitelives.pixi.sprite.set_pivot_BANG_=function infinitelives$pixi$sprite$set_pivot_BANG_(sprite,x,y){sprite.pivot.x=x;return sprite.pivot.y=y};
infinitelives.pixi.sprite.set_scale_BANG_=function infinitelives$pixi$sprite$set_scale_BANG_(var_args){var args15644=[];var len__7214__auto___15647=arguments.length;var i__7215__auto___15648=0;while(true){if(i__7215__auto___15648<len__7214__auto___15647){args15644.push(arguments[i__7215__auto___15648]);var G__15649=i__7215__auto___15648+1;i__7215__auto___15648=G__15649;continue}else;break}var G__15646=args15644.length;switch(G__15646){case 2:return infinitelives.pixi.sprite.set_scale_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return infinitelives.pixi.sprite.set_scale_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args15644.length)].join(""));}};infinitelives.pixi.sprite.set_scale_BANG_.cljs$core$IFn$_invoke$arity$2=function(sprite,s){return sprite.scale=infinitelives.pixi.sprite.make_point.call(null,s,s)};
infinitelives.pixi.sprite.set_scale_BANG_.cljs$core$IFn$_invoke$arity$3=function(sprite,sx,sy){return sprite.scale=infinitelives.pixi.sprite.make_point.call(null,sx,sy)};infinitelives.pixi.sprite.set_scale_BANG_.cljs$lang$maxFixedArity=3;infinitelives.pixi.sprite.set_rotation_BANG_=function infinitelives$pixi$sprite$set_rotation_BANG_(sprite,theta){return sprite.rotation=theta};
infinitelives.pixi.sprite.set_texture_BANG_=function infinitelives$pixi$sprite$set_texture_BANG_(sprite,tex){if(tex instanceof cljs.core.Keyword)return sprite.texture=infinitelives.pixi.texture.get.call(null,tex);else return sprite.texture=tex};infinitelives.pixi.sprite.set_visible_BANG_=function infinitelives$pixi$sprite$set_visible_BANG_(sprite,visibility){return sprite.visible=visibility};
infinitelives.pixi.sprite.get_pos=function infinitelives$pixi$sprite$get_pos(var_args){var args__7221__auto__=[];var len__7214__auto___15655=arguments.length;var i__7215__auto___15656=0;while(true){if(i__7215__auto___15656<len__7214__auto___15655){args__7221__auto__.push(arguments[i__7215__auto___15656]);var G__15657=i__7215__auto___15656+1;i__7215__auto___15656=G__15657;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),0):
null;return infinitelives.pixi.sprite.get_pos.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};
infinitelives.pixi.sprite.get_pos.cljs$core$IFn$_invoke$arity$variadic=function(sprite,p__15653){var vec__15654=p__15653;var offset_x=cljs.core.nth.call(null,vec__15654,0,null);var offset_y=cljs.core.nth.call(null,vec__15654,1,null);return infinitelives.utils.vec2.vec2.call(null,function(){var or__6156__auto__=offset_x;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return 0}()+sprite.position.x,function(){var or__6156__auto__=offset_y;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;
else return 0}()+sprite.position.y)};infinitelives.pixi.sprite.get_pos.cljs$lang$maxFixedArity=1;infinitelives.pixi.sprite.get_pos.cljs$lang$applyTo=function(seq15651){var G__15652=cljs.core.first.call(null,seq15651);var seq15651__$1=cljs.core.next.call(null,seq15651);return infinitelives.pixi.sprite.get_pos.cljs$core$IFn$_invoke$arity$variadic(G__15652,seq15651__$1)};infinitelives.pixi.sprite.get_x=function infinitelives$pixi$sprite$get_x(sprite){return sprite.position.x};
infinitelives.pixi.sprite.get_y=function infinitelives$pixi$sprite$get_y(sprite){return sprite.position.y};infinitelives.pixi.sprite.get_xy=function infinitelives$pixi$sprite$get_xy(sprite){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[sprite.position.x,sprite.position.y],null)};goog.provide("infinitelives.pixi.resources");goog.require("cljs.core");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.utils.string");goog.require("infinitelives.pixi.sprite");goog.require("infinitelives.utils.console");if(typeof infinitelives.pixi.resources._BANG_textures!=="undefined");else infinitelives.pixi.resources._BANG_textures=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
infinitelives.pixi.resources.progress_texture=function infinitelives$pixi$resources$progress_texture(fraction,p__15660){var map__15667=p__15660;var map__15667__$1=(!(map__15667==null)?map__15667.cljs$lang$protocol_mask$partition0$&64||map__15667.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15667):map__15667;var options=map__15667__$1;var full_colour=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"full-colour","full-colour",50761434),8421504);
var lowlight_offset=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"lowlight-offset","lowlight-offset",-612034438),0);var draw_border=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"draw-border","draw-border",-1950022342),false);var highlight_offset=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"highlight-offset","highlight-offset",-1920235650),0);var height=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"height","height",
1025178622),40);var highlight=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"highlight","highlight",-800930873));var width=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"width","width",-384071477),600);var lowlight_width=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"lowlight-width","lowlight-width",-984309493),1);var border_colour=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"border-colour","border-colour",-173895822),
16777215);var border_width=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"border-width","border-width",-1512605390),2);var empty_colour=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"empty-colour","empty-colour",-1488420524),0);var lowlight=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"lowlight","lowlight",2143243768));var highlight_width=cljs.core.get.call(null,map__15667__$1,new cljs.core.Keyword(null,"highlight-width","highlight-width",
1191874776),1);var box=new PIXI.Graphics;var G__15669_15673=box;G__15669_15673.beginFill(empty_colour);G__15669_15673.lineStyle(0,border_colour);G__15669_15673.drawRect(0,0,width,height);G__15669_15673.lineStyle(0,border_colour);G__15669_15673.beginFill(full_colour);G__15669_15673.drawRect(border_width,border_width,(fraction<1?fraction:1)*(width-border_width-border_width),height-border_width-border_width);G__15669_15673.endFill();var bw_15674=(fraction<1?fraction:1)*width;var x1_15675=border_width+
highlight_offset;var x2_15676=bw_15674-highlight_offset;var y1_15677=border_width+lowlight_offset;var y2_15678=height-border_width-lowlight_offset;if(bw_15674>0){if(cljs.core.truth_(highlight)){var G__15670_15679=box;G__15670_15679.lineStyle(highlight_width,highlight);G__15670_15679.moveTo(x1_15675,y2_15678);G__15670_15679.lineTo(x1_15675,y1_15677);G__15670_15679.lineTo(x2_15676,y1_15677)}else;if(cljs.core.truth_(lowlight)){var G__15671_15680=box;G__15671_15680.lineStyle(lowlight_width,lowlight);
G__15671_15680.moveTo(x1_15675,y2_15678);G__15671_15680.lineTo(x2_15676,y2_15678);G__15671_15680.lineTo(x2_15676,y1_15677)}else;}else;if(cljs.core.truth_(draw_border)){var G__15672_15681=box;G__15672_15681.lineStyle(border_width,border_colour);G__15672_15681.drawRect(0,0,width,height)}else;return box.generateTexture(false)};
infinitelives.pixi.resources.add_prog_bar=function infinitelives$pixi$resources$add_prog_bar(stage,options){var s=infinitelives.pixi.sprite.make_sprite.call(null,infinitelives.pixi.resources.progress_texture.call(null,0,options));s.alpha=0;stage.addChild(s);return s};infinitelives.pixi.resources.get_texture=function infinitelives$pixi$resources$get_texture(key,scale){return scale.call(null,cljs.core.get.call(null,cljs.core.deref.call(null,infinitelives.pixi.resources._BANG_textures),key))};
infinitelives.pixi.resources.register_texture_BANG_=function infinitelives$pixi$resources$register_texture_BANG_(url,img){if(cljs.core.truth_(infinitelives.utils.string.ends_with_QMARK_.call(null,url,".png")))return cljs.core.swap_BANG_.call(null,infinitelives.pixi.resources._BANG_textures,cljs.core.assoc,infinitelives.utils.string.url_keyword.call(null,url),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"linear","linear",872268697),PIXI.Texture.fromImage(url,true,PIXI.scaleModes["LINEAR"]),
new cljs.core.Keyword(null,"nearest","nearest",1176353890),PIXI.Texture.fromImage([cljs.core.str(url),cljs.core.str("#")].join(""),true,PIXI.scaleModes["NEAREST"])],null));else return null};
infinitelives.pixi.resources.identify_file=function infinitelives$pixi$resources$identify_file(url){var pred__15687=function(p1__15682_SHARP_,p2__15683_SHARP_){return p1__15682_SHARP_.call(null,p2__15683_SHARP_)};var expr__15688=infinitelives.utils.string.get_extension.call(null,url);if(cljs.core.truth_(pred__15687.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,["ogg",null,"mp3",null,"wav",null],null),null),expr__15688)))return new cljs.core.Keyword(null,"sound",
"sound",-2127407070);else if(cljs.core.truth_(pred__15687.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,["gif",null,"png",null,"jpg",null],null),null),expr__15688)))return new cljs.core.Keyword(null,"image","image",-58725096);else return new cljs.core.Keyword(null,"unknown","unknown",-935977881)};
infinitelives.pixi.resources.register=function infinitelives$pixi$resources$register(url,obj){var G__15691=infinitelives.pixi.resources.identify_file.call(null,url)instanceof cljs.core.Keyword?infinitelives.pixi.resources.identify_file.call(null,url).fqn:null;switch(G__15691){case "image":return infinitelives.pixi.resources.register_texture_BANG_.call(null,url,obj);break;case "sound":return infinitelives.utils.sound.register_sound_BANG_.call(null,url,obj);break;default:return new cljs.core.Keyword(null,
"default","default",-1987822328)}};
infinitelives.pixi.resources.load_image=function infinitelives$pixi$resources$load_image(url,finished){var i=new Image;i.onload=function(i){return function(){return cljs.core.async.put_BANG_.call(null,finished,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[url,i],null))}}(i);i.onerror=function(i){return function(){return cljs.core.async.put_BANG_.call(null,finished,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[url,null],null))}}(i);
i.onabort=function(i){return function(){return alert("abort")}}(i);i.src=url;return i};
infinitelives.pixi.resources.load_sound=function infinitelives$pixi$resources$load_sound(url,finished){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_15719){var state_val_15720=state_15719[1];if(state_val_15720===1){var inst_15711=cljs.core.PersistentVector.EMPTY_NODE;var inst_15712=infinitelives.utils.sound.load_sound.call(null,
url);var state_15719__$1=function(){var statearr_15721=state_15719;statearr_15721[7]=inst_15711;return statearr_15721}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15719__$1,2,inst_15712)}else if(state_val_15720===2){var inst_15711=state_15719[7];var inst_15714=state_15719[2];var inst_15715=[url,inst_15714];var inst_15716=new cljs.core.PersistentVector(null,2,5,inst_15711,inst_15715,null);var inst_15717=cljs.core.async.put_BANG_.call(null,finished,inst_15716);var state_15719__$1=
state_15719;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15719__$1,inst_15717)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__=null;var infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____0=function(){var statearr_15725=[null,null,null,null,null,null,null,null];statearr_15725[0]=infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__;
statearr_15725[1]=1;return statearr_15725};var infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____1=function(state_15719){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15719);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15726){if(e15726 instanceof Object){var ex__12449__auto__=
e15726;var statearr_15727_15729=state_15719;statearr_15727_15729[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15719);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15726;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15730=state_15719;state_15719=G__15730;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__=
function(state_15719){switch(arguments.length){case 0:return infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____1.call(this,state_15719)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____0;infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto____1;return infinitelives$pixi$resources$load_sound_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_15728=f__12558__auto__.call(null);statearr_15728[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_15728}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));
return c__12557__auto__};
infinitelives.pixi.resources.load_urls=function infinitelives$pixi$resources$load_urls(var_args){var args__7221__auto__=[];var len__7214__auto___15789=arguments.length;var i__7215__auto___15790=0;while(true){if(i__7215__auto___15790<len__7214__auto___15789){args__7221__auto__.push(arguments[i__7215__auto___15790]);var G__15791=i__7215__auto___15790+1;i__7215__auto___15790=G__15791;continue}else;break}var argseq__7222__auto__=2<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(2),0):
null;return infinitelives.pixi.resources.load_urls.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7222__auto__)};
infinitelives.pixi.resources.load_urls.cljs$core$IFn$_invoke$arity$variadic=function(urls,progress_bar,options){var options__$1=cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,options);var finished=cljs.core.async.chan.call(null);var num_urls=cljs.core.count.call(null,urls);var images=cljs.core.doall.call(null,cljs.core.map.call(null,function(finished,num_urls,options__$1){return function(src){var G__15734=infinitelives.pixi.resources.identify_file.call(null,src)instanceof cljs.core.Keyword?
infinitelives.pixi.resources.identify_file.call(null,src).fqn:null;switch(G__15734){case "image":return infinitelives.pixi.resources.load_image.call(null,src,finished);break;case "sound":return infinitelives.pixi.resources.load_sound.call(null,src,finished);break;case "unknown":return infinitelives.pixi.resources.load_image.call(null,src,finished);break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(infinitelives.pixi.resources.identify_file.call(null,src))].join(""));
}}}(finished,num_urls,options__$1),urls));var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__,finished,num_urls,images,options__$1){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__,finished,num_urls,images,options__$1){return function(state_15766){var state_val_15767=state_15766[1];if(state_val_15767===7){var inst_15741=state_15766[7];var inst_15735=state_15766[8];var inst_15740=
state_15766[9];var inst_15751=state_15766[2];var inst_15752=infinitelives.pixi.resources.register.call(null,inst_15740,inst_15741);var inst_15753=inst_15735/num_urls;var inst_15754=infinitelives.pixi.resources.progress_texture.call(null,inst_15753,options__$1);var inst_15755=progress_bar.texture=inst_15754;var inst_15756=inst_15735<num_urls;var state_15766__$1=function(){var statearr_15768=state_15766;statearr_15768[10]=inst_15752;statearr_15768[11]=inst_15751;statearr_15768[12]=inst_15755;return statearr_15768}();
if(cljs.core.truth_(inst_15756)){var statearr_15769_15793=state_15766__$1;statearr_15769_15793[1]=9}else{var statearr_15770_15794=state_15766__$1;statearr_15770_15794[1]=10}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===1){var inst_15735=1;var state_15766__$1=function(){var statearr_15771=state_15766;statearr_15771[8]=inst_15735;return statearr_15771}();var statearr_15772_15795=state_15766__$1;statearr_15772_15795[2]=null;statearr_15772_15795[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_15767===4){var inst_15739=state_15766[2];var inst_15740=cljs.core.nth.call(null,inst_15739,0,null);var inst_15741=cljs.core.nth.call(null,inst_15739,1,null);var inst_15742=(new cljs.core.Keyword(null,"debug-delay","debug-delay",-1920207820)).cljs$core$IFn$_invoke$arity$1(options__$1);var state_15766__$1=function(){var statearr_15773=state_15766;statearr_15773[7]=inst_15741;statearr_15773[9]=inst_15740;return statearr_15773}();if(cljs.core.truth_(inst_15742)){var statearr_15774_15796=
state_15766__$1;statearr_15774_15796[1]=5}else{var statearr_15775_15797=state_15766__$1;statearr_15775_15797[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===6){var state_15766__$1=state_15766;var statearr_15776_15798=state_15766__$1;statearr_15776_15798[2]=null;statearr_15776_15798[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===3){var inst_15764=state_15766[2];var state_15766__$1=state_15766;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_15766__$1,inst_15764)}else if(state_val_15767===2){var state_15766__$1=state_15766;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15766__$1,4,finished)}else if(state_val_15767===11){var inst_15762=state_15766[2];var state_15766__$1=state_15766;var statearr_15777_15799=state_15766__$1;statearr_15777_15799[2]=inst_15762;statearr_15777_15799[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===9){var inst_15735=state_15766[8];var inst_15758=
inst_15735+1;var inst_15735__$1=inst_15758;var state_15766__$1=function(){var statearr_15778=state_15766;statearr_15778[8]=inst_15735__$1;return statearr_15778}();var statearr_15779_15800=state_15766__$1;statearr_15779_15800[2]=null;statearr_15779_15800[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===5){var inst_15744=(new cljs.core.Keyword(null,"debug-delay","debug-delay",-1920207820)).cljs$core$IFn$_invoke$arity$1(options__$1);var inst_15745=inst_15744*
1E3;var inst_15746=cljs.core.async.timeout.call(null,inst_15745);var state_15766__$1=state_15766;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15766__$1,8,inst_15746)}else if(state_val_15767===10){var state_15766__$1=state_15766;var statearr_15780_15801=state_15766__$1;statearr_15780_15801[2]=null;statearr_15780_15801[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15767===8){var inst_15748=state_15766[2];var state_15766__$1=state_15766;var statearr_15781_15802=
state_15766__$1;statearr_15781_15802[2]=inst_15748;statearr_15781_15802[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__,finished,num_urls,images,options__$1);return function(switch__12445__auto__,c__12557__auto__,finished,num_urls,images,options__$1){return function(){var infinitelives$pixi$resources$state_machine__12446__auto__=null;var infinitelives$pixi$resources$state_machine__12446__auto____0=function(){var statearr_15785=[null,null,null,
null,null,null,null,null,null,null,null,null,null];statearr_15785[0]=infinitelives$pixi$resources$state_machine__12446__auto__;statearr_15785[1]=1;return statearr_15785};var infinitelives$pixi$resources$state_machine__12446__auto____1=function(state_15766){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15766);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur",
"recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15786){if(e15786 instanceof Object){var ex__12449__auto__=e15786;var statearr_15787_15803=state_15766;statearr_15787_15803[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15766);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15786;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15804=
state_15766;state_15766=G__15804;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$resources$state_machine__12446__auto__=function(state_15766){switch(arguments.length){case 0:return infinitelives$pixi$resources$state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$resources$state_machine__12446__auto____1.call(this,state_15766)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
infinitelives$pixi$resources$state_machine__12446__auto____0;infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$pixi$resources$state_machine__12446__auto____1;return infinitelives$pixi$resources$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__,finished,num_urls,images,options__$1)}();var state__12559__auto__=function(){var statearr_15788=f__12558__auto__.call(null);statearr_15788[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto__;return statearr_15788}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__,finished,num_urls,images,options__$1));return c__12557__auto__};infinitelives.pixi.resources.load_urls.cljs$lang$maxFixedArity=2;
infinitelives.pixi.resources.load_urls.cljs$lang$applyTo=function(seq15731){var G__15732=cljs.core.first.call(null,seq15731);var seq15731__$1=cljs.core.next.call(null,seq15731);var G__15733=cljs.core.first.call(null,seq15731__$1);var seq15731__$2=cljs.core.next.call(null,seq15731__$1);return infinitelives.pixi.resources.load_urls.cljs$core$IFn$_invoke$arity$variadic(G__15732,G__15733,seq15731__$2)};
infinitelives.pixi.resources.fadeout=function infinitelives$pixi$resources$fadeout(var_args){var args__7221__auto__=[];var len__7214__auto___15848=arguments.length;var i__7215__auto___15849=0;while(true){if(i__7215__auto___15849<len__7214__auto___15848){args__7221__auto__.push(arguments[i__7215__auto___15849]);var G__15850=i__7215__auto___15849+1;i__7215__auto___15849=G__15850;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),
0):null;return infinitelives.pixi.resources.fadeout.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};
infinitelives.pixi.resources.fadeout.cljs$core$IFn$_invoke$arity$variadic=function(spr,p__15807){var map__15808=p__15807;var map__15808__$1=(!(map__15808==null)?map__15808.cljs$lang$protocol_mask$partition0$&64||map__15808.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15808):map__15808;var duration=cljs.core.get.call(null,map__15808__$1,new cljs.core.Keyword(null,"duration","duration",1444101068),1);var start=cljs.core.get.call(null,map__15808__$1,new cljs.core.Keyword(null,
"start","start",-355208981),null);var end=cljs.core.get.call(null,map__15808__$1,new cljs.core.Keyword(null,"end","end",-268185958),0);var start__$1=start==null?spr.alpha:start;var ticks=60*duration;var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__,start__$1,ticks,map__15808,map__15808__$1,duration,start,end){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__,start__$1,ticks,
map__15808,map__15808__$1,duration,start,end){return function(state_15830){var state_val_15831=state_15830[1];if(state_val_15831===1){var inst_15810=ticks;var state_15830__$1=function(){var statearr_15832=state_15830;statearr_15832[7]=inst_15810;return statearr_15832}();var statearr_15833_15851=state_15830__$1;statearr_15833_15851[2]=null;statearr_15833_15851[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15831===2){var inst_15812=infinitelives.utils.events.next_frame.call(null);
var state_15830__$1=state_15830;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15830__$1,4,inst_15812)}else if(state_val_15831===3){var inst_15828=state_15830[2];var state_15830__$1=state_15830;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15830__$1,inst_15828)}else if(state_val_15831===4){var inst_15810=state_15830[7];var inst_15814=state_15830[2];var inst_15815=start__$1-end;var inst_15816=inst_15810/ticks;var inst_15817=inst_15815*inst_15816;var inst_15818=
end+inst_15817;var inst_15819=spr.alpha=inst_15818;var inst_15820=inst_15810>0;var state_15830__$1=function(){var statearr_15834=state_15830;statearr_15834[8]=inst_15814;statearr_15834[9]=inst_15819;return statearr_15834}();if(cljs.core.truth_(inst_15820)){var statearr_15835_15852=state_15830__$1;statearr_15835_15852[1]=5}else{var statearr_15836_15853=state_15830__$1;statearr_15836_15853[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15831===5){var inst_15810=
state_15830[7];var inst_15822=inst_15810-1;var inst_15810__$1=inst_15822;var state_15830__$1=function(){var statearr_15837=state_15830;statearr_15837[7]=inst_15810__$1;return statearr_15837}();var statearr_15838_15854=state_15830__$1;statearr_15838_15854[2]=null;statearr_15838_15854[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15831===6){var state_15830__$1=state_15830;var statearr_15839_15855=state_15830__$1;statearr_15839_15855[2]=null;statearr_15839_15855[1]=
7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15831===7){var inst_15826=state_15830[2];var state_15830__$1=state_15830;var statearr_15840_15856=state_15830__$1;statearr_15840_15856[2]=inst_15826;statearr_15840_15856[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__,start__$1,ticks,map__15808,map__15808__$1,duration,start,end);return function(switch__12445__auto__,c__12557__auto__,start__$1,ticks,map__15808,map__15808__$1,
duration,start,end){return function(){var infinitelives$pixi$resources$state_machine__12446__auto__=null;var infinitelives$pixi$resources$state_machine__12446__auto____0=function(){var statearr_15844=[null,null,null,null,null,null,null,null,null,null];statearr_15844[0]=infinitelives$pixi$resources$state_machine__12446__auto__;statearr_15844[1]=1;return statearr_15844};var infinitelives$pixi$resources$state_machine__12446__auto____1=function(state_15830){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=
switch__12445__auto__.call(null,state_15830);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15845){if(e15845 instanceof Object){var ex__12449__auto__=e15845;var statearr_15846_15857=state_15830;statearr_15846_15857[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15830);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15845;
}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15858=state_15830;state_15830=G__15858;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$resources$state_machine__12446__auto__=function(state_15830){switch(arguments.length){case 0:return infinitelives$pixi$resources$state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$resources$state_machine__12446__auto____1.call(this,
state_15830)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=infinitelives$pixi$resources$state_machine__12446__auto____0;infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$pixi$resources$state_machine__12446__auto____1;return infinitelives$pixi$resources$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__,start__$1,ticks,map__15808,map__15808__$1,
duration,start,end)}();var state__12559__auto__=function(){var statearr_15847=f__12558__auto__.call(null);statearr_15847[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_15847}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__,start__$1,ticks,map__15808,map__15808__$1,duration,start,end));return c__12557__auto__};infinitelives.pixi.resources.fadeout.cljs$lang$maxFixedArity=1;
infinitelives.pixi.resources.fadeout.cljs$lang$applyTo=function(seq15805){var G__15806=cljs.core.first.call(null,seq15805);var seq15805__$1=cljs.core.next.call(null,seq15805);return infinitelives.pixi.resources.fadeout.cljs$core$IFn$_invoke$arity$variadic(G__15806,seq15805__$1)};
infinitelives.pixi.resources.fadein=function infinitelives$pixi$resources$fadein(var_args){var args__7221__auto__=[];var len__7214__auto___15903=arguments.length;var i__7215__auto___15904=0;while(true){if(i__7215__auto___15904<len__7214__auto___15903){args__7221__auto__.push(arguments[i__7215__auto___15904]);var G__15905=i__7215__auto___15904+1;i__7215__auto___15904=G__15905;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),
0):null;return infinitelives.pixi.resources.fadein.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};
infinitelives.pixi.resources.fadein.cljs$core$IFn$_invoke$arity$variadic=function(spr,p__15861){var map__15862=p__15861;var map__15862__$1=(!(map__15862==null)?map__15862.cljs$lang$protocol_mask$partition0$&64||map__15862.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15862):map__15862;var duration=cljs.core.get.call(null,map__15862__$1,new cljs.core.Keyword(null,"duration","duration",1444101068),1);var start=cljs.core.get.call(null,map__15862__$1,new cljs.core.Keyword(null,
"start","start",-355208981),0);var end=cljs.core.get.call(null,map__15862__$1,new cljs.core.Keyword(null,"end","end",-268185958),1);var ticks=60*duration;var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end){return function(state_15885){var state_val_15886=
state_15885[1];if(state_val_15886===1){var inst_15864=ticks;var state_15885__$1=function(){var statearr_15887=state_15885;statearr_15887[7]=inst_15864;return statearr_15887}();var statearr_15888_15906=state_15885__$1;statearr_15888_15906[2]=null;statearr_15888_15906[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15886===2){var inst_15866=infinitelives.utils.events.next_frame.call(null);var state_15885__$1=state_15885;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_15885__$1,4,inst_15866)}else if(state_val_15886===3){var inst_15883=state_15885[2];var state_15885__$1=state_15885;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_15885__$1,inst_15883)}else if(state_val_15886===4){var inst_15864=state_15885[7];var inst_15868=state_15885[2];var inst_15869=end-start;var inst_15870=ticks-inst_15864;var inst_15871=inst_15870/ticks;var inst_15872=inst_15869*inst_15871;var inst_15873=start+inst_15872;var inst_15874=spr.alpha=inst_15873;var inst_15875=
inst_15864>0;var state_15885__$1=function(){var statearr_15889=state_15885;statearr_15889[8]=inst_15874;statearr_15889[9]=inst_15868;return statearr_15889}();if(cljs.core.truth_(inst_15875)){var statearr_15890_15907=state_15885__$1;statearr_15890_15907[1]=5}else{var statearr_15891_15908=state_15885__$1;statearr_15891_15908[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15886===5){var inst_15864=state_15885[7];var inst_15877=inst_15864-1;var inst_15864__$1=inst_15877;
var state_15885__$1=function(){var statearr_15892=state_15885;statearr_15892[7]=inst_15864__$1;return statearr_15892}();var statearr_15893_15909=state_15885__$1;statearr_15893_15909[2]=null;statearr_15893_15909[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15886===6){var state_15885__$1=state_15885;var statearr_15894_15910=state_15885__$1;statearr_15894_15910[2]=null;statearr_15894_15910[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_15886===
7){var inst_15881=state_15885[2];var state_15885__$1=state_15885;var statearr_15895_15911=state_15885__$1;statearr_15895_15911[2]=inst_15881;statearr_15895_15911[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end);return function(switch__12445__auto__,c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end){return function(){var infinitelives$pixi$resources$state_machine__12446__auto__=
null;var infinitelives$pixi$resources$state_machine__12446__auto____0=function(){var statearr_15899=[null,null,null,null,null,null,null,null,null,null];statearr_15899[0]=infinitelives$pixi$resources$state_machine__12446__auto__;statearr_15899[1]=1;return statearr_15899};var infinitelives$pixi$resources$state_machine__12446__auto____1=function(state_15885){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15885);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15900){if(e15900 instanceof Object){var ex__12449__auto__=e15900;var statearr_15901_15912=state_15885;statearr_15901_15912[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15885);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15900;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15913=state_15885;state_15885=G__15913;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$resources$state_machine__12446__auto__=function(state_15885){switch(arguments.length){case 0:return infinitelives$pixi$resources$state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$resources$state_machine__12446__auto____1.call(this,state_15885)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
infinitelives$pixi$resources$state_machine__12446__auto____0;infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$pixi$resources$state_machine__12446__auto____1;return infinitelives$pixi$resources$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end)}();var state__12559__auto__=function(){var statearr_15902=f__12558__auto__.call(null);statearr_15902[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto__;return statearr_15902}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__,ticks,map__15862,map__15862__$1,duration,start,end));return c__12557__auto__};infinitelives.pixi.resources.fadein.cljs$lang$maxFixedArity=1;
infinitelives.pixi.resources.fadein.cljs$lang$applyTo=function(seq15859){var G__15860=cljs.core.first.call(null,seq15859);var seq15859__$1=cljs.core.next.call(null,seq15859);return infinitelives.pixi.resources.fadein.cljs$core$IFn$_invoke$arity$variadic(G__15860,seq15859__$1)};
infinitelives.pixi.resources.load_resources=function infinitelives$pixi$resources$load_resources(var_args){var args__7221__auto__=[];var len__7214__auto___15952=arguments.length;var i__7215__auto___15953=0;while(true){if(i__7215__auto___15953<len__7214__auto___15952){args__7221__auto__.push(arguments[i__7215__auto___15953]);var G__15954=i__7215__auto___15953+1;i__7215__auto___15953=G__15954;continue}else;break}var argseq__7222__auto__=3<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(3),
0):null;return infinitelives.pixi.resources.load_resources.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7222__auto__)};
infinitelives.pixi.resources.load_resources.cljs$core$IFn$_invoke$arity$variadic=function(canvas,layer,urls,p__15918){var map__15919=p__15918;var map__15919__$1=(!(map__15919==null)?map__15919.cljs$lang$protocol_mask$partition0$&64||map__15919.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15919):map__15919;var options=map__15919__$1;var fade_in=cljs.core.get.call(null,map__15919__$1,new cljs.core.Keyword(null,"fade-in","fade-in",999370239),.5);var fade_out=cljs.core.get.call(null,
map__15919__$1,new cljs.core.Keyword(null,"fade-out","fade-out",-1200160760),.5);var c=cljs.core.async.chan.call(null);var b=infinitelives.pixi.resources.add_prog_bar.call(null,layer.call(null,(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas)),options);var c__12557__auto___15955=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out){return function(){var f__12558__auto__=
function(){var switch__12445__auto__=function(c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out){return function(state_15939){var state_val_15940=state_15939[1];if(state_val_15940===1){var inst_15921=infinitelives.pixi.resources.fadein.call(null,b,new cljs.core.Keyword(null,"duration","duration",1444101068),fade_in);var state_15939__$1=state_15939;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15939__$1,2,inst_15921)}else if(state_val_15940===2){var inst_15923=
state_15939[2];var inst_15924=cljs.core.partial.call(null,infinitelives.pixi.resources.load_urls,urls,b);var inst_15925=cljs.core.apply.call(null,inst_15924,options);var state_15939__$1=function(){var statearr_15941=state_15939;statearr_15941[7]=inst_15923;return statearr_15941}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15939__$1,3,inst_15925)}else if(state_val_15940===3){var inst_15927=state_15939[2];var inst_15928=cljs.core.async.timeout.call(null,300);var state_15939__$1=
function(){var statearr_15942=state_15939;statearr_15942[8]=inst_15927;return statearr_15942}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_15939__$1,4,inst_15928)}else if(state_val_15940===4){var inst_15930=state_15939[2];var inst_15931=infinitelives.pixi.resources.fadeout.call(null,b,new cljs.core.Keyword(null,"duration","duration",1444101068),fade_out);var state_15939__$1=function(){var statearr_15943=state_15939;statearr_15943[9]=inst_15930;return statearr_15943}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_15939__$1,5,inst_15931)}else if(state_val_15940===5){var inst_15933=state_15939[2];var inst_15934=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_15935=layer.call(null,inst_15934);var inst_15936=inst_15935.removeChild(b);var inst_15937=cljs.core.async.close_BANG_.call(null,c);var state_15939__$1=function(){var statearr_15944=state_15939;statearr_15944[10]=inst_15933;statearr_15944[11]=inst_15936;return statearr_15944}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_15939__$1,inst_15937)}else return null}}(c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out);return function(switch__12445__auto__,c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out){return function(){var infinitelives$pixi$resources$state_machine__12446__auto__=null;var infinitelives$pixi$resources$state_machine__12446__auto____0=function(){var statearr_15948=[null,null,null,null,null,null,null,null,null,null,null,null];statearr_15948[0]=
infinitelives$pixi$resources$state_machine__12446__auto__;statearr_15948[1]=1;return statearr_15948};var infinitelives$pixi$resources$state_machine__12446__auto____1=function(state_15939){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_15939);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e15949){if(e15949 instanceof
Object){var ex__12449__auto__=e15949;var statearr_15950_15956=state_15939;statearr_15950_15956[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_15939);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e15949;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__15957=state_15939;state_15939=G__15957;continue}else return ret_value__12447__auto__;break}};
infinitelives$pixi$resources$state_machine__12446__auto__=function(state_15939){switch(arguments.length){case 0:return infinitelives$pixi$resources$state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$resources$state_machine__12446__auto____1.call(this,state_15939)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=infinitelives$pixi$resources$state_machine__12446__auto____0;infinitelives$pixi$resources$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
infinitelives$pixi$resources$state_machine__12446__auto____1;return infinitelives$pixi$resources$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out)}();var state__12559__auto__=function(){var statearr_15951=f__12558__auto__.call(null);statearr_15951[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto___15955;return statearr_15951}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto___15955,c,b,map__15919,map__15919__$1,options,fade_in,fade_out));return c};infinitelives.pixi.resources.load_resources.cljs$lang$maxFixedArity=3;
infinitelives.pixi.resources.load_resources.cljs$lang$applyTo=function(seq15914){var G__15915=cljs.core.first.call(null,seq15914);var seq15914__$1=cljs.core.next.call(null,seq15914);var G__15916=cljs.core.first.call(null,seq15914__$1);var seq15914__$2=cljs.core.next.call(null,seq15914__$1);var G__15917=cljs.core.first.call(null,seq15914__$2);var seq15914__$3=cljs.core.next.call(null,seq15914__$2);return infinitelives.pixi.resources.load_resources.cljs$core$IFn$_invoke$arity$variadic(G__15915,G__15916,
G__15917,seq15914__$3)};goog.provide("infinitelives.utils.math");goog.require("cljs.core");infinitelives.utils.math.rand_between=function infinitelives$utils$math$rand_between(low,high){var x__6494__auto__=(Math.abs(high-low)+1)*cljs.core.rand.call(null)+low|0;var y__6495__auto__=high;return x__6494__auto__<y__6495__auto__?x__6494__auto__:y__6495__auto__};infinitelives.utils.math.limit=function infinitelives$utils$math$limit(num,low,high){if(num<low)return low;else if(num>high)return high;else return num};goog.provide("infinitelives.utils.boid");goog.require("cljs.core");goog.require("infinitelives.utils.vec2");goog.require("infinitelives.utils.math");goog.require("infinitelives.utils.console");
infinitelives.utils.boid.example=new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"mass","mass",-2138950046),10,new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,0,0),new cljs.core.Keyword(null,"vel","vel",-110770822),infinitelives.utils.vec2.vec2.call(null,0,0),new cljs.core.Keyword(null,"max-force","max-force",-983508172),1,new cljs.core.Keyword(null,"max-speed","max-speed",-997417461),4],null);
infinitelives.utils.boid.apply_steering=function infinitelives$utils$boid$apply_steering(p__15962,steering){var map__15965=p__15962;var map__15965__$1=(!(map__15965==null)?map__15965.cljs$lang$protocol_mask$partition0$&64||map__15965.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15965):map__15965;var boid=map__15965__$1;var mass=cljs.core.get.call(null,map__15965__$1,new cljs.core.Keyword(null,"mass","mass",-2138950046));var vel=cljs.core.get.call(null,map__15965__$1,
new cljs.core.Keyword(null,"vel","vel",-110770822));var pos=cljs.core.get.call(null,map__15965__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var max_speed=cljs.core.get.call(null,map__15965__$1,new cljs.core.Keyword(null,"max-speed","max-speed",-997417461));var accel=infinitelives.utils.vec2.scale.call(null,steering,1/mass);var new_vel=infinitelives.utils.vec2.truncate.call(null,infinitelives.utils.vec2.add.call(null,accel,vel),max_speed);var new_pos=infinitelives.utils.vec2.add.call(null,
pos,new_vel);return cljs.core.assoc.call(null,boid,new cljs.core.Keyword(null,"pos","pos",-864607220),new_pos,new cljs.core.Keyword(null,"vel","vel",-110770822),new_vel)};
infinitelives.utils.boid.seek=function infinitelives$utils$boid$seek(p__15967,target){var map__15970=p__15967;var map__15970__$1=(!(map__15970==null)?map__15970.cljs$lang$protocol_mask$partition0$&64||map__15970.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15970):map__15970;var boid=map__15970__$1;var mass=cljs.core.get.call(null,map__15970__$1,new cljs.core.Keyword(null,"mass","mass",-2138950046));var pos=cljs.core.get.call(null,map__15970__$1,new cljs.core.Keyword(null,
"pos","pos",-864607220));var vel=cljs.core.get.call(null,map__15970__$1,new cljs.core.Keyword(null,"vel","vel",-110770822));var max_force=cljs.core.get.call(null,map__15970__$1,new cljs.core.Keyword(null,"max-force","max-force",-983508172));var max_speed=cljs.core.get.call(null,map__15970__$1,new cljs.core.Keyword(null,"max-speed","max-speed",-997417461));var desired_vel=infinitelives.utils.vec2.scale.call(null,infinitelives.utils.vec2.direction.call(null,pos,target),max_speed);var steering=infinitelives.utils.vec2.truncate.call(null,
infinitelives.utils.vec2.sub.call(null,desired_vel,vel),max_force);return infinitelives.utils.boid.apply_steering.call(null,boid,steering)};
infinitelives.utils.boid.flee=function infinitelives$utils$boid$flee(p__15972,target){var map__15975=p__15972;var map__15975__$1=(!(map__15975==null)?map__15975.cljs$lang$protocol_mask$partition0$&64||map__15975.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15975):map__15975;var boid=map__15975__$1;var mass=cljs.core.get.call(null,map__15975__$1,new cljs.core.Keyword(null,"mass","mass",-2138950046));var pos=cljs.core.get.call(null,map__15975__$1,new cljs.core.Keyword(null,
"pos","pos",-864607220));var vel=cljs.core.get.call(null,map__15975__$1,new cljs.core.Keyword(null,"vel","vel",-110770822));var max_force=cljs.core.get.call(null,map__15975__$1,new cljs.core.Keyword(null,"max-force","max-force",-983508172));var max_speed=cljs.core.get.call(null,map__15975__$1,new cljs.core.Keyword(null,"max-speed","max-speed",-997417461));var desired_vel=infinitelives.utils.vec2.scale.call(null,infinitelives.utils.vec2.direction.call(null,pos,target),-max_speed);var steering=infinitelives.utils.vec2.truncate.call(null,
infinitelives.utils.vec2.sub.call(null,desired_vel,vel),max_force);return infinitelives.utils.boid.apply_steering.call(null,boid,steering)};
infinitelives.utils.boid.pursue=function infinitelives$utils$boid$pursue(p__15977,target,target_vel){var map__15980=p__15977;var map__15980__$1=(!(map__15980==null)?map__15980.cljs$lang$protocol_mask$partition0$&64||map__15980.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15980):map__15980;var boid=map__15980__$1;var pos=cljs.core.get.call(null,map__15980__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));return infinitelives.utils.boid.seek.call(null,boid,
infinitelives.utils.vec2.add.call(null,target,infinitelives.utils.vec2.scale.call(null,target_vel,4*infinitelives.utils.vec2.magnitude.call(null,infinitelives.utils.vec2.direction.call(null,target,pos)))))};
infinitelives.utils.boid.evade=function infinitelives$utils$boid$evade(p__15982,target,target_vel){var map__15985=p__15982;var map__15985__$1=(!(map__15985==null)?map__15985.cljs$lang$protocol_mask$partition0$&64||map__15985.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15985):map__15985;var boid=map__15985__$1;var pos=cljs.core.get.call(null,map__15985__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));return infinitelives.utils.boid.flee.call(null,boid,
infinitelives.utils.vec2.add.call(null,target,infinitelives.utils.vec2.scale.call(null,target_vel,4*infinitelives.utils.vec2.magnitude.call(null,infinitelives.utils.vec2.direction.call(null,target,pos)))))};goog.provide("infinitelives.pixi.pixelfont");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.pixi.sprite");goog.require("infinitelives.utils.console");if(typeof infinitelives.pixi.pixelfont.pixel_fonts!=="undefined");else infinitelives.pixi.pixelfont.pixel_fonts=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
infinitelives.pixi.pixelfont.make_font_description=function infinitelives$pixi$pixelfont$make_font_description(resource_key,layout){var texture=infinitelives.pixi.resources.get_texture.call(null,resource_key,new cljs.core.Keyword(null,"nearest","nearest",1176353890));return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,function(texture){return function(p__15991){var vec__15992=p__15991;var c=cljs.core.nth.call(null,vec__15992,0,null);var x1=cljs.core.nth.call(null,
vec__15992,1,null);var y1=cljs.core.nth.call(null,vec__15992,2,null);var x2=cljs.core.nth.call(null,vec__15992,3,null);var y2=cljs.core.nth.call(null,vec__15992,4,null);var size=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[x2-x1,y2-y1],null);return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[c,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"char","char",-641587586),c,new cljs.core.Keyword(null,"pos","pos",-864607220),
new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[x1,y1],null),new cljs.core.Keyword(null,"to","to",192099007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[x2,y2],null),new cljs.core.Keyword(null,"size","size",1098693007),size,new cljs.core.Keyword(null,"texture","texture",-266291651),infinitelives.pixi.texture.sub_texture.call(null,texture,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[x1,y1],null),size)],
null)],null)}}(texture),layout))};
infinitelives.pixi.pixelfont.make_font=function infinitelives$pixi$pixelfont$make_font(resource_key,layout,kerning,space){return new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"font","font",-1506159249),infinitelives.pixi.pixelfont.make_font_description.call(null,resource_key,layout),new cljs.core.Keyword(null,"texture","texture",-266291651),infinitelives.pixi.resources.get_texture.call(null,resource_key,new cljs.core.Keyword(null,"nearest","nearest",1176353890)),new cljs.core.Keyword(null,
"kerning","kerning",702175623),kerning,new cljs.core.Keyword(null,"space","space",348133475),space],null)};infinitelives.pixi.pixelfont.load_pixel_font=function infinitelives$pixi$pixelfont$load_pixel_font(pixel_font_name,texture_key,layout,kerning,space){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.pixelfont.pixel_fonts,cljs.core.assoc,pixel_font_name,infinitelives.pixi.pixelfont.make_font.call(null,texture_key,layout,kerning,space))};
infinitelives.pixi.pixelfont.get_font=function infinitelives$pixi$pixelfont$get_font(font_key){return font_key.call(null,cljs.core.deref.call(null,infinitelives.pixi.pixelfont.pixel_fonts))};
infinitelives.pixi.pixelfont.make_text=function infinitelives$pixi$pixelfont$make_text(var_args){var args__7221__auto__=[];var len__7214__auto___16007=arguments.length;var i__7215__auto___16008=0;while(true){if(i__7215__auto___16008<len__7214__auto___16007){args__7221__auto__.push(arguments[i__7215__auto___16008]);var G__16009=i__7215__auto___16008+1;i__7215__auto___16008=G__16009;continue}else;break}var argseq__7222__auto__=2<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(2),
0):null;return infinitelives.pixi.pixelfont.make_text.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],argseq__7222__auto__)};
infinitelives.pixi.pixelfont.make_text.cljs$core$IFn$_invoke$arity$variadic=function(font_key,text,p__15996){var map__15997=p__15996;var map__15997__$1=(!(map__15997==null)?map__15997.cljs$lang$protocol_mask$partition0$&64||map__15997.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__15997):map__15997;var tint=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,"tint","tint",-1286736913));var scale=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,
"scale","scale",-230427353));var anchor=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,"anchor","anchor",1549638489));var rotation=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,"rotation","rotation",-1728051644));var x=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,"x","x",2099068185));var y=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,"y","y",-1757859776));var visible=cljs.core.get.call(null,map__15997__$1,new cljs.core.Keyword(null,
"visible","visible",-1024216805));var font=infinitelives.pixi.pixelfont.get_font.call(null,font_key);var batch=cljs.core.truth_(tint)?new PIXI.Container:new PIXI.ParticleContainer;var G__16000_16010=cljs.core.seq.call(null,text);var vec__16001_16011=G__16000_16010;var c_16012=cljs.core.nth.call(null,vec__16001_16011,0,null);var l_16013=cljs.core.nthnext.call(null,vec__16001_16011,1);var xp_16014=0;var yp_16015=0;var last_c_16016=null;var G__16000_16017__$1=G__16000_16010;var xp_16018__$1=xp_16014;
var yp_16019__$1=yp_16015;var last_c_16020__$1=last_c_16016;while(true){var vec__16002_16021=G__16000_16017__$1;var c_16022__$1=cljs.core.nth.call(null,vec__16002_16021,0,null);var l_16023__$1=cljs.core.nthnext.call(null,vec__16002_16021,1);var xp_16024__$2=xp_16018__$1;var yp_16025__$2=yp_16019__$1;var last_c_16026__$2=last_c_16020__$1;var char_16027=(new cljs.core.Keyword(null,"font","font",-1506159249)).cljs$core$IFn$_invoke$arity$1(font).call(null,c_16022__$1);var map__16003_16028=char_16027;
var map__16003_16029__$1=(!(map__16003_16028==null)?map__16003_16028.cljs$lang$protocol_mask$partition0$&64||map__16003_16028.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__16003_16028):map__16003_16028;var texture_16030=cljs.core.get.call(null,map__16003_16029__$1,new cljs.core.Keyword(null,"texture","texture",-266291651));var pos_16031=cljs.core.get.call(null,map__16003_16029__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var size_16032=cljs.core.get.call(null,
map__16003_16029__$1,new cljs.core.Keyword(null,"size","size",1098693007));var vec__16004_16033=pos_16031;var x_16034__$1=cljs.core.nth.call(null,vec__16004_16033,0,null);var y_16035__$1=cljs.core.nth.call(null,vec__16004_16033,1,null);var vec__16005_16036=size_16032;var w_16037=cljs.core.nth.call(null,vec__16005_16036,0,null);var h_16038=cljs.core.nth.call(null,vec__16005_16036,1,null);var pair_16039=[cljs.core.str(last_c_16026__$2),cljs.core.str(c_16022__$1)].join("");var koff_16040=(new cljs.core.Keyword(null,
"kerning","kerning",702175623)).cljs$core$IFn$_invoke$arity$1(font).call(null,pair_16039);if(char_16027==null)if(cljs.core.seq.call(null,l_16023__$1)){var G__16041=l_16023__$1;var G__16042=xp_16024__$2+(new cljs.core.Keyword(null,"space","space",348133475)).cljs$core$IFn$_invoke$arity$1(font);var G__16043=yp_16025__$2;var G__16044=c_16022__$1;G__16000_16017__$1=G__16041;xp_16018__$1=G__16042;yp_16019__$1=G__16043;last_c_16020__$1=G__16044;continue}else;else{batch.addChild(infinitelives.pixi.sprite.make_sprite.call(null,
texture_16030,new cljs.core.Keyword(null,"x","x",2099068185),xp_16024__$2+koff_16040,new cljs.core.Keyword(null,"y","y",-1757859776),yp_16025__$2,new cljs.core.Keyword(null,"xhandle","xhandle",373504767),0,new cljs.core.Keyword(null,"yhandle","yhandle",608395252),0,new cljs.core.Keyword(null,"tint","tint",-1286736913),tint));if(cljs.core.seq.call(null,l_16023__$1)){var G__16045=l_16023__$1;var G__16046=xp_16024__$2+w_16037+1+koff_16040;var G__16047=yp_16025__$2;var G__16048=c_16022__$1;G__16000_16017__$1=
G__16045;xp_16018__$1=G__16046;yp_16019__$1=G__16047;last_c_16020__$1=G__16048;continue}else infinitelives.pixi.sprite.set_pivot_BANG_.call(null,batch,(xp_16024__$2+w_16037+koff_16040)/2,0)}break}if(cljs.core.truth_(scale))infinitelives.pixi.sprite.set_scale_BANG_.call(null,batch,scale);else;if(cljs.core.truth_(rotation))infinitelives.pixi.sprite.set_rotation_BANG_.call(null,batch,rotation);else;if(cljs.core.truth_(anchor))infinitelives.pixi.sprite.set_anchor_BANG_.call(null,batch,anchor.call(null,
0),anchor.call(null,1));else;if(cljs.core.truth_(x))infinitelives.pixi.sprite.set_x_BANG_.call(null,batch,x);else;if(cljs.core.truth_(y))infinitelives.pixi.sprite.set_y_BANG_.call(null,batch,y);else;if(visible==null);else infinitelives.pixi.sprite.set_visible_BANG_.call(null,batch,visible);return batch};infinitelives.pixi.pixelfont.make_text.cljs$lang$maxFixedArity=2;
infinitelives.pixi.pixelfont.make_text.cljs$lang$applyTo=function(seq15993){var G__15994=cljs.core.first.call(null,seq15993);var seq15993__$1=cljs.core.next.call(null,seq15993);var G__15995=cljs.core.first.call(null,seq15993__$1);var seq15993__$2=cljs.core.next.call(null,seq15993__$1);return infinitelives.pixi.pixelfont.make_text.cljs$core$IFn$_invoke$arity$variadic(G__15994,G__15995,seq15993__$2)};goog.provide("infinitelives.utils.dom");goog.require("cljs.core");infinitelives.utils.dom.as_str=function infinitelives$utils$dom$as_str(s){if(s instanceof cljs.core.Keyword)return[cljs.core.str(function(){var G__16052=cljs.core.namespace.call(null,s);if(G__16052==null)return null;else return[cljs.core.str(G__16052),cljs.core.str("/")].join("")}()),cljs.core.str(cljs.core.name.call(null,s))].join("");else return s};infinitelives.utils.dom.parent=function infinitelives$utils$dom$parent(elem){return elem.parentNode};
infinitelives.utils.dom.children=function infinitelives$utils$dom$children(elem){return elem.children};
infinitelives.utils.dom.set_style_BANG_=function infinitelives$utils$dom$set_style_BANG_(var_args){var args__7221__auto__=[];var len__7214__auto___16061=arguments.length;var i__7215__auto___16062=0;while(true){if(i__7215__auto___16062<len__7214__auto___16061){args__7221__auto__.push(arguments[i__7215__auto___16062]);var G__16063=i__7215__auto___16062+1;i__7215__auto___16062=G__16063;continue}else;break}var argseq__7222__auto__=1<args__7221__auto__.length?new cljs.core.IndexedSeq(args__7221__auto__.slice(1),
0):null;return infinitelives.utils.dom.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],argseq__7222__auto__)};
infinitelives.utils.dom.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(elem,kvs){if(cljs.core.even_QMARK_.call(null,cljs.core.count.call(null,kvs)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"even?","even?",-1827825394,null),cljs.core.list(new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"kvs","kvs",-1695980277,null)))))].join(""));var style=elem.style;
var seq__16055_16064=cljs.core.seq.call(null,cljs.core.partition.call(null,2,kvs));var chunk__16056_16065=null;var count__16057_16066=0;var i__16058_16067=0;while(true){if(i__16058_16067<count__16057_16066){var vec__16059_16068=cljs.core._nth.call(null,chunk__16056_16065,i__16058_16067);var k_16069=cljs.core.nth.call(null,vec__16059_16068,0,null);var v_16070=cljs.core.nth.call(null,vec__16059_16068,1,null);style.setProperty(infinitelives.utils.dom.as_str.call(null,k_16069),v_16070);var G__16071=seq__16055_16064;
var G__16072=chunk__16056_16065;var G__16073=count__16057_16066;var G__16074=i__16058_16067+1;seq__16055_16064=G__16071;chunk__16056_16065=G__16072;count__16057_16066=G__16073;i__16058_16067=G__16074;continue}else{var temp__4657__auto___16075=cljs.core.seq.call(null,seq__16055_16064);if(temp__4657__auto___16075){var seq__16055_16076__$1=temp__4657__auto___16075;if(cljs.core.chunked_seq_QMARK_.call(null,seq__16055_16076__$1)){var c__6959__auto___16077=cljs.core.chunk_first.call(null,seq__16055_16076__$1);
var G__16078=cljs.core.chunk_rest.call(null,seq__16055_16076__$1);var G__16079=c__6959__auto___16077;var G__16080=cljs.core.count.call(null,c__6959__auto___16077);var G__16081=0;seq__16055_16064=G__16078;chunk__16056_16065=G__16079;count__16057_16066=G__16080;i__16058_16067=G__16081;continue}else{var vec__16060_16082=cljs.core.first.call(null,seq__16055_16076__$1);var k_16083=cljs.core.nth.call(null,vec__16060_16082,0,null);var v_16084=cljs.core.nth.call(null,vec__16060_16082,1,null);style.setProperty(infinitelives.utils.dom.as_str.call(null,
k_16083),v_16084);var G__16085=cljs.core.next.call(null,seq__16055_16076__$1);var G__16086=null;var G__16087=0;var G__16088=0;seq__16055_16064=G__16085;chunk__16056_16065=G__16086;count__16057_16066=G__16087;i__16058_16067=G__16088;continue}}else;}break}return elem};infinitelives.utils.dom.set_style_BANG_.cljs$lang$maxFixedArity=1;
infinitelives.utils.dom.set_style_BANG_.cljs$lang$applyTo=function(seq16053){var G__16054=cljs.core.first.call(null,seq16053);var seq16053__$1=cljs.core.next.call(null,seq16053);return infinitelives.utils.dom.set_style_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__16054,seq16053__$1)};infinitelives.utils.dom.append_BANG_=function infinitelives$utils$dom$append_BANG_(parent,child){var G__16090=parent;G__16090.appendChild(child);return G__16090};
infinitelives.utils.dom.remove_BANG_=function infinitelives$utils$dom$remove_BANG_(var_args){var args16091=[];var len__7214__auto___16095=arguments.length;var i__7215__auto___16096=0;while(true){if(i__7215__auto___16096<len__7214__auto___16095){args16091.push(arguments[i__7215__auto___16096]);var G__16097=i__7215__auto___16096+1;i__7215__auto___16096=G__16097;continue}else;break}var G__16093=args16091.length;switch(G__16093){case 1:return infinitelives.utils.dom.remove_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return infinitelives.utils.dom.remove_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args16091.length)].join(""));}};
infinitelives.utils.dom.remove_BANG_.cljs$core$IFn$_invoke$arity$1=function(elem){var p=infinitelives.utils.dom.parent.call(null,elem);if(cljs.core.truth_(p));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Target element must have a parent"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Symbol(null,"p","p",1791580836,null)))].join(""));return infinitelives.utils.dom.remove_BANG_.call(null,p,elem)};
infinitelives.utils.dom.remove_BANG_.cljs$core$IFn$_invoke$arity$2=function(p,elem){var G__16094=p;G__16094.removeChild(elem);return G__16094};infinitelives.utils.dom.remove_BANG_.cljs$lang$maxFixedArity=2;
infinitelives.utils.dom.create_element=function infinitelives$utils$dom$create_element(var_args){var args16099=[];var len__7214__auto___16102=arguments.length;var i__7215__auto___16103=0;while(true){if(i__7215__auto___16103<len__7214__auto___16102){args16099.push(arguments[i__7215__auto___16103]);var G__16104=i__7215__auto___16103+1;i__7215__auto___16103=G__16104;continue}else;break}var G__16101=args16099.length;switch(G__16101){case 1:return infinitelives.utils.dom.create_element.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 2:return infinitelives.utils.dom.create_element.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args16099.length)].join(""));}};infinitelives.utils.dom.create_element.cljs$core$IFn$_invoke$arity$1=function(tag){return document.createElement(infinitelives.utils.dom.as_str.call(null,tag))};
infinitelives.utils.dom.create_element.cljs$core$IFn$_invoke$arity$2=function(tag_ns,tag){return document.createElementNS(infinitelives.utils.dom.as_str.call(null,tag_ns),infinitelives.utils.dom.as_str.call(null,tag))};infinitelives.utils.dom.create_element.cljs$lang$maxFixedArity=2;
infinitelives.utils.dom.insert_before_BANG_=function infinitelives$utils$dom$insert_before_BANG_(elem,other){var p=infinitelives.utils.dom.parent.call(null,other);if(cljs.core.truth_(p));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Target element must have a parent"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Symbol(null,"p","p",1791580836,null)))].join(""));p.insertBefore(elem,other);return elem};
infinitelives.utils.dom.set_attr_BANG_=function infinitelives$utils$dom$set_attr_BANG_(var_args){var args16106=[];var len__7214__auto___16121=arguments.length;var i__7215__auto___16122=0;while(true){if(i__7215__auto___16122<len__7214__auto___16121){args16106.push(arguments[i__7215__auto___16122]);var G__16123=i__7215__auto___16122+1;i__7215__auto___16122=G__16123;continue}else;break}var G__16112=args16106.length;switch(G__16112){case 2:return infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 3:return infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);break;default:var argseq__7233__auto__=new cljs.core.IndexedSeq(args16106.slice(3),0);return infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],argseq__7233__auto__)}};
infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$2=function(elem,k){return infinitelives.utils.dom.set_attr_BANG_.call(null,elem,k,infinitelives.utils.dom.as_str.call(null,k))};
infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$3=function(elem,k,v){var k__$1=infinitelives.utils.dom.as_str.call(null,k);if(cljs.core.truth_(v))if(cljs.core.fn_QMARK_.call(null,v)){var G__16113=elem;G__16113[k__$1]=v;return G__16113}else{var G__16114=elem;G__16114.setAttribute(k__$1,v);return G__16114}else return null};
infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(elem,k,v,kvs){if(cljs.core.even_QMARK_.call(null,cljs.core.count.call(null,kvs)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"even?","even?",-1827825394,null),cljs.core.list(new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"kvs","kvs",-1695980277,null)))))].join(""));var seq__16115_16125=
cljs.core.seq.call(null,cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null),cljs.core.partition.call(null,2,kvs)));var chunk__16116_16126=null;var count__16117_16127=0;var i__16118_16128=0;while(true){if(i__16118_16128<count__16117_16127){var vec__16119_16129=cljs.core._nth.call(null,chunk__16116_16126,i__16118_16128);var k_16130__$1=cljs.core.nth.call(null,vec__16119_16129,0,null);var v_16131__$1=cljs.core.nth.call(null,vec__16119_16129,
1,null);infinitelives.utils.dom.set_attr_BANG_.call(null,elem,k_16130__$1,v_16131__$1);var G__16132=seq__16115_16125;var G__16133=chunk__16116_16126;var G__16134=count__16117_16127;var G__16135=i__16118_16128+1;seq__16115_16125=G__16132;chunk__16116_16126=G__16133;count__16117_16127=G__16134;i__16118_16128=G__16135;continue}else{var temp__4657__auto___16136=cljs.core.seq.call(null,seq__16115_16125);if(temp__4657__auto___16136){var seq__16115_16137__$1=temp__4657__auto___16136;if(cljs.core.chunked_seq_QMARK_.call(null,
seq__16115_16137__$1)){var c__6959__auto___16138=cljs.core.chunk_first.call(null,seq__16115_16137__$1);var G__16139=cljs.core.chunk_rest.call(null,seq__16115_16137__$1);var G__16140=c__6959__auto___16138;var G__16141=cljs.core.count.call(null,c__6959__auto___16138);var G__16142=0;seq__16115_16125=G__16139;chunk__16116_16126=G__16140;count__16117_16127=G__16141;i__16118_16128=G__16142;continue}else{var vec__16120_16143=cljs.core.first.call(null,seq__16115_16137__$1);var k_16144__$1=cljs.core.nth.call(null,
vec__16120_16143,0,null);var v_16145__$1=cljs.core.nth.call(null,vec__16120_16143,1,null);infinitelives.utils.dom.set_attr_BANG_.call(null,elem,k_16144__$1,v_16145__$1);var G__16146=cljs.core.next.call(null,seq__16115_16137__$1);var G__16147=null;var G__16148=0;var G__16149=0;seq__16115_16125=G__16146;chunk__16116_16126=G__16147;count__16117_16127=G__16148;i__16118_16128=G__16149;continue}}else;}break}return elem};
infinitelives.utils.dom.set_attr_BANG_.cljs$lang$applyTo=function(seq16107){var G__16108=cljs.core.first.call(null,seq16107);var seq16107__$1=cljs.core.next.call(null,seq16107);var G__16109=cljs.core.first.call(null,seq16107__$1);var seq16107__$2=cljs.core.next.call(null,seq16107__$1);var G__16110=cljs.core.first.call(null,seq16107__$2);var seq16107__$3=cljs.core.next.call(null,seq16107__$2);return infinitelives.utils.dom.set_attr_BANG_.cljs$core$IFn$_invoke$arity$variadic(G__16108,G__16109,G__16110,
seq16107__$3)};infinitelives.utils.dom.set_attr_BANG_.cljs$lang$maxFixedArity=3;infinitelives.utils.dom.set_text_BANG_=function infinitelives$utils$dom$set_text_BANG_(elem,text){if(!(void 0===elem.textContent))elem.textContent=text;else elem.innerText=text;return elem};infinitelives.utils.dom.set_html_BANG_=function infinitelives$utils$dom$set_html_BANG_(elem,html){elem.innerHTML=html;return elem};infinitelives.utils.dom.get_bounds=function infinitelives$utils$dom$get_bounds(id){return document.getElementById(id).getBoundingClientRect()};
infinitelives.utils.dom.collision_test_by_id=function infinitelives$utils$dom$collision_test_by_id(id_a,id_b){var bounds_a=infinitelives.utils.dom.get_bounds.call(null,id_a);var bounds_b=infinitelives.utils.dom.get_bounds.call(null,id_b);return!(bounds_a.right<bounds_b.left||bounds_a.left>bounds_b.right||bounds_a.bottom<bounds_b.top||bounds_a.top>bounds_b.bottom)};goog.provide("infinitelives.pixi.canvas");goog.require("cljs.core");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.utils.dom");goog.require("infinitelives.utils.console");infinitelives.pixi.canvas.canvas_store=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
infinitelives.pixi.canvas.add_BANG_=function infinitelives$pixi$canvas$add_BANG_(var_args){var args16152=[];var len__7214__auto___16155=arguments.length;var i__7215__auto___16156=0;while(true){if(i__7215__auto___16156<len__7214__auto___16155){args16152.push(arguments[i__7215__auto___16156]);var G__16157=i__7215__auto___16156+1;i__7215__auto___16156=G__16157;continue}else;break}var G__16154=args16152.length;switch(G__16154){case 2:return infinitelives.pixi.canvas.add_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],
arguments[1]);break;case 1:return infinitelives.pixi.canvas.add_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args16152.length)].join(""));}};infinitelives.pixi.canvas.add_BANG_.cljs$core$IFn$_invoke$arity$2=function(key,canvas){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.canvas.canvas_store,cljs.core.assoc,key,canvas)};
infinitelives.pixi.canvas.add_BANG_.cljs$core$IFn$_invoke$arity$1=function(canvas){return infinitelives.pixi.canvas.add_BANG_.call(null,new cljs.core.Keyword(null,"default","default",-1987822328),canvas)};infinitelives.pixi.canvas.add_BANG_.cljs$lang$maxFixedArity=2;
infinitelives.pixi.canvas.set_default_once_BANG_=function infinitelives$pixi$canvas$set_default_once_BANG_(canvas){if(cljs.core.truth_((new cljs.core.Keyword(null,"default","default",-1987822328)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,infinitelives.pixi.canvas.canvas_store))))return null;else return infinitelives.pixi.canvas.add_BANG_.call(null,canvas)};
infinitelives.pixi.canvas.remove_BANG_=function infinitelives$pixi$canvas$remove_BANG_(key){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.canvas.canvas_store,cljs.core.dissoc,key)};
infinitelives.pixi.canvas.get=function infinitelives$pixi$canvas$get(var_args){var args16159=[];var len__7214__auto___16162=arguments.length;var i__7215__auto___16163=0;while(true){if(i__7215__auto___16163<len__7214__auto___16162){args16159.push(arguments[i__7215__auto___16163]);var G__16164=i__7215__auto___16163+1;i__7215__auto___16163=G__16164;continue}else;break}var G__16161=args16159.length;switch(G__16161){case 1:return infinitelives.pixi.canvas.get.cljs$core$IFn$_invoke$arity$1(arguments[0]);
break;case 0:return infinitelives.pixi.canvas.get.cljs$core$IFn$_invoke$arity$0();break;default:throw new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args16159.length)].join(""));}};infinitelives.pixi.canvas.get.cljs$core$IFn$_invoke$arity$1=function(key){return key.call(null,cljs.core.deref.call(null,infinitelives.pixi.canvas.canvas_store))};
infinitelives.pixi.canvas.get.cljs$core$IFn$_invoke$arity$0=function(){return(new cljs.core.Keyword(null,"default","default",-1987822328)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,infinitelives.pixi.canvas.canvas_store))};infinitelives.pixi.canvas.get.cljs$lang$maxFixedArity=1;
infinitelives.pixi.canvas.make=function infinitelives$pixi$canvas$make(p__16166){var map__16170=p__16166;var map__16170__$1=(!(map__16170==null)?map__16170.cljs$lang$protocol_mask$partition0$&64||map__16170.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__16170):map__16170;var expand=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"expand","expand",595248157),false);var x=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"x","x",
2099068185),0);var y=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"y","y",-1757859776),0);var width=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"width","width",-384071477),800);var height=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"height","height",1025178622),600);var canvas=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"canvas","canvas",-1798817489));var engine=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,
"engine","engine",1459054265),new cljs.core.Keyword(null,"auto","auto",-566279492));var background=cljs.core.get.call(null,map__16170__$1,new cljs.core.Keyword(null,"background","background",-863952629),5242880);var fswidth=window.innerWidth;var fsheight=window.innerHeight;var wid=cljs.core.truth_(expand)?fswidth:width;var hig=cljs.core.truth_(expand)?fsheight:height;var opts={"backgroundColor":background,"transparent":false,"imageSmoothingEnabled":false,"antialias":false,"autoResize":false,"clearBeforeRender":true,
"preserveDrawingBuffer":false,"view":canvas,"resolution":1};var rend=function(){var G__16172=engine instanceof cljs.core.Keyword?engine.fqn:null;switch(G__16172){case "webgl":return new PIXI.WebGLRenderer(wid,hig,opts);break;case "canvas":return new PIXI.CanvasRenderer(wid,hig,opts);break;default:return new PIXI.autoDetectRenderer(wid,hig,opts)}}();var actual_canvas=rend.view;var canvas_width=actual_canvas.width;var canvas_height=actual_canvas.height;if(cljs.core.truth_(canvas));else{infinitelives.utils.dom.set_style_BANG_.call(null,
actual_canvas,new cljs.core.Keyword(null,"left","left",-399115937),cljs.core.truth_(expand)?0:x,new cljs.core.Keyword(null,"top","top",-1856271961),cljs.core.truth_(expand)?0:y,new cljs.core.Keyword(null,"position","position",-2011731912),"absolute");infinitelives.utils.dom.append_BANG_.call(null,document.body,actual_canvas)}var wind_width_16174=cljs.core.truth_(expand)?fswidth:canvas_width;var wind_height_16175=cljs.core.truth_(expand)?fsheight:canvas_height;var middle_x_16176=Math.round(wind_width_16174/
2);var middle_y_16177=Math.round(wind_height_16175/2);rend.resize(wind_width_16174,wind_height_16175);return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"renderer","renderer",336841071),rend,new cljs.core.Keyword(null,"canvas","canvas",-1798817489),function(){var or__6156__auto__=canvas;if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return actual_canvas}()],null)};
infinitelives.pixi.canvas.make_stage=function infinitelives$pixi$canvas$make_stage(p__16178){var map__16189=p__16178;var map__16189__$1=(!(map__16189==null)?map__16189.cljs$lang$protocol_mask$partition0$&64||map__16189.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__16189):map__16189;var layers=cljs.core.get.call(null,map__16189__$1,new cljs.core.Keyword(null,"layers","layers",1944875032),new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"backdrop","backdrop",-1291357381),new cljs.core.Keyword(null,"below","below",-926774883),new cljs.core.Keyword(null,"world","world",-418292623),new cljs.core.Keyword(null,"above","above",-1286866470),new cljs.core.Keyword(null,"ui","ui",-469653645),new cljs.core.Keyword(null,"effect","effect",347343289)],null));var origins=cljs.core.get.call(null,map__16189__$1,new cljs.core.Keyword(null,"origins","origins",-1970258462),cljs.core.PersistentArrayMap.EMPTY);var stage=new PIXI.Container;
var containers=cljs.core.map.call(null,function(stage,map__16189,map__16189__$1,layers,origins){return function(){return new PIXI.Container}}(stage,map__16189,map__16189__$1,layers,origins),layers);return new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"stage","stage",1843544772),stage,new cljs.core.Keyword(null,"origins","origins",-1970258462),origins,new cljs.core.Keyword(null,"layers","layers",1944875032),layers,new cljs.core.Keyword(null,"layer","layer",-1601820589),cljs.core.into.call(null,
cljs.core.PersistentArrayMap.EMPTY,function(){var iter__6928__auto__=function(stage,containers,map__16189,map__16189__$1,layers,origins){return function infinitelives$pixi$canvas$make_stage_$_iter__16191(s__16192){return new cljs.core.LazySeq(null,function(stage,containers,map__16189,map__16189__$1,layers,origins){return function(){var s__16192__$1=s__16192;while(true){var temp__4657__auto__=cljs.core.seq.call(null,s__16192__$1);if(temp__4657__auto__){var s__16192__$2=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,
s__16192__$2)){var c__6926__auto__=cljs.core.chunk_first.call(null,s__16192__$2);var size__6927__auto__=cljs.core.count.call(null,c__6926__auto__);var b__16194=cljs.core.chunk_buffer.call(null,size__6927__auto__);if(function(){var i__16193=0;while(true){if(i__16193<size__6927__auto__){var vec__16197=cljs.core._nth.call(null,c__6926__auto__,i__16193);var k=cljs.core.nth.call(null,vec__16197,0,null);var v=cljs.core.nth.call(null,vec__16197,1,null);cljs.core.chunk_append.call(null,b__16194,new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null));var G__16199=i__16193+1;i__16193=G__16199;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__16194),infinitelives$pixi$canvas$make_stage_$_iter__16191.call(null,cljs.core.chunk_rest.call(null,s__16192__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__16194),null)}else{var vec__16198=cljs.core.first.call(null,s__16192__$2);var k=cljs.core.nth.call(null,vec__16198,
0,null);var v=cljs.core.nth.call(null,vec__16198,1,null);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null),infinitelives$pixi$canvas$make_stage_$_iter__16191.call(null,cljs.core.rest.call(null,s__16192__$2)))}}else return null;break}}}(stage,containers,map__16189,map__16189__$1,layers,origins),null,null)}}(stage,containers,map__16189,map__16189__$1,layers,origins);return iter__6928__auto__.call(null,cljs.core.partition.call(null,
2,cljs.core.interleave.call(null,layers,containers)))}())],null)};
infinitelives.pixi.canvas.center_container_BANG_=function infinitelives$pixi$canvas$center_container_BANG_(canvas,layer,edge){var canvas_width=canvas.width;var canvas_height=canvas.height;var middle_x=Math.round(canvas_width/2);var middle_y=Math.round(canvas_height/2);var G__16201=edge instanceof cljs.core.Keyword?edge.fqn:null;switch(G__16201){case "center":layer.position.x=middle_x;return layer.position.y=middle_y;break;case "top":layer.position.x=middle_x;return layer.position.y=0;break;case "bottom":layer.position.x=
middle_x;return layer.position.y=canvas_height;break;case "left":layer.position.x=0;return layer.position.y=middle_y;break;case "right":layer.position.x=canvas_width;return layer.position.y=middle_y;break;case "top-left":layer.position.x=0;return layer.position.y=0;break;case "top-right":layer.position.x=canvas_width;return layer.position.y=0;break;case "bottom-left":layer.position.x=0;return layer.position.y=canvas_height;break;case "bottom-right":layer.position.x=canvas_width;return layer.position.y=
canvas_height;break;default:layer.position.x=middle_x;return layer.position.y=middle_y}};
infinitelives.pixi.canvas.init=function infinitelives$pixi$canvas$init(opts){var map__16241=cljs.core.into.call(null,infinitelives.pixi.canvas.make.call(null,opts),infinitelives.pixi.canvas.make_stage.call(null,opts));var map__16241__$1=(!(map__16241==null)?map__16241.cljs$lang$protocol_mask$partition0$&64||map__16241.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__16241):map__16241;var world=map__16241__$1;var renderer=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,
"renderer","renderer",336841071));var canvas=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,"canvas","canvas",-1798817489));var layer=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,"layer","layer",-1601820589));var layers=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,"layers","layers",1944875032));var stage=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,"stage","stage",1843544772));var origins=cljs.core.get.call(null,map__16241__$1,
new cljs.core.Keyword(null,"origins","origins",-1970258462),cljs.core.PersistentArrayMap.EMPTY);var fullscreen_button=cljs.core.get.call(null,map__16241__$1,new cljs.core.Keyword(null,"fullscreen-button","fullscreen-button",1597770110));cljs.core.doall.call(null,cljs.core.map.call(null,function(map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(p__16243){var vec__16244=p__16243;var name=cljs.core.nth.call(null,vec__16244,0,null);var layer_obj=
cljs.core.nth.call(null,vec__16244,1,null);stage.addChild(layer_obj);return infinitelives.pixi.canvas.center_container_BANG_.call(null,canvas,layer_obj,function(){var or__6156__auto__=origins.call(null,name);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return new cljs.core.Keyword(null,"center","center",-748944368)}())}}(map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button),layer));renderer.render(stage);var render_fn=function(map__16241,
map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(){return renderer.render(stage)}}(map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button);var resize_fn=function(render_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(width,height){renderer.resize(width,height);return cljs.core.doall.call(null,cljs.core.map.call(null,function(render_fn,map__16241,
map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(p__16245){var vec__16246=p__16245;var name=cljs.core.nth.call(null,vec__16246,0,null);var layer_obj=cljs.core.nth.call(null,vec__16246,1,null);return infinitelives.pixi.canvas.center_container_BANG_.call(null,canvas,layer_obj,function(){var or__6156__auto__=origins.call(null,name);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else return new cljs.core.Keyword(null,"center","center",-748944368)}())}}(render_fn,
map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button),layer))}}(render_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button);var expand_fn=function(render_fn,resize_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(){return resize_fn.call(null,window.innerWidth,window.innerHeight)}}(render_fn,resize_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,
layers,stage,origins,fullscreen_button);var fullscreen_fn=function(render_fn,resize_fn,expand_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(fullscreen){if(cljs.core.truth_(fullscreen))if(cljs.core.truth_(canvas.requestFullscreen))return canvas.requestFullscreen();else if(cljs.core.truth_(canvas.webkitRequestFullscreen))return canvas.webkitRequestFullscreen();else if(cljs.core.truth_(canvas.mozRequestFullScreen))return canvas.mozRequestFullScreen();
else return null;else if(cljs.core.truth_(document.exitFullscreen))return document.exitFullscreen();else if(cljs.core.truth_(document.webkitExitFullscreen))return document.webkitExitFullscreen();else if(cljs.core.truth_(document.msExitFullscreen))return document.msExitFullscreen();else if(cljs.core.truth_(document.mozCancelFullScreen))return document.mozCancelFullScreen();else return null}}(render_fn,resize_fn,expand_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button);
var resizer_loop=cljs.core.truth_((new cljs.core.Keyword(null,"expand","expand",595248157)).cljs$core$IFn$_invoke$arity$1(opts))?function(){var c=infinitelives.utils.events.new_resize_chan.call(null);var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(){var f__12558__auto__=
function(){var switch__12445__auto__=function(c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(state_16263){var state_val_16264=state_16263[1];if(state_val_16264===1){var state_16263__$1=state_16263;var statearr_16265_16279=state_16263__$1;statearr_16265_16279[2]=null;statearr_16265_16279[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16264===
2){var state_16263__$1=state_16263;var statearr_16266_16280=state_16263__$1;statearr_16266_16280[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16264===3){var inst_16261=state_16263[2];var state_16263__$1=state_16263;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_16263__$1,inst_16261)}else if(state_val_16264===4){var state_16263__$1=state_16263;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16263__$1,7,c)}else if(state_val_16264===
5){var state_16263__$1=state_16263;var statearr_16268_16281=state_16263__$1;statearr_16268_16281[2]=null;statearr_16268_16281[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16264===6){var inst_16259=state_16263[2];var state_16263__$1=state_16263;var statearr_16269_16282=state_16263__$1;statearr_16269_16282[2]=inst_16259;statearr_16269_16282[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16264===7){var inst_16251=state_16263[2];
var inst_16252=cljs.core.nth.call(null,inst_16251,0,null);var inst_16253=cljs.core.nth.call(null,inst_16251,1,null);var inst_16254=resize_fn.call(null,inst_16252,inst_16253);var inst_16255=render_fn.call(null);var state_16263__$1=function(){var statearr_16270=state_16263;statearr_16270[7]=inst_16254;statearr_16270[8]=inst_16255;return statearr_16270}();var statearr_16271_16283=state_16263__$1;statearr_16271_16283[2]=null;statearr_16271_16283[1]=2;return new cljs.core.Keyword(null,"recur","recur",
-437573268)}else return null}}(c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button);return function(switch__12445__auto__,c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function(){var infinitelives$pixi$canvas$init_$_state_machine__12446__auto__=null;var infinitelives$pixi$canvas$init_$_state_machine__12446__auto____0=
function(){var statearr_16275=[null,null,null,null,null,null,null,null,null];statearr_16275[0]=infinitelives$pixi$canvas$init_$_state_machine__12446__auto__;statearr_16275[1]=1;return statearr_16275};var infinitelives$pixi$canvas$init_$_state_machine__12446__auto____1=function(state_16263){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_16263);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e16276){if(e16276 instanceof Object){var ex__12449__auto__=e16276;var statearr_16277_16284=state_16263;statearr_16277_16284[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_16263);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e16276;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268))){var G__16285=state_16263;state_16263=G__16285;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$canvas$init_$_state_machine__12446__auto__=function(state_16263){switch(arguments.length){case 0:return infinitelives$pixi$canvas$init_$_state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$canvas$init_$_state_machine__12446__auto____1.call(this,state_16263)}throw new Error("Invalid arity: "+arguments.length);};infinitelives$pixi$canvas$init_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
infinitelives$pixi$canvas$init_$_state_machine__12446__auto____0;infinitelives$pixi$canvas$init_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$pixi$canvas$init_$_state_machine__12446__auto____1;return infinitelives$pixi$canvas$init_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button)}();var state__12559__auto__=
function(){var statearr_16278=f__12558__auto__.call(null);statearr_16278[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_16278}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__,c,render_fn,resize_fn,expand_fn,fullscreen_fn,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button));return c__12557__auto__}():null;infinitelives.pixi.canvas.render=function(render_fn,
resize_fn,expand_fn,fullscreen_fn,resizer_loop,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button){return function infinitelives$pixi$canvas$init_$_render(){infinitelives.utils.events.request_animation_frame.call(null,infinitelives$pixi$canvas$init_$_render);return render_fn.call(null)}}(render_fn,resize_fn,expand_fn,fullscreen_fn,resizer_loop,map__16241,map__16241__$1,world,renderer,canvas,layer,layers,stage,origins,fullscreen_button);infinitelives.pixi.canvas.render.call(null);
fullscreen_fn.call(null);var canvas__$1=cljs.core.into.call(null,world,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"render-fn","render-fn",398796518),render_fn,new cljs.core.Keyword(null,"resize-fn","resize-fn",2017140158),resize_fn,new cljs.core.Keyword(null,"fullscreen-fn","fullscreen-fn",1444163170),fullscreen_fn,new cljs.core.Keyword(null,"expand-fn","expand-fn",492373783),expand_fn],null));infinitelives.pixi.canvas.set_default_once_BANG_.call(null,canvas__$1);return canvas__$1};
infinitelives.pixi.canvas.add_fullscreen_button_BANG_=function infinitelives$pixi$canvas$add_fullscreen_button_BANG_(p__16286){var map__16289=p__16286;var map__16289__$1=(!(map__16289==null)?map__16289.cljs$lang$protocol_mask$partition0$&64||map__16289.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__16289):map__16289;var fullscreen_fn=cljs.core.get.call(null,map__16289__$1,new cljs.core.Keyword(null,"fullscreen-fn","fullscreen-fn",1444163170));var div=infinitelives.utils.dom.create_element.call(null,
new cljs.core.Keyword(null,"div","div",1057191632));var img=infinitelives.utils.dom.create_element.call(null,new cljs.core.Keyword(null,"img","img",1442687358));infinitelives.utils.dom.append_BANG_.call(null,div,img);img.src="http://runrunitshim.com/images/fullscreenIcon.png";img.setAttribute("style","bottom: 0; position: absolute; padding-bottom: 0px; padding-left: 0px; z-index: 200;");div.setAttribute("style","bottom: 0; position: absolute; padding-bottom: 0px; padding-left: 0px; z-index: 200;");
img.addEventListener("click",function(div,img,map__16289,map__16289__$1,fullscreen_fn){return function(){return fullscreen_fn.call(null,true)}}(div,img,map__16289,map__16289__$1,fullscreen_fn));infinitelives.utils.dom.append_BANG_.call(null,document.body,div);return div};goog.provide("biscuit_switch.assets");goog.require("cljs.core");
biscuit_switch.assets.assets=cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"tv-square","tv-square",-149929951),new cljs.core.Keyword(null,"tv","tv",-1805207359),new cljs.core.Keyword(null,"player-stand-left","player-stand-left",1424166114),new cljs.core.Keyword(null,"conveyor","conveyor",-493428573),new cljs.core.Keyword(null,"dough-flat","dough-flat",-1808851741),new cljs.core.Keyword(null,"fire-4","fire-4",1007396486),new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,
"biscuit-triangle","biscuit-triangle",-1865801113),new cljs.core.Keyword(null,"player-stand-left-2","player-stand-left-2",284896233),new cljs.core.Keyword(null,"biscuit-square","biscuit-square",-1852813910),new cljs.core.Keyword(null,"fire-3","fire-3",-770146358),new cljs.core.Keyword(null,"tv-triangle","tv-triangle",-135047316),new cljs.core.Keyword(null,"player-stride-left","player-stride-left",-2115416883),new cljs.core.Keyword(null,"stamper","stamper",-657076882),new cljs.core.Keyword(null,"square-table",
"square-table",879734382),new cljs.core.Keyword(null,"money-bag","money-bag",-359505234),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"dough-ball","dough-ball",154234896),new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,"siren-green","siren-green",1283242869),new cljs.core.Keyword(null,"siren-grey","siren-grey",1518390838),new cljs.core.Keyword(null,"fire-1","fire-1",-1381222249),new cljs.core.Keyword(null,"oven","oven",1624209912),
new cljs.core.Keyword(null,"round-table","round-table",450381977),new cljs.core.Keyword(null,"siren-red","siren-red",-1025281607),new cljs.core.Keyword(null,"tri-table","tri-table",2083759259),new cljs.core.Keyword(null,"fire-2","fire-2",-926888644),new cljs.core.Keyword(null,"tv-circle","tv-circle",-787039524),new cljs.core.Keyword(null,"biscuit-circle","biscuit-circle",2133836189)],[new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[592,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[150,38],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[64,51],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[368,0],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[160,85],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,28],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[496,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[432,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[432,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[464,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32+368,0],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[480,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[416,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[560,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[32+32+368,0],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[96,48],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[48,65],null)],
null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[144,125],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[48,57],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[528,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[176,192],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[96,48],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[464,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[16,48],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[67,65],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[400,48],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[384,48],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[384,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[281,7],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[87,110],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[101,132],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[43,43],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[416,48],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[43,132],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[53,42],null)],null),
new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[400,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[624,32],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[32,32],null)],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pos","pos",-864607220),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[496,64],null),new cljs.core.Keyword(null,"size","size",1098693007),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[16,16],null)],null)]);goog.provide("biscuit_switch.game");goog.require("cljs.core");goog.provide("infinitelives.pixi.events");goog.require("cljs.core");goog.require("cljs.core.async");infinitelives.pixi.events.fallback_fps=60;
infinitelives.pixi.events.make_request_animation_frame=function infinitelives$pixi$events$make_request_animation_frame(){if(cljs.core.truth_(window.requestAnimationFrame))return function(p1__16297_SHARP_){return window.requestAnimationFrame(p1__16297_SHARP_)};else if(cljs.core.truth_(window.webkitRequestAnimationFrame))return function(p1__16298_SHARP_){return window.webkitRequestAnimationFrame(p1__16298_SHARP_)};else if(cljs.core.truth_(window.mozRequestAnimationFrame))return function(p1__16299_SHARP_){return window.mozRequestAnimationFrame(p1__16299_SHARP_)};
else if(cljs.core.truth_(window.oRequestAnimationFrame))return function(p1__16300_SHARP_){return window.oRequestAnimationFrame(p1__16300_SHARP_)};else if(cljs.core.truth_(window.msRequestAnimationFrame))return function(p1__16301_SHARP_){return window.msRequestAnimationFrame(p1__16301_SHARP_)};else return function(p1__16302_SHARP_){return window.setTimeout(p1__16302_SHARP_,1E3/infinitelives.pixi.events.fallback_fps)}};infinitelives.pixi.events.request_animation_frame=infinitelives.pixi.events.make_request_animation_frame.call(null);
infinitelives.pixi.events.next_frame=function infinitelives$pixi$events$next_frame(){var c=cljs.core.async.chan.call(null);infinitelives.pixi.events.request_animation_frame.call(null,function(c){return function(){return cljs.core.async.close_BANG_.call(null,c)}}(c));return c};
infinitelives.pixi.events.wait_frames=function infinitelives$pixi$events$wait_frames(frames){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_16350){var state_val_16351=state_16350[1];if(state_val_16351===1){var inst_16335=frames;var state_16350__$1=function(){var statearr_16352=state_16350;statearr_16352[7]=
inst_16335;return statearr_16352}();var statearr_16353_16367=state_16350__$1;statearr_16353_16367[2]=null;statearr_16353_16367[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16351===2){var inst_16335=state_16350[7];var inst_16337=inst_16335>0;var state_16350__$1=state_16350;if(cljs.core.truth_(inst_16337)){var statearr_16354_16368=state_16350__$1;statearr_16354_16368[1]=4}else{var statearr_16355_16369=state_16350__$1;statearr_16355_16369[1]=5}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_16351===3){var inst_16348=state_16350[2];var state_16350__$1=state_16350;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_16350__$1,inst_16348)}else if(state_val_16351===4){var inst_16339=infinitelives.pixi.events.next_frame.call(null);var state_16350__$1=state_16350;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16350__$1,7,inst_16339)}else if(state_val_16351===5){var state_16350__$1=state_16350;var statearr_16356_16370=
state_16350__$1;statearr_16356_16370[2]=null;statearr_16356_16370[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16351===6){var inst_16346=state_16350[2];var state_16350__$1=state_16350;var statearr_16357_16371=state_16350__$1;statearr_16357_16371[2]=inst_16346;statearr_16357_16371[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16351===7){var inst_16335=state_16350[7];var inst_16341=state_16350[2];var inst_16342=inst_16335-
1;var inst_16335__$1=inst_16342;var state_16350__$1=function(){var statearr_16358=state_16350;statearr_16358[7]=inst_16335__$1;statearr_16358[8]=inst_16341;return statearr_16358}();var statearr_16359_16372=state_16350__$1;statearr_16359_16372[2]=null;statearr_16359_16372[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__=
null;var infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____0=function(){var statearr_16363=[null,null,null,null,null,null,null,null,null];statearr_16363[0]=infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__;statearr_16363[1]=1;return statearr_16363};var infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____1=function(state_16350){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_16350);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e16364){if(e16364 instanceof Object){var ex__12449__auto__=e16364;var statearr_16365_16373=state_16350;statearr_16365_16373[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_16350);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e16364;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__16374=state_16350;state_16350=G__16374;continue}else return ret_value__12447__auto__;break}};infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__=function(state_16350){switch(arguments.length){case 0:return infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____0.call(this);case 1:return infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____1.call(this,state_16350)}throw new Error("Invalid arity: "+
arguments.length);};infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____0;infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto____1;return infinitelives$pixi$events$wait_frames_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=
function(){var statearr_16366=f__12558__auto__.call(null);statearr_16366[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_16366}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};infinitelives.pixi.events.wait_time=function infinitelives$pixi$events$wait_time(delay){return infinitelives.pixi.events.wait_frames.call(null,60*(delay/1E3))};
infinitelives.pixi.events._STAR_resize_chans_STAR_=cljs.core.atom.call(null,cljs.core.PersistentHashSet.EMPTY);infinitelives.pixi.events.new_resize_chan=function infinitelives$pixi$events$new_resize_chan(){var c=cljs.core.async.chan.call(null);cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_resize_chans_STAR_,cljs.core.conj,c);return c};
infinitelives.pixi.events.del_resize_chan=function infinitelives$pixi$events$del_resize_chan(c){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_resize_chans_STAR_,cljs.core.disj,c)};infinitelives.pixi.events.clear_resize_chans_BANG_=function infinitelives$pixi$events$clear_resize_chans_BANG_(){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_resize_chans_STAR_,cljs.core.PersistentHashSet.EMPTY)};
infinitelives.pixi.events.resize_event_chan_handler=function infinitelives$pixi$events$resize_event_chan_handler(ev){var size=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[window.innerWidth,window.innerHeight],null);var seq__16379=cljs.core.seq.call(null,cljs.core.deref.call(null,infinitelives.pixi.events._STAR_resize_chans_STAR_));var chunk__16380=null;var count__16381=0;var i__16382=0;while(true){if(i__16382<count__16381){var c=cljs.core._nth.call(null,chunk__16380,
i__16382);cljs.core.async.put_BANG_.call(null,c,size);var G__16383=seq__16379;var G__16384=chunk__16380;var G__16385=count__16381;var G__16386=i__16382+1;seq__16379=G__16383;chunk__16380=G__16384;count__16381=G__16385;i__16382=G__16386;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__16379);if(temp__4657__auto__){var seq__16379__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__16379__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__16379__$1);var G__16387=
cljs.core.chunk_rest.call(null,seq__16379__$1);var G__16388=c__6959__auto__;var G__16389=cljs.core.count.call(null,c__6959__auto__);var G__16390=0;seq__16379=G__16387;chunk__16380=G__16388;count__16381=G__16389;i__16382=G__16390;continue}else{var c=cljs.core.first.call(null,seq__16379__$1);cljs.core.async.put_BANG_.call(null,c,size);var G__16391=cljs.core.next.call(null,seq__16379__$1);var G__16392=null;var G__16393=0;var G__16394=0;seq__16379=G__16391;chunk__16380=G__16392;count__16381=G__16393;
i__16382=G__16394;continue}}else return null}break}};infinitelives.pixi.events.install_resize_handler=function infinitelives$pixi$events$install_resize_handler(){return window.addEventListener("resize",infinitelives.pixi.events.resize_event_chan_handler)};infinitelives.pixi.events._STAR_frame_chans_STAR_=cljs.core.atom.call(null,cljs.core.PersistentHashSet.EMPTY);
infinitelives.pixi.events.new_frame_chan=function infinitelives$pixi$events$new_frame_chan(){var c=cljs.core.async.chan.call(null);cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_frame_chans_STAR_,cljs.core.conj,c);return c};infinitelives.pixi.events.del_frame_chan_BANG_=function infinitelives$pixi$events$del_frame_chan_BANG_(c){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_frame_chans_STAR_,cljs.core.disj,c)};
infinitelives.pixi.events.clear_frame_chans_BANG_=function infinitelives$pixi$events$clear_frame_chans_BANG_(){return cljs.core.swap_BANG_.call(null,infinitelives.pixi.events._STAR_frame_chans_STAR_,cljs.core.PersistentHashSet.EMPTY)};
infinitelives.pixi.events.frame_event_chan_handler=function infinitelives$pixi$events$frame_event_chan_handler(ev){infinitelives.pixi.events.request_animation_frame.call(null,infinitelives$pixi$events$frame_event_chan_handler);var seq__16399=cljs.core.seq.call(null,cljs.core.deref.call(null,infinitelives.pixi.events._STAR_frame_chans_STAR_));var chunk__16400=null;var count__16401=0;var i__16402=0;while(true){if(i__16402<count__16401){var c=cljs.core._nth.call(null,chunk__16400,i__16402);cljs.core.async.put_BANG_.call(null,
c,true);var G__16403=seq__16399;var G__16404=chunk__16400;var G__16405=count__16401;var G__16406=i__16402+1;seq__16399=G__16403;chunk__16400=G__16404;count__16401=G__16405;i__16402=G__16406;continue}else{var temp__4657__auto__=cljs.core.seq.call(null,seq__16399);if(temp__4657__auto__){var seq__16399__$1=temp__4657__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__16399__$1)){var c__6959__auto__=cljs.core.chunk_first.call(null,seq__16399__$1);var G__16407=cljs.core.chunk_rest.call(null,seq__16399__$1);
var G__16408=c__6959__auto__;var G__16409=cljs.core.count.call(null,c__6959__auto__);var G__16410=0;seq__16399=G__16407;chunk__16400=G__16408;count__16401=G__16409;i__16402=G__16410;continue}else{var c=cljs.core.first.call(null,seq__16399__$1);cljs.core.async.put_BANG_.call(null,c,true);var G__16411=cljs.core.next.call(null,seq__16399__$1);var G__16412=null;var G__16413=0;var G__16414=0;seq__16399=G__16411;chunk__16400=G__16412;count__16401=G__16413;i__16402=G__16414;continue}}else return null}break}};
infinitelives.pixi.events.install_frame_handler=function infinitelives$pixi$events$install_frame_handler(){return infinitelives.pixi.events.request_animation_frame.call(null,infinitelives.pixi.events.frame_event_chan_handler)};infinitelives.pixi.events.install_frame_handler.call(null);infinitelives.pixi.events.install_resize_handler.call(null);goog.provide("biscuit_switch.rising");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("infinitelives.pixi.pixelfont");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("biscuit_switch.assets");goog.require("biscuit_switch.game");
goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");
biscuit_switch.rising.text=function biscuit_switch$rising$text(canvas,text__$1,scale,pos,vel,length){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_16699){var state_val_16700=state_16699[1];if(state_val_16700===1){var inst_16674=state_16699[7];var inst_16674__$1=infinitelives.pixi.pixelfont.make_text.call(null,
new cljs.core.Keyword(null,"font","font",-1506159249),text__$1,new cljs.core.Keyword(null,"scale","scale",-230427353),scale);var inst_16675=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_16676=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16675);var inst_16677=inst_16676.addChild(inst_16674__$1);var inst_16678=length;var inst_16679=pos;var state_16699__$1=function(){var statearr_16701=state_16699;statearr_16701[8]=
inst_16678;statearr_16701[9]=inst_16679;statearr_16701[7]=inst_16674__$1;statearr_16701[10]=inst_16677;return statearr_16701}();var statearr_16702_16719=state_16699__$1;statearr_16702_16719[2]=null;statearr_16702_16719[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16700===2){var inst_16679=state_16699[9];var inst_16674=state_16699[7];var inst_16681=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_16674,inst_16679);var inst_16682=infinitelives.pixi.events.next_frame.call(null);
var state_16699__$1=function(){var statearr_16703=state_16699;statearr_16703[11]=inst_16681;return statearr_16703}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16699__$1,4,inst_16682)}else if(state_val_16700===3){var inst_16674=state_16699[7];var inst_16694=state_16699[2];var inst_16695=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_16696=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16695);
var inst_16697=inst_16696.removeChild(inst_16674);var state_16699__$1=function(){var statearr_16704=state_16699;statearr_16704[12]=inst_16694;return statearr_16704}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_16699__$1,inst_16697)}else if(state_val_16700===4){var inst_16678=state_16699[8];var inst_16684=state_16699[2];var inst_16685=inst_16678>0;var state_16699__$1=function(){var statearr_16705=state_16699;statearr_16705[13]=inst_16684;return statearr_16705}();if(cljs.core.truth_(inst_16685)){var statearr_16706_16720=
state_16699__$1;statearr_16706_16720[1]=5}else{var statearr_16707_16721=state_16699__$1;statearr_16707_16721[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16700===5){var inst_16678=state_16699[8];var inst_16679=state_16699[9];var inst_16687=inst_16678-1;var inst_16688=infinitelives.utils.vec2.add.call(null,inst_16679,vel);var inst_16678__$1=inst_16687;var inst_16679__$1=inst_16688;var state_16699__$1=function(){var statearr_16708=state_16699;statearr_16708[8]=
inst_16678__$1;statearr_16708[9]=inst_16679__$1;return statearr_16708}();var statearr_16709_16722=state_16699__$1;statearr_16709_16722[2]=null;statearr_16709_16722[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16700===6){var state_16699__$1=state_16699;var statearr_16710_16723=state_16699__$1;statearr_16710_16723[2]=null;statearr_16710_16723[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16700===7){var inst_16692=state_16699[2];
var state_16699__$1=state_16699;var statearr_16711_16724=state_16699__$1;statearr_16711_16724[2]=inst_16692;statearr_16711_16724[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$rising$text_$_state_machine__12446__auto__=null;var biscuit_switch$rising$text_$_state_machine__12446__auto____0=function(){var statearr_16715=[null,null,null,null,null,null,null,
null,null,null,null,null,null,null];statearr_16715[0]=biscuit_switch$rising$text_$_state_machine__12446__auto__;statearr_16715[1]=1;return statearr_16715};var biscuit_switch$rising$text_$_state_machine__12446__auto____1=function(state_16699){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_16699);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;
else return result__12448__auto__;break}}catch(e16716){if(e16716 instanceof Object){var ex__12449__auto__=e16716;var statearr_16717_16725=state_16699;statearr_16717_16725[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_16699);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e16716;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__16726=state_16699;
state_16699=G__16726;continue}else return ret_value__12447__auto__;break}};biscuit_switch$rising$text_$_state_machine__12446__auto__=function(state_16699){switch(arguments.length){case 0:return biscuit_switch$rising$text_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$rising$text_$_state_machine__12446__auto____1.call(this,state_16699)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$rising$text_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$rising$text_$_state_machine__12446__auto____0;biscuit_switch$rising$text_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$rising$text_$_state_machine__12446__auto____1;return biscuit_switch$rising$text_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_16718=f__12558__auto__.call(null);statearr_16718[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_16718}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.rising.growing_text=function biscuit_switch$rising$growing_text(canvas,text,scale,pos,vel,length,grow,tint){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_16809){var state_val_16810=state_16809[1];if(state_val_16810===1){var inst_16778=state_16809[7];var inst_16778__$1=infinitelives.pixi.pixelfont.make_text.call(null,
new cljs.core.Keyword(null,"font","font",-1506159249),text,new cljs.core.Keyword(null,"scale","scale",-230427353),scale,new cljs.core.Keyword(null,"tint","tint",-1286736913),tint);var inst_16779=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_16780=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16779);var inst_16781=inst_16780.addChild(inst_16778__$1);var inst_16782=length;var inst_16783=pos;var inst_16784=
scale;var inst_16785=1;var state_16809__$1=function(){var statearr_16811=state_16809;statearr_16811[8]=inst_16783;statearr_16811[9]=inst_16782;statearr_16811[7]=inst_16778__$1;statearr_16811[10]=inst_16785;statearr_16811[11]=inst_16784;statearr_16811[12]=inst_16781;return statearr_16811}();var statearr_16812_16829=state_16809__$1;statearr_16812_16829[2]=null;statearr_16812_16829[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16810===2){var inst_16783=state_16809[8];
var inst_16778=state_16809[7];var inst_16785=state_16809[10];var inst_16784=state_16809[11];var inst_16787=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_16778,inst_16783);var inst_16788=infinitelives.pixi.sprite.set_scale_BANG_.call(null,inst_16778,inst_16784);var inst_16789=infinitelives.pixi.sprite.set_alpha_BANG_.call(null,inst_16778,inst_16785);var inst_16790=infinitelives.pixi.events.next_frame.call(null);var state_16809__$1=function(){var statearr_16813=state_16809;statearr_16813[13]=
inst_16788;statearr_16813[14]=inst_16789;statearr_16813[15]=inst_16787;return statearr_16813}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16809__$1,4,inst_16790)}else if(state_val_16810===3){var inst_16778=state_16809[7];var inst_16804=state_16809[2];var inst_16805=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_16806=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16805);var inst_16807=
inst_16806.removeChild(inst_16778);var state_16809__$1=function(){var statearr_16814=state_16809;statearr_16814[16]=inst_16804;return statearr_16814}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_16809__$1,inst_16807)}else if(state_val_16810===4){var inst_16782=state_16809[9];var inst_16792=state_16809[2];var inst_16793=inst_16782>0;var state_16809__$1=function(){var statearr_16815=state_16809;statearr_16815[17]=inst_16792;return statearr_16815}();if(cljs.core.truth_(inst_16793)){var statearr_16816_16830=
state_16809__$1;statearr_16816_16830[1]=5}else{var statearr_16817_16831=state_16809__$1;statearr_16817_16831[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16810===5){var inst_16783=state_16809[8];var inst_16782=state_16809[9];var inst_16784=state_16809[11];var inst_16795=inst_16782-1;var inst_16796=infinitelives.utils.vec2.add.call(null,inst_16783,vel);var inst_16797=grow*inst_16784;var inst_16798=inst_16782/length;var inst_16782__$1=inst_16795;var inst_16783__$1=
inst_16796;var inst_16784__$1=inst_16797;var inst_16785=inst_16798;var state_16809__$1=function(){var statearr_16818=state_16809;statearr_16818[8]=inst_16783__$1;statearr_16818[9]=inst_16782__$1;statearr_16818[10]=inst_16785;statearr_16818[11]=inst_16784__$1;return statearr_16818}();var statearr_16819_16832=state_16809__$1;statearr_16819_16832[2]=null;statearr_16819_16832[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16810===6){var state_16809__$1=state_16809;
var statearr_16820_16833=state_16809__$1;statearr_16820_16833[2]=null;statearr_16820_16833[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_16810===7){var inst_16802=state_16809[2];var state_16809__$1=state_16809;var statearr_16821_16834=state_16809__$1;statearr_16821_16834[2]=inst_16802;statearr_16821_16834[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$rising$growing_text_$_state_machine__12446__auto__=
null;var biscuit_switch$rising$growing_text_$_state_machine__12446__auto____0=function(){var statearr_16825=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_16825[0]=biscuit_switch$rising$growing_text_$_state_machine__12446__auto__;statearr_16825[1]=1;return statearr_16825};var biscuit_switch$rising$growing_text_$_state_machine__12446__auto____1=function(state_16809){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=
switch__12445__auto__.call(null,state_16809);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e16826){if(e16826 instanceof Object){var ex__12449__auto__=e16826;var statearr_16827_16835=state_16809;statearr_16827_16835[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_16809);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e16826;
}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__16836=state_16809;state_16809=G__16836;continue}else return ret_value__12447__auto__;break}};biscuit_switch$rising$growing_text_$_state_machine__12446__auto__=function(state_16809){switch(arguments.length){case 0:return biscuit_switch$rising$growing_text_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$rising$growing_text_$_state_machine__12446__auto____1.call(this,
state_16809)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$rising$growing_text_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$rising$growing_text_$_state_machine__12446__auto____0;biscuit_switch$rising$growing_text_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$rising$growing_text_$_state_machine__12446__auto____1;return biscuit_switch$rising$growing_text_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();
var state__12559__auto__=function(){var statearr_16828=f__12558__auto__.call(null);statearr_16828[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_16828}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.money");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.rising");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("infinitelives.pixi.pixelfont");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("biscuit_switch.assets");
goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.money.state!=="undefined");else biscuit_switch.money.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"money","money",250333921),0],null));
biscuit_switch.money.reset=function biscuit_switch$money$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.money.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"money","money",250333921),0],null))};
biscuit_switch.money.alter=function biscuit_switch$money$alter(f,money){return cljs.core.swap_BANG_.call(null,biscuit_switch.money.state,cljs.core.update,new cljs.core.Keyword(null,"money","money",250333921),function(p1__16839_SHARP_){return f.call(null,p1__16839_SHARP_,money)})};biscuit_switch.money.add=cljs.core.partial.call(null,biscuit_switch.money.alter,cljs.core._PLUS_);biscuit_switch.money.sub=cljs.core.partial.call(null,biscuit_switch.money.alter,cljs.core._);
biscuit_switch.money.game_over=function biscuit_switch$money$game_over(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_16895){var state_val_16896=state_16895[1];if(state_val_16896===1){var inst_16873=console.log("Game Over!");var inst_16874=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,
"game-over","game-over",-607322695),1,false);var inst_16875=infinitelives.utils.vec2.vec2.call(null,0,0);var inst_16876=infinitelives.utils.vec2.vec2.call(null,0,-1);var inst_16877=biscuit_switch.rising.growing_text.call(null,canvas,"GAME OVER",10,inst_16875,inst_16876,120,1.01,16711680);var inst_16878=biscuit_switch.circle.reset.call(null);var inst_16879=biscuit_switch.dough.reset.call(null);var inst_16880=biscuit_switch.money.reset.call(null);var inst_16881=biscuit_switch.oven.reset.call(null);
var inst_16882=biscuit_switch.player.reset.call(null);var inst_16883=biscuit_switch.roller.reset.call(null);var inst_16884=biscuit_switch.square.reset.call(null);var inst_16885=biscuit_switch.stamper.reset.call(null);var inst_16886=biscuit_switch.text.reset.call(null);var inst_16887=biscuit_switch.triangle.reset.call(null);var inst_16888=biscuit_switch.money.reset.call(null);var state_16895__$1=function(){var statearr_16897=state_16895;statearr_16897[7]=inst_16879;statearr_16897[8]=inst_16886;statearr_16897[9]=
inst_16884;statearr_16897[10]=inst_16873;statearr_16897[11]=inst_16887;statearr_16897[12]=inst_16883;statearr_16897[13]=inst_16888;statearr_16897[14]=inst_16881;statearr_16897[15]=inst_16878;statearr_16897[16]=inst_16874;statearr_16897[17]=inst_16880;statearr_16897[18]=inst_16885;statearr_16897[19]=inst_16882;return statearr_16897}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16895__$1,2,inst_16877)}else if(state_val_16896===2){var inst_16890=state_16895[2];var inst_16891=
infinitelives.pixi.events.wait_frames.call(null,120);var state_16895__$1=function(){var statearr_16898=state_16895;statearr_16898[20]=inst_16890;return statearr_16898}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_16895__$1,3,inst_16891)}else if(state_val_16896===3){var inst_16893=state_16895[2];var state_16895__$1=state_16895;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_16895__$1,inst_16893)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var biscuit_switch$money$game_over_$_state_machine__12446__auto__=null;var biscuit_switch$money$game_over_$_state_machine__12446__auto____0=function(){var statearr_16902=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_16902[0]=biscuit_switch$money$game_over_$_state_machine__12446__auto__;statearr_16902[1]=1;return statearr_16902};var biscuit_switch$money$game_over_$_state_machine__12446__auto____1=
function(state_16895){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_16895);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e16903){if(e16903 instanceof Object){var ex__12449__auto__=e16903;var statearr_16904_16906=state_16895;statearr_16904_16906[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_16895);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e16903;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__16907=state_16895;state_16895=G__16907;continue}else return ret_value__12447__auto__;break}};biscuit_switch$money$game_over_$_state_machine__12446__auto__=function(state_16895){switch(arguments.length){case 0:return biscuit_switch$money$game_over_$_state_machine__12446__auto____0.call(this);
case 1:return biscuit_switch$money$game_over_$_state_machine__12446__auto____1.call(this,state_16895)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$money$game_over_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$money$game_over_$_state_machine__12446__auto____0;biscuit_switch$money$game_over_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$money$game_over_$_state_machine__12446__auto____1;return biscuit_switch$money$game_over_$_state_machine__12446__auto__}()}(switch__12445__auto__,
c__12557__auto__)}();var state__12559__auto__=function(){var statearr_16905=f__12558__auto__.call(null);statearr_16905[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_16905}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.money.money_thread=function biscuit_switch$money$money_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_17023){var state_val_17024=state_17023[1];if(state_val_17024===7){var state_17023__$1=state_17023;var statearr_17025_17050=state_17023__$1;statearr_17025_17050[2]=null;
statearr_17025_17050[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===1){var inst_16979=state_17023[7];var inst_16979__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"money-bag","money-bag",-359505234),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),-20,new cljs.core.Keyword(null,"y","y",-1757859776),-300);var inst_16980=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_16981=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16980);var inst_16982=inst_16981.addChild(inst_16979__$1);var state_17023__$1=function(){var statearr_17026=state_17023;statearr_17026[8]=inst_16982;statearr_17026[7]=inst_16979__$1;return statearr_17026}();var statearr_17027_17051=state_17023__$1;statearr_17027_17051[2]=null;statearr_17027_17051[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===4){var inst_16985=
state_17023[9];var inst_16992=cljs.core.deref.call(null,biscuit_switch.money.state);var inst_16993=(new cljs.core.Keyword(null,"money","money",250333921)).cljs$core$IFn$_invoke$arity$1(inst_16992);var inst_16994=cljs.core._EQ_.call(null,inst_16985,inst_16993);var state_17023__$1=state_17023;if(inst_16994){var statearr_17028_17052=state_17023__$1;statearr_17028_17052[1]=6}else{var statearr_17029_17053=state_17023__$1;statearr_17029_17053[1]=7}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===
13){var inst_17012=state_17023[2];var state_17023__$1=state_17023;var statearr_17030_17054=state_17023__$1;statearr_17030_17054[2]=inst_17012;statearr_17030_17054[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===6){var inst_16996=infinitelives.pixi.events.next_frame.call(null);var state_17023__$1=state_17023;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_17023__$1,9,inst_16996)}else if(state_val_17024===3){var inst_16979=state_17023[7];
var inst_17018=state_17023[2];var inst_17019=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17020=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17019);var inst_17021=inst_17020.removeChild(inst_16979);var state_17023__$1=function(){var statearr_17031=state_17023;statearr_17031[10]=inst_17018;return statearr_17031}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_17023__$1,inst_17021)}else if(state_val_17024===
12){var inst_17015=state_17023[2];var state_17023__$1=function(){var statearr_17032=state_17023;statearr_17032[11]=inst_17015;return statearr_17032}();var statearr_17033_17055=state_17023__$1;statearr_17033_17055[2]=null;statearr_17033_17055[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===2){var inst_16985=state_17023[9];var inst_16987=state_17023[12];var inst_16984=cljs.core.deref.call(null,biscuit_switch.money.state);var inst_16985__$1=(new cljs.core.Keyword(null,
"money","money",250333921)).cljs$core$IFn$_invoke$arity$1(inst_16984);var inst_16986=[cljs.core.str("$"),cljs.core.str(inst_16985__$1)].join("");var inst_16987__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),inst_16986,new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),80,new cljs.core.Keyword(null,"y","y",-1757859776),-320,new cljs.core.Keyword(null,"visible","visible",-1024216805),true);
var inst_16988=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_16989=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_16988);var inst_16990=inst_16989.addChild(inst_16987__$1);var state_17023__$1=function(){var statearr_17034=state_17023;statearr_17034[9]=inst_16985__$1;statearr_17034[13]=inst_16990;statearr_17034[12]=inst_16987__$1;return statearr_17034}();var statearr_17035_17056=state_17023__$1;statearr_17035_17056[2]=
null;statearr_17035_17056[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===11){var state_17023__$1=state_17023;var statearr_17036_17057=state_17023__$1;statearr_17036_17057[2]=null;statearr_17036_17057[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===9){var inst_16998=state_17023[2];var state_17023__$1=function(){var statearr_17037=state_17023;statearr_17037[14]=inst_16998;return statearr_17037}();var statearr_17038_17058=
state_17023__$1;statearr_17038_17058[2]=null;statearr_17038_17058[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===5){var inst_16985=state_17023[9];var inst_16987=state_17023[12];var inst_17004=state_17023[2];var inst_17005=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17006=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17005);var inst_17007=inst_17006.removeChild(inst_16987);
var inst_17008=inst_16985<-100;var state_17023__$1=function(){var statearr_17039=state_17023;statearr_17039[15]=inst_17007;statearr_17039[16]=inst_17004;return statearr_17039}();if(cljs.core.truth_(inst_17008)){var statearr_17040_17059=state_17023__$1;statearr_17040_17059[1]=10}else{var statearr_17041_17060=state_17023__$1;statearr_17041_17060[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17024===10){var inst_17010=biscuit_switch.money.game_over.call(null,canvas);
var state_17023__$1=state_17023;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_17023__$1,13,inst_17010)}else if(state_val_17024===8){var inst_17002=state_17023[2];var state_17023__$1=state_17023;var statearr_17042_17061=state_17023__$1;statearr_17042_17061[2]=inst_17002;statearr_17042_17061[1]=5;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$money$money_thread_$_state_machine__12446__auto__=
null;var biscuit_switch$money$money_thread_$_state_machine__12446__auto____0=function(){var statearr_17046=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_17046[0]=biscuit_switch$money$money_thread_$_state_machine__12446__auto__;statearr_17046[1]=1;return statearr_17046};var biscuit_switch$money$money_thread_$_state_machine__12446__auto____1=function(state_17023){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=
switch__12445__auto__.call(null,state_17023);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e17047){if(e17047 instanceof Object){var ex__12449__auto__=e17047;var statearr_17048_17062=state_17023;statearr_17048_17062[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_17023);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e17047;
}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__17063=state_17023;state_17023=G__17063;continue}else return ret_value__12447__auto__;break}};biscuit_switch$money$money_thread_$_state_machine__12446__auto__=function(state_17023){switch(arguments.length){case 0:return biscuit_switch$money$money_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$money$money_thread_$_state_machine__12446__auto____1.call(this,
state_17023)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$money$money_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$money$money_thread_$_state_machine__12446__auto____0;biscuit_switch$money$money_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$money$money_thread_$_state_machine__12446__auto____1;return biscuit_switch$money$money_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();
var state__12559__auto__=function(){var statearr_17049=f__12558__auto__.call(null);statearr_17049[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_17049}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.text");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("infinitelives.pixi.pixelfont");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("biscuit_switch.assets");goog.require("biscuit_switch.game");
goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");
if(typeof biscuit_switch.text.state!=="undefined");else biscuit_switch.text.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,8,[new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"stamper","stamper",-657076882),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"install","install",-655751038),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,
"oven","oven",1624209912),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"none",
"none",1333468478)],null));
biscuit_switch.text.reset=function biscuit_switch$text$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.text.state,new cljs.core.PersistentArrayMap(null,8,[new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"stamper","stamper",-657076882),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"install","install",-655751038),new cljs.core.Keyword(null,"none","none",1333468478),
new cljs.core.Keyword(null,"oven","oven",1624209912),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478),new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,
"none","none",1333468478)],null))};
biscuit_switch.text.text_thread=function biscuit_switch$text$text_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_17695){var state_val_17696=state_17695[1];if(state_val_17696===7){var inst_17486=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,
"circle","circle",1903212362),new cljs.core.Keyword(null,"putdown","putdown",-459181613));var state_17695__$1=state_17695;var statearr_17697_17778=state_17695__$1;statearr_17697_17778[2]=inst_17486;statearr_17697_17778[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===20){var inst_17528=cljs.core.PersistentVector.EMPTY_NODE;var inst_17529=[false,false];var inst_17530=new cljs.core.PersistentVector(null,2,5,inst_17528,inst_17529,null);var state_17695__$1=
state_17695;var statearr_17698_17779=state_17695__$1;statearr_17698_17779[2]=inst_17530;statearr_17698_17779[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===27){var inst_17566=cljs.core.PersistentVector.EMPTY_NODE;var inst_17567=[false,true];var inst_17568=new cljs.core.PersistentVector(null,2,5,inst_17566,inst_17567,null);var state_17695__$1=state_17695;var statearr_17699_17780=state_17695__$1;statearr_17699_17780[2]=inst_17568;statearr_17699_17780[1]=
25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===1){var inst_17466=state_17695[7];var inst_17450=state_17695[8];var inst_17470=state_17695[9];var inst_17426=state_17695[10];var inst_17434=state_17695[11];var inst_17462=state_17695[12];var inst_17430=state_17695[13];var inst_17446=state_17695[14];var inst_17474=state_17695[15];var inst_17438=state_17695[16];var inst_17458=state_17695[17];var inst_17422=state_17695[18];var inst_17454=state_17695[19];var inst_17442=
state_17695[20];var inst_17422__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Switch the roller on",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-350,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17423=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_17424=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17423);var inst_17425=inst_17424.addChild(inst_17422__$1);var inst_17426__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Switch the roller off",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-350,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible",
"visible",-1024216805),false);var inst_17427=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17428=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17427);var inst_17429=inst_17428.addChild(inst_17426__$1);var inst_17430__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Switch the stamper on",new cljs.core.Keyword(null,"scale","scale",-230427353),
2,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17431=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17432=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17431);var inst_17433=inst_17432.addChild(inst_17430__$1);var inst_17434__$1=infinitelives.pixi.pixelfont.make_text.call(null,
new cljs.core.Keyword(null,"font","font",-1506159249),"Switch the stamper off",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17435=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17436=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17435);
var inst_17437=inst_17436.addChild(inst_17434__$1);var inst_17438__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Install the shape cutter",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-50,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17439=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_17440=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17439);var inst_17441=inst_17440.addChild(inst_17438__$1);var inst_17442__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Remove the shape cutter",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-50,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible",
"visible",-1024216805),false);var inst_17443=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17444=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17443);var inst_17445=inst_17444.addChild(inst_17442__$1);var inst_17446__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Switch the oven on",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,
"x","x",2099068185),350,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17447=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17448=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17447);var inst_17449=inst_17448.addChild(inst_17446__$1);var inst_17450__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,
"font","font",-1506159249),"Switch the oven off",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),350,new cljs.core.Keyword(null,"y","y",-1757859776),-150,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17451=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17452=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17451);var inst_17453=
inst_17452.addChild(inst_17450__$1);var inst_17454__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Pick up the triangular cutting stamp",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-230,new cljs.core.Keyword(null,"y","y",-1757859776),270,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17455=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_17456=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17455);var inst_17457=inst_17456.addChild(inst_17454__$1);var inst_17458__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Put down the triangular cutting stamp",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),-230,new cljs.core.Keyword(null,"y","y",-1757859776),270,new cljs.core.Keyword(null,
"visible","visible",-1024216805),false);var inst_17459=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17460=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17459);var inst_17461=inst_17460.addChild(inst_17458__$1);var inst_17462__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Pick up the square cutting stamp",new cljs.core.Keyword(null,"scale",
"scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),300,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17463=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17464=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17463);var inst_17465=inst_17464.addChild(inst_17462__$1);var inst_17466__$1=infinitelives.pixi.pixelfont.make_text.call(null,
new cljs.core.Keyword(null,"font","font",-1506159249),"Put down the square cutting stamp",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),300,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17467=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17468=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17467);
var inst_17469=inst_17468.addChild(inst_17466__$1);var inst_17470__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Pick up the circular cutting stamp",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),230,new cljs.core.Keyword(null,"y","y",-1757859776),270,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_17471=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_17472=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17471);var inst_17473=inst_17472.addChild(inst_17470__$1);var inst_17474__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),"Put down the circular cutting stamp",new cljs.core.Keyword(null,"scale","scale",-230427353),2,new cljs.core.Keyword(null,"x","x",2099068185),230,new cljs.core.Keyword(null,"y","y",-1757859776),270,new cljs.core.Keyword(null,
"visible","visible",-1024216805),false);var inst_17475=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17476=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17475);var inst_17477=inst_17476.addChild(inst_17474__$1);var inst_17478=0;var state_17695__$1=function(){var statearr_17700=state_17695;statearr_17700[7]=inst_17466__$1;statearr_17700[8]=inst_17450__$1;statearr_17700[9]=inst_17470__$1;statearr_17700[10]=
inst_17426__$1;statearr_17700[21]=inst_17473;statearr_17700[11]=inst_17434__$1;statearr_17700[22]=inst_17469;statearr_17700[23]=inst_17461;statearr_17700[24]=inst_17478;statearr_17700[25]=inst_17453;statearr_17700[26]=inst_17429;statearr_17700[12]=inst_17462__$1;statearr_17700[13]=inst_17430__$1;statearr_17700[27]=inst_17457;statearr_17700[14]=inst_17446__$1;statearr_17700[28]=inst_17445;statearr_17700[29]=inst_17425;statearr_17700[15]=inst_17474__$1;statearr_17700[30]=inst_17477;statearr_17700[31]=
inst_17465;statearr_17700[16]=inst_17438__$1;statearr_17700[32]=inst_17437;statearr_17700[17]=inst_17458__$1;statearr_17700[18]=inst_17422__$1;statearr_17700[33]=inst_17433;statearr_17700[34]=inst_17441;statearr_17700[19]=inst_17454__$1;statearr_17700[20]=inst_17442__$1;statearr_17700[35]=inst_17449;return statearr_17700}();var statearr_17701_17781=state_17695__$1;statearr_17701_17781[2]=null;statearr_17701_17781[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===
24){var inst_17549=cljs.core.PersistentVector.EMPTY_NODE;var inst_17550=[false,false];var inst_17551=new cljs.core.PersistentVector(null,2,5,inst_17549,inst_17550,null);var state_17695__$1=state_17695;var statearr_17702_17782=state_17695__$1;statearr_17702_17782[2]=inst_17551;statearr_17702_17782[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===39){var inst_17629=cljs.core.PersistentVector.EMPTY_NODE;var inst_17630=[false,true];var inst_17631=new cljs.core.PersistentVector(null,
2,5,inst_17629,inst_17630,null);var state_17695__$1=state_17695;var statearr_17703_17783=state_17695__$1;statearr_17703_17783[2]=inst_17631;statearr_17703_17783[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===4){var inst_17482=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"pickup","pickup",1997454190));var state_17695__$1=state_17695;var statearr_17704_17784=
state_17695__$1;statearr_17704_17784[2]=inst_17482;statearr_17704_17784[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===15){var inst_17503=cljs.core.PersistentVector.EMPTY_NODE;var inst_17504=[false,true];var inst_17505=new cljs.core.PersistentVector(null,2,5,inst_17503,inst_17504,null);var state_17695__$1=state_17695;var statearr_17705_17785=state_17695__$1;statearr_17705_17785[2]=inst_17505;statearr_17705_17785[1]=13;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_17696===21){var inst_17450=state_17695[8];var inst_17446=state_17695[14];var inst_17556=state_17695[2];var inst_17557=cljs.core.nth.call(null,inst_17556,0,null);var inst_17558=cljs.core.nth.call(null,inst_17556,1,null);var inst_17559=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17450,inst_17558);var inst_17560=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17446,inst_17557);var inst_17574=cljs.core.deref.call(null,biscuit_switch.text.state);
var inst_17575=(new cljs.core.Keyword(null,"install","install",-655751038)).cljs$core$IFn$_invoke$arity$1(inst_17574);var state_17695__$1=function(){var statearr_17706=state_17695;statearr_17706[36]=inst_17560;statearr_17706[37]=inst_17559;return statearr_17706}();var G__17707_17786=inst_17575 instanceof cljs.core.Keyword?inst_17575.fqn:null;switch(G__17707_17786){case "install":var statearr_17708_17788=state_17695__$1;statearr_17708_17788[1]=26;break;case "remove":var statearr_17709_17789=state_17695__$1;
statearr_17709_17789[1]=27;break;case "none":var statearr_17710_17790=state_17695__$1;statearr_17710_17790[1]=28;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17575)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===31){var inst_17587=cljs.core.PersistentVector.EMPTY_NODE;var inst_17588=[false,true];var inst_17589=new cljs.core.PersistentVector(null,2,5,inst_17587,inst_17588,null);var state_17695__$1=state_17695;
var statearr_17711_17791=state_17695__$1;statearr_17711_17791[2]=inst_17589;statearr_17711_17791[1]=29;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===32){var inst_17591=cljs.core.PersistentVector.EMPTY_NODE;var inst_17592=[false,false];var inst_17593=new cljs.core.PersistentVector(null,2,5,inst_17591,inst_17592,null);var state_17695__$1=state_17695;var statearr_17712_17792=state_17695__$1;statearr_17712_17792[2]=inst_17593;statearr_17712_17792[1]=29;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_17696===40){var inst_17633=cljs.core.PersistentVector.EMPTY_NODE;var inst_17634=[false,false];var inst_17635=new cljs.core.PersistentVector(null,2,5,inst_17633,inst_17634,null);var state_17695__$1=state_17695;var statearr_17713_17793=state_17695__$1;statearr_17713_17793[2]=inst_17635;statearr_17713_17793[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===33){var inst_17470=state_17695[9];var inst_17474=state_17695[15];
var inst_17619=state_17695[2];var inst_17620=cljs.core.nth.call(null,inst_17619,0,null);var inst_17621=cljs.core.nth.call(null,inst_17619,1,null);var inst_17622=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17474,inst_17621);var inst_17623=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17470,inst_17620);var inst_17637=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17638=(new cljs.core.Keyword(null,"square","square",812434677)).cljs$core$IFn$_invoke$arity$1(inst_17637);
var state_17695__$1=function(){var statearr_17714=state_17695;statearr_17714[38]=inst_17623;statearr_17714[39]=inst_17622;return statearr_17714}();var G__17715_17794=inst_17638 instanceof cljs.core.Keyword?inst_17638.fqn:null;switch(G__17715_17794){case "pickup":var statearr_17716_17796=state_17695__$1;statearr_17716_17796[1]=38;break;case "putdown":var statearr_17717_17797=state_17695__$1;statearr_17717_17797[1]=39;break;case "none":var statearr_17718_17798=state_17695__$1;statearr_17718_17798[1]=
40;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17638)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===13){var inst_17426=state_17695[10];var inst_17422=state_17695[18];var inst_17514=state_17695[2];var inst_17515=cljs.core.nth.call(null,inst_17514,0,null);var inst_17516=cljs.core.nth.call(null,inst_17514,1,null);var inst_17517=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17426,inst_17516);
var inst_17518=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17422,inst_17515);var inst_17532=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17533=(new cljs.core.Keyword(null,"stamper","stamper",-657076882)).cljs$core$IFn$_invoke$arity$1(inst_17532);var state_17695__$1=function(){var statearr_17719=state_17695;statearr_17719[40]=inst_17518;statearr_17719[41]=inst_17517;return statearr_17719}();var G__17720_17799=inst_17533 instanceof cljs.core.Keyword?inst_17533.fqn:null;
switch(G__17720_17799){case "on":var statearr_17721_17801=state_17695__$1;statearr_17721_17801[1]=18;break;case "off":var statearr_17722_17802=state_17695__$1;statearr_17722_17802[1]=19;break;case "none":var statearr_17723_17803=state_17695__$1;statearr_17723_17803[1]=20;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17533)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===22){var inst_17541=cljs.core.PersistentVector.EMPTY_NODE;
var inst_17542=[true,false];var inst_17543=new cljs.core.PersistentVector(null,2,5,inst_17541,inst_17542,null);var state_17695__$1=state_17695;var statearr_17724_17804=state_17695__$1;statearr_17724_17804[2]=inst_17543;statearr_17724_17804[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===36){var inst_17612=cljs.core.PersistentVector.EMPTY_NODE;var inst_17613=[false,false];var inst_17614=new cljs.core.PersistentVector(null,2,5,inst_17612,inst_17613,null);
var state_17695__$1=state_17695;var statearr_17725_17805=state_17695__$1;statearr_17725_17805[2]=inst_17614;statearr_17725_17805[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===41){var inst_17478=state_17695[24];var inst_17647=state_17695[2];var inst_17648=inst_17478+1;var inst_17478__$1=inst_17648;var state_17695__$1=function(){var statearr_17726=state_17695;statearr_17726[42]=inst_17647;statearr_17726[24]=inst_17478__$1;return statearr_17726}();var statearr_17727_17806=
state_17695__$1;statearr_17727_17806[2]=null;statearr_17727_17806[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===29){var inst_17458=state_17695[17];var inst_17454=state_17695[19];var inst_17598=state_17695[2];var inst_17599=cljs.core.nth.call(null,inst_17598,0,null);var inst_17600=cljs.core.nth.call(null,inst_17598,1,null);var inst_17601=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17458,inst_17600);var inst_17602=infinitelives.pixi.sprite.set_visible_BANG_.call(null,
inst_17454,inst_17599);var inst_17616=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17617=(new cljs.core.Keyword(null,"circle","circle",1903212362)).cljs$core$IFn$_invoke$arity$1(inst_17616);var state_17695__$1=function(){var statearr_17728=state_17695;statearr_17728[43]=inst_17602;statearr_17728[44]=inst_17601;return statearr_17728}();var G__17729_17807=inst_17617 instanceof cljs.core.Keyword?inst_17617.fqn:null;switch(G__17729_17807){case "pickup":var statearr_17730_17809=state_17695__$1;
statearr_17730_17809[1]=34;break;case "putdown":var statearr_17731_17810=state_17695__$1;statearr_17731_17810[1]=35;break;case "none":var statearr_17732_17811=state_17695__$1;statearr_17732_17811[1]=36;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17617)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===6){var inst_17497=state_17695[2];var inst_17511=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17512=
(new cljs.core.Keyword(null,"roller","roller",-951366925)).cljs$core$IFn$_invoke$arity$1(inst_17511);var state_17695__$1=function(){var statearr_17733=state_17695;statearr_17733[45]=inst_17497;return statearr_17733}();var G__17734_17812=inst_17512 instanceof cljs.core.Keyword?inst_17512.fqn:null;switch(G__17734_17812){case "on":var statearr_17735_17814=state_17695__$1;statearr_17735_17814[1]=14;break;case "off":var statearr_17736_17815=state_17695__$1;statearr_17736_17815[1]=15;break;case "none":var statearr_17737_17816=
state_17695__$1;statearr_17737_17816[1]=16;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17512)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===28){var inst_17570=cljs.core.PersistentVector.EMPTY_NODE;var inst_17571=[false,false];var inst_17572=new cljs.core.PersistentVector(null,2,5,inst_17570,inst_17571,null);var state_17695__$1=state_17695;var statearr_17738_17817=state_17695__$1;statearr_17738_17817[2]=
inst_17572;statearr_17738_17817[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===25){var inst_17438=state_17695[16];var inst_17442=state_17695[20];var inst_17577=state_17695[2];var inst_17578=cljs.core.nth.call(null,inst_17577,0,null);var inst_17579=cljs.core.nth.call(null,inst_17577,1,null);var inst_17580=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17438,inst_17578);var inst_17581=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17442,
inst_17579);var inst_17595=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17596=(new cljs.core.Keyword(null,"triangle","triangle",-1828376667)).cljs$core$IFn$_invoke$arity$1(inst_17595);var state_17695__$1=function(){var statearr_17739=state_17695;statearr_17739[46]=inst_17581;statearr_17739[47]=inst_17580;return statearr_17739}();var G__17740_17818=inst_17596 instanceof cljs.core.Keyword?inst_17596.fqn:null;switch(G__17740_17818){case "pickup":var statearr_17741_17820=state_17695__$1;
statearr_17741_17820[1]=30;break;case "putdown":var statearr_17742_17821=state_17695__$1;statearr_17742_17821[1]=31;break;case "none":var statearr_17743_17822=state_17695__$1;statearr_17743_17822[1]=32;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17596)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===34){var inst_17604=cljs.core.PersistentVector.EMPTY_NODE;var inst_17605=[true,false];var inst_17606=new cljs.core.PersistentVector(null,
2,5,inst_17604,inst_17605,null);var state_17695__$1=state_17695;var statearr_17744_17823=state_17695__$1;statearr_17744_17823[2]=inst_17606;statearr_17744_17823[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===17){var inst_17434=state_17695[11];var inst_17430=state_17695[13];var inst_17535=state_17695[2];var inst_17536=cljs.core.nth.call(null,inst_17535,0,null);var inst_17537=cljs.core.nth.call(null,inst_17535,1,null);var inst_17538=infinitelives.pixi.sprite.set_visible_BANG_.call(null,
inst_17434,inst_17537);var inst_17539=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17430,inst_17536);var inst_17553=cljs.core.deref.call(null,biscuit_switch.text.state);var inst_17554=(new cljs.core.Keyword(null,"oven","oven",1624209912)).cljs$core$IFn$_invoke$arity$1(inst_17553);var state_17695__$1=function(){var statearr_17745=state_17695;statearr_17745[48]=inst_17539;statearr_17745[49]=inst_17538;return statearr_17745}();var G__17746_17824=inst_17554 instanceof cljs.core.Keyword?
inst_17554.fqn:null;switch(G__17746_17824){case "on":var statearr_17747_17826=state_17695__$1;statearr_17747_17826[1]=22;break;case "off":var statearr_17748_17827=state_17695__$1;statearr_17748_17827[1]=23;break;case "none":var statearr_17749_17828=state_17695__$1;statearr_17749_17828[1]=24;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_17554)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===3){var inst_17466=
state_17695[7];var inst_17450=state_17695[8];var inst_17470=state_17695[9];var inst_17426=state_17695[10];var inst_17434=state_17695[11];var inst_17462=state_17695[12];var inst_17430=state_17695[13];var inst_17446=state_17695[14];var inst_17474=state_17695[15];var inst_17438=state_17695[16];var inst_17458=state_17695[17];var inst_17422=state_17695[18];var inst_17454=state_17695[19];var inst_17442=state_17695[20];var inst_17651=state_17695[2];var inst_17652=(new cljs.core.Keyword(null,"layer","layer",
-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17653=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17652);var inst_17654=inst_17653.removeChild(inst_17474);var inst_17655=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17656=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17655);var inst_17657=inst_17656.removeChild(inst_17470);var inst_17658=(new cljs.core.Keyword(null,
"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17659=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17658);var inst_17660=inst_17659.removeChild(inst_17466);var inst_17661=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17662=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17661);var inst_17663=inst_17662.removeChild(inst_17462);var inst_17664=
(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17665=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17664);var inst_17666=inst_17665.removeChild(inst_17458);var inst_17667=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17668=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17667);var inst_17669=inst_17668.removeChild(inst_17454);
var inst_17670=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17671=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17670);var inst_17672=inst_17671.removeChild(inst_17450);var inst_17673=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17674=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17673);var inst_17675=
inst_17674.removeChild(inst_17446);var inst_17676=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17677=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17676);var inst_17678=inst_17677.removeChild(inst_17442);var inst_17679=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17680=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17679);
var inst_17681=inst_17680.removeChild(inst_17438);var inst_17682=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17683=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17682);var inst_17684=inst_17683.removeChild(inst_17434);var inst_17685=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17686=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17685);
var inst_17687=inst_17686.removeChild(inst_17430);var inst_17688=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17689=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17688);var inst_17690=inst_17689.removeChild(inst_17426);var inst_17691=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_17692=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_17691);
var inst_17693=inst_17692.removeChild(inst_17422);var state_17695__$1=function(){var statearr_17750=state_17695;statearr_17750[50]=inst_17690;statearr_17750[51]=inst_17678;statearr_17750[52]=inst_17681;statearr_17750[53]=inst_17651;statearr_17750[54]=inst_17675;statearr_17750[55]=inst_17687;statearr_17750[56]=inst_17657;statearr_17750[57]=inst_17654;statearr_17750[58]=inst_17666;statearr_17750[59]=inst_17660;statearr_17750[60]=inst_17684;statearr_17750[61]=inst_17663;statearr_17750[62]=inst_17669;
statearr_17750[63]=inst_17672;return statearr_17750}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_17695__$1,inst_17693)}else if(state_val_17696===12){var inst_17493=state_17695[2];var state_17695__$1=state_17695;var statearr_17751_17829=state_17695__$1;statearr_17751_17829[2]=inst_17493;statearr_17751_17829[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===2){var inst_17480=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,
"b","b",1482224470));var state_17695__$1=state_17695;if(cljs.core.truth_(inst_17480)){var statearr_17752_17830=state_17695__$1;statearr_17752_17830[1]=4}else{var statearr_17753_17831=state_17695__$1;statearr_17753_17831[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===23){var inst_17545=cljs.core.PersistentVector.EMPTY_NODE;var inst_17546=[false,true];var inst_17547=new cljs.core.PersistentVector(null,2,5,inst_17545,inst_17546,null);var state_17695__$1=
state_17695;var statearr_17754_17832=state_17695__$1;statearr_17754_17832[2]=inst_17547;statearr_17754_17832[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===35){var inst_17608=cljs.core.PersistentVector.EMPTY_NODE;var inst_17609=[false,true];var inst_17610=new cljs.core.PersistentVector(null,2,5,inst_17608,inst_17609,null);var state_17695__$1=state_17695;var statearr_17755_17833=state_17695__$1;statearr_17755_17833[2]=inst_17610;statearr_17755_17833[1]=
33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===19){var inst_17524=cljs.core.PersistentVector.EMPTY_NODE;var inst_17525=[false,true];var inst_17526=new cljs.core.PersistentVector(null,2,5,inst_17524,inst_17525,null);var state_17695__$1=state_17695;var statearr_17756_17834=state_17695__$1;statearr_17756_17834[2]=inst_17526;statearr_17756_17834[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===11){var state_17695__$1=
state_17695;var statearr_17757_17835=state_17695__$1;statearr_17757_17835[2]=null;statearr_17757_17835[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===9){var inst_17495=state_17695[2];var state_17695__$1=state_17695;var statearr_17758_17836=state_17695__$1;statearr_17758_17836[2]=inst_17495;statearr_17758_17836[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===5){var inst_17484=infinitelives.utils.events.is_pressed_QMARK_.call(null,
new cljs.core.Keyword(null,"n","n",562130025));var state_17695__$1=state_17695;if(cljs.core.truth_(inst_17484)){var statearr_17759_17837=state_17695__$1;statearr_17759_17837[1]=7}else{var statearr_17760_17838=state_17695__$1;statearr_17760_17838[1]=8}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===14){var inst_17499=cljs.core.PersistentVector.EMPTY_NODE;var inst_17500=[true,false];var inst_17501=new cljs.core.PersistentVector(null,2,5,inst_17499,inst_17500,
null);var state_17695__$1=state_17695;var statearr_17761_17839=state_17695__$1;statearr_17761_17839[2]=inst_17501;statearr_17761_17839[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===26){var inst_17562=cljs.core.PersistentVector.EMPTY_NODE;var inst_17563=[true,false];var inst_17564=new cljs.core.PersistentVector(null,2,5,inst_17562,inst_17563,null);var state_17695__$1=state_17695;var statearr_17762_17840=state_17695__$1;statearr_17762_17840[2]=inst_17564;
statearr_17762_17840[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===16){var inst_17507=cljs.core.PersistentVector.EMPTY_NODE;var inst_17508=[false,false];var inst_17509=new cljs.core.PersistentVector(null,2,5,inst_17507,inst_17508,null);var state_17695__$1=state_17695;var statearr_17763_17841=state_17695__$1;statearr_17763_17841[2]=inst_17509;statearr_17763_17841[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===
38){var inst_17625=cljs.core.PersistentVector.EMPTY_NODE;var inst_17626=[true,false];var inst_17627=new cljs.core.PersistentVector(null,2,5,inst_17625,inst_17626,null);var state_17695__$1=state_17695;var statearr_17764_17842=state_17695__$1;statearr_17764_17842[2]=inst_17627;statearr_17764_17842[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===30){var inst_17583=cljs.core.PersistentVector.EMPTY_NODE;var inst_17584=[true,false];var inst_17585=new cljs.core.PersistentVector(null,
2,5,inst_17583,inst_17584,null);var state_17695__$1=state_17695;var statearr_17765_17843=state_17695__$1;statearr_17765_17843[2]=inst_17585;statearr_17765_17843[1]=29;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===10){var inst_17490=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478));var state_17695__$1=state_17695;var statearr_17766_17844=
state_17695__$1;statearr_17766_17844[2]=inst_17490;statearr_17766_17844[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17696===18){var inst_17520=cljs.core.PersistentVector.EMPTY_NODE;var inst_17521=[true,false];var inst_17522=new cljs.core.PersistentVector(null,2,5,inst_17520,inst_17521,null);var state_17695__$1=state_17695;var statearr_17767_17845=state_17695__$1;statearr_17767_17845[2]=inst_17522;statearr_17767_17845[1]=17;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_17696===37){var inst_17466=state_17695[7];var inst_17462=state_17695[12];var inst_17640=state_17695[2];var inst_17641=cljs.core.nth.call(null,inst_17640,0,null);var inst_17642=cljs.core.nth.call(null,inst_17640,1,null);var inst_17643=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17466,inst_17642);var inst_17644=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_17462,inst_17641);var inst_17645=infinitelives.pixi.events.next_frame.call(null);
var state_17695__$1=function(){var statearr_17768=state_17695;statearr_17768[64]=inst_17643;statearr_17768[65]=inst_17644;return statearr_17768}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_17695__$1,41,inst_17645)}else if(state_val_17696===8){var inst_17488=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"m","m",1632677161));var state_17695__$1=state_17695;if(cljs.core.truth_(inst_17488)){var statearr_17769_17846=state_17695__$1;statearr_17769_17846[1]=
10}else{var statearr_17770_17847=state_17695__$1;statearr_17770_17847[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$text$text_thread_$_state_machine__12446__auto__=null;var biscuit_switch$text$text_thread_$_state_machine__12446__auto____0=function(){var statearr_17774=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_17774[0]=biscuit_switch$text$text_thread_$_state_machine__12446__auto__;statearr_17774[1]=1;return statearr_17774};var biscuit_switch$text$text_thread_$_state_machine__12446__auto____1=function(state_17695){while(true){var ret_value__12447__auto__=
function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_17695);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e17775){if(e17775 instanceof Object){var ex__12449__auto__=e17775;var statearr_17776_17848=state_17695;statearr_17776_17848[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_17695);return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else throw e17775;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__17849=state_17695;state_17695=G__17849;continue}else return ret_value__12447__auto__;break}};biscuit_switch$text$text_thread_$_state_machine__12446__auto__=function(state_17695){switch(arguments.length){case 0:return biscuit_switch$text$text_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$text$text_thread_$_state_machine__12446__auto____1.call(this,
state_17695)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$text$text_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$text$text_thread_$_state_machine__12446__auto____0;biscuit_switch$text$text_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$text$text_thread_$_state_machine__12446__auto____1;return biscuit_switch$text$text_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();
var state__12559__auto__=function(){var statearr_17777=f__12558__auto__.call(null);statearr_17777[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_17777}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.stamper");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.stamper.state!=="undefined");else biscuit_switch.stamper.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"running","running",1554969103),false,new cljs.core.Keyword(null,"door","door",-956406127),false,new cljs.core.Keyword(null,"cutter","cutter",658480841),new cljs.core.Keyword(null,"none","none",1333468478)],null));
biscuit_switch.stamper.reset=function biscuit_switch$stamper$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.stamper.state,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"running","running",1554969103),false,new cljs.core.Keyword(null,"door","door",-956406127),false,new cljs.core.Keyword(null,"cutter","cutter",658480841),new cljs.core.Keyword(null,"none","none",1333468478)],null))};biscuit_switch.stamper.switch_pos=infinitelives.utils.vec2.vec2.call(null,7,0);
biscuit_switch.stamper.switch_distance=20;biscuit_switch.stamper.switch_distance_squared=biscuit_switch.stamper.switch_distance*biscuit_switch.stamper.switch_distance;biscuit_switch.stamper.door_pos=infinitelives.utils.vec2.vec2.call(null,-60,0);biscuit_switch.stamper.door_distance=20;biscuit_switch.stamper.door_distance_squared=biscuit_switch.stamper.door_distance*biscuit_switch.stamper.door_distance;
biscuit_switch.stamper.stamper_state=function biscuit_switch$stamper$stamper_state(canvas,stamper,siren){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_17937){var state_val_17938=state_17937[1];if(state_val_17938===7){var inst_17914=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_17915=
(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_17914);var state_17937__$1=state_17937;if(cljs.core.truth_(inst_17915)){var statearr_17939_17962=state_17937__$1;statearr_17939_17962[1]=9}else{var statearr_17940_17963=state_17937__$1;statearr_17940_17963[1]=10}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===1){var state_17937__$1=state_17937;var statearr_17941_17964=state_17937__$1;statearr_17941_17964[2]=null;
statearr_17941_17964[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===4){var inst_17911=console.log("ON");var inst_17912=infinitelives.pixi.sprite.set_texture_BANG_.call(null,siren,new cljs.core.Keyword(null,"siren-green","siren-green",1283242869));var state_17937__$1=function(){var statearr_17942=state_17937;statearr_17942[7]=inst_17911;statearr_17942[8]=inst_17912;return statearr_17942}();var statearr_17943_17965=state_17937__$1;statearr_17943_17965[2]=
null;statearr_17943_17965[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===13){var inst_17932=state_17937[2];var state_17937__$1=function(){var statearr_17944=state_17937;statearr_17944[9]=inst_17932;return statearr_17944}();var statearr_17945_17966=state_17937__$1;statearr_17945_17966[2]=null;statearr_17945_17966[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===6){var inst_17928=state_17937[2];var inst_17929=
infinitelives.pixi.sprite.set_texture_BANG_.call(null,siren,new cljs.core.Keyword(null,"siren-grey","siren-grey",1518390838));var inst_17930=infinitelives.pixi.events.next_frame.call(null);var state_17937__$1=function(){var statearr_17946=state_17937;statearr_17946[10]=inst_17928;statearr_17946[11]=inst_17929;return statearr_17946}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_17937__$1,13,inst_17930)}else if(state_val_17938===3){var inst_17935=state_17937[2];var state_17937__$1=
state_17937;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_17937__$1,inst_17935)}else if(state_val_17938===12){var inst_17919=state_17937[2];var state_17937__$1=function(){var statearr_17947=state_17937;statearr_17947[12]=inst_17919;return statearr_17947}();var statearr_17948_17967=state_17937__$1;statearr_17948_17967[2]=null;statearr_17948_17967[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===2){var inst_17908=cljs.core.deref.call(null,
biscuit_switch.stamper.state);var inst_17909=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_17908);var state_17937__$1=state_17937;if(cljs.core.truth_(inst_17909)){var statearr_17949_17968=state_17937__$1;statearr_17949_17968[1]=4}else{var statearr_17950_17969=state_17937__$1;statearr_17950_17969[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===11){var inst_17923=state_17937[2];var state_17937__$1=state_17937;
var statearr_17951_17970=state_17937__$1;statearr_17951_17970[2]=inst_17923;statearr_17951_17970[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===9){var inst_17917=infinitelives.pixi.events.next_frame.call(null);var state_17937__$1=state_17937;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_17937__$1,12,inst_17917)}else if(state_val_17938===5){var state_17937__$1=state_17937;var statearr_17952_17971=state_17937__$1;statearr_17952_17971[2]=
null;statearr_17952_17971[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===10){var state_17937__$1=state_17937;var statearr_17953_17972=state_17937__$1;statearr_17953_17972[2]=null;statearr_17953_17972[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_17938===8){var inst_17925=state_17937[2];var state_17937__$1=state_17937;var statearr_17954_17973=state_17937__$1;statearr_17954_17973[2]=inst_17925;statearr_17954_17973[1]=
6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__=null;var biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____0=function(){var statearr_17958=[null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_17958[0]=biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__;
statearr_17958[1]=1;return statearr_17958};var biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____1=function(state_17937){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_17937);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e17959){if(e17959 instanceof Object){var ex__12449__auto__=
e17959;var statearr_17960_17974=state_17937;statearr_17960_17974[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_17937);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e17959;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__17975=state_17937;state_17937=G__17975;continue}else return ret_value__12447__auto__;break}};biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__=
function(state_17937){switch(arguments.length){case 0:return biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____1.call(this,state_17937)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____0;biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto____1;return biscuit_switch$stamper$stamper_state_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_17961=f__12558__auto__.call(null);statearr_17961[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_17961}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));
return c__12557__auto__};
biscuit_switch.stamper.stamper_thread=function biscuit_switch$stamper$stamper_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_18452){var state_val_18453=state_18452[1];if(state_val_18453===65){var inst_18424=state_18452[2];var state_18452__$1=function(){var statearr_18454=state_18452;
statearr_18454[7]=inst_18424;return statearr_18454}();var statearr_18455_18560=state_18452__$1;statearr_18455_18560[2]=null;statearr_18455_18560[1]=60;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===62){var inst_18422=infinitelives.pixi.events.next_frame.call(null);var state_18452__$1=state_18452;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_18452__$1,65,inst_18422)}else if(state_val_18453===7){var state_18452__$1=state_18452;var statearr_18456_18561=
state_18452__$1;statearr_18456_18561[2]=new cljs.core.Keyword(null,"off","off",606440789);statearr_18456_18561[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===59){var inst_18415=cljs.core.swap_BANG_.call(null,biscuit_switch.circle.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var state_18452__$1=state_18452;var statearr_18457_18562=state_18452__$1;statearr_18457_18562[2]=inst_18415;statearr_18457_18562[1]=56;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===20){var inst_18315=state_18452[2];var state_18452__$1=state_18452;var statearr_18458_18563=state_18452__$1;statearr_18458_18563[2]=inst_18315;statearr_18458_18563[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===58){var inst_18413=cljs.core.swap_BANG_.call(null,biscuit_switch.square.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var state_18452__$1=state_18452;
var statearr_18459_18564=state_18452__$1;statearr_18459_18564[2]=inst_18413;statearr_18459_18564[1]=56;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===60){var inst_18420=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18420)){var statearr_18460_18565=state_18452__$1;statearr_18460_18565[1]=62}else{var statearr_18461_18566=state_18452__$1;statearr_18461_18566[1]=
63}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===27){var inst_18352=state_18452[8];var inst_18348=state_18452[2];var inst_18349=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"install","install",-655751038),inst_18348);var inst_18350=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18351=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_18350);
var inst_18352__$1=cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18351);var state_18452__$1=function(){var statearr_18462=state_18452;statearr_18462[8]=inst_18352__$1;statearr_18462[9]=inst_18349;return statearr_18462}();if(inst_18352__$1){var statearr_18463_18567=state_18452__$1;statearr_18463_18567[1]=31}else{var statearr_18464_18568=state_18452__$1;statearr_18464_18568[1]=32}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===
1){var inst_18272=state_18452[10];var inst_18268=state_18452[11];var inst_18268__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"stamper","stamper",-657076882),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"y","y",-1757859776),-74);var inst_18269=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18270=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_18269);
var inst_18271=inst_18270.addChild(inst_18268__$1);var inst_18272__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"siren-grey","siren-grey",1518390838),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),55,new cljs.core.Keyword(null,"y","y",-1757859776),-100);var inst_18273=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18274=(new cljs.core.Keyword(null,"machines",
"machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_18273);var inst_18275=inst_18274.addChild(inst_18272__$1);var inst_18276=biscuit_switch.stamper.stamper_state.call(null,canvas,inst_18268__$1,inst_18272__$1);var inst_18277=0;var state_18452__$1=function(){var statearr_18465=state_18452;statearr_18465[12]=inst_18276;statearr_18465[10]=inst_18272__$1;statearr_18465[13]=inst_18277;statearr_18465[11]=inst_18268__$1;statearr_18465[14]=inst_18275;statearr_18465[15]=inst_18271;return statearr_18465}();
var statearr_18466_18569=state_18452__$1;statearr_18466_18569[2]=null;statearr_18466_18569[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===24){var inst_18437=state_18452[2];var inst_18438=infinitelives.pixi.events.next_frame.call(null);var state_18452__$1=function(){var statearr_18467=state_18452;statearr_18467[16]=inst_18437;return statearr_18467}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_18452__$1,66,inst_18438)}else if(state_val_18453===
55){var inst_18433=state_18452[2];var state_18452__$1=state_18452;var statearr_18468_18570=state_18452__$1;statearr_18468_18570[2]=inst_18433;statearr_18468_18570[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===39){var inst_18366=infinitelives.utils.vec2.vec2.call(null,-40,0);var inst_18367=cljs.core.swap_BANG_.call(null,biscuit_switch.square.state,cljs.core.assoc,new cljs.core.Keyword(null,"pos","pos",-864607220),inst_18366,new cljs.core.Keyword(null,
"carried","carried",-1688658807),false);var state_18452__$1=state_18452;var statearr_18469_18571=state_18452__$1;statearr_18469_18571[2]=inst_18367;statearr_18469_18571[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===46){var inst_18380=state_18452[2];var state_18452__$1=function(){var statearr_18470=state_18452;statearr_18470[17]=inst_18380;return statearr_18470}();var statearr_18471_18572=state_18452__$1;statearr_18471_18572[2]=null;statearr_18471_18572[1]=
41;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===4){var inst_18289=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18290=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_18289);var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18290)){var statearr_18472_18573=state_18452__$1;statearr_18472_18573[1]=7}else{var statearr_18473_18574=state_18452__$1;statearr_18473_18574[1]=8}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===54){var state_18452__$1=state_18452;var statearr_18474_18575=state_18452__$1;statearr_18474_18575[2]=null;statearr_18474_18575[1]=55;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===15){var inst_18303=state_18452[2];var inst_18304=infinitelives.utils.sound.play_sound.call(null,inst_18303,.8,false);var inst_18305=cljs.core.swap_BANG_.call(null,biscuit_switch.stamper.state,cljs.core.update,new cljs.core.Keyword(null,
"running","running",1554969103),cljs.core.not);var state_18452__$1=function(){var statearr_18475=state_18452;statearr_18475[18]=inst_18304;statearr_18475[19]=inst_18305;return statearr_18475}();var statearr_18476_18576=state_18452__$1;statearr_18476_18576[2]=null;statearr_18476_18576[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===48){var inst_18392=state_18452[20];var state_18452__$1=state_18452;var statearr_18477_18577=state_18452__$1;statearr_18477_18577[2]=
inst_18392;statearr_18477_18577[1]=49;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===50){var inst_18398=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_18452__$1=state_18452;var statearr_18478_18578=state_18452__$1;statearr_18478_18578[2]=inst_18398;statearr_18478_18578[1]=52;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===21){var inst_18311=state_18452[2];
var state_18452__$1=function(){var statearr_18479=state_18452;statearr_18479[21]=inst_18311;return statearr_18479}();var statearr_18480_18579=state_18452__$1;statearr_18480_18579[2]=null;statearr_18480_18579[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===31){var inst_18354=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_18452__$1=state_18452;var statearr_18481_18580=state_18452__$1;
statearr_18481_18580[2]=inst_18354;statearr_18481_18580[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===32){var inst_18352=state_18452[8];var state_18452__$1=state_18452;var statearr_18482_18581=state_18452__$1;statearr_18482_18581[2]=inst_18352;statearr_18482_18581[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===40){var inst_18369=infinitelives.utils.vec2.vec2.call(null,-40,0);var inst_18370=cljs.core.swap_BANG_.call(null,
biscuit_switch.circle.state,cljs.core.assoc,new cljs.core.Keyword(null,"pos","pos",-864607220),inst_18369,new cljs.core.Keyword(null,"carried","carried",-1688658807),false);var state_18452__$1=state_18452;var statearr_18483_18582=state_18452__$1;statearr_18483_18582[2]=inst_18370;statearr_18483_18582[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===56){var inst_18418=state_18452[2];var state_18452__$1=function(){var statearr_18484=state_18452;statearr_18484[22]=
inst_18418;return statearr_18484}();var statearr_18485_18583=state_18452__$1;statearr_18485_18583[2]=null;statearr_18485_18583[1]=60;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===33){var inst_18357=state_18452[2];var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18357)){var statearr_18486_18584=state_18452__$1;statearr_18486_18584[1]=34}else{var statearr_18487_18585=state_18452__$1;statearr_18487_18585[1]=35}return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_18453===13){var state_18452__$1=state_18452;var statearr_18488_18586=state_18452__$1;statearr_18488_18586[2]=new cljs.core.Keyword(null,"off","off",606440789);statearr_18488_18586[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===22){var inst_18335=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18336=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_18335);
var inst_18337=cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18336);var state_18452__$1=state_18452;if(inst_18337){var statearr_18489_18587=state_18452__$1;statearr_18489_18587[1]=25}else{var statearr_18490_18588=state_18452__$1;statearr_18490_18588[1]=26}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===36){var inst_18392=state_18452[20];var inst_18389=state_18452[2];var inst_18390=cljs.core.deref.call(null,biscuit_switch.player.state);
var inst_18391=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_18390);var inst_18392__$1=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18391);var state_18452__$1=function(){var statearr_18491=state_18452;statearr_18491[23]=inst_18389;statearr_18491[20]=inst_18392__$1;return statearr_18491}();if(inst_18392__$1){var statearr_18492_18589=state_18452__$1;statearr_18492_18589[1]=47}else{var statearr_18493_18590=state_18452__$1;
statearr_18493_18590[1]=48}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===41){var inst_18376=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18376)){var statearr_18494_18591=state_18452__$1;statearr_18494_18591[1]=43}else{var statearr_18495_18592=state_18452__$1;statearr_18495_18592[1]=44}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===
43){var inst_18378=infinitelives.pixi.events.next_frame.call(null);var state_18452__$1=state_18452;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_18452__$1,46,inst_18378)}else if(state_val_18453===61){var inst_18430=state_18452[2];var state_18452__$1=state_18452;var statearr_18496_18593=state_18452__$1;statearr_18496_18593[2]=inst_18430;statearr_18496_18593[1]=55;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===29){var state_18452__$1=state_18452;
var statearr_18497_18594=state_18452__$1;statearr_18497_18594[2]=new cljs.core.Keyword(null,"none","none",1333468478);statearr_18497_18594[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===44){var state_18452__$1=state_18452;var statearr_18498_18595=state_18452__$1;statearr_18498_18595[2]=null;statearr_18498_18595[1]=45;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===6){var inst_18324=state_18452[2];var inst_18325=
cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18326=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_18325);var inst_18327=cljs.core.not.call(null,inst_18326);var inst_18328=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18329=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18328);var inst_18330=infinitelives.utils.vec2.sub.call(null,inst_18329,biscuit_switch.stamper.door_pos);
var inst_18331=infinitelives.utils.vec2.magnitude_squared.call(null,inst_18330);var inst_18332=inst_18331<biscuit_switch.stamper.door_distance_squared;var inst_18333=inst_18327&&inst_18332;var state_18452__$1=function(){var statearr_18499=state_18452;statearr_18499[24]=inst_18324;return statearr_18499}();if(cljs.core.truth_(inst_18333)){var statearr_18500_18596=state_18452__$1;statearr_18500_18596[1]=22}else{var statearr_18501_18597=state_18452__$1;statearr_18501_18597[1]=23}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===28){var state_18452__$1=state_18452;var statearr_18502_18598=state_18452__$1;statearr_18502_18598[2]=new cljs.core.Keyword(null,"install","install",-655751038);statearr_18502_18598[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===64){var inst_18428=state_18452[2];var state_18452__$1=state_18452;var statearr_18503_18599=state_18452__$1;statearr_18503_18599[2]=inst_18428;statearr_18503_18599[1]=61;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===51){var inst_18396=state_18452[25];var state_18452__$1=state_18452;var statearr_18504_18600=state_18452__$1;statearr_18504_18600[2]=inst_18396;statearr_18504_18600[1]=52;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===25){var state_18452__$1=state_18452;var statearr_18505_18601=state_18452__$1;statearr_18505_18601[2]=new cljs.core.Keyword(null,"remove","remove",-131428414);statearr_18505_18601[1]=27;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===34){var inst_18359=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"bloop","bloop",-254360316),1,false);var inst_18360=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18361=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_18360);var inst_18362=cljs.core.swap_BANG_.call(null,biscuit_switch.stamper.state,cljs.core.assoc,new cljs.core.Keyword(null,"cutter",
"cutter",658480841),inst_18361);var state_18452__$1=function(){var statearr_18506=state_18452;statearr_18506[26]=inst_18359;statearr_18506[27]=inst_18362;return statearr_18506}();var G__18507_18602=inst_18361 instanceof cljs.core.Keyword?inst_18361.fqn:null;switch(G__18507_18602){case "triangle":var statearr_18508_18604=state_18452__$1;statearr_18508_18604[1]=38;break;case "square":var statearr_18509_18605=state_18452__$1;statearr_18509_18605[1]=39;break;case "circle":var statearr_18510_18606=state_18452__$1;
statearr_18510_18606[1]=40;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_18361)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===17){var inst_18317=state_18452[2];var state_18452__$1=state_18452;var statearr_18511_18607=state_18452__$1;statearr_18511_18607[2]=inst_18317;statearr_18511_18607[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===3){var inst_18272=state_18452[10];
var inst_18268=state_18452[11];var inst_18444=state_18452[2];var inst_18445=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18446=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_18445);var inst_18447=inst_18446.removeChild(inst_18272);var inst_18448=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18449=(new cljs.core.Keyword(null,"machines",
"machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_18448);var inst_18450=inst_18449.removeChild(inst_18268);var state_18452__$1=function(){var statearr_18512=state_18452;statearr_18512[28]=inst_18447;statearr_18512[29]=inst_18444;return statearr_18512}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_18452__$1,inst_18450)}else if(state_val_18453===12){var inst_18320=state_18452[2];var state_18452__$1=state_18452;var statearr_18513_18608=state_18452__$1;statearr_18513_18608[2]=
inst_18320;statearr_18513_18608[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===2){var inst_18279=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18280=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_18279);var inst_18281=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18280);var inst_18282=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18283=
(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18282);var inst_18284=infinitelives.utils.vec2.sub.call(null,inst_18283,biscuit_switch.stamper.switch_pos);var inst_18285=infinitelives.utils.vec2.magnitude_squared.call(null,inst_18284);var inst_18286=inst_18285<biscuit_switch.stamper.switch_distance_squared;var inst_18287=inst_18281&&inst_18286;var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18287)){var statearr_18514_18609=state_18452__$1;statearr_18514_18609[1]=
4}else{var statearr_18515_18610=state_18452__$1;statearr_18515_18610[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===66){var inst_18277=state_18452[13];var inst_18440=state_18452[2];var inst_18441=inst_18277+1;var inst_18277__$1=inst_18441;var state_18452__$1=function(){var statearr_18516=state_18452;statearr_18516[13]=inst_18277__$1;statearr_18516[30]=inst_18440;return statearr_18516}();var statearr_18517_18611=state_18452__$1;statearr_18517_18611[2]=
null;statearr_18517_18611[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===23){var inst_18435=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"install","install",-655751038),new cljs.core.Keyword(null,"none","none",1333468478));var state_18452__$1=state_18452;var statearr_18518_18612=state_18452__$1;statearr_18518_18612[2]=inst_18435;statearr_18518_18612[1]=24;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_18453===47){var inst_18396=state_18452[25];var inst_18394=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18395=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_18394);var inst_18396__$1=cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18395);var state_18452__$1=function(){var statearr_18519=state_18452;statearr_18519[25]=inst_18396__$1;return statearr_18519}();if(inst_18396__$1){var statearr_18520_18613=
state_18452__$1;statearr_18520_18613[1]=50}else{var statearr_18521_18614=state_18452__$1;statearr_18521_18614[1]=51}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===35){var state_18452__$1=state_18452;var statearr_18522_18615=state_18452__$1;statearr_18522_18615[2]=null;statearr_18522_18615[1]=36;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===19){var state_18452__$1=state_18452;var statearr_18523_18616=state_18452__$1;
statearr_18523_18616[2]=null;statearr_18523_18616[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===57){var inst_18411=cljs.core.swap_BANG_.call(null,biscuit_switch.triangle.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var state_18452__$1=state_18452;var statearr_18524_18617=state_18452__$1;statearr_18524_18617[2]=inst_18411;statearr_18524_18617[1]=56;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===
11){var state_18452__$1=state_18452;var statearr_18525_18618=state_18452__$1;statearr_18525_18618[2]=null;statearr_18525_18618[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===9){var inst_18294=state_18452[2];var inst_18295=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"stamper","stamper",-657076882),inst_18294);var inst_18296=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,
"space","space",348133475));var state_18452__$1=function(){var statearr_18526=state_18452;statearr_18526[31]=inst_18295;return statearr_18526}();if(cljs.core.truth_(inst_18296)){var statearr_18527_18619=state_18452__$1;statearr_18527_18619[1]=10}else{var statearr_18528_18620=state_18452__$1;statearr_18528_18620[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===5){var inst_18322=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,
"stamper","stamper",-657076882),new cljs.core.Keyword(null,"none","none",1333468478));var state_18452__$1=state_18452;var statearr_18529_18621=state_18452__$1;statearr_18529_18621[2]=inst_18322;statearr_18529_18621[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===14){var state_18452__$1=state_18452;var statearr_18530_18622=state_18452__$1;statearr_18530_18622[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_18530_18622[1]=15;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===45){var inst_18384=state_18452[2];var state_18452__$1=state_18452;var statearr_18531_18623=state_18452__$1;statearr_18531_18623[2]=inst_18384;statearr_18531_18623[1]=42;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===53){var inst_18406=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"bloop","bloop",-254360316),1,false);var inst_18407=cljs.core.deref.call(null,biscuit_switch.stamper.state);
var inst_18408=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_18407);var inst_18409=cljs.core.swap_BANG_.call(null,biscuit_switch.stamper.state,cljs.core.assoc,new cljs.core.Keyword(null,"cutter","cutter",658480841),new cljs.core.Keyword(null,"none","none",1333468478));var inst_18410=biscuit_switch.player.carry.call(null,inst_18408);var state_18452__$1=function(){var statearr_18532=state_18452;statearr_18532[32]=inst_18410;statearr_18532[33]=inst_18406;
statearr_18532[34]=inst_18409;return statearr_18532}();var G__18533_18624=inst_18408 instanceof cljs.core.Keyword?inst_18408.fqn:null;switch(G__18533_18624){case "triangle":var statearr_18534_18626=state_18452__$1;statearr_18534_18626[1]=57;break;case "square":var statearr_18535_18627=state_18452__$1;statearr_18535_18627[1]=58;break;case "circle":var statearr_18536_18628=state_18452__$1;statearr_18536_18628[1]=59;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_18408)].join(""));
}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===26){var inst_18340=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18341=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_18340);var inst_18342=cljs.core.not_EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_18341);var state_18452__$1=state_18452;if(inst_18342){var statearr_18537_18629=state_18452__$1;statearr_18537_18629[1]=
28}else{var statearr_18538_18630=state_18452__$1;statearr_18538_18630[1]=29}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===16){var inst_18307=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18307)){var statearr_18539_18631=state_18452__$1;statearr_18539_18631[1]=18}else{var statearr_18540_18632=state_18452__$1;statearr_18540_18632[1]=19}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===38){var inst_18363=infinitelives.utils.vec2.vec2.call(null,-40,0);var inst_18364=cljs.core.swap_BANG_.call(null,biscuit_switch.triangle.state,cljs.core.assoc,new cljs.core.Keyword(null,"pos","pos",-864607220),inst_18363,new cljs.core.Keyword(null,"carried","carried",-1688658807),false);var state_18452__$1=state_18452;var statearr_18541_18633=state_18452__$1;statearr_18541_18633[2]=inst_18364;statearr_18541_18633[1]=37;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_18453===30){var inst_18346=state_18452[2];var state_18452__$1=state_18452;var statearr_18542_18634=state_18452__$1;statearr_18542_18634[2]=inst_18346;statearr_18542_18634[1]=27;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===10){var inst_18298=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18299=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_18298);
var state_18452__$1=state_18452;if(cljs.core.truth_(inst_18299)){var statearr_18543_18635=state_18452__$1;statearr_18543_18635[1]=13}else{var statearr_18544_18636=state_18452__$1;statearr_18544_18636[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===18){var inst_18309=infinitelives.pixi.events.next_frame.call(null);var state_18452__$1=state_18452;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_18452__$1,21,inst_18309)}else if(state_val_18453===
52){var inst_18401=state_18452[2];var state_18452__$1=state_18452;var statearr_18545_18637=state_18452__$1;statearr_18545_18637[2]=inst_18401;statearr_18545_18637[1]=49;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===42){var inst_18386=state_18452[2];var state_18452__$1=state_18452;var statearr_18546_18638=state_18452__$1;statearr_18546_18638[2]=inst_18386;statearr_18546_18638[1]=36;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===
37){var inst_18373=state_18452[2];var inst_18374=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"none","none",1333468478));var state_18452__$1=function(){var statearr_18547=state_18452;statearr_18547[35]=inst_18373;statearr_18547[36]=inst_18374;return statearr_18547}();var statearr_18548_18639=state_18452__$1;statearr_18548_18639[2]=null;statearr_18548_18639[1]=41;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===63){var state_18452__$1=state_18452;
var statearr_18549_18640=state_18452__$1;statearr_18549_18640[2]=null;statearr_18549_18640[1]=64;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===8){var state_18452__$1=state_18452;var statearr_18550_18641=state_18452__$1;statearr_18550_18641[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_18550_18641[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18453===49){var inst_18404=state_18452[2];var state_18452__$1=
state_18452;if(cljs.core.truth_(inst_18404)){var statearr_18551_18642=state_18452__$1;statearr_18551_18642[1]=53}else{var statearr_18552_18643=state_18452__$1;statearr_18552_18643[1]=54}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__=null;var biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____0=
function(){var statearr_18556=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_18556[0]=biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__;statearr_18556[1]=1;return statearr_18556};var biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____1=function(state_18452){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=
switch__12445__auto__.call(null,state_18452);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e18557){if(e18557 instanceof Object){var ex__12449__auto__=e18557;var statearr_18558_18644=state_18452;statearr_18558_18644[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_18452);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e18557;
}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__18645=state_18452;state_18452=G__18645;continue}else return ret_value__12447__auto__;break}};biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__=function(state_18452){switch(arguments.length){case 0:return biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____1.call(this,
state_18452)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____0;biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto____1;return biscuit_switch$stamper$stamper_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,
c__12557__auto__)}();var state__12559__auto__=function(){var statearr_18559=f__12558__auto__.call(null);statearr_18559[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_18559}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.square");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.square.state!=="undefined");else biscuit_switch.square.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null));
biscuit_switch.square.reset=function biscuit_switch$square$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.square.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null))};biscuit_switch.square.pickup_distance=10;biscuit_switch.square.pickup_distance_squared=biscuit_switch.square.pickup_distance*biscuit_switch.square.pickup_distance;biscuit_switch.square.installed_point=infinitelives.utils.vec2.vec2.call(null,-45,0);
biscuit_switch.square.drop_point=infinitelives.utils.vec2.vec2.call(null,0,280);biscuit_switch.square.drop_distance=100;biscuit_switch.square.drop_distance_squared=biscuit_switch.square.drop_distance*biscuit_switch.square.drop_distance;
biscuit_switch.square.square_thread=function biscuit_switch$square$square_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_19015){var state_val_19016=state_19015[1];if(state_val_19016===7){var inst_18898=state_19015[7];var inst_18907=state_19015[8];var inst_18915=state_19015[2];var inst_18916=
infinitelives.utils.vec2.add.call(null,inst_18907,inst_18915);var inst_18917=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_18898,inst_18916);var state_19015__$1=state_19015;var statearr_19017_19083=state_19015__$1;statearr_19017_19083[2]=inst_18917;statearr_19017_19083[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===20){var state_19015__$1=state_19015;var statearr_19018_19084=state_19015__$1;statearr_19018_19084[2]=null;statearr_19018_19084[1]=
21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===27){var inst_18951=state_19015[2];var state_19015__$1=function(){var statearr_19019=state_19015;statearr_19019[9]=inst_18951;return statearr_19019}();var statearr_19020_19085=state_19015__$1;statearr_19020_19085[2]=null;statearr_19020_19085[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===1){var inst_18898=state_19015[7];var inst_18898__$1=infinitelives.pixi.sprite.make_sprite.call(null,
new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),100,new cljs.core.Keyword(null,"y","y",-1757859776),100);var inst_18899=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18900=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_18899);var inst_18901=inst_18900.addChild(inst_18898__$1);var state_19015__$1=
function(){var statearr_19021=state_19015;statearr_19021[7]=inst_18898__$1;statearr_19021[10]=inst_18901;return statearr_19021}();var statearr_19022_19086=state_19015__$1;statearr_19022_19086[2]=null;statearr_19022_19086[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===24){var inst_18949=infinitelives.pixi.events.next_frame.call(null);var state_19015__$1=state_19015;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19015__$1,27,inst_18949)}else if(state_val_19016===
39){var inst_18989=state_19015[2];var state_19015__$1=function(){var statearr_19023=state_19015;statearr_19023[11]=inst_18989;return statearr_19023}();var statearr_19024_19087=state_19015__$1;statearr_19024_19087[2]=null;statearr_19024_19087[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===4){var inst_18906=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18907=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18906);
var inst_18912=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18913=(new cljs.core.Keyword(null,"facing","facing",-854439413)).cljs$core$IFn$_invoke$arity$1(inst_18912);var state_19015__$1=function(){var statearr_19025=state_19015;statearr_19025[8]=inst_18907;return statearr_19025}();var G__19026_19088=inst_18913 instanceof cljs.core.Keyword?inst_18913.fqn:null;switch(G__19026_19088){case "left":var statearr_19027_19090=state_19015__$1;statearr_19027_19090[1]=8;break;case "right":var statearr_19028_19091=
state_19015__$1;statearr_19028_19091[1]=9;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_18913)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===15){var inst_19004=state_19015[2];var inst_19005=infinitelives.pixi.events.next_frame.call(null);var state_19015__$1=function(){var statearr_19029=state_19015;statearr_19029[12]=inst_19004;return statearr_19029}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_19015__$1,40,inst_19005)}else if(state_val_19016===21){var inst_18960=state_19015[2];var state_19015__$1=state_19015;var statearr_19030_19092=state_19015__$1;statearr_19030_19092[2]=inst_18960;statearr_19030_19092[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===31){var inst_18980=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"pick-up","pick-up",950152600),.5,false);var inst_18981=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,
cljs.core.assoc,new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"none","none",1333468478));var inst_18982=cljs.core.swap_BANG_.call(null,biscuit_switch.square.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var inst_18983=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"square","square",812434677));var state_19015__$1=function(){var statearr_19031=state_19015;statearr_19031[13]=inst_18981;statearr_19031[14]=
inst_18982;statearr_19031[15]=inst_18983;statearr_19031[16]=inst_18980;return statearr_19031}();var statearr_19032_19093=state_19015__$1;statearr_19032_19093[2]=null;statearr_19032_19093[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===32){var state_19015__$1=state_19015;var statearr_19033_19094=state_19015__$1;statearr_19033_19094[2]=null;statearr_19033_19094[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===
40){var inst_19007=state_19015[2];var state_19015__$1=function(){var statearr_19034=state_19015;statearr_19034[17]=inst_19007;return statearr_19034}();var statearr_19035_19095=state_19015__$1;statearr_19035_19095[2]=null;statearr_19035_19095[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===33){var inst_18998=state_19015[2];var state_19015__$1=state_19015;var statearr_19036_19096=state_19015__$1;statearr_19036_19096[2]=inst_18998;statearr_19036_19096[1]=
30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===13){var inst_18933=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18934=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18933);var inst_18935=infinitelives.utils.vec2.sub.call(null,inst_18934,biscuit_switch.square.drop_point);var inst_18936=infinitelives.utils.vec2.magnitude_squared.call(null,inst_18935);var inst_18937=inst_18936<biscuit_switch.square.drop_distance_squared;
var state_19015__$1=state_19015;if(cljs.core.truth_(inst_18937)){var statearr_19037_19097=state_19015__$1;statearr_19037_19097[1]=16}else{var statearr_19038_19098=state_19015__$1;statearr_19038_19098[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===22){var inst_18947=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19015__$1=state_19015;if(cljs.core.truth_(inst_18947)){var statearr_19039_19099=
state_19015__$1;statearr_19039_19099[1]=24}else{var statearr_19040_19100=state_19015__$1;statearr_19040_19100[1]=25}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===36){var inst_18987=infinitelives.pixi.events.next_frame.call(null);var state_19015__$1=state_19015;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19015__$1,39,inst_18987)}else if(state_val_19016===29){var inst_19000=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,
new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"none","none",1333468478));var state_19015__$1=state_19015;var statearr_19041_19101=state_19015__$1;statearr_19041_19101[2]=inst_19000;statearr_19041_19101[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===6){var inst_18929=state_19015[2];var inst_18930=cljs.core.deref.call(null,biscuit_switch.square.state);var inst_18931=(new cljs.core.Keyword(null,"carried","carried",-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_18930);
var state_19015__$1=function(){var statearr_19042=state_19015;statearr_19042[18]=inst_18929;return statearr_19042}();if(cljs.core.truth_(inst_18931)){var statearr_19043_19102=state_19015__$1;statearr_19043_19102[1]=13}else{var statearr_19044_19103=state_19015__$1;statearr_19044_19103[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===28){var inst_18977=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"square",
"square",812434677),new cljs.core.Keyword(null,"pickup","pickup",1997454190));var inst_18978=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19015__$1=function(){var statearr_19045=state_19015;statearr_19045[19]=inst_18977;return statearr_19045}();if(cljs.core.truth_(inst_18978)){var statearr_19046_19104=state_19015__$1;statearr_19046_19104[1]=31}else{var statearr_19047_19105=state_19015__$1;statearr_19047_19105[1]=32}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19016===25){var state_19015__$1=state_19015;var statearr_19048_19106=state_19015__$1;statearr_19048_19106[2]=null;statearr_19048_19106[1]=26;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===34){var inst_18985=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19015__$1=state_19015;if(cljs.core.truth_(inst_18985)){var statearr_19049_19107=state_19015__$1;
statearr_19049_19107[1]=36}else{var statearr_19050_19108=state_19015__$1;statearr_19050_19108[1]=37}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===17){var inst_18962=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"none","none",1333468478));var state_19015__$1=state_19015;var statearr_19051_19109=state_19015__$1;statearr_19051_19109[2]=inst_18962;statearr_19051_19109[1]=
18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===3){var inst_18898=state_19015[7];var inst_19010=state_19015[2];var inst_19011=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19012=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_19011);var inst_19013=inst_19012.removeChild(inst_18898);var state_19015__$1=function(){var statearr_19052=state_19015;statearr_19052[20]=
inst_19010;return statearr_19052}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_19015__$1,inst_19013)}else if(state_val_19016===12){var inst_18927=state_19015[2];var state_19015__$1=state_19015;var statearr_19053_19110=state_19015__$1;statearr_19053_19110[2]=inst_18927;statearr_19053_19110[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===2){var inst_18903=cljs.core.deref.call(null,biscuit_switch.square.state);var inst_18904=(new cljs.core.Keyword(null,
"carried","carried",-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_18903);var state_19015__$1=state_19015;if(cljs.core.truth_(inst_18904)){var statearr_19054_19111=state_19015__$1;statearr_19054_19111[1]=4}else{var statearr_19055_19112=state_19015__$1;statearr_19055_19112[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===23){var inst_18957=state_19015[2];var state_19015__$1=state_19015;var statearr_19056_19113=state_19015__$1;statearr_19056_19113[2]=inst_18957;
statearr_19056_19113[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===35){var inst_18995=state_19015[2];var state_19015__$1=state_19015;var statearr_19057_19114=state_19015__$1;statearr_19057_19114[2]=inst_18995;statearr_19057_19114[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===19){var inst_18898=state_19015[7];var inst_18942=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"put-down",
"put-down",1726684416),.5,false);var inst_18943=function(){var stamp=inst_18898;return function(stamp,inst_18898,inst_18942,state_val_19016,c__12557__auto__){return function(p1__18712_SHARP_){return cljs.core.assoc.call(null,cljs.core.assoc.call(null,p1__18712_SHARP_,new cljs.core.Keyword(null,"carried","carried",-1688658807),false),new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.add.call(null,(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,
biscuit_switch.player.state)),infinitelives.utils.vec2.vec2.call(null,0,20)))}}(stamp,inst_18898,inst_18942,state_val_19016,c__12557__auto__)}();var inst_18944=cljs.core.swap_BANG_.call(null,biscuit_switch.square.state,inst_18943);var inst_18945=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"none","none",1333468478));var state_19015__$1=function(){var statearr_19058=state_19015;statearr_19058[21]=inst_18944;statearr_19058[22]=inst_18945;statearr_19058[23]=inst_18942;return statearr_19058}();
var statearr_19059_19115=state_19015__$1;statearr_19059_19115[2]=null;statearr_19059_19115[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===11){var inst_18898=state_19015[7];var inst_18925=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_18898,biscuit_switch.square.drop_point);var state_19015__$1=state_19015;var statearr_19060_19116=state_19015__$1;statearr_19060_19116[2]=inst_18925;statearr_19060_19116[1]=12;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_19016===9){var inst_18910=infinitelives.utils.vec2.vec2.call(null,20,0);var state_19015__$1=state_19015;var statearr_19061_19117=state_19015__$1;statearr_19061_19117[2]=inst_18910;statearr_19061_19117[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===5){var inst_18919=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_18920=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_18919);
var inst_18921=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"square","square",812434677),inst_18920);var state_19015__$1=state_19015;if(inst_18921){var statearr_19062_19118=state_19015__$1;statearr_19062_19118[1]=10}else{var statearr_19063_19119=state_19015__$1;statearr_19063_19119[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===14){var inst_18966=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18967=(new cljs.core.Keyword(null,
"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18966);var inst_18968=infinitelives.utils.vec2.get_y.call(null,inst_18967);var inst_18969=inst_18968>20;var inst_18970=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_18971=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_18970);var inst_18972=infinitelives.utils.vec2.sub.call(null,inst_18971,biscuit_switch.square.drop_point);var inst_18973=infinitelives.utils.vec2.magnitude_squared.call(null,
inst_18972);var inst_18974=inst_18973<biscuit_switch.square.drop_distance_squared;var inst_18975=inst_18969&&inst_18974;var state_19015__$1=state_19015;if(cljs.core.truth_(inst_18975)){var statearr_19064_19120=state_19015__$1;statearr_19064_19120[1]=28}else{var statearr_19065_19121=state_19015__$1;statearr_19065_19121[1]=29}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===26){var inst_18955=state_19015[2];var state_19015__$1=state_19015;var statearr_19066_19122=
state_19015__$1;statearr_19066_19122[2]=inst_18955;statearr_19066_19122[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===16){var inst_18939=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"putdown","putdown",-459181613));var inst_18940=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19015__$1=
function(){var statearr_19067=state_19015;statearr_19067[24]=inst_18939;return statearr_19067}();if(cljs.core.truth_(inst_18940)){var statearr_19068_19123=state_19015__$1;statearr_19068_19123[1]=19}else{var statearr_19069_19124=state_19015__$1;statearr_19069_19124[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===38){var inst_18993=state_19015[2];var state_19015__$1=state_19015;var statearr_19070_19125=state_19015__$1;statearr_19070_19125[2]=inst_18993;
statearr_19070_19125[1]=35;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===30){var inst_19002=state_19015[2];var state_19015__$1=state_19015;var statearr_19071_19126=state_19015__$1;statearr_19071_19126[2]=inst_19002;statearr_19071_19126[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===10){var inst_18898=state_19015[7];var inst_18923=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_18898,biscuit_switch.square.installed_point);
var state_19015__$1=state_19015;var statearr_19072_19127=state_19015__$1;statearr_19072_19127[2]=inst_18923;statearr_19072_19127[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===18){var inst_18964=state_19015[2];var state_19015__$1=state_19015;var statearr_19073_19128=state_19015__$1;statearr_19073_19128[2]=inst_18964;statearr_19073_19128[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===37){var state_19015__$1=
state_19015;var statearr_19074_19129=state_19015__$1;statearr_19074_19129[2]=null;statearr_19074_19129[1]=38;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19016===8){var inst_18908=infinitelives.utils.vec2.vec2.call(null,-20,0);var state_19015__$1=state_19015;var statearr_19075_19130=state_19015__$1;statearr_19075_19130[2]=inst_18908;statearr_19075_19130[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var biscuit_switch$square$square_thread_$_state_machine__12446__auto__=null;var biscuit_switch$square$square_thread_$_state_machine__12446__auto____0=function(){var statearr_19079=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_19079[0]=biscuit_switch$square$square_thread_$_state_machine__12446__auto__;statearr_19079[1]=1;return statearr_19079};var biscuit_switch$square$square_thread_$_state_machine__12446__auto____1=
function(state_19015){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_19015);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e19080){if(e19080 instanceof Object){var ex__12449__auto__=e19080;var statearr_19081_19131=state_19015;statearr_19081_19131[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_19015);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e19080;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__19132=state_19015;state_19015=G__19132;continue}else return ret_value__12447__auto__;break}};biscuit_switch$square$square_thread_$_state_machine__12446__auto__=function(state_19015){switch(arguments.length){case 0:return biscuit_switch$square$square_thread_$_state_machine__12446__auto____0.call(this);
case 1:return biscuit_switch$square$square_thread_$_state_machine__12446__auto____1.call(this,state_19015)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$square$square_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$square$square_thread_$_state_machine__12446__auto____0;biscuit_switch$square$square_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$square$square_thread_$_state_machine__12446__auto____1;return biscuit_switch$square$square_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,
c__12557__auto__)}();var state__12559__auto__=function(){var statearr_19082=f__12558__auto__.call(null);statearr_19082[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_19082}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.tv");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.rising");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("infinitelives.pixi.pixelfont");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("biscuit_switch.assets");
goog.require("biscuit_switch.game");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");
if(typeof biscuit_switch.tv.state!=="undefined");else biscuit_switch.tv.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"shape","shape",1190694006),new cljs.core.Keyword(null,"any","any",1705907423),new cljs.core.Keyword(null,"number","number",1570378438),10,new cljs.core.Keyword(null,"level","level",1290497552),1],null));
biscuit_switch.tv.reset=function biscuit_switch$tv$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.tv.state,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"shape","shape",1190694006),new cljs.core.Keyword(null,"any","any",1705907423),new cljs.core.Keyword(null,"number","number",1570378438),10,new cljs.core.Keyword(null,"level","level",1290497552),1],null))};biscuit_switch.tv.wait_min=1E3;biscuit_switch.tv.wait_max=2E3;
biscuit_switch.tv.levels=cljs.core.PersistentVector.fromArray([new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,
1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up",
"level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,
1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up",
"level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),1],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"triangle","triangle",-1828376667),1],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"square","square",812434677),1],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"circle","circle",1903212362),1],
null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"level-up","level-up",-1976621509)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"triangle","triangle",-1828376667),5],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),5],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"circle","circle",1903212362),5],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"any","any",1705907423),5],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"square","square",812434677),5],null)],true);
biscuit_switch.tv.alter=function biscuit_switch$tv$alter(shape,number){return cljs.core.swap_BANG_.call(null,biscuit_switch.tv.state,cljs.core.assoc,new cljs.core.Keyword(null,"shape","shape",1190694006),shape,new cljs.core.Keyword(null,"number","number",1570378438),number)};biscuit_switch.tv.one_made=function biscuit_switch$tv$one_made(){return cljs.core.swap_BANG_.call(null,biscuit_switch.tv.state,cljs.core.update,new cljs.core.Keyword(null,"number","number",1570378438),cljs.core.dec)};
biscuit_switch.tv.level_up=function biscuit_switch$tv$level_up(canvas){console.log("Level Up!");infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"level-up","level-up",-1976621509),1,false);cljs.core.swap_BANG_.call(null,biscuit_switch.tv.state,cljs.core.update,new cljs.core.Keyword(null,"level","level",1290497552),cljs.core.inc);cljs.core.swap_BANG_.call(null,biscuit_switch.dough.state,cljs.core.update,new cljs.core.Keyword(null,"speed","speed",1257663751),cljs.core._PLUS_,
.1);cljs.core.swap_BANG_.call(null,biscuit_switch.roller.state,cljs.core.update,new cljs.core.Keyword(null,"interval","interval",1708495417),cljs.core._,10);return biscuit_switch.rising.growing_text.call(null,canvas,"LEVEL UP!",10,infinitelives.utils.vec2.vec2.call(null,0,0),infinitelives.utils.vec2.vec2.call(null,0,-10),60,1.05,8454143)};
biscuit_switch.tv.tv_number_thread=function biscuit_switch$tv$tv_number_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_19234){var state_val_19235=state_19234[1];if(state_val_19235===7){var inst_19200=state_19234[7];var inst_19208=cljs.core.deref.call(null,biscuit_switch.tv.state);var inst_19209=
(new cljs.core.Keyword(null,"number","number",1570378438)).cljs$core$IFn$_invoke$arity$1(inst_19208);var inst_19210=cljs.core._EQ_.call(null,inst_19200,inst_19209);var state_19234__$1=state_19234;if(inst_19210){var statearr_19236_19261=state_19234__$1;statearr_19236_19261[1]=9}else{var statearr_19237_19262=state_19234__$1;statearr_19237_19262[1]=10}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===1){var state_19234__$1=state_19234;var statearr_19238_19263=state_19234__$1;
statearr_19238_19263[2]=null;statearr_19238_19263[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===4){var inst_19203=state_19234[8];var inst_19200=state_19234[7];var inst_19202=[cljs.core.str(inst_19200)].join("");var inst_19203__$1=infinitelives.pixi.pixelfont.make_text.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),inst_19202,new cljs.core.Keyword(null,"scale","scale",-230427353),3,new cljs.core.Keyword(null,"x","x",2099068185),280,new cljs.core.Keyword(null,
"y","y",-1757859776),-275,new cljs.core.Keyword(null,"visible","visible",-1024216805),true);var inst_19204=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19205=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_19204);var inst_19206=inst_19205.addChild(inst_19203__$1);var state_19234__$1=function(){var statearr_19239=state_19234;statearr_19239[8]=inst_19203__$1;statearr_19239[9]=inst_19206;return statearr_19239}();
var statearr_19240_19264=state_19234__$1;statearr_19240_19264[2]=null;statearr_19240_19264[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===13){var inst_19229=state_19234[2];var state_19234__$1=function(){var statearr_19241=state_19234;statearr_19241[10]=inst_19229;return statearr_19241}();var statearr_19242_19265=state_19234__$1;statearr_19242_19265[2]=null;statearr_19242_19265[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===
6){var inst_19226=state_19234[2];var inst_19227=infinitelives.pixi.events.next_frame.call(null);var state_19234__$1=function(){var statearr_19243=state_19234;statearr_19243[11]=inst_19226;return statearr_19243}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19234__$1,13,inst_19227)}else if(state_val_19235===3){var inst_19232=state_19234[2];var state_19234__$1=state_19234;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_19234__$1,inst_19232)}else if(state_val_19235===
12){var inst_19214=state_19234[2];var state_19234__$1=function(){var statearr_19244=state_19234;statearr_19244[12]=inst_19214;return statearr_19244}();var statearr_19245_19266=state_19234__$1;statearr_19245_19266[2]=null;statearr_19245_19266[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===2){var inst_19200=state_19234[7];var inst_19199=cljs.core.deref.call(null,biscuit_switch.tv.state);var inst_19200__$1=(new cljs.core.Keyword(null,"number","number",1570378438)).cljs$core$IFn$_invoke$arity$1(inst_19199);
var state_19234__$1=function(){var statearr_19246=state_19234;statearr_19246[7]=inst_19200__$1;return statearr_19246}();if(cljs.core.truth_(inst_19200__$1)){var statearr_19247_19267=state_19234__$1;statearr_19247_19267[1]=4}else{var statearr_19248_19268=state_19234__$1;statearr_19248_19268[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===11){var inst_19218=state_19234[2];var state_19234__$1=state_19234;var statearr_19249_19269=state_19234__$1;statearr_19249_19269[2]=
inst_19218;statearr_19249_19269[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===9){var inst_19212=infinitelives.pixi.events.next_frame.call(null);var state_19234__$1=state_19234;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19234__$1,12,inst_19212)}else if(state_val_19235===5){var state_19234__$1=state_19234;var statearr_19250_19270=state_19234__$1;statearr_19250_19270[2]=null;statearr_19250_19270[1]=6;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19235===10){var state_19234__$1=state_19234;var statearr_19251_19271=state_19234__$1;statearr_19251_19271[2]=null;statearr_19251_19271[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19235===8){var inst_19203=state_19234[8];var inst_19220=state_19234[2];var inst_19221=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19222=(new cljs.core.Keyword(null,"ui","ui",
-469653645)).cljs$core$IFn$_invoke$arity$1(inst_19221);var inst_19223=inst_19222.removeChild(inst_19203);var state_19234__$1=function(){var statearr_19252=state_19234;statearr_19252[13]=inst_19220;return statearr_19252}();var statearr_19253_19272=state_19234__$1;statearr_19253_19272[2]=inst_19223;statearr_19253_19272[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__=
null;var biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____0=function(){var statearr_19257=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_19257[0]=biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__;statearr_19257[1]=1;return statearr_19257};var biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____1=function(state_19234){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_19234);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e19258){if(e19258 instanceof Object){var ex__12449__auto__=e19258;var statearr_19259_19273=state_19234;statearr_19259_19273[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_19234);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e19258;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__19274=state_19234;state_19234=G__19274;continue}else return ret_value__12447__auto__;break}};biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__=function(state_19234){switch(arguments.length){case 0:return biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____1.call(this,state_19234)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____0;biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto____1;return biscuit_switch$tv$tv_number_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_19260=
f__12558__auto__.call(null);statearr_19260[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_19260}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.tv.tv_control_thread=function biscuit_switch$tv$tv_control_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_19420){var state_val_19421=state_19420[1];if(state_val_19421===7){var inst_19388=cljs.core.PersistentVector.EMPTY_NODE;var inst_19389=[new cljs.core.Keyword(null,
"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"square","square",812434677),new cljs.core.Keyword(null,"any","any",1705907423)];var inst_19390=new cljs.core.PersistentVector(null,4,5,inst_19388,inst_19389,null);var inst_19391=cljs.core.rand_nth.call(null,inst_19390);var state_19420__$1=state_19420;var statearr_19422_19455=state_19420__$1;statearr_19422_19455[2]=inst_19391;statearr_19422_19455[1]=9;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19421===1){var inst_19370=cljs.core.nth.call(null,biscuit_switch.tv.levels,0,null);var inst_19371=cljs.core.nth.call(null,inst_19370,0,null);var inst_19372=cljs.core.nth.call(null,inst_19370,1,null);var inst_19373=cljs.core.nthnext.call(null,biscuit_switch.tv.levels,1);var inst_19374=biscuit_switch.tv.levels;var state_19420__$1=function(){var statearr_19423=state_19420;statearr_19423[7]=inst_19372;statearr_19423[8]=inst_19374;statearr_19423[9]=inst_19371;
statearr_19423[10]=inst_19373;return statearr_19423}();var statearr_19424_19456=state_19420__$1;statearr_19424_19456[2]=null;statearr_19424_19456[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===4){var inst_19384=biscuit_switch.tv.level_up.call(null,canvas);var state_19420__$1=state_19420;var statearr_19425_19457=state_19420__$1;statearr_19425_19457[2]=inst_19384;statearr_19425_19457[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===
15){var inst_19403=state_19420[2];var state_19420__$1=function(){var statearr_19426=state_19420;statearr_19426[11]=inst_19403;return statearr_19426}();var statearr_19427_19458=state_19420__$1;statearr_19427_19458[2]=null;statearr_19427_19458[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===13){var state_19420__$1=state_19420;var statearr_19428_19459=state_19420__$1;statearr_19428_19459[2]=null;statearr_19428_19459[1]=14;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19421===6){var inst_19381=state_19420[12];var inst_19411=state_19420[2];var state_19420__$1=function(){var statearr_19429=state_19420;statearr_19429[13]=inst_19411;return statearr_19429}();if(cljs.core.truth_(inst_19381)){var statearr_19430_19460=state_19420__$1;statearr_19430_19460[1]=16}else{var statearr_19431_19461=state_19420__$1;statearr_19431_19461[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===17){var state_19420__$1=
state_19420;var statearr_19432_19462=state_19420__$1;statearr_19432_19462[2]=null;statearr_19432_19462[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===3){var inst_19418=state_19420[2];var state_19420__$1=state_19420;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_19420__$1,inst_19418)}else if(state_val_19421===12){var inst_19401=infinitelives.pixi.events.next_frame.call(null);var state_19420__$1=state_19420;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_19420__$1,15,inst_19401)}else if(state_val_19421===2){var inst_19374=state_19420[8];var inst_19379=state_19420[14];var inst_19378=cljs.core.nth.call(null,inst_19374,0,null);var inst_19379__$1=cljs.core.nth.call(null,inst_19378,0,null);var inst_19380=cljs.core.nth.call(null,inst_19378,1,null);var inst_19381=cljs.core.nthnext.call(null,inst_19374,1);var inst_19382=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"level-up","level-up",-1976621509),inst_19379__$1);var state_19420__$1=function(){var statearr_19433=
state_19420;statearr_19433[14]=inst_19379__$1;statearr_19433[12]=inst_19381;statearr_19433[15]=inst_19380;return statearr_19433}();if(inst_19382){var statearr_19434_19463=state_19420__$1;statearr_19434_19463[1]=4}else{var statearr_19435_19464=state_19420__$1;statearr_19435_19464[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===11){var inst_19409=state_19420[2];var state_19420__$1=state_19420;var statearr_19436_19465=state_19420__$1;statearr_19436_19465[2]=
inst_19409;statearr_19436_19465[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===9){var inst_19380=state_19420[15];var inst_19394=state_19420[2];var inst_19395=biscuit_switch.tv.alter.call(null,inst_19394,inst_19380);var state_19420__$1=function(){var statearr_19437=state_19420;statearr_19437[16]=inst_19395;return statearr_19437}();var statearr_19438_19466=state_19420__$1;statearr_19438_19466[2]=null;statearr_19438_19466[1]=10;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19421===5){var inst_19379=state_19420[14];var inst_19386=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"random","random",-557811113),inst_19379);var state_19420__$1=state_19420;if(inst_19386){var statearr_19439_19467=state_19420__$1;statearr_19439_19467[1]=7}else{var statearr_19440_19468=state_19420__$1;statearr_19440_19468[1]=8}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===14){var inst_19407=state_19420[2];
var state_19420__$1=state_19420;var statearr_19441_19469=state_19420__$1;statearr_19441_19469[2]=inst_19407;statearr_19441_19469[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===16){var inst_19381=state_19420[12];var inst_19374=inst_19381;var state_19420__$1=function(){var statearr_19442=state_19420;statearr_19442[8]=inst_19374;return statearr_19442}();var statearr_19443_19470=state_19420__$1;statearr_19443_19470[2]=null;statearr_19443_19470[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19421===10){var inst_19397=cljs.core.deref.call(null,biscuit_switch.tv.state);var inst_19398=(new cljs.core.Keyword(null,"number","number",1570378438)).cljs$core$IFn$_invoke$arity$1(inst_19397);var inst_19399=inst_19398>0;var state_19420__$1=state_19420;if(cljs.core.truth_(inst_19399)){var statearr_19444_19471=state_19420__$1;statearr_19444_19471[1]=12}else{var statearr_19445_19472=state_19420__$1;statearr_19445_19472[1]=13}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19421===18){var inst_19416=state_19420[2];var state_19420__$1=state_19420;var statearr_19446_19473=state_19420__$1;statearr_19446_19473[2]=inst_19416;statearr_19446_19473[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19421===8){var inst_19379=state_19420[14];var state_19420__$1=state_19420;var statearr_19447_19474=state_19420__$1;statearr_19447_19474[2]=inst_19379;statearr_19447_19474[1]=9;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__=null;var biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____0=function(){var statearr_19451=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_19451[0]=biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__;statearr_19451[1]=
1;return statearr_19451};var biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____1=function(state_19420){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_19420);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e19452){if(e19452 instanceof Object){var ex__12449__auto__=
e19452;var statearr_19453_19475=state_19420;statearr_19453_19475[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_19420);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e19452;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__19476=state_19420;state_19420=G__19476;continue}else return ret_value__12447__auto__;break}};biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__=
function(state_19420){switch(arguments.length){case 0:return biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____1.call(this,state_19420)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____0;biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto____1;return biscuit_switch$tv$tv_control_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_19454=f__12558__auto__.call(null);statearr_19454[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_19454}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.tv.tv_thread=function biscuit_switch$tv$tv_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_19631){var state_val_19632=state_19631[1];if(state_val_19632===1){var inst_19574=state_19631[7];var inst_19570=state_19631[8];var inst_19578=state_19631[9];var inst_19566=state_19631[10];
var inst_19566__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"tv","tv",-1805207359),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),300,new cljs.core.Keyword(null,"y","y",-1757859776),-280);var inst_19567=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19568=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19567);
var inst_19569=inst_19568.addChild(inst_19566__$1);var inst_19570__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"tv-triangle","tv-triangle",-135047316),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),260,new cljs.core.Keyword(null,"y","y",-1757859776),-275,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_19571=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_19572=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19571);var inst_19573=inst_19572.addChild(inst_19570__$1);var inst_19574__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"tv-square","tv-square",-149929951),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),260,new cljs.core.Keyword(null,"y","y",-1757859776),-275,new cljs.core.Keyword(null,"visible","visible",
-1024216805),false);var inst_19575=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19576=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19575);var inst_19577=inst_19576.addChild(inst_19574__$1);var inst_19578__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"tv-circle","tv-circle",-787039524),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,
"x","x",2099068185),260,new cljs.core.Keyword(null,"y","y",-1757859776),-275,new cljs.core.Keyword(null,"visible","visible",-1024216805),false);var inst_19579=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19580=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19579);var inst_19581=inst_19580.addChild(inst_19578__$1);var inst_19582=biscuit_switch.tv.tv_number_thread.call(null,canvas);var inst_19583=
biscuit_switch.tv.tv_control_thread.call(null,canvas);var state_19631__$1=function(){var statearr_19633=state_19631;statearr_19633[7]=inst_19574__$1;statearr_19633[8]=inst_19570__$1;statearr_19633[9]=inst_19578__$1;statearr_19633[10]=inst_19566__$1;statearr_19633[11]=inst_19581;statearr_19633[12]=inst_19577;statearr_19633[13]=inst_19573;statearr_19633[14]=inst_19583;statearr_19633[15]=inst_19582;statearr_19633[16]=inst_19569;return statearr_19633}();var statearr_19634_19655=state_19631__$1;statearr_19634_19655[2]=
null;statearr_19634_19655[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===2){var inst_19602=cljs.core.deref.call(null,biscuit_switch.tv.state);var inst_19603=(new cljs.core.Keyword(null,"shape","shape",1190694006)).cljs$core$IFn$_invoke$arity$1(inst_19602);var state_19631__$1=state_19631;var G__19635_19656=inst_19603 instanceof cljs.core.Keyword?inst_19603.fqn:null;switch(G__19635_19656){case "triangle":var statearr_19636_19658=state_19631__$1;statearr_19636_19658[1]=
5;break;case "square":var statearr_19637_19659=state_19631__$1;statearr_19637_19659[1]=6;break;case "circle":var statearr_19638_19660=state_19631__$1;statearr_19638_19660[1]=7;break;case "any":var statearr_19639_19661=state_19631__$1;statearr_19639_19661[1]=8;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_19603)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===3){var inst_19574=state_19631[7];var inst_19570=
state_19631[8];var inst_19578=state_19631[9];var inst_19566=state_19631[10];var inst_19617=state_19631[2];var inst_19618=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19619=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19618);var inst_19620=inst_19619.removeChild(inst_19578);var inst_19621=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19622=
(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19621);var inst_19623=inst_19622.removeChild(inst_19574);var inst_19624=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19625=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19624);var inst_19626=inst_19625.removeChild(inst_19570);var inst_19627=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_19628=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_19627);var inst_19629=inst_19628.removeChild(inst_19566);var state_19631__$1=function(){var statearr_19640=state_19631;statearr_19640[17]=inst_19620;statearr_19640[18]=inst_19626;statearr_19640[19]=inst_19623;statearr_19640[20]=inst_19617;return statearr_19640}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_19631__$1,inst_19629)}else if(state_val_19632===4){var inst_19574=
state_19631[7];var inst_19570=state_19631[8];var inst_19578=state_19631[9];var inst_19605=state_19631[2];var inst_19606=cljs.core.nth.call(null,inst_19605,0,null);var inst_19607=cljs.core.nth.call(null,inst_19605,1,null);var inst_19608=cljs.core.nth.call(null,inst_19605,2,null);var inst_19609=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_19570,inst_19606);var inst_19610=infinitelives.pixi.sprite.set_visible_BANG_.call(null,inst_19574,inst_19607);var inst_19611=infinitelives.pixi.sprite.set_visible_BANG_.call(null,
inst_19578,inst_19608);var inst_19612=infinitelives.pixi.events.next_frame.call(null);var state_19631__$1=function(){var statearr_19641=state_19631;statearr_19641[21]=inst_19609;statearr_19641[22]=inst_19610;statearr_19641[23]=inst_19611;return statearr_19641}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19631__$1,9,inst_19612)}else if(state_val_19632===5){var inst_19586=cljs.core.PersistentVector.EMPTY_NODE;var inst_19587=[true,false,false];var inst_19588=new cljs.core.PersistentVector(null,
3,5,inst_19586,inst_19587,null);var state_19631__$1=state_19631;var statearr_19642_19662=state_19631__$1;statearr_19642_19662[2]=inst_19588;statearr_19642_19662[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===6){var inst_19590=cljs.core.PersistentVector.EMPTY_NODE;var inst_19591=[false,true,false];var inst_19592=new cljs.core.PersistentVector(null,3,5,inst_19590,inst_19591,null);var state_19631__$1=state_19631;var statearr_19643_19663=state_19631__$1;statearr_19643_19663[2]=
inst_19592;statearr_19643_19663[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===7){var inst_19594=cljs.core.PersistentVector.EMPTY_NODE;var inst_19595=[false,false,true];var inst_19596=new cljs.core.PersistentVector(null,3,5,inst_19594,inst_19595,null);var state_19631__$1=state_19631;var statearr_19644_19664=state_19631__$1;statearr_19644_19664[2]=inst_19596;statearr_19644_19664[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===
8){var inst_19598=cljs.core.PersistentVector.EMPTY_NODE;var inst_19599=[false,false,false];var inst_19600=new cljs.core.PersistentVector(null,3,5,inst_19598,inst_19599,null);var state_19631__$1=state_19631;var statearr_19645_19665=state_19631__$1;statearr_19645_19665[2]=inst_19600;statearr_19645_19665[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19632===9){var inst_19614=state_19631[2];var state_19631__$1=function(){var statearr_19646=state_19631;statearr_19646[24]=
inst_19614;return statearr_19646}();var statearr_19647_19666=state_19631__$1;statearr_19647_19666[2]=null;statearr_19647_19666[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__=null;var biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____0=function(){var statearr_19651=[null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_19651[0]=biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__;statearr_19651[1]=1;return statearr_19651};var biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____1=function(state_19631){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_19631);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e19652){if(e19652 instanceof Object){var ex__12449__auto__=e19652;var statearr_19653_19667=state_19631;statearr_19653_19667[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_19631);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e19652;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268))){var G__19668=state_19631;state_19631=G__19668;continue}else return ret_value__12447__auto__;break}};biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__=function(state_19631){switch(arguments.length){case 0:return biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____1.call(this,state_19631)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____0;biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$tv$tv_thread_$_state_machine__12446__auto____1;return biscuit_switch$tv$tv_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_19654=f__12558__auto__.call(null);statearr_19654[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_19654}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.circle");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.circle.state!=="undefined");else biscuit_switch.circle.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null));
biscuit_switch.circle.reset=function biscuit_switch$circle$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.circle.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null))};biscuit_switch.circle.pickup_distance=10;biscuit_switch.circle.pickup_distance_squared=biscuit_switch.circle.pickup_distance*biscuit_switch.circle.pickup_distance;biscuit_switch.circle.installed_point=infinitelives.utils.vec2.vec2.call(null,-45,0);
biscuit_switch.circle.drop_point=infinitelives.utils.vec2.vec2.call(null,250,250);biscuit_switch.circle.drop_distance=100;biscuit_switch.circle.drop_distance_squared=biscuit_switch.circle.drop_distance*biscuit_switch.circle.drop_distance;
biscuit_switch.circle.circle_thread=function biscuit_switch$circle$circle_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_19974){var state_val_19975=state_19974[1];if(state_val_19975===7){var inst_19857=state_19974[7];var inst_19866=state_19974[8];var inst_19874=state_19974[2];var inst_19875=
infinitelives.utils.vec2.add.call(null,inst_19866,inst_19874);var inst_19876=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_19857,inst_19875);var state_19974__$1=state_19974;var statearr_19976_20042=state_19974__$1;statearr_19976_20042[2]=inst_19876;statearr_19976_20042[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===20){var state_19974__$1=state_19974;var statearr_19977_20043=state_19974__$1;statearr_19977_20043[2]=null;statearr_19977_20043[1]=
21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===27){var inst_19910=state_19974[2];var state_19974__$1=function(){var statearr_19978=state_19974;statearr_19978[9]=inst_19910;return statearr_19978}();var statearr_19979_20044=state_19974__$1;statearr_19979_20044[2]=null;statearr_19979_20044[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===1){var inst_19857=state_19974[7];var inst_19857__$1=infinitelives.pixi.sprite.make_sprite.call(null,
new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),100,new cljs.core.Keyword(null,"y","y",-1757859776),100);var inst_19858=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19859=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_19858);var inst_19860=inst_19859.addChild(inst_19857__$1);var state_19974__$1=
function(){var statearr_19980=state_19974;statearr_19980[10]=inst_19860;statearr_19980[7]=inst_19857__$1;return statearr_19980}();var statearr_19981_20045=state_19974__$1;statearr_19981_20045[2]=null;statearr_19981_20045[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===24){var inst_19908=infinitelives.pixi.events.next_frame.call(null);var state_19974__$1=state_19974;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19974__$1,27,inst_19908)}else if(state_val_19975===
39){var inst_19948=state_19974[2];var state_19974__$1=function(){var statearr_19982=state_19974;statearr_19982[11]=inst_19948;return statearr_19982}();var statearr_19983_20046=state_19974__$1;statearr_19983_20046[2]=null;statearr_19983_20046[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===4){var inst_19865=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_19866=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_19865);
var inst_19871=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_19872=(new cljs.core.Keyword(null,"facing","facing",-854439413)).cljs$core$IFn$_invoke$arity$1(inst_19871);var state_19974__$1=function(){var statearr_19984=state_19974;statearr_19984[8]=inst_19866;return statearr_19984}();var G__19985_20047=inst_19872 instanceof cljs.core.Keyword?inst_19872.fqn:null;switch(G__19985_20047){case "left":var statearr_19986_20049=state_19974__$1;statearr_19986_20049[1]=8;break;case "right":var statearr_19987_20050=
state_19974__$1;statearr_19987_20050[1]=9;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_19872)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===15){var inst_19963=state_19974[2];var inst_19964=infinitelives.pixi.events.next_frame.call(null);var state_19974__$1=function(){var statearr_19988=state_19974;statearr_19988[12]=inst_19963;return statearr_19988}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_19974__$1,40,inst_19964)}else if(state_val_19975===21){var inst_19919=state_19974[2];var state_19974__$1=state_19974;var statearr_19989_20051=state_19974__$1;statearr_19989_20051[2]=inst_19919;statearr_19989_20051[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===31){var inst_19939=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"pick-up","pick-up",950152600),.5,false);var inst_19940=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,
cljs.core.assoc,new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478));var inst_19941=cljs.core.swap_BANG_.call(null,biscuit_switch.circle.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var inst_19942=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"circle","circle",1903212362));var state_19974__$1=function(){var statearr_19990=state_19974;statearr_19990[13]=inst_19941;statearr_19990[14]=
inst_19942;statearr_19990[15]=inst_19940;statearr_19990[16]=inst_19939;return statearr_19990}();var statearr_19991_20052=state_19974__$1;statearr_19991_20052[2]=null;statearr_19991_20052[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===32){var state_19974__$1=state_19974;var statearr_19992_20053=state_19974__$1;statearr_19992_20053[2]=null;statearr_19992_20053[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===
40){var inst_19966=state_19974[2];var state_19974__$1=function(){var statearr_19993=state_19974;statearr_19993[17]=inst_19966;return statearr_19993}();var statearr_19994_20054=state_19974__$1;statearr_19994_20054[2]=null;statearr_19994_20054[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===33){var inst_19957=state_19974[2];var state_19974__$1=state_19974;var statearr_19995_20055=state_19974__$1;statearr_19995_20055[2]=inst_19957;statearr_19995_20055[1]=
30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===13){var inst_19892=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_19893=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_19892);var inst_19894=infinitelives.utils.vec2.sub.call(null,inst_19893,biscuit_switch.circle.drop_point);var inst_19895=infinitelives.utils.vec2.magnitude_squared.call(null,inst_19894);var inst_19896=inst_19895<biscuit_switch.circle.drop_distance_squared;
var state_19974__$1=state_19974;if(cljs.core.truth_(inst_19896)){var statearr_19996_20056=state_19974__$1;statearr_19996_20056[1]=16}else{var statearr_19997_20057=state_19974__$1;statearr_19997_20057[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===22){var inst_19906=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19974__$1=state_19974;if(cljs.core.truth_(inst_19906)){var statearr_19998_20058=
state_19974__$1;statearr_19998_20058[1]=24}else{var statearr_19999_20059=state_19974__$1;statearr_19999_20059[1]=25}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===36){var inst_19946=infinitelives.pixi.events.next_frame.call(null);var state_19974__$1=state_19974;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_19974__$1,39,inst_19946)}else if(state_val_19975===29){var inst_19959=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,
new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478));var state_19974__$1=state_19974;var statearr_20000_20060=state_19974__$1;statearr_20000_20060[2]=inst_19959;statearr_20000_20060[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===6){var inst_19888=state_19974[2];var inst_19889=cljs.core.deref.call(null,biscuit_switch.circle.state);var inst_19890=(new cljs.core.Keyword(null,"carried","carried",-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_19889);
var state_19974__$1=function(){var statearr_20001=state_19974;statearr_20001[18]=inst_19888;return statearr_20001}();if(cljs.core.truth_(inst_19890)){var statearr_20002_20061=state_19974__$1;statearr_20002_20061[1]=13}else{var statearr_20003_20062=state_19974__$1;statearr_20003_20062[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===28){var inst_19936=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"circle",
"circle",1903212362),new cljs.core.Keyword(null,"pickup","pickup",1997454190));var inst_19937=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19974__$1=function(){var statearr_20004=state_19974;statearr_20004[19]=inst_19936;return statearr_20004}();if(cljs.core.truth_(inst_19937)){var statearr_20005_20063=state_19974__$1;statearr_20005_20063[1]=31}else{var statearr_20006_20064=state_19974__$1;statearr_20006_20064[1]=32}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_19975===25){var state_19974__$1=state_19974;var statearr_20007_20065=state_19974__$1;statearr_20007_20065[2]=null;statearr_20007_20065[1]=26;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===34){var inst_19944=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19974__$1=state_19974;if(cljs.core.truth_(inst_19944)){var statearr_20008_20066=state_19974__$1;
statearr_20008_20066[1]=36}else{var statearr_20009_20067=state_19974__$1;statearr_20009_20067[1]=37}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===17){var inst_19921=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"none","none",1333468478));var state_19974__$1=state_19974;var statearr_20010_20068=state_19974__$1;statearr_20010_20068[2]=inst_19921;statearr_20010_20068[1]=
18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===3){var inst_19857=state_19974[7];var inst_19969=state_19974[2];var inst_19970=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_19971=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_19970);var inst_19972=inst_19971.removeChild(inst_19857);var state_19974__$1=function(){var statearr_20011=state_19974;statearr_20011[20]=
inst_19969;return statearr_20011}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_19974__$1,inst_19972)}else if(state_val_19975===12){var inst_19886=state_19974[2];var state_19974__$1=state_19974;var statearr_20012_20069=state_19974__$1;statearr_20012_20069[2]=inst_19886;statearr_20012_20069[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===2){var inst_19862=cljs.core.deref.call(null,biscuit_switch.circle.state);var inst_19863=(new cljs.core.Keyword(null,
"carried","carried",-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_19862);var state_19974__$1=state_19974;if(cljs.core.truth_(inst_19863)){var statearr_20013_20070=state_19974__$1;statearr_20013_20070[1]=4}else{var statearr_20014_20071=state_19974__$1;statearr_20014_20071[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===23){var inst_19916=state_19974[2];var state_19974__$1=state_19974;var statearr_20015_20072=state_19974__$1;statearr_20015_20072[2]=inst_19916;
statearr_20015_20072[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===35){var inst_19954=state_19974[2];var state_19974__$1=state_19974;var statearr_20016_20073=state_19974__$1;statearr_20016_20073[2]=inst_19954;statearr_20016_20073[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===19){var inst_19857=state_19974[7];var inst_19901=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"put-down",
"put-down",1726684416),.5,false);var inst_19902=function(){var stamp=inst_19857;return function(stamp,inst_19857,inst_19901,state_val_19975,c__12557__auto__){return function(p1__19671_SHARP_){return cljs.core.assoc.call(null,cljs.core.assoc.call(null,p1__19671_SHARP_,new cljs.core.Keyword(null,"carried","carried",-1688658807),false),new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.add.call(null,(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,
biscuit_switch.player.state)),infinitelives.utils.vec2.vec2.call(null,0,20)))}}(stamp,inst_19857,inst_19901,state_val_19975,c__12557__auto__)}();var inst_19903=cljs.core.swap_BANG_.call(null,biscuit_switch.circle.state,inst_19902);var inst_19904=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"none","none",1333468478));var state_19974__$1=function(){var statearr_20017=state_19974;statearr_20017[21]=inst_19903;statearr_20017[22]=inst_19901;statearr_20017[23]=inst_19904;return statearr_20017}();
var statearr_20018_20074=state_19974__$1;statearr_20018_20074[2]=null;statearr_20018_20074[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===11){var inst_19857=state_19974[7];var inst_19884=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_19857,biscuit_switch.circle.drop_point);var state_19974__$1=state_19974;var statearr_20019_20075=state_19974__$1;statearr_20019_20075[2]=inst_19884;statearr_20019_20075[1]=12;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_19975===9){var inst_19869=infinitelives.utils.vec2.vec2.call(null,20,0);var state_19974__$1=state_19974;var statearr_20020_20076=state_19974__$1;statearr_20020_20076[2]=inst_19869;statearr_20020_20076[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===5){var inst_19878=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_19879=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_19878);
var inst_19880=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"circle","circle",1903212362),inst_19879);var state_19974__$1=state_19974;if(inst_19880){var statearr_20021_20077=state_19974__$1;statearr_20021_20077[1]=10}else{var statearr_20022_20078=state_19974__$1;statearr_20022_20078[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===14){var inst_19925=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_19926=(new cljs.core.Keyword(null,
"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_19925);var inst_19927=infinitelives.utils.vec2.get_y.call(null,inst_19926);var inst_19928=inst_19927>20;var inst_19929=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_19930=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_19929);var inst_19931=infinitelives.utils.vec2.sub.call(null,inst_19930,biscuit_switch.circle.drop_point);var inst_19932=infinitelives.utils.vec2.magnitude_squared.call(null,
inst_19931);var inst_19933=inst_19932<biscuit_switch.circle.drop_distance_squared;var inst_19934=inst_19928&&inst_19933;var state_19974__$1=state_19974;if(cljs.core.truth_(inst_19934)){var statearr_20023_20079=state_19974__$1;statearr_20023_20079[1]=28}else{var statearr_20024_20080=state_19974__$1;statearr_20024_20080[1]=29}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===26){var inst_19914=state_19974[2];var state_19974__$1=state_19974;var statearr_20025_20081=
state_19974__$1;statearr_20025_20081[2]=inst_19914;statearr_20025_20081[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===16){var inst_19898=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"circle","circle",1903212362),new cljs.core.Keyword(null,"putdown","putdown",-459181613));var inst_19899=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_19974__$1=
function(){var statearr_20026=state_19974;statearr_20026[24]=inst_19898;return statearr_20026}();if(cljs.core.truth_(inst_19899)){var statearr_20027_20082=state_19974__$1;statearr_20027_20082[1]=19}else{var statearr_20028_20083=state_19974__$1;statearr_20028_20083[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===38){var inst_19952=state_19974[2];var state_19974__$1=state_19974;var statearr_20029_20084=state_19974__$1;statearr_20029_20084[2]=inst_19952;
statearr_20029_20084[1]=35;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===30){var inst_19961=state_19974[2];var state_19974__$1=state_19974;var statearr_20030_20085=state_19974__$1;statearr_20030_20085[2]=inst_19961;statearr_20030_20085[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===10){var inst_19857=state_19974[7];var inst_19882=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_19857,biscuit_switch.circle.installed_point);
var state_19974__$1=state_19974;var statearr_20031_20086=state_19974__$1;statearr_20031_20086[2]=inst_19882;statearr_20031_20086[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===18){var inst_19923=state_19974[2];var state_19974__$1=state_19974;var statearr_20032_20087=state_19974__$1;statearr_20032_20087[2]=inst_19923;statearr_20032_20087[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===37){var state_19974__$1=
state_19974;var statearr_20033_20088=state_19974__$1;statearr_20033_20088[2]=null;statearr_20033_20088[1]=38;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_19975===8){var inst_19867=infinitelives.utils.vec2.vec2.call(null,-20,0);var state_19974__$1=state_19974;var statearr_20034_20089=state_19974__$1;statearr_20034_20089[2]=inst_19867;statearr_20034_20089[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__=null;var biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____0=function(){var statearr_20038=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_20038[0]=biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__;statearr_20038[1]=1;return statearr_20038};var biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____1=
function(state_19974){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_19974);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e20039){if(e20039 instanceof Object){var ex__12449__auto__=e20039;var statearr_20040_20090=state_19974;statearr_20040_20090[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_19974);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e20039;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__20091=state_19974;state_19974=G__20091;continue}else return ret_value__12447__auto__;break}};biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__=function(state_19974){switch(arguments.length){case 0:return biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____0.call(this);
case 1:return biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____1.call(this,state_19974)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____0;biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$circle$circle_thread_$_state_machine__12446__auto____1;return biscuit_switch$circle$circle_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,
c__12557__auto__)}();var state__12559__auto__=function(){var statearr_20041=f__12558__auto__.call(null);statearr_20041[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_20041}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.dough");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("biscuit_switch.money");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("biscuit_switch.rising");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("biscuit_switch.tv");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");
goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.dough.state!=="undefined");else biscuit_switch.dough.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"speed","speed",1257663751),.7],null));
biscuit_switch.dough.reset=function biscuit_switch$dough$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.dough.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"speed","speed",1257663751),.7],null))};biscuit_switch.dough.dough_speed=function biscuit_switch$dough$dough_speed(){return(new cljs.core.Keyword(null,"speed","speed",1257663751)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,biscuit_switch.dough.state))};biscuit_switch.dough.oven_position=440;
biscuit_switch.dough.stamper_position=-30;biscuit_switch.dough.roller_length=560;
biscuit_switch.dough.uncut_thread=function biscuit_switch$dough$uncut_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_20167){var state_val_20168=state_20167[1];if(state_val_20168===1){var inst_20140=state_20167[7];var inst_20140__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,
"dough-flat","dough-flat",-1808851741),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20141=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20142=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20141);var inst_20143=inst_20142.addChild(inst_20140__$1);var inst_20144=0;var inst_20145=
biscuit_switch.dough.stamper_position;var state_20167__$1=function(){var statearr_20169=state_20167;statearr_20169[7]=inst_20140__$1;statearr_20169[8]=inst_20143;statearr_20169[9]=inst_20145;statearr_20169[10]=inst_20144;return statearr_20169}();var statearr_20170_20186=state_20167__$1;statearr_20170_20186[2]=null;statearr_20170_20186[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20168===2){var inst_20144=state_20167[10];var inst_20147=inst_20144<biscuit_switch.dough.oven_position;
var state_20167__$1=state_20167;if(cljs.core.truth_(inst_20147)){var statearr_20171_20187=state_20167__$1;statearr_20171_20187[1]=4}else{var statearr_20172_20188=state_20167__$1;statearr_20172_20188[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20168===3){var inst_20140=state_20167[7];var inst_20162=state_20167[2];var inst_20163=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20164=(new cljs.core.Keyword(null,
"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20163);var inst_20165=inst_20164.removeChild(inst_20140);var state_20167__$1=function(){var statearr_20173=state_20167;statearr_20173[11]=inst_20162;return statearr_20173}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20167__$1,inst_20165)}else if(state_val_20168===4){var inst_20140=state_20167[7];var inst_20145=state_20167[9];var inst_20149=inst_20145+-20;var inst_20150=infinitelives.pixi.sprite.set_pos_BANG_.call(null,
inst_20140,inst_20149);var inst_20151=infinitelives.pixi.events.next_frame.call(null);var state_20167__$1=function(){var statearr_20174=state_20167;statearr_20174[12]=inst_20150;return statearr_20174}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20167__$1,7,inst_20151)}else if(state_val_20168===5){var state_20167__$1=state_20167;var statearr_20175_20189=state_20167__$1;statearr_20175_20189[2]=null;statearr_20175_20189[1]=6;return new cljs.core.Keyword(null,"recur","recur",
-437573268)}else if(state_val_20168===6){var inst_20160=state_20167[2];var state_20167__$1=state_20167;var statearr_20176_20190=state_20167__$1;statearr_20176_20190[2]=inst_20160;statearr_20176_20190[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20168===7){var inst_20145=state_20167[9];var inst_20144=state_20167[10];var inst_20153=state_20167[2];var inst_20154=inst_20144+1;var inst_20155=biscuit_switch.dough.dough_speed.call(null);var inst_20156=inst_20145+inst_20155;
var inst_20144__$1=inst_20154;var inst_20145__$1=inst_20156;var state_20167__$1=function(){var statearr_20177=state_20167;statearr_20177[13]=inst_20153;statearr_20177[9]=inst_20145__$1;statearr_20177[10]=inst_20144__$1;return statearr_20177}();var statearr_20178_20191=state_20167__$1;statearr_20178_20191[2]=null;statearr_20178_20191[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__=
null;var biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____0=function(){var statearr_20182=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_20182[0]=biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__;statearr_20182[1]=1;return statearr_20182};var biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____1=function(state_20167){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_20167);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e20183){if(e20183 instanceof Object){var ex__12449__auto__=e20183;var statearr_20184_20192=state_20167;statearr_20184_20192[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20167);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e20183;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__20193=state_20167;state_20167=G__20193;continue}else return ret_value__12447__auto__;break}};biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__=function(state_20167){switch(arguments.length){case 0:return biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____1.call(this,state_20167)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____0;biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto____1;return biscuit_switch$dough$uncut_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_20185=
f__12558__auto__.call(null);statearr_20185[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_20185}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.dough.biscuit_thread=function biscuit_switch$dough$biscuit_thread(canvas,shape){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_20440){var state_val_20441=state_20440[1];if(state_val_20441===7){var inst_20388=state_20440[7];var inst_20386=state_20440[2];var inst_20387=cljs.core.deref.call(null,
biscuit_switch.oven.state);var inst_20388__$1=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20387);var inst_20389=cljs.core.deref.call(null,biscuit_switch.tv.state);var inst_20390=(new cljs.core.Keyword(null,"shape","shape",1190694006)).cljs$core$IFn$_invoke$arity$1(inst_20389);var state_20440__$1=function(){var statearr_20442=state_20440;statearr_20442[8]=inst_20390;statearr_20442[9]=inst_20386;statearr_20442[7]=inst_20388__$1;return statearr_20442}();
if(cljs.core.truth_(inst_20388__$1)){var statearr_20443_20486=state_20440__$1;statearr_20443_20486[1]=12}else{var statearr_20444_20487=state_20440__$1;statearr_20444_20487[1]=13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===20){var inst_20424=state_20440[2];var state_20440__$1=state_20440;var statearr_20445_20488=state_20440__$1;statearr_20445_20488[2]=inst_20424;statearr_20445_20488[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===
1){var state_20440__$1=state_20440;var G__20446_20489=shape instanceof cljs.core.Keyword?shape.fqn:null;switch(G__20446_20489){case "triangle":var statearr_20447_20491=state_20440__$1;statearr_20447_20491[1]=3;break;case "square":var statearr_20448_20492=state_20440__$1;statearr_20448_20492[1]=4;break;case "circle":var statearr_20449_20493=state_20440__$1;statearr_20449_20493[1]=5;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(shape)].join(""));}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_20441===4){var state_20440__$1=state_20440;var statearr_20450_20494=state_20440__$1;statearr_20450_20494[2]=new cljs.core.Keyword(null,"biscuit-square","biscuit-square",-1852813910);statearr_20450_20494[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===15){var inst_20399=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"money","money",250333921),.5,false);var inst_20400=infinitelives.utils.vec2.vec2.call(null,
400,-40);var inst_20401=infinitelives.utils.vec2.vec2.call(null,0,-1);var inst_20402=biscuit_switch.rising.text.call(null,canvas,"+10",2,inst_20400,inst_20401,100);var inst_20403=biscuit_switch.money.add.call(null,10);var inst_20404=biscuit_switch.tv.one_made.call(null);var state_20440__$1=function(){var statearr_20451=state_20440;statearr_20451[10]=inst_20402;statearr_20451[11]=inst_20403;statearr_20451[12]=inst_20399;return statearr_20451}();var statearr_20452_20495=state_20440__$1;statearr_20452_20495[2]=
inst_20404;statearr_20452_20495[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===21){var inst_20415=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"money-loss","money-loss",-1371047267),.3,false);var inst_20416=infinitelives.utils.vec2.vec2.call(null,400,-40);var inst_20417=infinitelives.utils.vec2.vec2.call(null,0,-1);var inst_20418=biscuit_switch.rising.text.call(null,canvas,"-5",2,inst_20416,inst_20417,100);var inst_20419=
biscuit_switch.money.sub.call(null,5);var state_20440__$1=function(){var statearr_20453=state_20440;statearr_20453[13]=inst_20418;statearr_20453[14]=inst_20415;return statearr_20453}();var statearr_20454_20496=state_20440__$1;statearr_20454_20496[2]=inst_20419;statearr_20454_20496[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===13){var inst_20388=state_20440[7];var state_20440__$1=state_20440;var statearr_20455_20497=state_20440__$1;statearr_20455_20497[2]=
inst_20388;statearr_20455_20497[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===22){var state_20440__$1=state_20440;var statearr_20456_20498=state_20440__$1;statearr_20456_20498[2]=null;statearr_20456_20498[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===6){var inst_20363=state_20440[15];var inst_20365=inst_20363<biscuit_switch.dough.oven_position;var state_20440__$1=state_20440;if(cljs.core.truth_(inst_20365)){var statearr_20457_20499=
state_20440__$1;statearr_20457_20499[1]=8}else{var statearr_20458_20500=state_20440__$1;statearr_20458_20500[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===17){var inst_20345=state_20440[16];var inst_20349=state_20440[17];var inst_20357=state_20440[18];var inst_20353=state_20440[19];var inst_20426=state_20440[2];var inst_20427=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20428=(new cljs.core.Keyword(null,
"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20427);var inst_20429=inst_20428.removeChild(inst_20357);var inst_20430=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20431=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20430);var inst_20432=inst_20431.removeChild(inst_20353);var inst_20433=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_20434=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20433);var inst_20435=inst_20434.removeChild(inst_20349);var inst_20436=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20437=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20436);var inst_20438=inst_20437.removeChild(inst_20345);var state_20440__$1=function(){var statearr_20459=
state_20440;statearr_20459[20]=inst_20429;statearr_20459[21]=inst_20426;statearr_20459[22]=inst_20435;statearr_20459[23]=inst_20432;return statearr_20459}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20440__$1,inst_20438)}else if(state_val_20441===3){var state_20440__$1=state_20440;var statearr_20460_20501=state_20440__$1;statearr_20460_20501[2]=new cljs.core.Keyword(null,"biscuit-triangle","biscuit-triangle",-1865801113);statearr_20460_20501[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_20441===12){var inst_20390=state_20440[8];var inst_20392=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"any","any",1705907423),inst_20390);var inst_20393=cljs.core._EQ_.call(null,shape,inst_20390);var inst_20394=inst_20392||inst_20393;var state_20440__$1=state_20440;var statearr_20461_20502=state_20440__$1;statearr_20461_20502[2]=inst_20394;statearr_20461_20502[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===
2){var inst_20345=state_20440[16];var inst_20349=state_20440[17];var inst_20357=state_20440[18];var inst_20353=state_20440[19];var inst_20344=state_20440[2];var inst_20345__$1=infinitelives.pixi.sprite.make_sprite.call(null,inst_20344,new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20346=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_20347=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20346);var inst_20348=inst_20347.addChild(inst_20345__$1);var inst_20349__$1=infinitelives.pixi.sprite.make_sprite.call(null,inst_20344,new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20350=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_20351=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20350);var inst_20352=inst_20351.addChild(inst_20349__$1);var inst_20353__$1=infinitelives.pixi.sprite.make_sprite.call(null,inst_20344,new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20354=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_20355=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20354);var inst_20356=inst_20355.addChild(inst_20353__$1);var inst_20357__$1=infinitelives.pixi.sprite.make_sprite.call(null,inst_20344,new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20358=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_20359=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20358);var inst_20360=inst_20359.addChild(inst_20357__$1);var inst_20361=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"stamp","stamp",778243046),.6,false);var inst_20362=0;var inst_20363=biscuit_switch.dough.stamper_position;var state_20440__$1=function(){var statearr_20462=state_20440;statearr_20462[16]=inst_20345__$1;statearr_20462[24]=inst_20348;statearr_20462[15]=
inst_20363;statearr_20462[25]=inst_20362;statearr_20462[17]=inst_20349__$1;statearr_20462[18]=inst_20357__$1;statearr_20462[26]=inst_20360;statearr_20462[27]=inst_20352;statearr_20462[19]=inst_20353__$1;statearr_20462[28]=inst_20361;statearr_20462[29]=inst_20356;return statearr_20462}();var statearr_20463_20503=state_20440__$1;statearr_20463_20503[2]=null;statearr_20463_20503[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===23){var inst_20422=state_20440[2];
var state_20440__$1=state_20440;var statearr_20464_20504=state_20440__$1;statearr_20464_20504[2]=inst_20422;statearr_20464_20504[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===19){var state_20440__$1=state_20440;var statearr_20465_20505=state_20440__$1;statearr_20465_20505[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===11){var inst_20363=state_20440[15];var inst_20362=state_20440[25];var inst_20377=state_20440[2];
var inst_20378=inst_20362+1;var inst_20379=biscuit_switch.dough.dough_speed.call(null);var inst_20380=inst_20363+inst_20379;var inst_20362__$1=inst_20378;var inst_20363__$1=inst_20380;var state_20440__$1=function(){var statearr_20467=state_20440;statearr_20467[15]=inst_20363__$1;statearr_20467[25]=inst_20362__$1;statearr_20467[30]=inst_20377;return statearr_20467}();var statearr_20468_20506=state_20440__$1;statearr_20468_20506[2]=null;statearr_20468_20506[1]=6;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_20441===9){var state_20440__$1=state_20440;var statearr_20469_20507=state_20440__$1;statearr_20469_20507[2]=null;statearr_20469_20507[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===5){var state_20440__$1=state_20440;var statearr_20470_20508=state_20440__$1;statearr_20470_20508[2]=new cljs.core.Keyword(null,"biscuit-circle","biscuit-circle",2133836189);statearr_20470_20508[1]=2;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_20441===14){var inst_20397=state_20440[2];var state_20440__$1=state_20440;if(cljs.core.truth_(inst_20397)){var statearr_20471_20509=state_20440__$1;statearr_20471_20509[1]=15}else{var statearr_20472_20510=state_20440__$1;statearr_20472_20510[1]=16}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===16){var inst_20388=state_20440[7];var inst_20406=cljs.core.not.call(null,inst_20388);var state_20440__$1=state_20440;if(inst_20406){var statearr_20473_20511=
state_20440__$1;statearr_20473_20511[1]=18}else{var statearr_20474_20512=state_20440__$1;statearr_20474_20512[1]=19}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===10){var inst_20384=state_20440[2];var state_20440__$1=state_20440;var statearr_20475_20513=state_20440__$1;statearr_20475_20513[2]=inst_20384;statearr_20475_20513[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===18){var inst_20408=infinitelives.utils.sound.play_sound.call(null,
new cljs.core.Keyword(null,"splat-2","splat-2",-1087992596),.3,false);var inst_20409=infinitelives.utils.vec2.vec2.call(null,400,-40);var inst_20410=infinitelives.utils.vec2.vec2.call(null,0,-1);var inst_20411=biscuit_switch.rising.text.call(null,canvas,"-1",2,inst_20409,inst_20410,100);var inst_20412=biscuit_switch.money.sub.call(null,1);var state_20440__$1=function(){var statearr_20476=state_20440;statearr_20476[31]=inst_20408;statearr_20476[32]=inst_20411;return statearr_20476}();var statearr_20477_20514=
state_20440__$1;statearr_20477_20514[2]=inst_20412;statearr_20477_20514[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20441===8){var inst_20345=state_20440[16];var inst_20363=state_20440[15];var inst_20349=state_20440[17];var inst_20357=state_20440[18];var inst_20353=state_20440[19];var inst_20367=inst_20363+20;var inst_20368=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_20345,inst_20367,-30);var inst_20369=inst_20363+0;var inst_20370=infinitelives.pixi.sprite.set_pos_BANG_.call(null,
inst_20349,inst_20369,-20);var inst_20371=inst_20363+0;var inst_20372=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_20353,inst_20371,-40);var inst_20373=inst_20363+-20;var inst_20374=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_20357,inst_20373,-30);var inst_20375=infinitelives.pixi.events.next_frame.call(null);var state_20440__$1=function(){var statearr_20478=state_20440;statearr_20478[33]=inst_20370;statearr_20478[34]=inst_20374;statearr_20478[35]=inst_20368;statearr_20478[36]=
inst_20372;return statearr_20478}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20440__$1,11,inst_20375)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__=null;var biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____0=function(){var statearr_20482=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_20482[0]=biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__;statearr_20482[1]=1;return statearr_20482};var biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____1=function(state_20440){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_20440);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e20483){if(e20483 instanceof Object){var ex__12449__auto__=e20483;var statearr_20484_20515=state_20440;statearr_20484_20515[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20440);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e20483;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__20516=state_20440;state_20440=G__20516;continue}else return ret_value__12447__auto__;break}};biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__=function(state_20440){switch(arguments.length){case 0:return biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____1.call(this,state_20440)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____0;biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto____1;return biscuit_switch$dough$biscuit_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_20485=
f__12558__auto__.call(null);statearr_20485[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_20485}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.dough.dough_thread=function biscuit_switch$dough$dough_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_20643){var state_val_20644=state_20643[1];if(state_val_20644===7){var inst_20599=state_20643[7];var inst_20600=state_20643[8];var inst_20607=state_20643[2];var inst_20608=
inst_20599+1;var inst_20609=biscuit_switch.dough.dough_speed.call(null);var inst_20610=inst_20600+inst_20609;var inst_20599__$1=inst_20608;var inst_20600__$1=inst_20610;var state_20643__$1=function(){var statearr_20645=state_20643;statearr_20645[7]=inst_20599__$1;statearr_20645[9]=inst_20607;statearr_20645[8]=inst_20600__$1;return statearr_20645}();var statearr_20646_20671=state_20643__$1;statearr_20646_20671[2]=null;statearr_20646_20671[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===
1){var inst_20594=state_20643[10];var inst_20594__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"dough-flat","dough-flat",-1808851741),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),0);var inst_20595=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20596=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20595);
var inst_20597=inst_20596.addChild(inst_20594__$1);var inst_20598=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"dough","dough",956398173),.3,false);var inst_20599=0;var inst_20600=-440;var state_20643__$1=function(){var statearr_20647=state_20643;statearr_20647[7]=inst_20599;statearr_20647[10]=inst_20594__$1;statearr_20647[8]=inst_20600;statearr_20647[11]=inst_20597;statearr_20647[12]=inst_20598;return statearr_20647}();var statearr_20648_20672=state_20643__$1;statearr_20648_20672[2]=
null;statearr_20648_20672[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===4){var inst_20594=state_20643[10];var inst_20600=state_20643[8];var inst_20604=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_20594,inst_20600,-30);var inst_20605=infinitelives.pixi.events.next_frame.call(null);var state_20643__$1=function(){var statearr_20649=state_20643;statearr_20649[13]=inst_20604;return statearr_20649}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_20643__$1,7,inst_20605)}else if(state_val_20644===13){var inst_20633=state_20643[2];var state_20643__$1=state_20643;var statearr_20650_20673=state_20643__$1;statearr_20650_20673[2]=inst_20633;statearr_20650_20673[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===6){var inst_20614=state_20643[2];var state_20643__$1=state_20643;var statearr_20651_20674=state_20643__$1;statearr_20651_20674[2]=inst_20614;statearr_20651_20674[1]=3;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_20644===3){var inst_20594=state_20643[10];var inst_20616=state_20643[2];var inst_20617=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20618=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20617);var inst_20619=inst_20618.removeChild(inst_20594);var inst_20620=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_20621=(new cljs.core.Keyword(null,
"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20620);var state_20643__$1=function(){var statearr_20652=state_20643;statearr_20652[14]=inst_20619;statearr_20652[15]=inst_20616;return statearr_20652}();if(cljs.core.truth_(inst_20621)){var statearr_20653_20675=state_20643__$1;statearr_20653_20675[1]=8}else{var statearr_20654_20676=state_20643__$1;statearr_20654_20676[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===12){var inst_20629=
cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_20630=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_20629);var inst_20631=biscuit_switch.dough.biscuit_thread.call(null,canvas,inst_20630);var state_20643__$1=state_20643;var statearr_20655_20677=state_20643__$1;statearr_20655_20677[2]=inst_20631;statearr_20655_20677[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===2){var inst_20600=state_20643[8];
var inst_20602=inst_20600<biscuit_switch.dough.stamper_position;var state_20643__$1=state_20643;if(cljs.core.truth_(inst_20602)){var statearr_20656_20678=state_20643__$1;statearr_20656_20678[1]=4}else{var statearr_20657_20679=state_20643__$1;statearr_20657_20679[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===11){var inst_20627=biscuit_switch.dough.uncut_thread.call(null,canvas);var state_20643__$1=state_20643;var statearr_20658_20680=state_20643__$1;statearr_20658_20680[2]=
inst_20627;statearr_20658_20680[1]=13;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===9){var inst_20635=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"splat","splat",-1469287566),.3,false);var inst_20636=infinitelives.utils.vec2.vec2.call(null,-80,-40);var inst_20637=infinitelives.utils.vec2.vec2.call(null,0,-1);var inst_20638=biscuit_switch.rising.text.call(null,canvas,"-1",2,inst_20636,inst_20637,100);var inst_20639=biscuit_switch.money.sub.call(null,
1);var state_20643__$1=function(){var statearr_20659=state_20643;statearr_20659[16]=inst_20638;statearr_20659[17]=inst_20635;return statearr_20659}();var statearr_20660_20681=state_20643__$1;statearr_20660_20681[2]=inst_20639;statearr_20660_20681[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20644===5){var state_20643__$1=state_20643;var statearr_20661_20682=state_20643__$1;statearr_20661_20682[2]=null;statearr_20661_20682[1]=6;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_20644===10){var inst_20641=state_20643[2];var state_20643__$1=state_20643;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20643__$1,inst_20641)}else if(state_val_20644===8){var inst_20623=cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_20624=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_20623);var inst_20625=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"none","none",
1333468478),inst_20624);var state_20643__$1=state_20643;if(inst_20625){var statearr_20662_20683=state_20643__$1;statearr_20662_20683[1]=11}else{var statearr_20663_20684=state_20643__$1;statearr_20663_20684[1]=12}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__=null;var biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____0=
function(){var statearr_20667=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_20667[0]=biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__;statearr_20667[1]=1;return statearr_20667};var biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____1=function(state_20643){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_20643);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e20668){if(e20668 instanceof Object){var ex__12449__auto__=e20668;var statearr_20669_20685=state_20643;statearr_20669_20685[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20643);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e20668;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__20686=state_20643;state_20643=G__20686;continue}else return ret_value__12447__auto__;break}};biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__=function(state_20643){switch(arguments.length){case 0:return biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____1.call(this,state_20643)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____0;biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$dough$dough_thread_$_state_machine__12446__auto____1;return biscuit_switch$dough$dough_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_20670=
f__12558__auto__.call(null);statearr_20670[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_20670}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.roller");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("biscuit_switch.dough");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");
goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.roller.state!=="undefined");else biscuit_switch.roller.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"running","running",1554969103),false,new cljs.core.Keyword(null,"interval","interval",1708495417),150],null));
biscuit_switch.roller.reset=function biscuit_switch$roller$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.roller.state,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"running","running",1554969103),false,new cljs.core.Keyword(null,"interval","interval",1708495417),150],null))};biscuit_switch.roller.switch_pos=infinitelives.utils.vec2.vec2.call(null,-430,0);biscuit_switch.roller.switch_distance=20;
biscuit_switch.roller.switch_distance_squared=biscuit_switch.roller.switch_distance*biscuit_switch.roller.switch_distance;biscuit_switch.roller.dough_interval=function biscuit_switch$roller$dough_interval(){var x__6487__auto__=40;var y__6488__auto__=(new cljs.core.Keyword(null,"interval","interval",1708495417)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,biscuit_switch.roller.state));return x__6487__auto__>y__6488__auto__?x__6487__auto__:y__6488__auto__};
biscuit_switch.roller.roller_state=function biscuit_switch$roller$roller_state(canvas,roller,siren){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_20806){var state_val_20807=state_20806[1];if(state_val_20807===7){var inst_20770=state_20806[7];var inst_20772=inst_20770>0;var inst_20773=cljs.core.not.call(null,
inst_20772);var state_20806__$1=state_20806;if(inst_20773){var statearr_20808_20837=state_20806__$1;statearr_20808_20837[1]=9}else{var statearr_20809_20838=state_20806__$1;statearr_20809_20838[1]=10}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===1){var state_20806__$1=state_20806;var statearr_20810_20839=state_20806__$1;statearr_20810_20839[2]=null;statearr_20810_20839[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===
4){var inst_20767=console.log("ON");var inst_20768=infinitelives.pixi.sprite.set_texture_BANG_.call(null,siren,new cljs.core.Keyword(null,"siren-green","siren-green",1283242869));var inst_20769=0;var inst_20770=0;var state_20806__$1=function(){var statearr_20811=state_20806;statearr_20811[8]=inst_20767;statearr_20811[9]=inst_20768;statearr_20811[7]=inst_20770;statearr_20811[10]=inst_20769;return statearr_20811}();var statearr_20812_20840=state_20806__$1;statearr_20812_20840[2]=null;statearr_20812_20840[1]=
7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===15){var inst_20770=state_20806[7];var inst_20769=state_20806[10];var inst_20786=state_20806[2];var inst_20787=inst_20769+1;var inst_20788=inst_20770-1;var inst_20769__$1=inst_20787;var inst_20770__$1=inst_20788;var state_20806__$1=function(){var statearr_20813=state_20806;statearr_20813[7]=inst_20770__$1;statearr_20813[11]=inst_20786;statearr_20813[10]=inst_20769__$1;return statearr_20813}();var statearr_20814_20841=
state_20806__$1;statearr_20814_20841[2]=null;statearr_20814_20841[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===13){var state_20806__$1=state_20806;var statearr_20815_20842=state_20806__$1;statearr_20815_20842[2]=null;statearr_20815_20842[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===6){var inst_20797=state_20806[2];var inst_20798=infinitelives.pixi.sprite.set_texture_BANG_.call(null,siren,new cljs.core.Keyword(null,
"siren-grey","siren-grey",1518390838));var inst_20799=infinitelives.pixi.events.next_frame.call(null);var state_20806__$1=function(){var statearr_20816=state_20806;statearr_20816[12]=inst_20798;statearr_20816[13]=inst_20797;return statearr_20816}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20806__$1,16,inst_20799)}else if(state_val_20807===3){var inst_20804=state_20806[2];var state_20806__$1=state_20806;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20806__$1,
inst_20804)}else if(state_val_20807===12){var inst_20784=infinitelives.pixi.events.next_frame.call(null);var state_20806__$1=state_20806;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20806__$1,15,inst_20784)}else if(state_val_20807===2){var inst_20764=cljs.core.deref.call(null,biscuit_switch.roller.state);var inst_20765=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20764);var state_20806__$1=state_20806;if(cljs.core.truth_(inst_20765)){var statearr_20817_20843=
state_20806__$1;statearr_20817_20843[1]=4}else{var statearr_20818_20844=state_20806__$1;statearr_20818_20844[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===11){var inst_20780=state_20806[2];var inst_20781=cljs.core.deref.call(null,biscuit_switch.roller.state);var inst_20782=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20781);var state_20806__$1=function(){var statearr_20819=state_20806;statearr_20819[14]=
inst_20780;return statearr_20819}();if(cljs.core.truth_(inst_20782)){var statearr_20820_20845=state_20806__$1;statearr_20820_20845[1]=12}else{var statearr_20821_20846=state_20806__$1;statearr_20821_20846[1]=13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===9){var inst_20775=biscuit_switch.dough.dough_thread.call(null,canvas);var inst_20776=biscuit_switch.roller.dough_interval.call(null);var inst_20769=0;var inst_20770=inst_20776;var state_20806__$1=function(){var statearr_20822=
state_20806;statearr_20822[15]=inst_20775;statearr_20822[7]=inst_20770;statearr_20822[10]=inst_20769;return statearr_20822}();var statearr_20823_20847=state_20806__$1;statearr_20823_20847[2]=null;statearr_20823_20847[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===5){var state_20806__$1=state_20806;var statearr_20824_20848=state_20806__$1;statearr_20824_20848[2]=null;statearr_20824_20848[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===
14){var inst_20792=state_20806[2];var state_20806__$1=state_20806;var statearr_20825_20849=state_20806__$1;statearr_20825_20849[2]=inst_20792;statearr_20825_20849[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===16){var inst_20801=state_20806[2];var state_20806__$1=function(){var statearr_20826=state_20806;statearr_20826[16]=inst_20801;return statearr_20826}();var statearr_20827_20850=state_20806__$1;statearr_20827_20850[2]=null;statearr_20827_20850[1]=
2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===10){var state_20806__$1=state_20806;var statearr_20828_20851=state_20806__$1;statearr_20828_20851[2]=null;statearr_20828_20851[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_20807===8){var inst_20794=state_20806[2];var state_20806__$1=state_20806;var statearr_20829_20852=state_20806__$1;statearr_20829_20852[2]=inst_20794;statearr_20829_20852[1]=6;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$roller$roller_state_$_state_machine__12446__auto__=null;var biscuit_switch$roller$roller_state_$_state_machine__12446__auto____0=function(){var statearr_20833=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_20833[0]=biscuit_switch$roller$roller_state_$_state_machine__12446__auto__;statearr_20833[1]=
1;return statearr_20833};var biscuit_switch$roller$roller_state_$_state_machine__12446__auto____1=function(state_20806){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_20806);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e20834){if(e20834 instanceof Object){var ex__12449__auto__=e20834;
var statearr_20835_20853=state_20806;statearr_20835_20853[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20806);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e20834;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__20854=state_20806;state_20806=G__20854;continue}else return ret_value__12447__auto__;break}};biscuit_switch$roller$roller_state_$_state_machine__12446__auto__=
function(state_20806){switch(arguments.length){case 0:return biscuit_switch$roller$roller_state_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$roller$roller_state_$_state_machine__12446__auto____1.call(this,state_20806)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$roller$roller_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$roller$roller_state_$_state_machine__12446__auto____0;biscuit_switch$roller$roller_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=
biscuit_switch$roller$roller_state_$_state_machine__12446__auto____1;return biscuit_switch$roller$roller_state_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_20836=f__12558__auto__.call(null);statearr_20836[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_20836}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.roller.roller_thread=function biscuit_switch$roller$roller_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_21029){var state_val_21030=state_21029[1];if(state_val_21030===7){var state_21029__$1=state_21029;var statearr_21031_21069=state_21029__$1;statearr_21031_21069[2]=
new cljs.core.Keyword(null,"off","off",606440789);statearr_21031_21069[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===20){var inst_21005=state_21029[2];var state_21029__$1=state_21029;var statearr_21032_21070=state_21029__$1;statearr_21032_21070[2]=inst_21005;statearr_21032_21070[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===1){var inst_20962=state_21029[7];var inst_20966=state_21029[8];var inst_20962__$1=
infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),-350,new cljs.core.Keyword(null,"y","y",-1757859776),-72);var inst_20963=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20964=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20963);var inst_20965=
inst_20964.addChild(inst_20962__$1);var inst_20966__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"siren-grey","siren-grey",1518390838),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),-400,new cljs.core.Keyword(null,"y","y",-1757859776),-100);var inst_20967=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_20968=(new cljs.core.Keyword(null,"machines","machines",
-762427631)).cljs$core$IFn$_invoke$arity$1(inst_20967);var inst_20969=inst_20968.addChild(inst_20966__$1);var inst_20970=biscuit_switch.roller.roller_state.call(null,canvas,inst_20962__$1,inst_20966__$1);var inst_20971=0;var state_21029__$1=function(){var statearr_21033=state_21029;statearr_21033[7]=inst_20962__$1;statearr_21033[8]=inst_20966__$1;statearr_21033[9]=inst_20965;statearr_21033[10]=inst_20971;statearr_21033[11]=inst_20969;statearr_21033[12]=inst_20970;return statearr_21033}();var statearr_21034_21071=
state_21029__$1;statearr_21034_21071[2]=null;statearr_21034_21071[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===4){var inst_20979=cljs.core.deref.call(null,biscuit_switch.roller.state);var inst_20980=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20979);var state_21029__$1=state_21029;if(cljs.core.truth_(inst_20980)){var statearr_21035_21072=state_21029__$1;statearr_21035_21072[1]=7}else{var statearr_21036_21073=
state_21029__$1;statearr_21036_21073[1]=8}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===15){var inst_20993=state_21029[2];var inst_20994=infinitelives.utils.sound.play_sound.call(null,inst_20993,.8,false);var inst_20995=cljs.core.swap_BANG_.call(null,biscuit_switch.roller.state,cljs.core.update,new cljs.core.Keyword(null,"running","running",1554969103),cljs.core.not);var state_21029__$1=function(){var statearr_21037=state_21029;statearr_21037[13]=inst_20994;
statearr_21037[14]=inst_20995;return statearr_21037}();var statearr_21038_21074=state_21029__$1;statearr_21038_21074[2]=null;statearr_21038_21074[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===21){var inst_21001=state_21029[2];var state_21029__$1=function(){var statearr_21039=state_21029;statearr_21039[15]=inst_21001;return statearr_21039}();var statearr_21040_21075=state_21029__$1;statearr_21040_21075[2]=null;statearr_21040_21075[1]=16;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_21030===13){var state_21029__$1=state_21029;var statearr_21041_21076=state_21029__$1;statearr_21041_21076[2]=new cljs.core.Keyword(null,"off","off",606440789);statearr_21041_21076[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===22){var inst_20971=state_21029[10];var inst_21017=state_21029[2];var inst_21018=inst_20971+1;var inst_20971__$1=inst_21018;var state_21029__$1=function(){var statearr_21042=state_21029;
statearr_21042[10]=inst_20971__$1;statearr_21042[16]=inst_21017;return statearr_21042}();var statearr_21043_21077=state_21029__$1;statearr_21043_21077[2]=null;statearr_21043_21077[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===6){var inst_21014=state_21029[2];var inst_21015=infinitelives.pixi.events.next_frame.call(null);var state_21029__$1=function(){var statearr_21044=state_21029;statearr_21044[17]=inst_21014;return statearr_21044}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_21029__$1,22,inst_21015)}else if(state_val_21030===17){var inst_21007=state_21029[2];var state_21029__$1=state_21029;var statearr_21045_21078=state_21029__$1;statearr_21045_21078[2]=inst_21007;statearr_21045_21078[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===3){var inst_20962=state_21029[7];var inst_20966=state_21029[8];var inst_21021=state_21029[2];var inst_21022=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_21023=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21022);var inst_21024=inst_21023.removeChild(inst_20966);var inst_21025=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21026=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21025);var inst_21027=inst_21026.removeChild(inst_20962);var state_21029__$1=function(){var statearr_21046=
state_21029;statearr_21046[18]=inst_21021;statearr_21046[19]=inst_21024;return statearr_21046}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21029__$1,inst_21027)}else if(state_val_21030===12){var inst_21010=state_21029[2];var state_21029__$1=state_21029;var statearr_21047_21079=state_21029__$1;statearr_21047_21079[2]=inst_21010;statearr_21047_21079[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===2){var inst_20973=cljs.core.deref.call(null,
biscuit_switch.player.state);var inst_20974=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_20973);var inst_20975=infinitelives.utils.vec2.sub.call(null,inst_20974,biscuit_switch.roller.switch_pos);var inst_20976=infinitelives.utils.vec2.magnitude_squared.call(null,inst_20975);var inst_20977=inst_20976<biscuit_switch.roller.switch_distance_squared;var state_21029__$1=state_21029;if(cljs.core.truth_(inst_20977)){var statearr_21048_21080=state_21029__$1;statearr_21048_21080[1]=
4}else{var statearr_21049_21081=state_21029__$1;statearr_21049_21081[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===19){var state_21029__$1=state_21029;var statearr_21050_21082=state_21029__$1;statearr_21050_21082[2]=null;statearr_21050_21082[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===11){var state_21029__$1=state_21029;var statearr_21051_21083=state_21029__$1;statearr_21051_21083[2]=null;statearr_21051_21083[1]=
12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===9){var inst_20984=state_21029[2];var inst_20985=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"roller","roller",-951366925),inst_20984);var inst_20986=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_21029__$1=function(){var statearr_21052=state_21029;statearr_21052[20]=inst_20985;return statearr_21052}();
if(cljs.core.truth_(inst_20986)){var statearr_21053_21084=state_21029__$1;statearr_21053_21084[1]=10}else{var statearr_21054_21085=state_21029__$1;statearr_21054_21085[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===5){var inst_21012=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,"none","none",1333468478));var state_21029__$1=state_21029;var statearr_21055_21086=
state_21029__$1;statearr_21055_21086[2]=inst_21012;statearr_21055_21086[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===14){var state_21029__$1=state_21029;var statearr_21056_21087=state_21029__$1;statearr_21056_21087[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_21056_21087[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===16){var inst_20997=infinitelives.utils.events.is_pressed_QMARK_.call(null,
new cljs.core.Keyword(null,"space","space",348133475));var state_21029__$1=state_21029;if(cljs.core.truth_(inst_20997)){var statearr_21057_21088=state_21029__$1;statearr_21057_21088[1]=18}else{var statearr_21058_21089=state_21029__$1;statearr_21058_21089[1]=19}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===10){var inst_20988=cljs.core.deref.call(null,biscuit_switch.roller.state);var inst_20989=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_20988);
var state_21029__$1=state_21029;if(cljs.core.truth_(inst_20989)){var statearr_21059_21090=state_21029__$1;statearr_21059_21090[1]=13}else{var statearr_21060_21091=state_21029__$1;statearr_21060_21091[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21030===18){var inst_20999=infinitelives.pixi.events.next_frame.call(null);var state_21029__$1=state_21029;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21029__$1,21,inst_20999)}else if(state_val_21030===
8){var state_21029__$1=state_21029;var statearr_21061_21092=state_21029__$1;statearr_21061_21092[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_21061_21092[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__=null;var biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____0=function(){var statearr_21065=
[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_21065[0]=biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__;statearr_21065[1]=1;return statearr_21065};var biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____1=function(state_21029){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_21029);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e21066){if(e21066 instanceof Object){var ex__12449__auto__=e21066;var statearr_21067_21093=state_21029;statearr_21067_21093[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21029);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e21066;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__21094=state_21029;state_21029=G__21094;continue}else return ret_value__12447__auto__;break}};biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__=function(state_21029){switch(arguments.length){case 0:return biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____1.call(this,state_21029)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____0;biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$roller$roller_thread_$_state_machine__12446__auto____1;return biscuit_switch$roller$roller_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_21068=
f__12558__auto__.call(null);statearr_21068[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_21068}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.oven");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.oven.state!=="undefined");else biscuit_switch.oven.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"running","running",1554969103),false],null));biscuit_switch.oven.reset=function biscuit_switch$oven$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.oven.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"running","running",1554969103),false],null))};
biscuit_switch.oven.switch_pos=infinitelives.utils.vec2.vec2.call(null,330,0);biscuit_switch.oven.switch_distance=20;biscuit_switch.oven.switch_distance_squared=biscuit_switch.oven.switch_distance*biscuit_switch.oven.switch_distance;biscuit_switch.oven.flame_count=15;
biscuit_switch.oven.fires=new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fire-1","fire-1",-1381222249),new cljs.core.Keyword(null,"fire-2","fire-2",-926888644),new cljs.core.Keyword(null,"fire-3","fire-3",-770146358),new cljs.core.Keyword(null,"fire-4","fire-4",1007396486)],null);
biscuit_switch.oven.oven_state=function biscuit_switch$oven$oven_state(canvas,oven){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_21421){var state_val_21422=state_21421[1];if(state_val_21422===7){var inst_21310=state_21421[7];var inst_21311=state_21421[8];var inst_21313=inst_21311<inst_21310;var inst_21314=
inst_21313;var state_21421__$1=state_21421;if(cljs.core.truth_(inst_21314)){var statearr_21423_21491=state_21421__$1;statearr_21423_21491[1]=9}else{var statearr_21424_21492=state_21421__$1;statearr_21424_21492[1]=10}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===20){var inst_21302=state_21421[9];var inst_21351=cljs.core.rand_nth.call(null,inst_21302);var inst_21352=cljs.core.rand_nth.call(null,biscuit_switch.oven.fires);var inst_21353=infinitelives.pixi.sprite.set_texture_BANG_.call(null,
inst_21351,inst_21352);var inst_21354=cljs.core.rand_nth.call(null,inst_21302);var inst_21355=infinitelives.utils.math.rand_between.call(null,370,460);var inst_21356=infinitelives.pixi.sprite.set_x_BANG_.call(null,inst_21354,inst_21355);var inst_21357=infinitelives.pixi.events.next_frame.call(null);var state_21421__$1=function(){var statearr_21425=state_21421;statearr_21425[10]=inst_21356;statearr_21425[11]=inst_21353;return statearr_21425}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_21421__$1,23,inst_21357)}else if(state_val_21422===27){var inst_21372=state_21421[12];var inst_21387=state_21421[13];var inst_21387__$1=cljs.core.seq.call(null,inst_21372);var state_21421__$1=function(){var statearr_21426=state_21421;statearr_21426[13]=inst_21387__$1;return statearr_21426}();if(inst_21387__$1){var statearr_21427_21493=state_21421__$1;statearr_21427_21493[1]=29}else{var statearr_21428_21494=state_21421__$1;statearr_21428_21494[1]=30}return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_21422===1){var state_21421__$1=state_21421;var statearr_21429_21495=state_21421__$1;statearr_21429_21495[2]=null;statearr_21429_21495[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===24){var inst_21375=state_21421[14];var inst_21374=state_21421[15];var inst_21377=inst_21375<inst_21374;var inst_21378=inst_21377;var state_21421__$1=state_21421;if(cljs.core.truth_(inst_21378)){var statearr_21430_21496=state_21421__$1;statearr_21430_21496[1]=
26}else{var statearr_21431_21497=state_21421__$1;statearr_21431_21497[1]=27}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===4){var inst_21302=state_21421[9];var inst_21298=console.log("ON");var inst_21299=function(){return function(inst_21302,inst_21298,state_val_21422,c__12557__auto__){return function(){return infinitelives.pixi.sprite.make_sprite.call(null,cljs.core.rand_nth.call(null,biscuit_switch.oven.fires),new cljs.core.Keyword(null,"scale","scale",-230427353),
4,new cljs.core.Keyword(null,"x","x",2099068185),infinitelives.utils.math.rand_between.call(null,370,460),new cljs.core.Keyword(null,"y","y",-1757859776),15)}}(inst_21302,inst_21298,state_val_21422,c__12557__auto__)}();var inst_21300=cljs.core.range.call(null,biscuit_switch.oven.flame_count);var inst_21301=cljs.core.map.call(null,inst_21299,inst_21300);var inst_21302__$1=cljs.core.doall.call(null,inst_21301);var inst_21307=cljs.core.seq.call(null,inst_21302__$1);var inst_21308=inst_21307;var inst_21309=
null;var inst_21310=0;var inst_21311=0;var state_21421__$1=function(){var statearr_21432=state_21421;statearr_21432[9]=inst_21302__$1;statearr_21432[16]=inst_21309;statearr_21432[7]=inst_21310;statearr_21432[8]=inst_21311;statearr_21432[17]=inst_21308;statearr_21432[18]=inst_21298;return statearr_21432}();var statearr_21433_21498=state_21421__$1;statearr_21433_21498[2]=null;statearr_21433_21498[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===15){var inst_21323=
state_21421[19];var inst_21327=cljs.core.chunk_first.call(null,inst_21323);var inst_21328=cljs.core.chunk_rest.call(null,inst_21323);var inst_21329=cljs.core.count.call(null,inst_21327);var inst_21308=inst_21328;var inst_21309=inst_21327;var inst_21310=inst_21329;var inst_21311=0;var state_21421__$1=function(){var statearr_21434=state_21421;statearr_21434[16]=inst_21309;statearr_21434[7]=inst_21310;statearr_21434[8]=inst_21311;statearr_21434[17]=inst_21308;return statearr_21434}();var statearr_21435_21499=
state_21421__$1;statearr_21435_21499[2]=null;statearr_21435_21499[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===21){var state_21421__$1=state_21421;var statearr_21436_21500=state_21421__$1;statearr_21436_21500[2]=null;statearr_21436_21500[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===31){var inst_21406=state_21421[2];var state_21421__$1=state_21421;var statearr_21437_21501=state_21421__$1;statearr_21437_21501[2]=
inst_21406;statearr_21437_21501[1]=28;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===32){var inst_21387=state_21421[13];var inst_21391=cljs.core.chunk_first.call(null,inst_21387);var inst_21392=cljs.core.chunk_rest.call(null,inst_21387);var inst_21393=cljs.core.count.call(null,inst_21391);var inst_21372=inst_21392;var inst_21373=inst_21391;var inst_21374=inst_21393;var inst_21375=0;var state_21421__$1=function(){var statearr_21438=state_21421;statearr_21438[12]=
inst_21372;statearr_21438[20]=inst_21373;statearr_21438[14]=inst_21375;statearr_21438[15]=inst_21374;return statearr_21438}();var statearr_21439_21502=state_21421__$1;statearr_21439_21502[2]=null;statearr_21439_21502[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===33){var inst_21387=state_21421[13];var inst_21396=cljs.core.first.call(null,inst_21387);var inst_21397=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_21398=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21397);var inst_21399=inst_21398.removeChild(inst_21396);var inst_21400=cljs.core.next.call(null,inst_21387);var inst_21372=inst_21400;var inst_21373=null;var inst_21374=0;var inst_21375=0;var state_21421__$1=function(){var statearr_21440=state_21421;statearr_21440[21]=inst_21399;statearr_21440[12]=inst_21372;statearr_21440[20]=inst_21373;statearr_21440[14]=inst_21375;statearr_21440[15]=
inst_21374;return statearr_21440}();var statearr_21441_21503=state_21421__$1;statearr_21441_21503[2]=null;statearr_21441_21503[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===13){var state_21421__$1=state_21421;var statearr_21442_21504=state_21421__$1;statearr_21442_21504[2]=null;statearr_21442_21504[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===22){var inst_21363=state_21421[2];var state_21421__$1=state_21421;
var statearr_21443_21505=state_21421__$1;statearr_21443_21505[2]=inst_21363;statearr_21443_21505[1]=19;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===29){var inst_21387=state_21421[13];var inst_21389=cljs.core.chunked_seq_QMARK_.call(null,inst_21387);var state_21421__$1=state_21421;if(inst_21389){var statearr_21444_21506=state_21421__$1;statearr_21444_21506[1]=32}else{var statearr_21445_21507=state_21421__$1;statearr_21445_21507[1]=33}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_21422===6){var inst_21413=state_21421[2];var inst_21414=infinitelives.pixi.events.next_frame.call(null);var state_21421__$1=function(){var statearr_21446=state_21421;statearr_21446[22]=inst_21413;return statearr_21446}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21421__$1,35,inst_21414)}else if(state_val_21422===28){var inst_21408=state_21421[2];var state_21421__$1=state_21421;var statearr_21447_21508=state_21421__$1;statearr_21447_21508[2]=
inst_21408;statearr_21447_21508[1]=25;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===25){var inst_21410=state_21421[2];var state_21421__$1=state_21421;var statearr_21448_21509=state_21421__$1;statearr_21448_21509[2]=inst_21410;statearr_21448_21509[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===34){var inst_21403=state_21421[2];var state_21421__$1=state_21421;var statearr_21449_21510=state_21421__$1;statearr_21449_21510[2]=
inst_21403;statearr_21449_21510[1]=31;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===17){var inst_21339=state_21421[2];var state_21421__$1=state_21421;var statearr_21450_21511=state_21421__$1;statearr_21450_21511[2]=inst_21339;statearr_21450_21511[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===3){var inst_21419=state_21421[2];var state_21421__$1=state_21421;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_21421__$1,inst_21419)}else if(state_val_21422===12){var inst_21323=state_21421[19];var inst_21325=cljs.core.chunked_seq_QMARK_.call(null,inst_21323);var state_21421__$1=state_21421;if(inst_21325){var statearr_21451_21512=state_21421__$1;statearr_21451_21512[1]=15}else{var statearr_21452_21513=state_21421__$1;statearr_21452_21513[1]=16}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===2){var inst_21295=cljs.core.deref.call(null,biscuit_switch.oven.state);
var inst_21296=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_21295);var state_21421__$1=state_21421;if(cljs.core.truth_(inst_21296)){var statearr_21453_21514=state_21421__$1;statearr_21453_21514[1]=4}else{var statearr_21454_21515=state_21421__$1;statearr_21454_21515[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===23){var inst_21359=state_21421[2];var state_21421__$1=function(){var statearr_21455=state_21421;
statearr_21455[23]=inst_21359;return statearr_21455}();var statearr_21456_21516=state_21421__$1;statearr_21456_21516[2]=null;statearr_21456_21516[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===35){var inst_21416=state_21421[2];var state_21421__$1=function(){var statearr_21457=state_21421;statearr_21457[24]=inst_21416;return statearr_21457}();var statearr_21458_21517=state_21421__$1;statearr_21458_21517[2]=null;statearr_21458_21517[1]=2;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_21422===19){var inst_21302=state_21421[9];var inst_21365=state_21421[2];var inst_21366=console.log("OFF");var inst_21371=cljs.core.seq.call(null,inst_21302);var inst_21372=inst_21371;var inst_21373=null;var inst_21374=0;var inst_21375=0;var state_21421__$1=function(){var statearr_21462=state_21421;statearr_21462[25]=inst_21366;statearr_21462[12]=inst_21372;statearr_21462[20]=inst_21373;statearr_21462[26]=inst_21365;statearr_21462[14]=inst_21375;statearr_21462[15]=
inst_21374;return statearr_21462}();var statearr_21463_21518=state_21421__$1;statearr_21463_21518[2]=null;statearr_21463_21518[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===11){var inst_21344=state_21421[2];var state_21421__$1=state_21421;var statearr_21464_21519=state_21421__$1;statearr_21464_21519[2]=inst_21344;statearr_21464_21519[1]=8;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===9){var inst_21309=state_21421[16];
var inst_21310=state_21421[7];var inst_21311=state_21421[8];var inst_21308=state_21421[17];var inst_21316=cljs.core._nth.call(null,inst_21309,inst_21311);var inst_21317=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21318=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21317);var inst_21319=inst_21318.addChild(inst_21316);var inst_21320=inst_21311+1;var tmp21459=inst_21309;var tmp21460=inst_21310;
var tmp21461=inst_21308;var inst_21308__$1=tmp21461;var inst_21309__$1=tmp21459;var inst_21310__$1=tmp21460;var inst_21311__$1=inst_21320;var state_21421__$1=function(){var statearr_21465=state_21421;statearr_21465[27]=inst_21319;statearr_21465[16]=inst_21309__$1;statearr_21465[7]=inst_21310__$1;statearr_21465[8]=inst_21311__$1;statearr_21465[17]=inst_21308__$1;return statearr_21465}();var statearr_21466_21520=state_21421__$1;statearr_21466_21520[2]=null;statearr_21466_21520[1]=7;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_21422===5){var state_21421__$1=state_21421;var statearr_21470_21521=state_21421__$1;statearr_21470_21521[2]=null;statearr_21470_21521[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===14){var inst_21342=state_21421[2];var state_21421__$1=state_21421;var statearr_21471_21522=state_21421__$1;statearr_21471_21522[2]=inst_21342;statearr_21471_21522[1]=11;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===
26){var inst_21372=state_21421[12];var inst_21373=state_21421[20];var inst_21375=state_21421[14];var inst_21374=state_21421[15];var inst_21380=cljs.core._nth.call(null,inst_21373,inst_21375);var inst_21381=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21382=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21381);var inst_21383=inst_21382.removeChild(inst_21380);var inst_21384=inst_21375+1;var tmp21467=
inst_21372;var tmp21468=inst_21373;var tmp21469=inst_21374;var inst_21372__$1=tmp21467;var inst_21373__$1=tmp21468;var inst_21374__$1=tmp21469;var inst_21375__$1=inst_21384;var state_21421__$1=function(){var statearr_21472=state_21421;statearr_21472[12]=inst_21372__$1;statearr_21472[20]=inst_21373__$1;statearr_21472[14]=inst_21375__$1;statearr_21472[15]=inst_21374__$1;statearr_21472[28]=inst_21383;return statearr_21472}();var statearr_21473_21523=state_21421__$1;statearr_21473_21523[2]=null;statearr_21473_21523[1]=
24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===16){var inst_21323=state_21421[19];var inst_21332=cljs.core.first.call(null,inst_21323);var inst_21333=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21334=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21333);var inst_21335=inst_21334.addChild(inst_21332);var inst_21336=cljs.core.next.call(null,inst_21323);
var inst_21308=inst_21336;var inst_21309=null;var inst_21310=0;var inst_21311=0;var state_21421__$1=function(){var statearr_21474=state_21421;statearr_21474[16]=inst_21309;statearr_21474[7]=inst_21310;statearr_21474[29]=inst_21335;statearr_21474[8]=inst_21311;statearr_21474[17]=inst_21308;return statearr_21474}();var statearr_21475_21524=state_21421__$1;statearr_21475_21524[2]=null;statearr_21475_21524[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===30){var state_21421__$1=
state_21421;var statearr_21476_21525=state_21421__$1;statearr_21476_21525[2]=null;statearr_21476_21525[1]=31;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===10){var inst_21323=state_21421[19];var inst_21308=state_21421[17];var inst_21323__$1=cljs.core.seq.call(null,inst_21308);var state_21421__$1=function(){var statearr_21477=state_21421;statearr_21477[19]=inst_21323__$1;return statearr_21477}();if(inst_21323__$1){var statearr_21478_21526=state_21421__$1;statearr_21478_21526[1]=
12}else{var statearr_21479_21527=state_21421__$1;statearr_21479_21527[1]=13}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===18){var inst_21348=cljs.core.deref.call(null,biscuit_switch.oven.state);var inst_21349=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_21348);var state_21421__$1=state_21421;if(cljs.core.truth_(inst_21349)){var statearr_21480_21528=state_21421__$1;statearr_21480_21528[1]=20}else{var statearr_21481_21529=
state_21421__$1;statearr_21481_21529[1]=21}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21422===8){var inst_21346=state_21421[2];var state_21421__$1=function(){var statearr_21482=state_21421;statearr_21482[30]=inst_21346;return statearr_21482}();var statearr_21483_21530=state_21421__$1;statearr_21483_21530[2]=null;statearr_21483_21530[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,
c__12557__auto__){return function(){var biscuit_switch$oven$oven_state_$_state_machine__12446__auto__=null;var biscuit_switch$oven$oven_state_$_state_machine__12446__auto____0=function(){var statearr_21487=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_21487[0]=biscuit_switch$oven$oven_state_$_state_machine__12446__auto__;statearr_21487[1]=1;return statearr_21487};var biscuit_switch$oven$oven_state_$_state_machine__12446__auto____1=
function(state_21421){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_21421);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e21488){if(e21488 instanceof Object){var ex__12449__auto__=e21488;var statearr_21489_21531=state_21421;statearr_21489_21531[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_21421);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e21488;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__21532=state_21421;state_21421=G__21532;continue}else return ret_value__12447__auto__;break}};biscuit_switch$oven$oven_state_$_state_machine__12446__auto__=function(state_21421){switch(arguments.length){case 0:return biscuit_switch$oven$oven_state_$_state_machine__12446__auto____0.call(this);
case 1:return biscuit_switch$oven$oven_state_$_state_machine__12446__auto____1.call(this,state_21421)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$oven$oven_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$oven$oven_state_$_state_machine__12446__auto____0;biscuit_switch$oven$oven_state_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$oven$oven_state_$_state_machine__12446__auto____1;return biscuit_switch$oven$oven_state_$_state_machine__12446__auto__}()}(switch__12445__auto__,
c__12557__auto__)}();var state__12559__auto__=function(){var statearr_21490=f__12558__auto__.call(null);statearr_21490[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_21490}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};
biscuit_switch.oven.oven_thread=function biscuit_switch$oven$oven_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_21693){var state_val_21694=state_21693[1];if(state_val_21694===7){var state_21693__$1=state_21693;var statearr_21695_21733=state_21693__$1;statearr_21695_21733[2]=new cljs.core.Keyword(null,
"off","off",606440789);statearr_21695_21733[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===20){var inst_21672=state_21693[2];var state_21693__$1=state_21693;var statearr_21696_21734=state_21693__$1;statearr_21696_21734[2]=inst_21672;statearr_21696_21734[1]=17;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===1){var inst_21633=state_21693[7];var inst_21633__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,
"oven","oven",1624209912),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),450,new cljs.core.Keyword(null,"y","y",-1757859776),-148);var inst_21634=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21635=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21634);var inst_21636=inst_21635.addChild(inst_21633__$1);var inst_21637=biscuit_switch.oven.oven_state.call(null,
canvas,inst_21633__$1);var inst_21638=0;var state_21693__$1=function(){var statearr_21697=state_21693;statearr_21697[8]=inst_21636;statearr_21697[9]=inst_21638;statearr_21697[10]=inst_21637;statearr_21697[7]=inst_21633__$1;return statearr_21697}();var statearr_21698_21735=state_21693__$1;statearr_21698_21735[2]=null;statearr_21698_21735[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===4){var inst_21646=cljs.core.deref.call(null,biscuit_switch.oven.state);
var inst_21647=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_21646);var state_21693__$1=state_21693;if(cljs.core.truth_(inst_21647)){var statearr_21699_21736=state_21693__$1;statearr_21699_21736[1]=7}else{var statearr_21700_21737=state_21693__$1;statearr_21700_21737[1]=8}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===15){var inst_21660=state_21693[2];var inst_21661=infinitelives.utils.sound.play_sound.call(null,
inst_21660,.8,false);var inst_21662=cljs.core.swap_BANG_.call(null,biscuit_switch.oven.state,cljs.core.update,new cljs.core.Keyword(null,"running","running",1554969103),cljs.core.not);var state_21693__$1=function(){var statearr_21701=state_21693;statearr_21701[11]=inst_21662;statearr_21701[12]=inst_21661;return statearr_21701}();var statearr_21702_21738=state_21693__$1;statearr_21702_21738[2]=null;statearr_21702_21738[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===
21){var inst_21668=state_21693[2];var state_21693__$1=function(){var statearr_21703=state_21693;statearr_21703[13]=inst_21668;return statearr_21703}();var statearr_21704_21739=state_21693__$1;statearr_21704_21739[2]=null;statearr_21704_21739[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===13){var state_21693__$1=state_21693;var statearr_21705_21740=state_21693__$1;statearr_21705_21740[2]=new cljs.core.Keyword(null,"off","off",606440789);statearr_21705_21740[1]=
15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===22){var inst_21638=state_21693[9];var inst_21684=state_21693[2];var inst_21685=inst_21638+1;var inst_21638__$1=inst_21685;var state_21693__$1=function(){var statearr_21706=state_21693;statearr_21706[9]=inst_21638__$1;statearr_21706[14]=inst_21684;return statearr_21706}();var statearr_21707_21741=state_21693__$1;statearr_21707_21741[2]=null;statearr_21707_21741[1]=2;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_21694===6){var inst_21681=state_21693[2];var inst_21682=infinitelives.pixi.events.next_frame.call(null);var state_21693__$1=function(){var statearr_21708=state_21693;statearr_21708[15]=inst_21681;return statearr_21708}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21693__$1,22,inst_21682)}else if(state_val_21694===17){var inst_21674=state_21693[2];var state_21693__$1=state_21693;var statearr_21709_21742=state_21693__$1;statearr_21709_21742[2]=
inst_21674;statearr_21709_21742[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===3){var inst_21633=state_21693[7];var inst_21688=state_21693[2];var inst_21689=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_21690=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_21689);var inst_21691=inst_21690.removeChild(inst_21633);var state_21693__$1=function(){var statearr_21710=
state_21693;statearr_21710[16]=inst_21688;return statearr_21710}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21693__$1,inst_21691)}else if(state_val_21694===12){var inst_21677=state_21693[2];var state_21693__$1=state_21693;var statearr_21711_21743=state_21693__$1;statearr_21711_21743[2]=inst_21677;statearr_21711_21743[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===2){var inst_21640=cljs.core.deref.call(null,biscuit_switch.player.state);
var inst_21641=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_21640);var inst_21642=infinitelives.utils.vec2.sub.call(null,inst_21641,biscuit_switch.oven.switch_pos);var inst_21643=infinitelives.utils.vec2.magnitude_squared.call(null,inst_21642);var inst_21644=inst_21643<biscuit_switch.oven.switch_distance_squared;var state_21693__$1=state_21693;if(cljs.core.truth_(inst_21644)){var statearr_21712_21744=state_21693__$1;statearr_21712_21744[1]=4}else{var statearr_21713_21745=
state_21693__$1;statearr_21713_21745[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===19){var state_21693__$1=state_21693;var statearr_21714_21746=state_21693__$1;statearr_21714_21746[2]=null;statearr_21714_21746[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===11){var state_21693__$1=state_21693;var statearr_21715_21747=state_21693__$1;statearr_21715_21747[2]=null;statearr_21715_21747[1]=12;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_21694===9){var inst_21651=state_21693[2];var inst_21652=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"oven","oven",1624209912),inst_21651);var inst_21653=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_21693__$1=function(){var statearr_21716=state_21693;statearr_21716[17]=inst_21652;return statearr_21716}();if(cljs.core.truth_(inst_21653)){var statearr_21717_21748=
state_21693__$1;statearr_21717_21748[1]=10}else{var statearr_21718_21749=state_21693__$1;statearr_21718_21749[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===5){var inst_21679=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"oven","oven",1624209912),new cljs.core.Keyword(null,"none","none",1333468478));var state_21693__$1=state_21693;var statearr_21719_21750=state_21693__$1;statearr_21719_21750[2]=inst_21679;
statearr_21719_21750[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===14){var state_21693__$1=state_21693;var statearr_21720_21751=state_21693__$1;statearr_21720_21751[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_21720_21751[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===16){var inst_21664=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));
var state_21693__$1=state_21693;if(cljs.core.truth_(inst_21664)){var statearr_21721_21752=state_21693__$1;statearr_21721_21752[1]=18}else{var statearr_21722_21753=state_21693__$1;statearr_21722_21753[1]=19}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===10){var inst_21655=cljs.core.deref.call(null,biscuit_switch.oven.state);var inst_21656=(new cljs.core.Keyword(null,"running","running",1554969103)).cljs$core$IFn$_invoke$arity$1(inst_21655);var state_21693__$1=
state_21693;if(cljs.core.truth_(inst_21656)){var statearr_21723_21754=state_21693__$1;statearr_21723_21754[1]=13}else{var statearr_21724_21755=state_21693__$1;statearr_21724_21755[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_21694===18){var inst_21666=infinitelives.pixi.events.next_frame.call(null);var state_21693__$1=state_21693;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21693__$1,21,inst_21666)}else if(state_val_21694===8){var state_21693__$1=
state_21693;var statearr_21725_21756=state_21693__$1;statearr_21725_21756[2]=new cljs.core.Keyword(null,"on","on",173873944);statearr_21725_21756[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__=null;var biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____0=function(){var statearr_21729=[null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_21729[0]=biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__;statearr_21729[1]=1;return statearr_21729};var biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____1=function(state_21693){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_21693);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e21730){if(e21730 instanceof Object){var ex__12449__auto__=e21730;var statearr_21731_21757=state_21693;statearr_21731_21757[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21693);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e21730;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268))){var G__21758=state_21693;state_21693=G__21758;continue}else return ret_value__12447__auto__;break}};biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__=function(state_21693){switch(arguments.length){case 0:return biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____1.call(this,state_21693)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____0;biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$oven$oven_thread_$_state_machine__12446__auto____1;return biscuit_switch$oven$oven_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_21732=f__12558__auto__.call(null);statearr_21732[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;
return statearr_21732}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.player");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("biscuit_switch.assets");goog.require("biscuit_switch.game");goog.require("infinitelives.pixi.canvas");
goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");
biscuit_switch.player.p_boid=new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"mass","mass",-2138950046),1,new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,0,120),new cljs.core.Keyword(null,"vel","vel",-110770822),infinitelives.utils.vec2.vec2.call(null,0,0),new cljs.core.Keyword(null,"max-force","max-force",-983508172),5,new cljs.core.Keyword(null,"max-speed","max-speed",-997417461),7],null);biscuit_switch.player.anim_speed_empty=10;
biscuit_switch.player.anim_speed_carrying=20;biscuit_switch.player.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,0,0),new cljs.core.Keyword(null,"facing","facing",-854439413),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.Keyword(null,"carrying","carrying",-911143205),new cljs.core.Keyword(null,"none","none",1333468478)],null));
biscuit_switch.player.reset=function biscuit_switch$player$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.player.state,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,0,0),new cljs.core.Keyword(null,"facing","facing",-854439413),new cljs.core.Keyword(null,"left","left",-399115937),new cljs.core.Keyword(null,"carrying","carrying",-911143205),new cljs.core.Keyword(null,"none","none",1333468478)],null))};
biscuit_switch.player.left_QMARK_=function biscuit_switch$player$left_QMARK_(){return infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"left","left",-399115937))};biscuit_switch.player.right_QMARK_=function biscuit_switch$player$right_QMARK_(){return infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"right","right",-452581833))};
biscuit_switch.player.up_QMARK_=function biscuit_switch$player$up_QMARK_(){return infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"up","up",-269712113))};biscuit_switch.player.down_QMARK_=function biscuit_switch$player$down_QMARK_(){return infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"down","down",1565245570))};
biscuit_switch.player.drag=function biscuit_switch$player$drag(bd){return cljs.core.assoc.call(null,bd,new cljs.core.Keyword(null,"vel","vel",-110770822),infinitelives.utils.vec2.scale.call(null,(new cljs.core.Keyword(null,"vel","vel",-110770822)).cljs$core$IFn$_invoke$arity$1(bd),cljs.core.truth_(function(){var or__6156__auto__=biscuit_switch.player.left_QMARK_.call(null);if(cljs.core.truth_(or__6156__auto__))return or__6156__auto__;else{var or__6156__auto____$1=biscuit_switch.player.right_QMARK_.call(null);
if(cljs.core.truth_(or__6156__auto____$1))return or__6156__auto____$1;else{var or__6156__auto____$2=biscuit_switch.player.up_QMARK_.call(null);if(cljs.core.truth_(or__6156__auto____$2))return or__6156__auto____$2;else return biscuit_switch.player.down_QMARK_.call(null)}}}())?.95:.9))};biscuit_switch.player.carry=function biscuit_switch$player$carry(s){return cljs.core.swap_BANG_.call(null,biscuit_switch.player.state,cljs.core.assoc,new cljs.core.Keyword(null,"carrying","carrying",-911143205),s)};
biscuit_switch.player.limit_y=function biscuit_switch$player$limit_y(p__21761,cmp,limit){var map__21766=p__21761;var map__21766__$1=(!(map__21766==null)?map__21766.cljs$lang$protocol_mask$partition0$&64||map__21766.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__21766):map__21766;var bd=map__21766__$1;var pos=cljs.core.get.call(null,map__21766__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var vel=cljs.core.get.call(null,map__21766__$1,new cljs.core.Keyword(null,
"vel","vel",-110770822));var vec__21768=infinitelives.utils.vec2.as_vector.call(null,pos);var x=cljs.core.nth.call(null,vec__21768,0,null);var y=cljs.core.nth.call(null,vec__21768,1,null);var vec__21769=infinitelives.utils.vec2.as_vector.call(null,vel);var vx=cljs.core.nth.call(null,vec__21769,0,null);var vy=cljs.core.nth.call(null,vec__21769,1,null);if(cljs.core.truth_(cmp.call(null,y,limit)))return cljs.core.assoc.call(null,bd,new cljs.core.Keyword(null,"vel","vel",-110770822),infinitelives.utils.vec2.vec2.call(null,
vx,0),new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,x,limit));else return bd};
biscuit_switch.player.limit_x=function biscuit_switch$player$limit_x(p__21770,cmp,limit){var map__21775=p__21770;var map__21775__$1=(!(map__21775==null)?map__21775.cljs$lang$protocol_mask$partition0$&64||map__21775.cljs$core$ISeq$?true:false:false)?cljs.core.apply.call(null,cljs.core.hash_map,map__21775):map__21775;var bd=map__21775__$1;var pos=cljs.core.get.call(null,map__21775__$1,new cljs.core.Keyword(null,"pos","pos",-864607220));var vel=cljs.core.get.call(null,map__21775__$1,new cljs.core.Keyword(null,
"vel","vel",-110770822));var vec__21777=infinitelives.utils.vec2.as_vector.call(null,pos);var x=cljs.core.nth.call(null,vec__21777,0,null);var y=cljs.core.nth.call(null,vec__21777,1,null);var vec__21778=infinitelives.utils.vec2.as_vector.call(null,vel);var vx=cljs.core.nth.call(null,vec__21778,0,null);var vy=cljs.core.nth.call(null,vec__21778,1,null);if(cljs.core.truth_(cmp.call(null,x,limit)))return cljs.core.assoc.call(null,bd,new cljs.core.Keyword(null,"vel","vel",-110770822),infinitelives.utils.vec2.vec2.call(null,
0,vy),new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,limit,y));else return bd};
biscuit_switch.player.player=function biscuit_switch$player$player(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_22127){var state_val_22128=state_22127[1];if(state_val_22128===7){var inst_22006=state_22127[7];var state_22127__$1=state_22127;var statearr_22129_22213=state_22127__$1;statearr_22129_22213[2]=
inst_22006;statearr_22129_22213[1]=9;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===20){var state_22127__$1=state_22127;var statearr_22130_22214=state_22127__$1;statearr_22130_22214[2]=null;statearr_22130_22214[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===27){var inst_22062=state_22127[2];var state_22127__$1=state_22127;var statearr_22131_22215=state_22127__$1;statearr_22131_22215[2]=inst_22062;statearr_22131_22215[1]=
15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===1){var inst_21996=state_22127[8];var inst_21996__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"player-stand-left","player-stand-left",1424166114),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),120);var inst_21997=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);
var inst_21998=(new cljs.core.Keyword(null,"player","player",-97687400)).cljs$core$IFn$_invoke$arity$1(inst_21997);var inst_21999=inst_21998.addChild(inst_21996__$1);var inst_22000=2E4;var inst_22001=biscuit_switch.player.p_boid;var state_22127__$1=function(){var statearr_22132=state_22127;statearr_22132[9]=inst_22000;statearr_22132[8]=inst_21996__$1;statearr_22132[10]=inst_22001;statearr_22132[11]=inst_21999;return statearr_22132}();var statearr_22133_22216=state_22127__$1;statearr_22133_22216[2]=
null;statearr_22133_22216[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===24){var inst_22044=state_22127[2];var state_22127__$1=state_22127;var statearr_22134_22217=state_22127__$1;statearr_22134_22217[2]=inst_22044;statearr_22134_22217[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===39){var inst_22095=biscuit_switch.player.right_QMARK_.call(null);var state_22127__$1=state_22127;if(cljs.core.truth_(inst_22095)){var statearr_22135_22218=
state_22127__$1;statearr_22135_22218[1]=41}else{var statearr_22136_22219=state_22127__$1;statearr_22136_22219[1]=42}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===46){var inst_22101=state_22127[12];var inst_22001=state_22127[10];var inst_22090=state_22127[13];var inst_22112=state_22127[2];var inst_22113=infinitelives.utils.vec2.vec2.call(null,inst_22101,inst_22112);var inst_22114=infinitelives.utils.boid.apply_steering.call(null,inst_22001,inst_22113);var inst_22115=
biscuit_switch.player.drag.call(null,inst_22114);var inst_22116=biscuit_switch.player.limit_y.call(null,inst_22115,cljs.core._LT_,0);var inst_22117=biscuit_switch.player.limit_y.call(null,inst_22116,cljs.core._GT_,200);var inst_22118=biscuit_switch.player.limit_x.call(null,inst_22117,cljs.core._LT_,-450);var inst_22119=biscuit_switch.player.limit_x.call(null,inst_22118,cljs.core._GT_,450);var inst_22000=inst_22090;var inst_22001__$1=inst_22119;var state_22127__$1=function(){var statearr_22137=state_22127;
statearr_22137[9]=inst_22000;statearr_22137[10]=inst_22001__$1;return statearr_22137}();var statearr_22138_22220=state_22127__$1;statearr_22138_22220[2]=null;statearr_22138_22220[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===4){var inst_22003=state_22127[14];var state_22127__$1=state_22127;var statearr_22139_22221=state_22127__$1;statearr_22139_22221[2]=inst_22003;statearr_22139_22221[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
15){var inst_21996=state_22127[8];var inst_22001=state_22127[10];var inst_22064=state_22127[2];var inst_22065=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22001);var inst_22066=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_21996,inst_22065);var inst_22067=(new cljs.core.Keyword(null,"vel","vel",-110770822)).cljs$core$IFn$_invoke$arity$1(inst_22001);var inst_22068=inst_22067[0];var inst_22069=inst_22068<0;var state_22127__$1=function(){var statearr_22140=
state_22127;statearr_22140[15]=inst_22066;statearr_22140[16]=inst_22064;return statearr_22140}();if(cljs.core.truth_(inst_22069)){var statearr_22141_22222=state_22127__$1;statearr_22141_22222[1]=31}else{var statearr_22142_22223=state_22127__$1;statearr_22142_22223[1]=32}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===48){var state_22127__$1=state_22127;var statearr_22143_22224=state_22127__$1;statearr_22143_22224[2]=0;statearr_22143_22224[1]=49;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_22128===21){var inst_22028=state_22127[17];var inst_22037=state_22127[2];var inst_22038=cljs.core.odd_QMARK_.call(null,inst_22028);var state_22127__$1=function(){var statearr_22144=state_22127;statearr_22144[18]=inst_22037;return statearr_22144}();if(inst_22038){var statearr_22145_22225=state_22127__$1;statearr_22145_22225[1]=22}else{var statearr_22146_22226=state_22127__$1;statearr_22146_22226[1]=23}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
31){var inst_21996=state_22127[8];var inst_22071=cljs.core.swap_BANG_.call(null,biscuit_switch.player.state,cljs.core.assoc,new cljs.core.Keyword(null,"facing","facing",-854439413),new cljs.core.Keyword(null,"left","left",-399115937));var inst_22072=infinitelives.pixi.sprite.set_scale_BANG_.call(null,inst_21996,4,4);var state_22127__$1=function(){var statearr_22147=state_22127;statearr_22147[19]=inst_22071;return statearr_22147}();var statearr_22148_22227=state_22127__$1;statearr_22148_22227[2]=inst_22072;
statearr_22148_22227[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===32){var inst_21996=state_22127[8];var inst_22074=cljs.core.swap_BANG_.call(null,biscuit_switch.player.state,cljs.core.assoc,new cljs.core.Keyword(null,"facing","facing",-854439413),new cljs.core.Keyword(null,"right","right",-452581833));var inst_22075=infinitelives.pixi.sprite.set_scale_BANG_.call(null,inst_21996,-4,4);var state_22127__$1=function(){var statearr_22149=state_22127;statearr_22149[20]=
inst_22074;return statearr_22149}();var statearr_22150_22228=state_22127__$1;statearr_22150_22228[2]=inst_22075;statearr_22150_22228[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===40){var inst_22101=state_22127[2];var inst_22102=biscuit_switch.player.up_QMARK_.call(null);var state_22127__$1=function(){var statearr_22151=state_22127;statearr_22151[12]=inst_22101;return statearr_22151}();if(cljs.core.truth_(inst_22102)){var statearr_22152_22229=state_22127__$1;
statearr_22152_22229[1]=44}else{var statearr_22153_22230=state_22127__$1;statearr_22153_22230[1]=45}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===33){var inst_22001=state_22127[10];var inst_22077=state_22127[2];var inst_22078=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22001);var inst_22079=cljs.core.swap_BANG_.call(null,biscuit_switch.player.state,cljs.core.assoc,new cljs.core.Keyword(null,"pos","pos",-864607220),
inst_22078);var inst_22080=infinitelives.pixi.events.next_frame.call(null);var state_22127__$1=function(){var statearr_22154=state_22127;statearr_22154[21]=inst_22079;statearr_22154[22]=inst_22077;return statearr_22154}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_22127__$1,34,inst_22080)}else if(state_val_22128===13){var inst_22020=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22021=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_22020);
var inst_22022=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_22021);var state_22127__$1=state_22127;if(inst_22022){var statearr_22155_22231=state_22127__$1;statearr_22155_22231[1]=16}else{var statearr_22156_22232=state_22127__$1;statearr_22156_22232[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===22){var inst_21996=state_22127[8];var inst_22040=infinitelives.pixi.sprite.set_texture_BANG_.call(null,inst_21996,new cljs.core.Keyword(null,
"player-stride-left","player-stride-left",-2115416883));var state_22127__$1=state_22127;var statearr_22157_22233=state_22127__$1;statearr_22157_22233[2]=inst_22040;statearr_22157_22233[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===36){var state_22127__$1=state_22127;var statearr_22158_22234=state_22127__$1;statearr_22158_22234[2]=.05;statearr_22158_22234[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===41){var inst_22089=
state_22127[23];var state_22127__$1=state_22127;var statearr_22159_22235=state_22127__$1;statearr_22159_22235[2]=inst_22089;statearr_22159_22235[1]=43;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===43){var inst_22099=state_22127[2];var state_22127__$1=state_22127;var statearr_22160_22236=state_22127__$1;statearr_22160_22236[2]=inst_22099;statearr_22160_22236[1]=40;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===29){var inst_21996=
state_22127[8];var inst_22056=infinitelives.pixi.sprite.set_texture_BANG_.call(null,inst_21996,new cljs.core.Keyword(null,"player-stand-left-2","player-stand-left-2",284896233));var state_22127__$1=state_22127;var statearr_22161_22237=state_22127__$1;statearr_22161_22237[2]=inst_22056;statearr_22161_22237[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===44){var inst_22089=state_22127[23];var inst_22104=-inst_22089;var state_22127__$1=state_22127;var statearr_22162_22238=
state_22127__$1;statearr_22162_22238[2]=inst_22104;statearr_22162_22238[1]=46;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===6){var inst_22018=state_22127[2];var state_22127__$1=state_22127;if(cljs.core.truth_(inst_22018)){var statearr_22163_22239=state_22127__$1;statearr_22163_22239[1]=13}else{var statearr_22164_22240=state_22127__$1;statearr_22164_22240[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===28){var inst_21996=
state_22127[8];var inst_22054=infinitelives.pixi.sprite.set_texture_BANG_.call(null,inst_21996,new cljs.core.Keyword(null,"player-stand-left","player-stand-left",1424166114));var state_22127__$1=state_22127;var statearr_22165_22241=state_22127__$1;statearr_22165_22241[2]=inst_22054;statearr_22165_22241[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===25){var inst_22000=state_22127[9];var inst_22050=inst_22000/50;var inst_22051=inst_22050|0;var inst_22052=
cljs.core.odd_QMARK_.call(null,inst_22051);var state_22127__$1=state_22127;if(inst_22052){var statearr_22166_22242=state_22127__$1;statearr_22166_22242[1]=28}else{var statearr_22167_22243=state_22127__$1;statearr_22167_22243[1]=29}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===34){var inst_22082=state_22127[2];var inst_22083=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22084=(new cljs.core.Keyword(null,"carrying","carrying",-911143205)).cljs$core$IFn$_invoke$arity$1(inst_22083);
var inst_22085=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"none","none",1333468478),inst_22084);var state_22127__$1=function(){var statearr_22168=state_22127;statearr_22168[24]=inst_22082;return statearr_22168}();if(inst_22085){var statearr_22169_22244=state_22127__$1;statearr_22169_22244[1]=35}else{var statearr_22170_22245=state_22127__$1;statearr_22170_22245[1]=36}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===17){var state_22127__$1=state_22127;
var statearr_22171_22246=state_22127__$1;statearr_22171_22246[2]=biscuit_switch.player.anim_speed_carrying;statearr_22171_22246[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===3){var inst_21996=state_22127[8];var inst_22122=state_22127[2];var inst_22123=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_22124=(new cljs.core.Keyword(null,"player","player",-97687400)).cljs$core$IFn$_invoke$arity$1(inst_22123);
var inst_22125=inst_22124.removeChild(inst_21996);var state_22127__$1=function(){var statearr_22172=state_22127;statearr_22172[25]=inst_22122;return statearr_22172}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22127__$1,inst_22125)}else if(state_val_22128===12){var inst_22014=state_22127[2];var state_22127__$1=state_22127;var statearr_22173_22247=state_22127__$1;statearr_22173_22247[2]=inst_22014;statearr_22173_22247[1]=9;return new cljs.core.Keyword(null,"recur","recur",
-437573268)}else if(state_val_22128===2){var inst_22003=state_22127[14];var inst_22003__$1=biscuit_switch.player.left_QMARK_.call(null);var state_22127__$1=function(){var statearr_22174=state_22127;statearr_22174[14]=inst_22003__$1;return statearr_22174}();if(cljs.core.truth_(inst_22003__$1)){var statearr_22175_22248=state_22127__$1;statearr_22175_22248[1]=4}else{var statearr_22176_22249=state_22127__$1;statearr_22176_22249[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
23){var inst_21996=state_22127[8];var inst_22042=infinitelives.pixi.sprite.set_texture_BANG_.call(null,inst_21996,new cljs.core.Keyword(null,"player-stand-left-2","player-stand-left-2",284896233));var state_22127__$1=state_22127;var statearr_22177_22250=state_22127__$1;statearr_22177_22250[2]=inst_22042;statearr_22177_22250[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===47){var inst_22089=state_22127[23];var state_22127__$1=state_22127;var statearr_22178_22251=
state_22127__$1;statearr_22178_22251[2]=inst_22089;statearr_22178_22251[1]=49;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===35){var state_22127__$1=state_22127;var statearr_22179_22252=state_22127__$1;statearr_22179_22252[2]=.2;statearr_22179_22252[1]=37;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===19){var inst_22034=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"jump","jump",-971319427),
.2,false);var state_22127__$1=state_22127;var statearr_22180_22253=state_22127__$1;statearr_22180_22253[2]=inst_22034;statearr_22180_22253[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===11){var inst_22012=biscuit_switch.player.down_QMARK_.call(null);var state_22127__$1=state_22127;var statearr_22181_22254=state_22127__$1;statearr_22181_22254[2]=inst_22012;statearr_22181_22254[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
9){var inst_22016=state_22127[2];var state_22127__$1=state_22127;var statearr_22182_22255=state_22127__$1;statearr_22182_22255[2]=inst_22016;statearr_22182_22255[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===5){var inst_22006=state_22127[7];var inst_22006__$1=biscuit_switch.player.right_QMARK_.call(null);var state_22127__$1=function(){var statearr_22183=state_22127;statearr_22183[7]=inst_22006__$1;return statearr_22183}();if(cljs.core.truth_(inst_22006__$1)){var statearr_22184_22256=
state_22127__$1;statearr_22184_22256[1]=7}else{var statearr_22185_22257=state_22127__$1;statearr_22185_22257[1]=8}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===14){var inst_22001=state_22127[10];var inst_22046=(new cljs.core.Keyword(null,"vel","vel",-110770822)).cljs$core$IFn$_invoke$arity$1(inst_22001);var inst_22047=infinitelives.utils.vec2.magnitude.call(null,inst_22046);var inst_22048=inst_22047<.01;var state_22127__$1=state_22127;if(cljs.core.truth_(inst_22048)){var statearr_22186_22258=
state_22127__$1;statearr_22186_22258[1]=25}else{var statearr_22187_22259=state_22127__$1;statearr_22187_22259[1]=26}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===45){var inst_22106=biscuit_switch.player.down_QMARK_.call(null);var state_22127__$1=state_22127;if(cljs.core.truth_(inst_22106)){var statearr_22188_22260=state_22127__$1;statearr_22188_22260[1]=47}else{var statearr_22189_22261=state_22127__$1;statearr_22189_22261[1]=48}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_22128===26){var inst_21996=state_22127[8];var inst_22060=infinitelives.pixi.sprite.set_texture_BANG_.call(null,inst_21996,new cljs.core.Keyword(null,"player-stand-left","player-stand-left",1424166114));var state_22127__$1=state_22127;var statearr_22190_22262=state_22127__$1;statearr_22190_22262[2]=inst_22060;statearr_22190_22262[1]=27;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===16){var state_22127__$1=state_22127;
var statearr_22191_22263=state_22127__$1;statearr_22191_22263[2]=biscuit_switch.player.anim_speed_empty;statearr_22191_22263[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===38){var inst_22089=state_22127[23];var inst_22093=-inst_22089;var state_22127__$1=state_22127;var statearr_22192_22264=state_22127__$1;statearr_22192_22264[2]=inst_22093;statearr_22192_22264[1]=40;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
30){var inst_22058=state_22127[2];var state_22127__$1=state_22127;var statearr_22193_22265=state_22127__$1;statearr_22193_22265[2]=inst_22058;statearr_22193_22265[1]=27;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===10){var inst_22009=state_22127[26];var state_22127__$1=state_22127;var statearr_22194_22266=state_22127__$1;statearr_22194_22266[2]=inst_22009;statearr_22194_22266[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===
18){var inst_22028=state_22127[17];var inst_22000=state_22127[9];var inst_22026=state_22127[2];var inst_22027=inst_22000/inst_22026;var inst_22028__$1=inst_22027|0;var inst_22029=cljs.core.even_QMARK_.call(null,inst_22028__$1);var inst_22030=cljs.core.mod.call(null,inst_22000,inst_22026);var inst_22031=inst_22030===0;var inst_22032=inst_22029&&inst_22031;var state_22127__$1=function(){var statearr_22195=state_22127;statearr_22195[17]=inst_22028__$1;return statearr_22195}();if(cljs.core.truth_(inst_22032)){var statearr_22196_22267=
state_22127__$1;statearr_22196_22267[1]=19}else{var statearr_22197_22268=state_22127__$1;statearr_22197_22268[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===42){var state_22127__$1=state_22127;var statearr_22198_22269=state_22127__$1;statearr_22198_22269[2]=0;statearr_22198_22269[1]=43;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===37){var inst_22000=state_22127[9];var inst_22089=state_22127[2];var inst_22090=
inst_22000-1;var inst_22091=biscuit_switch.player.left_QMARK_.call(null);var state_22127__$1=function(){var statearr_22199=state_22127;statearr_22199[23]=inst_22089;statearr_22199[13]=inst_22090;return statearr_22199}();if(cljs.core.truth_(inst_22091)){var statearr_22200_22270=state_22127__$1;statearr_22200_22270[1]=38}else{var statearr_22201_22271=state_22127__$1;statearr_22201_22271[1]=39}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===8){var inst_22009=state_22127[26];
var inst_22009__$1=biscuit_switch.player.up_QMARK_.call(null);var state_22127__$1=function(){var statearr_22202=state_22127;statearr_22202[26]=inst_22009__$1;return statearr_22202}();if(cljs.core.truth_(inst_22009__$1)){var statearr_22203_22272=state_22127__$1;statearr_22203_22272[1]=10}else{var statearr_22204_22273=state_22127__$1;statearr_22204_22273[1]=11}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22128===49){var inst_22110=state_22127[2];var state_22127__$1=
state_22127;var statearr_22205_22274=state_22127__$1;statearr_22205_22274[2]=inst_22110;statearr_22205_22274[1]=46;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$player$player_$_state_machine__12446__auto__=null;var biscuit_switch$player$player_$_state_machine__12446__auto____0=function(){var statearr_22209=[null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_22209[0]=biscuit_switch$player$player_$_state_machine__12446__auto__;statearr_22209[1]=1;return statearr_22209};var biscuit_switch$player$player_$_state_machine__12446__auto____1=function(state_22127){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_22127);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e22210){if(e22210 instanceof Object){var ex__12449__auto__=e22210;var statearr_22211_22275=state_22127;statearr_22211_22275[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22127);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e22210;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,
"recur","recur",-437573268))){var G__22276=state_22127;state_22127=G__22276;continue}else return ret_value__12447__auto__;break}};biscuit_switch$player$player_$_state_machine__12446__auto__=function(state_22127){switch(arguments.length){case 0:return biscuit_switch$player$player_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$player$player_$_state_machine__12446__auto____1.call(this,state_22127)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$player$player_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$player$player_$_state_machine__12446__auto____0;biscuit_switch$player$player_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$player$player_$_state_machine__12446__auto____1;return biscuit_switch$player$player_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_22212=f__12558__auto__.call(null);statearr_22212[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_22212}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.triangle");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.triangle.state!=="undefined");else biscuit_switch.triangle.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null));
biscuit_switch.triangle.reset=function biscuit_switch$triangle$reset(){return cljs.core.reset_BANG_.call(null,biscuit_switch.triangle.state,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"carried","carried",-1688658807),false],null))};biscuit_switch.triangle.pickup_distance=10;biscuit_switch.triangle.pickup_distance_squared=biscuit_switch.triangle.pickup_distance*biscuit_switch.triangle.pickup_distance;
biscuit_switch.triangle.installed_point=infinitelives.utils.vec2.vec2.call(null,-45,0);biscuit_switch.triangle.drop_point=infinitelives.utils.vec2.vec2.call(null,-250,250);biscuit_switch.triangle.drop_distance=100;biscuit_switch.triangle.drop_distance_squared=biscuit_switch.triangle.drop_distance*biscuit_switch.triangle.drop_distance;
biscuit_switch.triangle.triangle_thread=function biscuit_switch$triangle$triangle_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_22582){var state_val_22583=state_22582[1];if(state_val_22583===7){var inst_22465=state_22582[7];var inst_22474=state_22582[8];var inst_22482=state_22582[2];
var inst_22483=infinitelives.utils.vec2.add.call(null,inst_22474,inst_22482);var inst_22484=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_22465,inst_22483);var state_22582__$1=state_22582;var statearr_22584_22650=state_22582__$1;statearr_22584_22650[2]=inst_22484;statearr_22584_22650[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===20){var state_22582__$1=state_22582;var statearr_22585_22651=state_22582__$1;statearr_22585_22651[2]=null;statearr_22585_22651[1]=
21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===27){var inst_22518=state_22582[2];var state_22582__$1=function(){var statearr_22586=state_22582;statearr_22586[9]=inst_22518;return statearr_22586}();var statearr_22587_22652=state_22582__$1;statearr_22587_22652[2]=null;statearr_22587_22652[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===1){var inst_22465=state_22582[7];var inst_22465__$1=infinitelives.pixi.sprite.make_sprite.call(null,
new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),100,new cljs.core.Keyword(null,"y","y",-1757859776),100);var inst_22466=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_22467=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_22466);var inst_22468=inst_22467.addChild(inst_22465__$1);var state_22582__$1=
function(){var statearr_22588=state_22582;statearr_22588[7]=inst_22465__$1;statearr_22588[10]=inst_22468;return statearr_22588}();var statearr_22589_22653=state_22582__$1;statearr_22589_22653[2]=null;statearr_22589_22653[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===24){var inst_22516=infinitelives.pixi.events.next_frame.call(null);var state_22582__$1=state_22582;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_22582__$1,27,inst_22516)}else if(state_val_22583===
39){var inst_22556=state_22582[2];var state_22582__$1=function(){var statearr_22590=state_22582;statearr_22590[11]=inst_22556;return statearr_22590}();var statearr_22591_22654=state_22582__$1;statearr_22591_22654[2]=null;statearr_22591_22654[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===4){var inst_22473=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22474=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22473);
var inst_22479=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22480=(new cljs.core.Keyword(null,"facing","facing",-854439413)).cljs$core$IFn$_invoke$arity$1(inst_22479);var state_22582__$1=function(){var statearr_22592=state_22582;statearr_22592[8]=inst_22474;return statearr_22592}();var G__22593_22655=inst_22480 instanceof cljs.core.Keyword?inst_22480.fqn:null;switch(G__22593_22655){case "left":var statearr_22594_22657=state_22582__$1;statearr_22594_22657[1]=8;break;case "right":var statearr_22595_22658=
state_22582__$1;statearr_22595_22658[1]=9;break;default:throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(inst_22480)].join(""));}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===15){var inst_22571=state_22582[2];var inst_22572=infinitelives.pixi.events.next_frame.call(null);var state_22582__$1=function(){var statearr_22596=state_22582;statearr_22596[12]=inst_22571;return statearr_22596}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_22582__$1,40,inst_22572)}else if(state_val_22583===21){var inst_22527=state_22582[2];var state_22582__$1=state_22582;var statearr_22597_22659=state_22582__$1;statearr_22597_22659[2]=inst_22527;statearr_22597_22659[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===31){var inst_22547=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"pick-up","pick-up",950152600),.5,false);var inst_22548=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,
cljs.core.assoc,new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"none","none",1333468478));var inst_22549=cljs.core.swap_BANG_.call(null,biscuit_switch.triangle.state,cljs.core.assoc,new cljs.core.Keyword(null,"carried","carried",-1688658807),true);var inst_22550=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"triangle","triangle",-1828376667));var state_22582__$1=function(){var statearr_22598=state_22582;statearr_22598[13]=inst_22547;statearr_22598[14]=
inst_22549;statearr_22598[15]=inst_22550;statearr_22598[16]=inst_22548;return statearr_22598}();var statearr_22599_22660=state_22582__$1;statearr_22599_22660[2]=null;statearr_22599_22660[1]=34;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===32){var state_22582__$1=state_22582;var statearr_22600_22661=state_22582__$1;statearr_22600_22661[2]=null;statearr_22600_22661[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===
40){var inst_22574=state_22582[2];var state_22582__$1=function(){var statearr_22601=state_22582;statearr_22601[17]=inst_22574;return statearr_22601}();var statearr_22602_22662=state_22582__$1;statearr_22602_22662[2]=null;statearr_22602_22662[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===33){var inst_22565=state_22582[2];var state_22582__$1=state_22582;var statearr_22603_22663=state_22582__$1;statearr_22603_22663[2]=inst_22565;statearr_22603_22663[1]=
30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===13){var inst_22500=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22501=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22500);var inst_22502=infinitelives.utils.vec2.sub.call(null,inst_22501,biscuit_switch.triangle.drop_point);var inst_22503=infinitelives.utils.vec2.magnitude_squared.call(null,inst_22502);var inst_22504=inst_22503<biscuit_switch.triangle.drop_distance_squared;
var state_22582__$1=state_22582;if(cljs.core.truth_(inst_22504)){var statearr_22604_22664=state_22582__$1;statearr_22604_22664[1]=16}else{var statearr_22605_22665=state_22582__$1;statearr_22605_22665[1]=17}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===22){var inst_22514=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_22582__$1=state_22582;if(cljs.core.truth_(inst_22514)){var statearr_22606_22666=
state_22582__$1;statearr_22606_22666[1]=24}else{var statearr_22607_22667=state_22582__$1;statearr_22607_22667[1]=25}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===36){var inst_22554=infinitelives.pixi.events.next_frame.call(null);var state_22582__$1=state_22582;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_22582__$1,39,inst_22554)}else if(state_val_22583===29){var inst_22567=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,
new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"none","none",1333468478));var state_22582__$1=state_22582;var statearr_22608_22668=state_22582__$1;statearr_22608_22668[2]=inst_22567;statearr_22608_22668[1]=30;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===6){var inst_22496=state_22582[2];var inst_22497=cljs.core.deref.call(null,biscuit_switch.triangle.state);var inst_22498=(new cljs.core.Keyword(null,"carried","carried",
-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_22497);var state_22582__$1=function(){var statearr_22609=state_22582;statearr_22609[18]=inst_22496;return statearr_22609}();if(cljs.core.truth_(inst_22498)){var statearr_22610_22669=state_22582__$1;statearr_22610_22669[1]=13}else{var statearr_22611_22670=state_22582__$1;statearr_22611_22670[1]=14}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===28){var inst_22544=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,
cljs.core.assoc,new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"pickup","pickup",1997454190));var inst_22545=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_22582__$1=function(){var statearr_22612=state_22582;statearr_22612[19]=inst_22544;return statearr_22612}();if(cljs.core.truth_(inst_22545)){var statearr_22613_22671=state_22582__$1;statearr_22613_22671[1]=31}else{var statearr_22614_22672=
state_22582__$1;statearr_22614_22672[1]=32}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===25){var state_22582__$1=state_22582;var statearr_22615_22673=state_22582__$1;statearr_22615_22673[2]=null;statearr_22615_22673[1]=26;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===34){var inst_22552=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_22582__$1=
state_22582;if(cljs.core.truth_(inst_22552)){var statearr_22616_22674=state_22582__$1;statearr_22616_22674[1]=36}else{var statearr_22617_22675=state_22582__$1;statearr_22617_22675[1]=37}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===17){var inst_22529=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"none","none",1333468478));var state_22582__$1=
state_22582;var statearr_22618_22676=state_22582__$1;statearr_22618_22676[2]=inst_22529;statearr_22618_22676[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===3){var inst_22465=state_22582[7];var inst_22577=state_22582[2];var inst_22578=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_22579=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_22578);var inst_22580=
inst_22579.removeChild(inst_22465);var state_22582__$1=function(){var statearr_22619=state_22582;statearr_22619[20]=inst_22577;return statearr_22619}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22582__$1,inst_22580)}else if(state_val_22583===12){var inst_22494=state_22582[2];var state_22582__$1=state_22582;var statearr_22620_22677=state_22582__$1;statearr_22620_22677[2]=inst_22494;statearr_22620_22677[1]=6;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===
2){var inst_22470=cljs.core.deref.call(null,biscuit_switch.triangle.state);var inst_22471=(new cljs.core.Keyword(null,"carried","carried",-1688658807)).cljs$core$IFn$_invoke$arity$1(inst_22470);var state_22582__$1=state_22582;if(cljs.core.truth_(inst_22471)){var statearr_22621_22678=state_22582__$1;statearr_22621_22678[1]=4}else{var statearr_22622_22679=state_22582__$1;statearr_22622_22679[1]=5}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===23){var inst_22524=
state_22582[2];var state_22582__$1=state_22582;var statearr_22623_22680=state_22582__$1;statearr_22623_22680[2]=inst_22524;statearr_22623_22680[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===35){var inst_22562=state_22582[2];var state_22582__$1=state_22582;var statearr_22624_22681=state_22582__$1;statearr_22624_22681[2]=inst_22562;statearr_22624_22681[1]=33;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===19){var inst_22465=
state_22582[7];var inst_22509=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"put-down","put-down",1726684416),.5,false);var inst_22510=function(){var stamp=inst_22465;return function(stamp,inst_22465,inst_22509,state_val_22583,c__12557__auto__){return function(p1__22279_SHARP_){return cljs.core.assoc.call(null,cljs.core.assoc.call(null,p1__22279_SHARP_,new cljs.core.Keyword(null,"carried","carried",-1688658807),false),new cljs.core.Keyword(null,"pos","pos",-864607220),
infinitelives.utils.vec2.add.call(null,(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,biscuit_switch.player.state)),infinitelives.utils.vec2.vec2.call(null,0,20)))}}(stamp,inst_22465,inst_22509,state_val_22583,c__12557__auto__)}();var inst_22511=cljs.core.swap_BANG_.call(null,biscuit_switch.triangle.state,inst_22510);var inst_22512=biscuit_switch.player.carry.call(null,new cljs.core.Keyword(null,"none","none",1333468478));var state_22582__$1=
function(){var statearr_22625=state_22582;statearr_22625[21]=inst_22511;statearr_22625[22]=inst_22512;statearr_22625[23]=inst_22509;return statearr_22625}();var statearr_22626_22682=state_22582__$1;statearr_22626_22682[2]=null;statearr_22626_22682[1]=22;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===11){var inst_22465=state_22582[7];var inst_22492=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_22465,biscuit_switch.triangle.drop_point);var state_22582__$1=
state_22582;var statearr_22627_22683=state_22582__$1;statearr_22627_22683[2]=inst_22492;statearr_22627_22683[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===9){var inst_22477=infinitelives.utils.vec2.vec2.call(null,20,0);var state_22582__$1=state_22582;var statearr_22628_22684=state_22582__$1;statearr_22628_22684[2]=inst_22477;statearr_22628_22684[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===5){var inst_22486=
cljs.core.deref.call(null,biscuit_switch.stamper.state);var inst_22487=(new cljs.core.Keyword(null,"cutter","cutter",658480841)).cljs$core$IFn$_invoke$arity$1(inst_22486);var inst_22488=cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"triangle","triangle",-1828376667),inst_22487);var state_22582__$1=state_22582;if(inst_22488){var statearr_22629_22685=state_22582__$1;statearr_22629_22685[1]=10}else{var statearr_22630_22686=state_22582__$1;statearr_22630_22686[1]=11}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_22583===14){var inst_22533=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22534=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22533);var inst_22535=infinitelives.utils.vec2.get_y.call(null,inst_22534);var inst_22536=inst_22535>20;var inst_22537=cljs.core.deref.call(null,biscuit_switch.player.state);var inst_22538=(new cljs.core.Keyword(null,"pos","pos",-864607220)).cljs$core$IFn$_invoke$arity$1(inst_22537);
var inst_22539=infinitelives.utils.vec2.sub.call(null,inst_22538,biscuit_switch.triangle.drop_point);var inst_22540=infinitelives.utils.vec2.magnitude_squared.call(null,inst_22539);var inst_22541=inst_22540<biscuit_switch.triangle.drop_distance_squared;var inst_22542=inst_22536&&inst_22541;var state_22582__$1=state_22582;if(cljs.core.truth_(inst_22542)){var statearr_22631_22687=state_22582__$1;statearr_22631_22687[1]=28}else{var statearr_22632_22688=state_22582__$1;statearr_22632_22688[1]=29}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_22583===26){var inst_22522=state_22582[2];var state_22582__$1=state_22582;var statearr_22633_22689=state_22582__$1;statearr_22633_22689[2]=inst_22522;statearr_22633_22689[1]=23;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===16){var inst_22506=cljs.core.swap_BANG_.call(null,biscuit_switch.text.state,cljs.core.assoc,new cljs.core.Keyword(null,"triangle","triangle",-1828376667),new cljs.core.Keyword(null,"putdown",
"putdown",-459181613));var inst_22507=infinitelives.utils.events.is_pressed_QMARK_.call(null,new cljs.core.Keyword(null,"space","space",348133475));var state_22582__$1=function(){var statearr_22634=state_22582;statearr_22634[24]=inst_22506;return statearr_22634}();if(cljs.core.truth_(inst_22507)){var statearr_22635_22690=state_22582__$1;statearr_22635_22690[1]=19}else{var statearr_22636_22691=state_22582__$1;statearr_22636_22691[1]=20}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===
38){var inst_22560=state_22582[2];var state_22582__$1=state_22582;var statearr_22637_22692=state_22582__$1;statearr_22637_22692[2]=inst_22560;statearr_22637_22692[1]=35;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===30){var inst_22569=state_22582[2];var state_22582__$1=state_22582;var statearr_22638_22693=state_22582__$1;statearr_22638_22693[2]=inst_22569;statearr_22638_22693[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===
10){var inst_22465=state_22582[7];var inst_22490=infinitelives.pixi.sprite.set_pos_BANG_.call(null,inst_22465,biscuit_switch.triangle.installed_point);var state_22582__$1=state_22582;var statearr_22639_22694=state_22582__$1;statearr_22639_22694[2]=inst_22490;statearr_22639_22694[1]=12;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===18){var inst_22531=state_22582[2];var state_22582__$1=state_22582;var statearr_22640_22695=state_22582__$1;statearr_22640_22695[2]=
inst_22531;statearr_22640_22695[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===37){var state_22582__$1=state_22582;var statearr_22641_22696=state_22582__$1;statearr_22641_22696[2]=null;statearr_22641_22696[1]=38;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_22583===8){var inst_22475=infinitelives.utils.vec2.vec2.call(null,-20,0);var state_22582__$1=state_22582;var statearr_22642_22697=state_22582__$1;statearr_22642_22697[2]=
inst_22475;statearr_22642_22697[1]=7;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__=null;var biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____0=function(){var statearr_22646=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null];statearr_22646[0]=biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__;statearr_22646[1]=1;return statearr_22646};var biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____1=function(state_22582){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_22582);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",
-437573268)))continue;else return result__12448__auto__;break}}catch(e22647){if(e22647 instanceof Object){var ex__12449__auto__=e22647;var statearr_22648_22698=state_22582;statearr_22648_22698[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22582);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e22647;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__22699=
state_22582;state_22582=G__22699;continue}else return ret_value__12447__auto__;break}};biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__=function(state_22582){switch(arguments.length){case 0:return biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____1.call(this,state_22582)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____0;biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto____1;return biscuit_switch$triangle$triangle_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_22649=f__12558__auto__.call(null);statearr_22649[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__12557__auto__;return statearr_22649}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};goog.provide("biscuit_switch.core");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("biscuit_switch.money");goog.require("biscuit_switch.stamper");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.sound");goog.require("biscuit_switch.tv");goog.require("biscuit_switch.square");goog.require("infinitelives.pixi.pixelfont");goog.require("biscuit_switch.triangle");
goog.require("cljs.core.async");goog.require("biscuit_switch.assets");goog.require("biscuit_switch.game");goog.require("biscuit_switch.circle");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");goog.require("infinitelives.pixi.sprite");goog.require("biscuit_switch.roller");goog.require("biscuit_switch.oven");goog.require("biscuit_switch.player");
if(typeof biscuit_switch.core.canvas!=="undefined");else biscuit_switch.core.canvas=infinitelives.pixi.canvas.init.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"layers","layers",1944875032),new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"bg","bg",-206688421),new cljs.core.Keyword(null,"belt","belt",-186906577),new cljs.core.Keyword(null,"machines","machines",-762427631),new cljs.core.Keyword(null,"player",
"player",-97687400),new cljs.core.Keyword(null,"tables","tables",1334623052),new cljs.core.Keyword(null,"stamps","stamps",-651804469),new cljs.core.Keyword(null,"ui","ui",-469653645)],null),new cljs.core.Keyword(null,"background","background",-863952629),10526880,new cljs.core.Keyword(null,"expand","expand",595248157),true,new cljs.core.Keyword(null,"origins","origins",-1970258462),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"roller","roller",-951366925),new cljs.core.Keyword(null,
"left","left",-399115937)],null)],null));
if(typeof biscuit_switch.core.main!=="undefined");else biscuit_switch.core.main=function(){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_23075){var state_val_23076=state_23075[1];if(state_val_23076===7){var inst_22982=state_23075[2];var state_23075__$1=state_23075;var statearr_23077_23137=state_23075__$1;
statearr_23077_23137[2]=inst_22982;statearr_23077_23137[1]=4;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===20){var inst_23034=state_23075[7];var inst_23035=state_23075[8];var inst_23037=inst_23035<inst_23034;var inst_23038=inst_23037;var state_23075__$1=state_23075;if(cljs.core.truth_(inst_23038)){var statearr_23078_23138=state_23075__$1;statearr_23078_23138[1]=22}else{var statearr_23079_23139=state_23075__$1;statearr_23079_23139[1]=23}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_23076===27){var inst_23066=state_23075[2];var state_23075__$1=state_23075;var statearr_23080_23140=state_23075__$1;statearr_23080_23140[2]=inst_23066;statearr_23080_23140[1]=24;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===1){var inst_22703=cljs.core.PersistentVector.EMPTY_NODE;var inst_22704=["img/sprites.png","img/fonts.png","sfx/bloop.ogg","sfx/game-over.ogg","sfx/level-up.ogg","sfx/money.ogg","sfx/money-loss.ogg",
"sfx/off.ogg","sfx/on.ogg","sfx/pick-up.ogg","sfx/put-down.ogg","sfx/splat.ogg","sfx/splat-2.ogg","sfx/dough.ogg","sfx/jump.ogg","sfx/stamp.ogg"];var inst_22705=new cljs.core.PersistentVector(null,16,5,inst_22703,inst_22704,null);var inst_22706=infinitelives.pixi.resources.load_resources.call(null,biscuit_switch.core.canvas,new cljs.core.Keyword(null,"ui","ui",-469653645),inst_22705);var state_23075__$1=state_23075;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_23075__$1,2,inst_22706)}else if(state_val_23076===
24){var inst_23068=state_23075[2];var state_23075__$1=state_23075;var statearr_23081_23141=state_23075__$1;statearr_23081_23141[2]=inst_23068;statearr_23081_23141[1]=21;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===4){var inst_22985=state_23075[9];var inst_22993=state_23075[10];var inst_22989=state_23075[11];var inst_22984=state_23075[2];var inst_22985__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"tri-table","tri-table",2083759259),
new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),-250,new cljs.core.Keyword(null,"y","y",-1757859776),275);var inst_22986=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22987=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_22986);var inst_22988=inst_22987.addChild(inst_22985__$1);var inst_22989__$1=infinitelives.pixi.sprite.make_sprite.call(null,
new cljs.core.Keyword(null,"round-table","round-table",450381977),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),250,new cljs.core.Keyword(null,"y","y",-1757859776),275);var inst_22990=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22991=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_22990);var inst_22992=inst_22991.addChild(inst_22989__$1);
var inst_22993__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"square-table","square-table",879734382),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),0,new cljs.core.Keyword(null,"y","y",-1757859776),325);var inst_22994=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22995=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_22994);
var inst_22996=inst_22995.addChild(inst_22993__$1);var inst_22997=biscuit_switch.player.player.call(null,biscuit_switch.core.canvas);var inst_22998=biscuit_switch.text.text_thread.call(null,biscuit_switch.core.canvas);var inst_22999=biscuit_switch.stamper.stamper_thread.call(null,biscuit_switch.core.canvas);var inst_23000=biscuit_switch.roller.roller_thread.call(null,biscuit_switch.core.canvas);var inst_23001=biscuit_switch.oven.oven_thread.call(null,biscuit_switch.core.canvas);var inst_23002=biscuit_switch.triangle.triangle_thread.call(null,
biscuit_switch.core.canvas);var inst_23003=biscuit_switch.square.square_thread.call(null,biscuit_switch.core.canvas);var inst_23004=biscuit_switch.circle.circle_thread.call(null,biscuit_switch.core.canvas);var inst_23005=biscuit_switch.money.money_thread.call(null,biscuit_switch.core.canvas);var inst_23006=biscuit_switch.tv.tv_thread.call(null,biscuit_switch.core.canvas);var state_23075__$1=function(){var statearr_23082=state_23075;statearr_23082[12]=inst_23000;statearr_23082[13]=inst_22992;statearr_23082[14]=
inst_23004;statearr_23082[15]=inst_22999;statearr_23082[16]=inst_22996;statearr_23082[17]=inst_23002;statearr_23082[18]=inst_23005;statearr_23082[19]=inst_22997;statearr_23082[20]=inst_23001;statearr_23082[21]=inst_22988;statearr_23082[22]=inst_23006;statearr_23082[23]=inst_23003;statearr_23082[9]=inst_22985__$1;statearr_23082[24]=inst_22984;statearr_23082[10]=inst_22993__$1;statearr_23082[25]=inst_22998;statearr_23082[11]=inst_22989__$1;return statearr_23082}();var statearr_23083_23142=state_23075__$1;
statearr_23083_23142[2]=null;statearr_23083_23142[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===15){var inst_22940=state_23075[26];var inst_22985=state_23075[9];var inst_22993=state_23075[10];var inst_22989=state_23075[11];var inst_23017=state_23075[2];var inst_23018=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23019=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_23018);
var inst_23020=inst_23019.removeChild(inst_22993);var inst_23021=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23022=(new cljs.core.Keyword(null,"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_23021);var inst_23023=inst_23022.removeChild(inst_22989);var inst_23024=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23025=(new cljs.core.Keyword(null,
"machines","machines",-762427631)).cljs$core$IFn$_invoke$arity$1(inst_23024);var inst_23026=inst_23025.removeChild(inst_22985);var inst_23031=cljs.core.seq.call(null,inst_22940);var inst_23032=inst_23031;var inst_23033=null;var inst_23034=0;var inst_23035=0;var state_23075__$1=function(){var statearr_23084=state_23075;statearr_23084[27]=inst_23033;statearr_23084[28]=inst_23017;statearr_23084[29]=inst_23032;statearr_23084[7]=inst_23034;statearr_23084[30]=inst_23023;statearr_23084[31]=inst_23026;statearr_23084[8]=
inst_23035;statearr_23084[32]=inst_23020;return statearr_23084}();var statearr_23085_23143=state_23075__$1;statearr_23085_23143[2]=null;statearr_23085_23143[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===21){var inst_22934=state_23075[33];var inst_23070=state_23075[2];var inst_23071=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23072=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_23071);
var inst_23073=inst_23072.removeChild(inst_22934);var state_23075__$1=function(){var statearr_23089=state_23075;statearr_23089[34]=inst_23070;return statearr_23089}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_23075__$1,inst_23073)}else if(state_val_23076===13){var inst_22977=state_23075[2];var state_23075__$1=state_23075;var statearr_23090_23144=state_23075__$1;statearr_23090_23144[2]=inst_22977;statearr_23090_23144[1]=10;return new cljs.core.Keyword(null,"recur","recur",
-437573268)}else if(state_val_23076===22){var inst_23033=state_23075[27];var inst_23032=state_23075[29];var inst_23034=state_23075[7];var inst_23035=state_23075[8];var inst_23040=cljs.core._nth.call(null,inst_23033,inst_23035);var inst_23041=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23042=(new cljs.core.Keyword(null,"belt","belt",-186906577)).cljs$core$IFn$_invoke$arity$1(inst_23041);var inst_23043=inst_23042.removeChild(inst_23040);
var inst_23044=inst_23035+1;var tmp23086=inst_23033;var tmp23087=inst_23032;var tmp23088=inst_23034;var inst_23032__$1=tmp23087;var inst_23033__$1=tmp23086;var inst_23034__$1=tmp23088;var inst_23035__$1=inst_23044;var state_23075__$1=function(){var statearr_23091=state_23075;statearr_23091[27]=inst_23033__$1;statearr_23091[29]=inst_23032__$1;statearr_23091[7]=inst_23034__$1;statearr_23091[8]=inst_23035__$1;statearr_23091[35]=inst_23043;return statearr_23091}();var statearr_23092_23145=state_23075__$1;
statearr_23092_23145[2]=null;statearr_23092_23145[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===29){var inst_23047=state_23075[36];var inst_23056=cljs.core.first.call(null,inst_23047);var inst_23057=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_23058=(new cljs.core.Keyword(null,"belt","belt",-186906577)).cljs$core$IFn$_invoke$arity$1(inst_23057);var inst_23059=inst_23058.removeChild(inst_23056);
var inst_23060=cljs.core.next.call(null,inst_23047);var inst_23032=inst_23060;var inst_23033=null;var inst_23034=0;var inst_23035=0;var state_23075__$1=function(){var statearr_23093=state_23075;statearr_23093[27]=inst_23033;statearr_23093[29]=inst_23032;statearr_23093[7]=inst_23034;statearr_23093[8]=inst_23035;statearr_23093[37]=inst_23059;return statearr_23093}();var statearr_23094_23146=state_23075__$1;statearr_23094_23146[2]=null;statearr_23094_23146[1]=20;return new cljs.core.Keyword(null,"recur",
"recur",-437573268)}else if(state_val_23076===6){var inst_22961=state_23075[38];var inst_22946=state_23075[39];var inst_22961__$1=cljs.core.seq.call(null,inst_22946);var state_23075__$1=function(){var statearr_23095=state_23075;statearr_23095[38]=inst_22961__$1;return statearr_23095}();if(inst_22961__$1){var statearr_23096_23147=state_23075__$1;statearr_23096_23147[1]=8}else{var statearr_23097_23148=state_23075__$1;statearr_23097_23148[1]=9}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===
28){var inst_23047=state_23075[36];var inst_23051=cljs.core.chunk_first.call(null,inst_23047);var inst_23052=cljs.core.chunk_rest.call(null,inst_23047);var inst_23053=cljs.core.count.call(null,inst_23051);var inst_23032=inst_23052;var inst_23033=inst_23051;var inst_23034=inst_23053;var inst_23035=0;var state_23075__$1=function(){var statearr_23098=state_23075;statearr_23098[27]=inst_23033;statearr_23098[29]=inst_23032;statearr_23098[7]=inst_23034;statearr_23098[8]=inst_23035;return statearr_23098}();
var statearr_23099_23149=state_23075__$1;statearr_23099_23149[2]=null;statearr_23099_23149[1]=20;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===25){var inst_23047=state_23075[36];var inst_23049=cljs.core.chunked_seq_QMARK_.call(null,inst_23047);var state_23075__$1=state_23075;if(inst_23049){var statearr_23100_23150=state_23075__$1;statearr_23100_23150[1]=28}else{var statearr_23101_23151=state_23075__$1;statearr_23101_23151[1]=29}return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_23076===17){var state_23075__$1=state_23075;var statearr_23102_23152=state_23075__$1;statearr_23102_23152[2]=null;statearr_23102_23152[1]=18;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===3){var inst_22948=state_23075[40];var inst_22949=state_23075[41];var inst_22951=inst_22949<inst_22948;var inst_22952=inst_22951;var state_23075__$1=state_23075;if(cljs.core.truth_(inst_22952)){var statearr_23103_23153=state_23075__$1;
statearr_23103_23153[1]=5}else{var statearr_23104_23154=state_23075__$1;statearr_23104_23154[1]=6}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===12){var inst_22961=state_23075[38];var inst_22970=cljs.core.first.call(null,inst_22961);var inst_22971=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22972=(new cljs.core.Keyword(null,"belt","belt",-186906577)).cljs$core$IFn$_invoke$arity$1(inst_22971);
var inst_22973=inst_22972.addChild(inst_22970);var inst_22974=cljs.core.next.call(null,inst_22961);var inst_22946=inst_22974;var inst_22947=null;var inst_22948=0;var inst_22949=0;var state_23075__$1=function(){var statearr_23105=state_23075;statearr_23105[42]=inst_22973;statearr_23105[40]=inst_22948;statearr_23105[41]=inst_22949;statearr_23105[43]=inst_22947;statearr_23105[39]=inst_22946;return statearr_23105}();var statearr_23106_23155=state_23075__$1;statearr_23106_23155[2]=null;statearr_23106_23155[1]=
3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===2){var inst_22934=state_23075[33];var inst_22940=state_23075[26];var inst_22708=state_23075[2];var inst_22709=cljs.core.PersistentVector.EMPTY_NODE;var inst_22710=["A",16,123,22,133];var inst_22711=new cljs.core.PersistentVector(null,5,5,inst_22709,inst_22710,null);var inst_22712=cljs.core.PersistentVector.EMPTY_NODE;var inst_22713=["B",24,123,30,133];var inst_22714=new cljs.core.PersistentVector(null,5,5,inst_22712,
inst_22713,null);var inst_22715=cljs.core.PersistentVector.EMPTY_NODE;var inst_22716=["C",32,123,38,133];var inst_22717=new cljs.core.PersistentVector(null,5,5,inst_22715,inst_22716,null);var inst_22718=cljs.core.PersistentVector.EMPTY_NODE;var inst_22719=["D",40,123,46,133];var inst_22720=new cljs.core.PersistentVector(null,5,5,inst_22718,inst_22719,null);var inst_22721=cljs.core.PersistentVector.EMPTY_NODE;var inst_22722=["E",48,123,54,133];var inst_22723=new cljs.core.PersistentVector(null,5,5,
inst_22721,inst_22722,null);var inst_22724=cljs.core.PersistentVector.EMPTY_NODE;var inst_22725=["F",56,123,62,133];var inst_22726=new cljs.core.PersistentVector(null,5,5,inst_22724,inst_22725,null);var inst_22727=cljs.core.PersistentVector.EMPTY_NODE;var inst_22728=["G",64,123,70,133];var inst_22729=new cljs.core.PersistentVector(null,5,5,inst_22727,inst_22728,null);var inst_22730=cljs.core.PersistentVector.EMPTY_NODE;var inst_22731=["H",72,123,78,133];var inst_22732=new cljs.core.PersistentVector(null,
5,5,inst_22730,inst_22731,null);var inst_22733=cljs.core.PersistentVector.EMPTY_NODE;var inst_22734=["I",83,123,86,133];var inst_22735=new cljs.core.PersistentVector(null,5,5,inst_22733,inst_22734,null);var inst_22736=cljs.core.PersistentVector.EMPTY_NODE;var inst_22737=["J",88,123,94,133];var inst_22738=new cljs.core.PersistentVector(null,5,5,inst_22736,inst_22737,null);var inst_22739=cljs.core.PersistentVector.EMPTY_NODE;var inst_22740=["K",96,123,102,133];var inst_22741=new cljs.core.PersistentVector(null,
5,5,inst_22739,inst_22740,null);var inst_22742=cljs.core.PersistentVector.EMPTY_NODE;var inst_22743=["L",105,123,110,133];var inst_22744=new cljs.core.PersistentVector(null,5,5,inst_22742,inst_22743,null);var inst_22745=cljs.core.PersistentVector.EMPTY_NODE;var inst_22746=["M",112,123,120,133];var inst_22747=new cljs.core.PersistentVector(null,5,5,inst_22745,inst_22746,null);var inst_22748=cljs.core.PersistentVector.EMPTY_NODE;var inst_22749=["N",121,123,127,133];var inst_22750=new cljs.core.PersistentVector(null,
5,5,inst_22748,inst_22749,null);var inst_22751=cljs.core.PersistentVector.EMPTY_NODE;var inst_22752=["O",128,123,134,133];var inst_22753=new cljs.core.PersistentVector(null,5,5,inst_22751,inst_22752,null);var inst_22754=cljs.core.PersistentVector.EMPTY_NODE;var inst_22755=["P",136,123,142,133];var inst_22756=new cljs.core.PersistentVector(null,5,5,inst_22754,inst_22755,null);var inst_22757=cljs.core.PersistentVector.EMPTY_NODE;var inst_22758=["Q",144,123,150,133];var inst_22759=new cljs.core.PersistentVector(null,
5,5,inst_22757,inst_22758,null);var inst_22760=cljs.core.PersistentVector.EMPTY_NODE;var inst_22761=["R",152,123,158,133];var inst_22762=new cljs.core.PersistentVector(null,5,5,inst_22760,inst_22761,null);var inst_22763=cljs.core.PersistentVector.EMPTY_NODE;var inst_22764=["S",160,123,166,133];var inst_22765=new cljs.core.PersistentVector(null,5,5,inst_22763,inst_22764,null);var inst_22766=cljs.core.PersistentVector.EMPTY_NODE;var inst_22767=["T",168,123,175,133];var inst_22768=new cljs.core.PersistentVector(null,
5,5,inst_22766,inst_22767,null);var inst_22769=cljs.core.PersistentVector.EMPTY_NODE;var inst_22770=["U",176,123,182,133];var inst_22771=new cljs.core.PersistentVector(null,5,5,inst_22769,inst_22770,null);var inst_22772=cljs.core.PersistentVector.EMPTY_NODE;var inst_22773=["V",184,123,190,133];var inst_22774=new cljs.core.PersistentVector(null,5,5,inst_22772,inst_22773,null);var inst_22775=cljs.core.PersistentVector.EMPTY_NODE;var inst_22776=["W",192,123,200,133];var inst_22777=new cljs.core.PersistentVector(null,
5,5,inst_22775,inst_22776,null);var inst_22778=cljs.core.PersistentVector.EMPTY_NODE;var inst_22779=["X",201,123,207,133];var inst_22780=new cljs.core.PersistentVector(null,5,5,inst_22778,inst_22779,null);var inst_22781=cljs.core.PersistentVector.EMPTY_NODE;var inst_22782=["Y",208,123,215,133];var inst_22783=new cljs.core.PersistentVector(null,5,5,inst_22781,inst_22782,null);var inst_22784=cljs.core.PersistentVector.EMPTY_NODE;var inst_22785=["Z",216,123,222,133];var inst_22786=new cljs.core.PersistentVector(null,
5,5,inst_22784,inst_22785,null);var inst_22787=cljs.core.PersistentVector.EMPTY_NODE;var inst_22788=["a",16,138,22,148];var inst_22789=new cljs.core.PersistentVector(null,5,5,inst_22787,inst_22788,null);var inst_22790=cljs.core.PersistentVector.EMPTY_NODE;var inst_22791=["b",24,138,30,148];var inst_22792=new cljs.core.PersistentVector(null,5,5,inst_22790,inst_22791,null);var inst_22793=cljs.core.PersistentVector.EMPTY_NODE;var inst_22794=["c",32,138,38,148];var inst_22795=new cljs.core.PersistentVector(null,
5,5,inst_22793,inst_22794,null);var inst_22796=cljs.core.PersistentVector.EMPTY_NODE;var inst_22797=["d",40,138,46,148];var inst_22798=new cljs.core.PersistentVector(null,5,5,inst_22796,inst_22797,null);var inst_22799=cljs.core.PersistentVector.EMPTY_NODE;var inst_22800=["e",48,138,54,148];var inst_22801=new cljs.core.PersistentVector(null,5,5,inst_22799,inst_22800,null);var inst_22802=cljs.core.PersistentVector.EMPTY_NODE;var inst_22803=["f",56,138,63,148];var inst_22804=new cljs.core.PersistentVector(null,
5,5,inst_22802,inst_22803,null);var inst_22805=cljs.core.PersistentVector.EMPTY_NODE;var inst_22806=["g",64,138,70,148];var inst_22807=new cljs.core.PersistentVector(null,5,5,inst_22805,inst_22806,null);var inst_22808=cljs.core.PersistentVector.EMPTY_NODE;var inst_22809=["h",72,138,78,148];var inst_22810=new cljs.core.PersistentVector(null,5,5,inst_22808,inst_22809,null);var inst_22811=cljs.core.PersistentVector.EMPTY_NODE;var inst_22812=["i",83,138,86,148];var inst_22813=new cljs.core.PersistentVector(null,
5,5,inst_22811,inst_22812,null);var inst_22814=cljs.core.PersistentVector.EMPTY_NODE;var inst_22815=["j",89,138,93,148];var inst_22816=new cljs.core.PersistentVector(null,5,5,inst_22814,inst_22815,null);var inst_22817=cljs.core.PersistentVector.EMPTY_NODE;var inst_22818=["k",96,138,102,148];var inst_22819=new cljs.core.PersistentVector(null,5,5,inst_22817,inst_22818,null);var inst_22820=cljs.core.PersistentVector.EMPTY_NODE;var inst_22821=["l",106,138,110,148];var inst_22822=new cljs.core.PersistentVector(null,
5,5,inst_22820,inst_22821,null);var inst_22823=cljs.core.PersistentVector.EMPTY_NODE;var inst_22824=["m",112,138,120,148];var inst_22825=new cljs.core.PersistentVector(null,5,5,inst_22823,inst_22824,null);var inst_22826=cljs.core.PersistentVector.EMPTY_NODE;var inst_22827=["n",121,138,127,148];var inst_22828=new cljs.core.PersistentVector(null,5,5,inst_22826,inst_22827,null);var inst_22829=cljs.core.PersistentVector.EMPTY_NODE;var inst_22830=["o",128,138,134,148];var inst_22831=new cljs.core.PersistentVector(null,
5,5,inst_22829,inst_22830,null);var inst_22832=cljs.core.PersistentVector.EMPTY_NODE;var inst_22833=["p",136,138,142,148];var inst_22834=new cljs.core.PersistentVector(null,5,5,inst_22832,inst_22833,null);var inst_22835=cljs.core.PersistentVector.EMPTY_NODE;var inst_22836=["q",144,138,150,148];var inst_22837=new cljs.core.PersistentVector(null,5,5,inst_22835,inst_22836,null);var inst_22838=cljs.core.PersistentVector.EMPTY_NODE;var inst_22839=["r",152,138,157,148];var inst_22840=new cljs.core.PersistentVector(null,
5,5,inst_22838,inst_22839,null);var inst_22841=cljs.core.PersistentVector.EMPTY_NODE;var inst_22842=["s",160,138,166,148];var inst_22843=new cljs.core.PersistentVector(null,5,5,inst_22841,inst_22842,null);var inst_22844=cljs.core.PersistentVector.EMPTY_NODE;var inst_22845=["t",169,138,174,148];var inst_22846=new cljs.core.PersistentVector(null,5,5,inst_22844,inst_22845,null);var inst_22847=cljs.core.PersistentVector.EMPTY_NODE;var inst_22848=["u",177,138,183,148];var inst_22849=new cljs.core.PersistentVector(null,
5,5,inst_22847,inst_22848,null);var inst_22850=cljs.core.PersistentVector.EMPTY_NODE;var inst_22851=["v",185,138,191,148];var inst_22852=new cljs.core.PersistentVector(null,5,5,inst_22850,inst_22851,null);var inst_22853=cljs.core.PersistentVector.EMPTY_NODE;var inst_22854=["w",192,138,200,148];var inst_22855=new cljs.core.PersistentVector(null,5,5,inst_22853,inst_22854,null);var inst_22856=cljs.core.PersistentVector.EMPTY_NODE;var inst_22857=["x",201,138,207,148];var inst_22858=new cljs.core.PersistentVector(null,
5,5,inst_22856,inst_22857,null);var inst_22859=cljs.core.PersistentVector.EMPTY_NODE;var inst_22860=["y",208,138,214,148];var inst_22861=new cljs.core.PersistentVector(null,5,5,inst_22859,inst_22860,null);var inst_22862=cljs.core.PersistentVector.EMPTY_NODE;var inst_22863=["z",216,138,222,148];var inst_22864=new cljs.core.PersistentVector(null,5,5,inst_22862,inst_22863,null);var inst_22865=cljs.core.PersistentVector.EMPTY_NODE;var inst_22866=["0",17,153,23,163];var inst_22867=new cljs.core.PersistentVector(null,
5,5,inst_22865,inst_22866,null);var inst_22868=cljs.core.PersistentVector.EMPTY_NODE;var inst_22869=["1",26,153,30,163];var inst_22870=new cljs.core.PersistentVector(null,5,5,inst_22868,inst_22869,null);var inst_22871=cljs.core.PersistentVector.EMPTY_NODE;var inst_22872=["2",32,153,38,163];var inst_22873=new cljs.core.PersistentVector(null,5,5,inst_22871,inst_22872,null);var inst_22874=cljs.core.PersistentVector.EMPTY_NODE;var inst_22875=["3",40,153,46,163];var inst_22876=new cljs.core.PersistentVector(null,
5,5,inst_22874,inst_22875,null);var inst_22877=cljs.core.PersistentVector.EMPTY_NODE;var inst_22878=["4",48,153,55,163];var inst_22879=new cljs.core.PersistentVector(null,5,5,inst_22877,inst_22878,null);var inst_22880=cljs.core.PersistentVector.EMPTY_NODE;var inst_22881=["5",56,153,62,163];var inst_22882=new cljs.core.PersistentVector(null,5,5,inst_22880,inst_22881,null);var inst_22883=cljs.core.PersistentVector.EMPTY_NODE;var inst_22884=["6",64,153,70,163];var inst_22885=new cljs.core.PersistentVector(null,
5,5,inst_22883,inst_22884,null);var inst_22886=cljs.core.PersistentVector.EMPTY_NODE;var inst_22887=["7",72,153,78,163];var inst_22888=new cljs.core.PersistentVector(null,5,5,inst_22886,inst_22887,null);var inst_22889=cljs.core.PersistentVector.EMPTY_NODE;var inst_22890=["8",80,153,86,163];var inst_22891=new cljs.core.PersistentVector(null,5,5,inst_22889,inst_22890,null);var inst_22892=cljs.core.PersistentVector.EMPTY_NODE;var inst_22893=["9",88,153,94,163];var inst_22894=new cljs.core.PersistentVector(null,
5,5,inst_22892,inst_22893,null);var inst_22895=cljs.core.PersistentVector.EMPTY_NODE;var inst_22896=["!",99,153,102,163];var inst_22897=new cljs.core.PersistentVector(null,5,5,inst_22895,inst_22896,null);var inst_22898=cljs.core.PersistentVector.EMPTY_NODE;var inst_22899=["?",105,153,111,163];var inst_22900=new cljs.core.PersistentVector(null,5,5,inst_22898,inst_22899,null);var inst_22901=cljs.core.PersistentVector.EMPTY_NODE;var inst_22902=["#",113,153,120,163];var inst_22903=new cljs.core.PersistentVector(null,
5,5,inst_22901,inst_22902,null);var inst_22904=cljs.core.PersistentVector.EMPTY_NODE;var inst_22905=["`",121,153,127,163];var inst_22906=new cljs.core.PersistentVector(null,5,5,inst_22904,inst_22905,null);var inst_22907=cljs.core.PersistentVector.EMPTY_NODE;var inst_22908=["'",129,153,135,163];var inst_22909=new cljs.core.PersistentVector(null,5,5,inst_22907,inst_22908,null);var inst_22910=cljs.core.PersistentVector.EMPTY_NODE;var inst_22911=[".",139,153,142,163];var inst_22912=new cljs.core.PersistentVector(null,
5,5,inst_22910,inst_22911,null);var inst_22913=cljs.core.PersistentVector.EMPTY_NODE;var inst_22914=[",",146,153,150,163];var inst_22915=new cljs.core.PersistentVector(null,5,5,inst_22913,inst_22914,null);var inst_22916=cljs.core.PersistentVector.EMPTY_NODE;var inst_22917=["-",154,153,159,163];var inst_22918=new cljs.core.PersistentVector(null,5,5,inst_22916,inst_22917,null);var inst_22919=cljs.core.PersistentVector.EMPTY_NODE;var inst_22920=["+",163,153,169,163];var inst_22921=new cljs.core.PersistentVector(null,
5,5,inst_22919,inst_22920,null);var inst_22922=cljs.core.PersistentVector.EMPTY_NODE;var inst_22923=["$",171,153,179,163];var inst_22924=new cljs.core.PersistentVector(null,5,5,inst_22922,inst_22923,null);var inst_22925=[inst_22711,inst_22714,inst_22717,inst_22720,inst_22723,inst_22726,inst_22729,inst_22732,inst_22735,inst_22738,inst_22741,inst_22744,inst_22747,inst_22750,inst_22753,inst_22756,inst_22759,inst_22762,inst_22765,inst_22768,inst_22771,inst_22774,inst_22777,inst_22780,inst_22783,inst_22786,
inst_22789,inst_22792,inst_22795,inst_22798,inst_22801,inst_22804,inst_22807,inst_22810,inst_22813,inst_22816,inst_22819,inst_22822,inst_22825,inst_22828,inst_22831,inst_22834,inst_22837,inst_22840,inst_22843,inst_22846,inst_22849,inst_22852,inst_22855,inst_22858,inst_22861,inst_22864,inst_22867,inst_22870,inst_22873,inst_22876,inst_22879,inst_22882,inst_22885,inst_22888,inst_22891,inst_22894,inst_22897,inst_22900,inst_22903,inst_22906,inst_22909,inst_22912,inst_22915,inst_22918,inst_22921,inst_22924];
var inst_22926=cljs.core.PersistentVector.fromArray(inst_22925,true);var inst_22927=["fo","ro","la"];var inst_22928=[-2,-1,-1];var inst_22929=cljs.core.PersistentHashMap.fromArrays(inst_22927,inst_22928);var inst_22930=infinitelives.pixi.pixelfont.load_pixel_font.call(null,new cljs.core.Keyword(null,"font","font",-1506159249),new cljs.core.Keyword(null,"fonts","fonts",1683167295),inst_22926,inst_22929,5);var inst_22931=infinitelives.utils.sound.play_sound.call(null,new cljs.core.Keyword(null,"bloop",
"bloop",-254360316),1,false);var inst_22932=infinitelives.pixi.resources.get_texture.call(null,new cljs.core.Keyword(null,"sprites","sprites",-1835833922),new cljs.core.Keyword(null,"nearest","nearest",1176353890));var inst_22933=infinitelives.pixi.texture.load_sprite_sheet_BANG_.call(null,inst_22932,biscuit_switch.assets.assets);var inst_22934__$1=infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"scale","scale",-230427353),
4,new cljs.core.Keyword(null,"x","x",2099068185),-250,new cljs.core.Keyword(null,"y","y",-1757859776),-275);var inst_22935=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22936=(new cljs.core.Keyword(null,"ui","ui",-469653645)).cljs$core$IFn$_invoke$arity$1(inst_22935);var inst_22937=inst_22936.addChild(inst_22934__$1);var inst_22938=function(){var title=inst_22934__$1;return function(title,inst_22934,inst_22940,inst_22708,
inst_22709,inst_22710,inst_22711,inst_22712,inst_22713,inst_22714,inst_22715,inst_22716,inst_22717,inst_22718,inst_22719,inst_22720,inst_22721,inst_22722,inst_22723,inst_22724,inst_22725,inst_22726,inst_22727,inst_22728,inst_22729,inst_22730,inst_22731,inst_22732,inst_22733,inst_22734,inst_22735,inst_22736,inst_22737,inst_22738,inst_22739,inst_22740,inst_22741,inst_22742,inst_22743,inst_22744,inst_22745,inst_22746,inst_22747,inst_22748,inst_22749,inst_22750,inst_22751,inst_22752,inst_22753,inst_22754,
inst_22755,inst_22756,inst_22757,inst_22758,inst_22759,inst_22760,inst_22761,inst_22762,inst_22763,inst_22764,inst_22765,inst_22766,inst_22767,inst_22768,inst_22769,inst_22770,inst_22771,inst_22772,inst_22773,inst_22774,inst_22775,inst_22776,inst_22777,inst_22778,inst_22779,inst_22780,inst_22781,inst_22782,inst_22783,inst_22784,inst_22785,inst_22786,inst_22787,inst_22788,inst_22789,inst_22790,inst_22791,inst_22792,inst_22793,inst_22794,inst_22795,inst_22796,inst_22797,inst_22798,inst_22799,inst_22800,
inst_22801,inst_22802,inst_22803,inst_22804,inst_22805,inst_22806,inst_22807,inst_22808,inst_22809,inst_22810,inst_22811,inst_22812,inst_22813,inst_22814,inst_22815,inst_22816,inst_22817,inst_22818,inst_22819,inst_22820,inst_22821,inst_22822,inst_22823,inst_22824,inst_22825,inst_22826,inst_22827,inst_22828,inst_22829,inst_22830,inst_22831,inst_22832,inst_22833,inst_22834,inst_22835,inst_22836,inst_22837,inst_22838,inst_22839,inst_22840,inst_22841,inst_22842,inst_22843,inst_22844,inst_22845,inst_22846,
inst_22847,inst_22848,inst_22849,inst_22850,inst_22851,inst_22852,inst_22853,inst_22854,inst_22855,inst_22856,inst_22857,inst_22858,inst_22859,inst_22860,inst_22861,inst_22862,inst_22863,inst_22864,inst_22865,inst_22866,inst_22867,inst_22868,inst_22869,inst_22870,inst_22871,inst_22872,inst_22873,inst_22874,inst_22875,inst_22876,inst_22877,inst_22878,inst_22879,inst_22880,inst_22881,inst_22882,inst_22883,inst_22884,inst_22885,inst_22886,inst_22887,inst_22888,inst_22889,inst_22890,inst_22891,inst_22892,
inst_22893,inst_22894,inst_22895,inst_22896,inst_22897,inst_22898,inst_22899,inst_22900,inst_22901,inst_22902,inst_22903,inst_22904,inst_22905,inst_22906,inst_22907,inst_22908,inst_22909,inst_22910,inst_22911,inst_22912,inst_22913,inst_22914,inst_22915,inst_22916,inst_22917,inst_22918,inst_22919,inst_22920,inst_22921,inst_22922,inst_22923,inst_22924,inst_22925,inst_22926,inst_22927,inst_22928,inst_22929,inst_22930,inst_22931,inst_22932,inst_22933,inst_22934__$1,inst_22935,inst_22936,inst_22937,state_val_23076,
c__12557__auto__){return function(p1__22702_SHARP_){return infinitelives.pixi.sprite.make_sprite.call(null,new cljs.core.Keyword(null,"conveyor","conveyor",-493428573),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),64*p1__22702_SHARP_)}}(title,inst_22934,inst_22940,inst_22708,inst_22709,inst_22710,inst_22711,inst_22712,inst_22713,inst_22714,inst_22715,inst_22716,inst_22717,inst_22718,inst_22719,inst_22720,inst_22721,inst_22722,inst_22723,inst_22724,
inst_22725,inst_22726,inst_22727,inst_22728,inst_22729,inst_22730,inst_22731,inst_22732,inst_22733,inst_22734,inst_22735,inst_22736,inst_22737,inst_22738,inst_22739,inst_22740,inst_22741,inst_22742,inst_22743,inst_22744,inst_22745,inst_22746,inst_22747,inst_22748,inst_22749,inst_22750,inst_22751,inst_22752,inst_22753,inst_22754,inst_22755,inst_22756,inst_22757,inst_22758,inst_22759,inst_22760,inst_22761,inst_22762,inst_22763,inst_22764,inst_22765,inst_22766,inst_22767,inst_22768,inst_22769,inst_22770,
inst_22771,inst_22772,inst_22773,inst_22774,inst_22775,inst_22776,inst_22777,inst_22778,inst_22779,inst_22780,inst_22781,inst_22782,inst_22783,inst_22784,inst_22785,inst_22786,inst_22787,inst_22788,inst_22789,inst_22790,inst_22791,inst_22792,inst_22793,inst_22794,inst_22795,inst_22796,inst_22797,inst_22798,inst_22799,inst_22800,inst_22801,inst_22802,inst_22803,inst_22804,inst_22805,inst_22806,inst_22807,inst_22808,inst_22809,inst_22810,inst_22811,inst_22812,inst_22813,inst_22814,inst_22815,inst_22816,
inst_22817,inst_22818,inst_22819,inst_22820,inst_22821,inst_22822,inst_22823,inst_22824,inst_22825,inst_22826,inst_22827,inst_22828,inst_22829,inst_22830,inst_22831,inst_22832,inst_22833,inst_22834,inst_22835,inst_22836,inst_22837,inst_22838,inst_22839,inst_22840,inst_22841,inst_22842,inst_22843,inst_22844,inst_22845,inst_22846,inst_22847,inst_22848,inst_22849,inst_22850,inst_22851,inst_22852,inst_22853,inst_22854,inst_22855,inst_22856,inst_22857,inst_22858,inst_22859,inst_22860,inst_22861,inst_22862,
inst_22863,inst_22864,inst_22865,inst_22866,inst_22867,inst_22868,inst_22869,inst_22870,inst_22871,inst_22872,inst_22873,inst_22874,inst_22875,inst_22876,inst_22877,inst_22878,inst_22879,inst_22880,inst_22881,inst_22882,inst_22883,inst_22884,inst_22885,inst_22886,inst_22887,inst_22888,inst_22889,inst_22890,inst_22891,inst_22892,inst_22893,inst_22894,inst_22895,inst_22896,inst_22897,inst_22898,inst_22899,inst_22900,inst_22901,inst_22902,inst_22903,inst_22904,inst_22905,inst_22906,inst_22907,inst_22908,
inst_22909,inst_22910,inst_22911,inst_22912,inst_22913,inst_22914,inst_22915,inst_22916,inst_22917,inst_22918,inst_22919,inst_22920,inst_22921,inst_22922,inst_22923,inst_22924,inst_22925,inst_22926,inst_22927,inst_22928,inst_22929,inst_22930,inst_22931,inst_22932,inst_22933,inst_22934__$1,inst_22935,inst_22936,inst_22937,state_val_23076,c__12557__auto__)}();var inst_22939=cljs.core.range.call(null,-10,10);var inst_22940__$1=cljs.core.map.call(null,inst_22938,inst_22939);var inst_22945=cljs.core.seq.call(null,
inst_22940__$1);var inst_22946=inst_22945;var inst_22947=null;var inst_22948=0;var inst_22949=0;var state_23075__$1=function(){var statearr_23107=state_23075;statearr_23107[40]=inst_22948;statearr_23107[33]=inst_22934__$1;statearr_23107[44]=inst_22931;statearr_23107[45]=inst_22930;statearr_23107[46]=inst_22937;statearr_23107[47]=inst_22933;statearr_23107[41]=inst_22949;statearr_23107[43]=inst_22947;statearr_23107[39]=inst_22946;statearr_23107[48]=inst_22708;statearr_23107[26]=inst_22940__$1;return statearr_23107}();
var statearr_23108_23156=state_23075__$1;statearr_23108_23156[2]=null;statearr_23108_23156[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===23){var inst_23032=state_23075[29];var inst_23047=state_23075[36];var inst_23047__$1=cljs.core.seq.call(null,inst_23032);var state_23075__$1=function(){var statearr_23109=state_23075;statearr_23109[36]=inst_23047__$1;return statearr_23109}();if(inst_23047__$1){var statearr_23110_23157=state_23075__$1;statearr_23110_23157[1]=
25}else{var statearr_23111_23158=state_23075__$1;statearr_23111_23158[1]=26}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===19){var inst_23011=state_23075[2];var state_23075__$1=function(){var statearr_23112=state_23075;statearr_23112[49]=inst_23011;return statearr_23112}();var statearr_23113_23159=state_23075__$1;statearr_23113_23159[2]=null;statearr_23113_23159[1]=14;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===11){var inst_22961=
state_23075[38];var inst_22965=cljs.core.chunk_first.call(null,inst_22961);var inst_22966=cljs.core.chunk_rest.call(null,inst_22961);var inst_22967=cljs.core.count.call(null,inst_22965);var inst_22946=inst_22966;var inst_22947=inst_22965;var inst_22948=inst_22967;var inst_22949=0;var state_23075__$1=function(){var statearr_23117=state_23075;statearr_23117[40]=inst_22948;statearr_23117[41]=inst_22949;statearr_23117[43]=inst_22947;statearr_23117[39]=inst_22946;return statearr_23117}();var statearr_23118_23160=
state_23075__$1;statearr_23118_23160[2]=null;statearr_23118_23160[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===9){var state_23075__$1=state_23075;var statearr_23119_23161=state_23075__$1;statearr_23119_23161[2]=null;statearr_23119_23161[1]=10;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===5){var inst_22948=state_23075[40];var inst_22949=state_23075[41];var inst_22947=state_23075[43];var inst_22946=state_23075[39];
var inst_22954=cljs.core._nth.call(null,inst_22947,inst_22949);var inst_22955=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(biscuit_switch.core.canvas);var inst_22956=(new cljs.core.Keyword(null,"belt","belt",-186906577)).cljs$core$IFn$_invoke$arity$1(inst_22955);var inst_22957=inst_22956.addChild(inst_22954);var inst_22958=inst_22949+1;var tmp23114=inst_22948;var tmp23115=inst_22947;var tmp23116=inst_22946;var inst_22946__$1=tmp23116;var inst_22947__$1=tmp23115;
var inst_22948__$1=tmp23114;var inst_22949__$1=inst_22958;var state_23075__$1=function(){var statearr_23120=state_23075;statearr_23120[40]=inst_22948__$1;statearr_23120[50]=inst_22957;statearr_23120[41]=inst_22949__$1;statearr_23120[43]=inst_22947__$1;statearr_23120[39]=inst_22946__$1;return statearr_23120}();var statearr_23121_23162=state_23075__$1;statearr_23121_23162[2]=null;statearr_23121_23162[1]=3;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===14){var state_23075__$1=
state_23075;var statearr_23122_23163=state_23075__$1;statearr_23122_23163[1]=16;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===26){var state_23075__$1=state_23075;var statearr_23124_23164=state_23075__$1;statearr_23124_23164[2]=null;statearr_23124_23164[1]=27;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===16){var inst_23009=infinitelives.pixi.events.next_frame.call(null);var state_23075__$1=state_23075;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_23075__$1,19,inst_23009)}else if(state_val_23076===30){var inst_23063=state_23075[2];var state_23075__$1=state_23075;var statearr_23125_23165=state_23075__$1;statearr_23125_23165[2]=inst_23063;statearr_23125_23165[1]=27;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===10){var inst_22980=state_23075[2];var state_23075__$1=state_23075;var statearr_23126_23166=state_23075__$1;statearr_23126_23166[2]=inst_22980;statearr_23126_23166[1]=7;return new cljs.core.Keyword(null,
"recur","recur",-437573268)}else if(state_val_23076===18){var inst_23015=state_23075[2];var state_23075__$1=state_23075;var statearr_23127_23167=state_23075__$1;statearr_23127_23167[2]=inst_23015;statearr_23127_23167[1]=15;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_23076===8){var inst_22961=state_23075[38];var inst_22963=cljs.core.chunked_seq_QMARK_.call(null,inst_22961);var state_23075__$1=state_23075;if(inst_22963){var statearr_23128_23168=state_23075__$1;statearr_23128_23168[1]=
11}else{var statearr_23129_23169=state_23075__$1;statearr_23129_23169[1]=12}return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$core$state_machine__12446__auto__=null;var biscuit_switch$core$state_machine__12446__auto____0=function(){var statearr_23133=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_23133[0]=biscuit_switch$core$state_machine__12446__auto__;statearr_23133[1]=1;return statearr_23133};var biscuit_switch$core$state_machine__12446__auto____1=function(state_23075){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,state_23075);if(cljs.core.keyword_identical_QMARK_.call(null,
result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e23134){if(e23134 instanceof Object){var ex__12449__auto__=e23134;var statearr_23135_23170=state_23075;statearr_23135_23170[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_23075);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e23134;}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__12447__auto__,
new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__23171=state_23075;state_23075=G__23171;continue}else return ret_value__12447__auto__;break}};biscuit_switch$core$state_machine__12446__auto__=function(state_23075){switch(arguments.length){case 0:return biscuit_switch$core$state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$core$state_machine__12446__auto____1.call(this,state_23075)}throw new Error("Invalid arity: "+arguments.length);};biscuit_switch$core$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=
biscuit_switch$core$state_machine__12446__auto____0;biscuit_switch$core$state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$core$state_machine__12446__auto____1;return biscuit_switch$core$state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=function(){var statearr_23136=f__12558__auto__.call(null);statearr_23136[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_23136}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__}();goog.provide("biscuit_switch.stamp");goog.require("cljs.core");goog.require("infinitelives.pixi.texture");goog.require("infinitelives.utils.math");goog.require("infinitelives.pixi.resources");goog.require("infinitelives.utils.vec2");goog.require("biscuit_switch.text");goog.require("infinitelives.utils.boid");goog.require("infinitelives.utils.sound");goog.require("cljs.core.async");goog.require("infinitelives.utils.events");goog.require("infinitelives.pixi.canvas");goog.require("infinitelives.pixi.events");
goog.require("infinitelives.pixi.sprite");if(typeof biscuit_switch.stamp.state!=="undefined");else biscuit_switch.stamp.state=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"pos","pos",-864607220),infinitelives.utils.vec2.vec2.call(null,0,0)],null));
biscuit_switch.stamp.triangle_thread=function biscuit_switch$stamp$triangle_thread(canvas){var c__12557__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__12557__auto__){return function(){var f__12558__auto__=function(){var switch__12445__auto__=function(c__12557__auto__){return function(state_18692){var state_val_18693=state_18692[1];if(state_val_18693===1){var inst_18677=state_18692[7];var inst_18677__$1=infinitelives.pixi.sprite.make_sprite.call(null,
new cljs.core.Keyword(null,"stamp","stamp",778243046),new cljs.core.Keyword(null,"scale","scale",-230427353),4,new cljs.core.Keyword(null,"x","x",2099068185),100,new cljs.core.Keyword(null,"y","y",-1757859776),100);var inst_18678=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18679=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_18678);var inst_18680=inst_18679.addChild(inst_18677__$1);var state_18692__$1=
function(){var statearr_18694=state_18692;statearr_18694[7]=inst_18677__$1;statearr_18694[8]=inst_18680;return statearr_18694}();var statearr_18695_18706=state_18692__$1;statearr_18695_18706[2]=null;statearr_18695_18706[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else if(state_val_18693===2){var inst_18682=infinitelives.pixi.events.next_frame.call(null);var state_18692__$1=state_18692;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_18692__$1,4,inst_18682)}else if(state_val_18693===
3){var inst_18677=state_18692[7];var inst_18687=state_18692[2];var inst_18688=(new cljs.core.Keyword(null,"layer","layer",-1601820589)).cljs$core$IFn$_invoke$arity$1(canvas);var inst_18689=(new cljs.core.Keyword(null,"stamps","stamps",-651804469)).cljs$core$IFn$_invoke$arity$1(inst_18688);var inst_18690=inst_18689.removeChild(inst_18677);var state_18692__$1=function(){var statearr_18696=state_18692;statearr_18696[9]=inst_18687;return statearr_18696}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_18692__$1,inst_18690)}else if(state_val_18693===4){var inst_18684=state_18692[2];var state_18692__$1=function(){var statearr_18697=state_18692;statearr_18697[10]=inst_18684;return statearr_18697}();var statearr_18698_18707=state_18692__$1;statearr_18698_18707[2]=null;statearr_18698_18707[1]=2;return new cljs.core.Keyword(null,"recur","recur",-437573268)}else return null}}(c__12557__auto__);return function(switch__12445__auto__,c__12557__auto__){return function(){var biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__=
null;var biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____0=function(){var statearr_18702=[null,null,null,null,null,null,null,null,null,null,null];statearr_18702[0]=biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__;statearr_18702[1]=1;return statearr_18702};var biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____1=function(state_18692){while(true){var ret_value__12447__auto__=function(){try{while(true){var result__12448__auto__=switch__12445__auto__.call(null,
state_18692);if(cljs.core.keyword_identical_QMARK_.call(null,result__12448__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268)))continue;else return result__12448__auto__;break}}catch(e18703){if(e18703 instanceof Object){var ex__12449__auto__=e18703;var statearr_18704_18708=state_18692;statearr_18704_18708[5]=ex__12449__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_18692);return new cljs.core.Keyword(null,"recur","recur",-437573268)}else throw e18703;}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__12447__auto__,new cljs.core.Keyword(null,"recur","recur",-437573268))){var G__18709=state_18692;state_18692=G__18709;continue}else return ret_value__12447__auto__;break}};biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__=function(state_18692){switch(arguments.length){case 0:return biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____0.call(this);case 1:return biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____1.call(this,state_18692)}throw new Error("Invalid arity: "+
arguments.length);};biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$0=biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____0;biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__.cljs$core$IFn$_invoke$arity$1=biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto____1;return biscuit_switch$stamp$triangle_thread_$_state_machine__12446__auto__}()}(switch__12445__auto__,c__12557__auto__)}();var state__12559__auto__=
function(){var statearr_18705=f__12558__auto__.call(null);statearr_18705[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__12557__auto__;return statearr_18705}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__12559__auto__)}}(c__12557__auto__));return c__12557__auto__};